!function(e){function __webpack_require__(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,__webpack_require__),i.l=!0,i.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=547)}([function(e,t,n){(function(e){!function(t,n){e.exports=n()}(this,function(){"use strict";function hooks(){return t.apply(null,arguments)}function setHookCallback(e){t=e}function isArray(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function isObject(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function isObjectEmpty(e){var t;for(t in e)return!1;return!0}function isNumber(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function isDate(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function map(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function hasOwnProp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function extend(e,t){for(var n in t)hasOwnProp(t,n)&&(e[n]=t[n]);return hasOwnProp(t,"toString")&&(e.toString=t.toString),hasOwnProp(t,"valueOf")&&(e.valueOf=t.valueOf),e}function createUTC(e,t,n,i){return createLocalOrUTC(e,t,n,i,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function getParsingFlags(e){return null==e._pf&&(e._pf=defaultParsingFlags()),e._pf}function isValid(e){if(null==e._isValid){var t=getParsingFlags(e),n=r.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function createInvalid(e){var t=createUTC(NaN);return null!=e?extend(getParsingFlags(t),e):getParsingFlags(t).userInvalidated=!0,t}function isUndefined(e){return void 0===e}function copyConfig(e,t){var n,i,r;if(isUndefined(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),isUndefined(t._i)||(e._i=t._i),isUndefined(t._f)||(e._f=t._f),isUndefined(t._l)||(e._l=t._l),isUndefined(t._strict)||(e._strict=t._strict),isUndefined(t._tzm)||(e._tzm=t._tzm),isUndefined(t._isUTC)||(e._isUTC=t._isUTC),isUndefined(t._offset)||(e._offset=t._offset),isUndefined(t._pf)||(e._pf=getParsingFlags(t)),isUndefined(t._locale)||(e._locale=t._locale),o.length>0)for(n in o)i=o[n],r=t[i],isUndefined(r)||(e[i]=r);return e}function Moment(e){copyConfig(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),a===!1&&(a=!0,hooks.updateOffset(this),a=!1)}function isMoment(e){return e instanceof Moment||null!=e&&null!=e._isAMomentObject}function absFloor(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function toInt(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=absFloor(t)),n}function compareArrays(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&toInt(e[i])!==toInt(t[i]))&&a++;return a+o}function warn(e){hooks.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function deprecate(e,t){var n=!0;return extend(function(){if(null!=hooks.deprecationHandler&&hooks.deprecationHandler(null,e),n){for(var i,r=[],o=0;o<arguments.length;o++){if(i="","object"==typeof arguments[o]){i+="\n["+o+"] ";for(var a in arguments[0])i+=a+": "+arguments[0][a]+", ";i=i.slice(0,-2)}else i=arguments[o];r.push(i)}warn(e+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}function deprecateSimple(e,t){null!=hooks.deprecationHandler&&hooks.deprecationHandler(e,t),s[e]||(warn(t),s[e]=!0)}function isFunction(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function set(e){var t,n;for(n in e)t=e[n],isFunction(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function mergeConfigs(e,t){var n,i=extend({},e);for(n in t)hasOwnProp(t,n)&&(isObject(e[n])&&isObject(t[n])?(i[n]={},extend(i[n],e[n]),extend(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)hasOwnProp(e,n)&&!hasOwnProp(t,n)&&isObject(e[n])&&(i[n]=extend({},i[n]));return i}function Locale(e){null!=e&&this.set(e)}function calendar(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return isFunction(i)?i.call(t,n):i}function longDateFormat(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function invalidDate(){return this._invalidDate}function ordinal(e){return this._ordinal.replace("%d",e)}function relativeTime(e,t,n,i){var r=this._relativeTime[n];return isFunction(r)?r(e,t,n,i):r.replace(/%d/i,e)}function pastFuture(e,t){var n=this._relativeTime[e>0?"future":"past"];return isFunction(n)?n(t):n.replace(/%s/i,t)}function addUnitAlias(e,t){var n=e.toLowerCase();v[n]=v[n+"s"]=v[t]=e}function normalizeUnits(e){return"string"==typeof e?v[e]||v[e.toLowerCase()]:void 0}function normalizeObjectUnits(e){var t,n,i={};for(n in e)hasOwnProp(e,n)&&(t=normalizeUnits(n),t&&(i[t]=e[n]));return i}function addUnitPriority(e,t){y[e]=t}function getPrioritizedUnits(e){var t=[];for(var n in e)t.push({unit:n,priority:y[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function makeGetSet(e,t){return function(n){return null!=n?(set$1(this,e,n),hooks.updateOffset(this,t),this):get(this,e)}}function get(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function set$1(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function stringGet(e){return e=normalizeUnits(e),isFunction(this[e])?this[e]():this}function stringSet(e,t){if("object"==typeof e){e=normalizeObjectUnits(e);for(var n=getPrioritizedUnits(e),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit])}else if(e=normalizeUnits(e),isFunction(this[e]))return this[e](t);return this}function zeroFill(e,t,n){var i=""+Math.abs(e),r=t-i.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function addFormatToken(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(x[e]=r),t&&(x[t[0]]=function(){return zeroFill(r.apply(this,arguments),t[1],t[2])}),n&&(x[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function removeFormattingTokens(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function makeFormatFunction(e){var t,n,i=e.match(b);for(t=0,n=i.length;t<n;t++)x[i[t]]?i[t]=x[i[t]]:i[t]=removeFormattingTokens(i[t]);return function(t){var r,o="";for(r=0;r<n;r++)o+=i[r]instanceof Function?i[r].call(t,e):i[r];return o}}function formatMoment(e,t){return e.isValid()?(t=expandFormat(t,e.localeData()),w[t]=w[t]||makeFormatFunction(t),w[t](e)):e.localeData().invalidDate()}function expandFormat(e,t){function replaceLongDateFormatTokens(e){return t.longDateFormat(e)||e}var n=5;for(_.lastIndex=0;n>=0&&_.test(e);)e=e.replace(_,replaceLongDateFormatTokens),_.lastIndex=0,n-=1;return e}function addRegexToken(e,t,n){j[e]=isFunction(t)?t:function(e,i){return e&&n?n:t}}function getParseRegexForToken(e,t){return hasOwnProp(j,e)?j[e](t._strict,t._locale):new RegExp(unescapeFormat(e))}function unescapeFormat(e){return regexEscape(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}))}function regexEscape(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function addParseToken(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),isNumber(t)&&(i=function(e,n){n[t]=toInt(e)}),n=0;n<e.length;n++)B[e[n]]=i}function addWeekParseToken(e,t){addParseToken(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function addTimeToArrayFromToken(e,t,n){null!=t&&hasOwnProp(B,e)&&B[e](t,n._a,n,e)}function daysInMonth(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function localeMonths(e,t){return e?isArray(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Z).test(t)?"format":"standalone"][e.month()]:this._months}function localeMonthsShort(e,t){return e?isArray(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Z.test(t)?"format":"standalone"][e.month()]:this._monthsShort}function handleStrictParse(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=createUTC([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(r=J.call(this._shortMonthsParse,a),r!==-1?r:null):(r=J.call(this._longMonthsParse,a),r!==-1?r:null):"MMM"===t?(r=J.call(this._shortMonthsParse,a),r!==-1?r:(r=J.call(this._longMonthsParse,a),r!==-1?r:null)):(r=J.call(this._longMonthsParse,a),r!==-1?r:(r=J.call(this._shortMonthsParse,a),r!==-1?r:null))}function localeMonthsParse(e,t,n){var i,r,o;if(this._monthsParseExact)return handleStrictParse.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=createUTC([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function setMonth(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=toInt(t);else if(t=e.localeData().monthsParse(t),!isNumber(t))return e;return n=Math.min(e.date(),daysInMonth(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function getSetMonth(e){return null!=e?(setMonth(this,e),hooks.updateOffset(this,!0),this):get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(e){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=te),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(e){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),e?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=ne),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function cmpLenRev(e,t){return t.length-e.length}var e,t,n=[],i=[],r=[];for(e=0;e<12;e++)t=createUTC([2e3,e]),n.push(this.monthsShort(t,"")),i.push(this.months(t,"")),r.push(this.months(t,"")),r.push(this.monthsShort(t,""));for(n.sort(cmpLenRev),i.sort(cmpLenRev),r.sort(cmpLenRev),e=0;e<12;e++)n[e]=regexEscape(n[e]),i[e]=regexEscape(i[e]);for(e=0;e<24;e++)r[e]=regexEscape(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function daysInYear(e){return isLeapYear(e)?366:365}function isLeapYear(e){return e%4===0&&e%100!==0||e%400===0}function getIsLeapYear(){return isLeapYear(this.year())}function createDate(e,t,n,i,r,o,a){var s=new Date(e,t,n,i,r,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function createUTCDate(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function firstWeekOffset(e,t,n){var i=7+t-n,r=(7+createUTCDate(e,0,i).getUTCDay()-t)%7;return-r+i-1}function dayOfYearFromWeeks(e,t,n,i,r){var o,a,s=(7+n-i)%7,l=firstWeekOffset(e,i,r),c=1+7*(t-1)+s+l;return c<=0?(o=e-1,a=daysInYear(o)+c):c>daysInYear(e)?(o=e+1,a=c-daysInYear(e)):(o=e,a=c),{year:o,dayOfYear:a}}function weekOfYear(e,t,n){var i,r,o=firstWeekOffset(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?(r=e.year()-1,i=a+weeksInYear(r,t,n)):a>weeksInYear(e.year(),t,n)?(i=a-weeksInYear(e.year(),t,n),r=e.year()+1):(r=e.year(),i=a),{week:i,year:r}}function weeksInYear(e,t,n){var i=firstWeekOffset(e,t,n),r=firstWeekOffset(e+1,t,n);return(daysInYear(e)-i+r)/7}function localeWeek(e){return weekOfYear(e,this._week.dow,this._week.doy).week}function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function getSetISOWeek(e){var t=weekOfYear(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function parseWeekday(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function parseIsoWeekday(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function localeWeekdays(e,t){return e?isArray(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:this._weekdays}function localeWeekdaysShort(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function localeWeekdaysMin(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function handleStrictParse$1(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=createUTC([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(r=J.call(this._weekdaysParse,a),r!==-1?r:null):"ddd"===t?(r=J.call(this._shortWeekdaysParse,a),r!==-1?r:null):(r=J.call(this._minWeekdaysParse,a),r!==-1?r:null):"dddd"===t?(r=J.call(this._weekdaysParse,a),r!==-1?r:(r=J.call(this._shortWeekdaysParse,a),r!==-1?r:(r=J.call(this._minWeekdaysParse,a),r!==-1?r:null))):"ddd"===t?(r=J.call(this._shortWeekdaysParse,a),r!==-1?r:(r=J.call(this._weekdaysParse,a),r!==-1?r:(r=J.call(this._minWeekdaysParse,a),r!==-1?r:null))):(r=J.call(this._minWeekdaysParse,a),r!==-1?r:(r=J.call(this._weekdaysParse,a),r!==-1?r:(r=J.call(this._shortWeekdaysParse,a),r!==-1?r:null)))}function localeWeekdaysParse(e,t,n){var i,r,o;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=createUTC([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function getSetDayOfWeek(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=parseWeekday(e,this.localeData()),this.add(e-t,"d")):t}function getSetLocaleDayOfWeek(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function getSetISODayOfWeek(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=parseIsoWeekday(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function weekdaysRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=le),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ce),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ue),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function cmpLenRev(e,t){return t.length-e.length}var e,t,n,i,r,o=[],a=[],s=[],l=[];for(e=0;e<7;e++)t=createUTC([2e3,1]).day(e),n=this.weekdaysMin(t,""),i=this.weekdaysShort(t,""),r=this.weekdays(t,""),o.push(n),a.push(i),s.push(r),l.push(n),l.push(i),l.push(r);for(o.sort(cmpLenRev),a.sort(cmpLenRev),s.sort(cmpLenRev),l.sort(cmpLenRev),e=0;e<7;e++)a[e]=regexEscape(a[e]),s[e]=regexEscape(s[e]),l[e]=regexEscape(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}function meridiem(e,t){addFormatToken(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function matchMeridiem(e,t){return t._meridiemParse}function localeIsPM(e){return"p"===(e+"").toLowerCase().charAt(0)}function localeMeridiem(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function normalizeLocale(e){return e?e.toLowerCase().replace("_","-"):e}function chooseLocale(e){for(var t,n,i,r,o=0;o<e.length;){for(r=normalizeLocale(e[o]).split("-"),t=r.length,n=normalizeLocale(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=loadLocale(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&compareArrays(r,n,!0)>=t-1)break;t--}o++}return null}function loadLocale(t){var i=null;if(!fe[t]&&"undefined"!=typeof e&&e&&e.exports)try{i=de._abbr,n(455)("./"+t),getSetGlobalLocale(i)}catch(e){}return fe[t]}function getSetGlobalLocale(e,t){var n;return e&&(n=isUndefined(t)?getLocale(e):defineLocale(e,t),n&&(de=n)),de._abbr}function defineLocale(e,t){if(null!==t){var n=pe;if(t.abbr=e,null!=fe[e])deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=fe[e]._config;else if(null!=t.parentLocale){if(null==fe[t.parentLocale])return ge[t.parentLocale]||(ge[t.parentLocale]=[]),ge[t.parentLocale].push({name:e,config:t}),null;n=fe[t.parentLocale]._config}return fe[e]=new Locale(mergeConfigs(n,t)),ge[e]&&ge[e].forEach(function(e){defineLocale(e.name,e.config)}),getSetGlobalLocale(e),fe[e]}return delete fe[e],null}function updateLocale(e,t){if(null!=t){var n,i=pe;null!=fe[e]&&(i=fe[e]._config),t=mergeConfigs(i,t),n=new Locale(t),n.parentLocale=fe[e],fe[e]=n,getSetGlobalLocale(e)}else null!=fe[e]&&(null!=fe[e].parentLocale?fe[e]=fe[e].parentLocale:null!=fe[e]&&delete fe[e]);return fe[e]}function getLocale(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return de;if(!isArray(e)){if(t=loadLocale(e))return t;e=[e]}return chooseLocale(e)}function listLocales(){return u(fe)}function checkOverflow(e){var t,n=e._a;return n&&getParsingFlags(e).overflow===-2&&(t=n[z]<0||n[z]>11?z:n[Y]<1||n[Y]>daysInMonth(n[V],n[z])?Y:n[U]<0||n[U]>24||24===n[U]&&(0!==n[G]||0!==n[q]||0!==n[W])?U:n[G]<0||n[G]>59?G:n[q]<0||n[q]>59?q:n[W]<0||n[W]>999?W:-1,getParsingFlags(e)._overflowDayOfYear&&(t<V||t>Y)&&(t=Y),getParsingFlags(e)._overflowWeeks&&t===-1&&(t=K),getParsingFlags(e)._overflowWeekday&&t===-1&&(t=X),getParsingFlags(e).overflow=t),e}function configFromISO(e){var t,n,i,r,o,a,s=e._i,l=ve.exec(s)||ye.exec(s);if(l){for(getParsingFlags(e).iso=!0,t=0,n=_e.length;t<n;t++)if(_e[t][1].exec(l[1])){r=_e[t][0],i=_e[t][2]!==!1;break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=we.length;t<n;t++)if(we[t][1].exec(l[3])){o=(l[2]||" ")+we[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!be.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=r+(o||"")+(a||""),configFromStringAndFormat(e)}else e._isValid=!1}function configFromString(e){var t=xe.exec(e._i);return null!==t?void(e._d=new Date(+t[1])):(configFromISO(e),void(e._isValid===!1&&(delete e._isValid,hooks.createFromInputFallback(e))))}function defaults(e,t,n){return null!=e?e:null!=t?t:n}function currentDateArray(e){var t=new Date(hooks.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function configFromArray(e){var t,n,i,r,o=[];if(!e._d){for(i=currentDateArray(e),e._w&&null==e._a[Y]&&null==e._a[z]&&dayOfYearFromWeekInfo(e),e._dayOfYear&&(r=defaults(e._a[V],i[V]),e._dayOfYear>daysInYear(r)&&(getParsingFlags(e)._overflowDayOfYear=!0),n=createUTCDate(r,0,e._dayOfYear),e._a[z]=n.getUTCMonth(),e._a[Y]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[U]&&0===e._a[G]&&0===e._a[q]&&0===e._a[W]&&(e._nextDay=!0,e._a[U]=0),e._d=(e._useUTC?createUTCDate:createDate).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[U]=24)}}function dayOfYearFromWeekInfo(e){var t,n,i,r,o,a,s,l;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)o=1,a=4,n=defaults(t.GG,e._a[V],weekOfYear(createLocal(),1,4).year),i=defaults(t.W,1),r=defaults(t.E,1),(r<1||r>7)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var c=weekOfYear(createLocal(),o,a);n=defaults(t.gg,e._a[V],c.year),i=defaults(t.w,c.week),null!=t.d?(r=t.d,(r<0||r>6)&&(l=!0)):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(l=!0)):r=o}i<1||i>weeksInYear(n,o,a)?getParsingFlags(e)._overflowWeeks=!0:null!=l?getParsingFlags(e)._overflowWeekday=!0:(s=dayOfYearFromWeeks(n,i,r,o,a),e._a[V]=s.year,e._dayOfYear=s.dayOfYear)}function configFromStringAndFormat(e){if(e._f===hooks.ISO_8601)return void configFromISO(e);e._a=[],getParsingFlags(e).empty=!0;var t,n,i,r,o,a=""+e._i,s=a.length,l=0;for(i=expandFormat(e._f,e._locale).match(b)||[],t=0;t<i.length;t++)r=i[t],n=(a.match(getParseRegexForToken(r,e))||[])[0],n&&(o=a.substr(0,a.indexOf(n)),o.length>0&&getParsingFlags(e).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),l+=n.length),x[r]?(n?getParsingFlags(e).empty=!1:getParsingFlags(e).unusedTokens.push(r),addTimeToArrayFromToken(r,n,e)):e._strict&&!n&&getParsingFlags(e).unusedTokens.push(r);getParsingFlags(e).charsLeftOver=s-l,a.length>0&&getParsingFlags(e).unusedInput.push(a),e._a[U]<=12&&getParsingFlags(e).bigHour===!0&&e._a[U]>0&&(getParsingFlags(e).bigHour=void 0),getParsingFlags(e).parsedDateParts=e._a.slice(0),getParsingFlags(e).meridiem=e._meridiem,e._a[U]=meridiemFixWrap(e._locale,e._a[U],e._meridiem),configFromArray(e),checkOverflow(e)}function meridiemFixWrap(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&t<12&&(t+=12),i||12!==t||(t=0),t):t}function configFromStringAndArray(e){var t,n,i,r,o;if(0===e._f.length)return getParsingFlags(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,t=copyConfig({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],configFromStringAndFormat(t),isValid(t)&&(o+=getParsingFlags(t).charsLeftOver,o+=10*getParsingFlags(t).unusedTokens.length,getParsingFlags(t).score=o,(null==i||o<i)&&(i=o,n=t));extend(e,n||t)}function configFromObject(e){if(!e._d){var t=normalizeObjectUnits(e._i);e._a=map([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),configFromArray(e)}}function createFromConfig(e){var t=new Moment(checkOverflow(prepareConfig(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function prepareConfig(e){var t=e._i,n=e._f;return e._locale=e._locale||getLocale(e._l),null===t||void 0===n&&""===t?createInvalid({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),isMoment(t)?new Moment(checkOverflow(t)):(isDate(t)?e._d=t:isArray(n)?configFromStringAndArray(e):n?configFromStringAndFormat(e):configFromInput(e),isValid(e)||(e._d=null),e))}function configFromInput(e){var t=e._i;void 0===t?e._d=new Date(hooks.now()):isDate(t)?e._d=new Date(t.valueOf()):"string"==typeof t?configFromString(e):isArray(t)?(e._a=map(t.slice(0),function(e){return parseInt(e,10)}),configFromArray(e)):"object"==typeof t?configFromObject(e):isNumber(t)?e._d=new Date(t):hooks.createFromInputFallback(e)}function createLocalOrUTC(e,t,n,i,r){var o={};return n!==!0&&n!==!1||(i=n,n=void 0),(isObject(e)&&isObjectEmpty(e)||isArray(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=e,o._f=t,o._strict=i,createFromConfig(o)}function createLocal(e,t,n,i){return createLocalOrUTC(e,t,n,i,!1)}function pickBy(e,t){var n,i;if(1===t.length&&isArray(t[0])&&(t=t[0]),!t.length)return createLocal();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}function min(){var e=[].slice.call(arguments,0);return pickBy("isBefore",e)}function max(){var e=[].slice.call(arguments,0);return pickBy("isAfter",e)}function Duration(e){var t=normalizeObjectUnits(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(e){return e instanceof Duration}function absRound(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function offset(e,t){addFormatToken(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+zeroFill(~~(e/60),2)+t+zeroFill(~~e%60,2)})}function offsetFromString(e,t){var n=(t||"").match(e);if(null===n)return null;var i=n[n.length-1]||[],r=(i+"").match(Te)||["-",0,0],o=+(60*r[1])+toInt(r[2]);return 0===o?0:"+"===r[0]?o:-o}function cloneWithOffset(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(isMoment(e)||isDate(e)?e.valueOf():createLocal(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),hooks.updateOffset(n,!1),n):createLocal(e).local()}function getDateOffset(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function getSetOffset(e,t){var n,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(e=offsetFromString(F,e),null===e)return this}else Math.abs(e)<16&&(e*=60);return!this._isUTC&&t&&(n=getDateOffset(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==e&&(!t||this._changeInProgress?addSubtract(this,createDuration(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:getDateOffset(this)}function getSetZone(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function setOffsetToUTC(e){return this.utcOffset(0,e)}function setOffsetToLocal(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var e=offsetFromString(O,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(e){return!!this.isValid()&&(e=e?createLocal(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var e={};if(copyConfig(e,this),e=prepareConfig(e),e._a){var t=e._isUTC?createUTC(e._a):createLocal(e._a);this._isDSTShifted=this.isValid()&&compareArrays(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function isLocal(){return!!this.isValid()&&!this._isUTC}function isUtcOffset(){return!!this.isValid()&&this._isUTC}function isUtc(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function createDuration(e,t){var n,i,r,o=e,a=null;return isDuration(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:isNumber(e)?(o={},t?o[t]=e:o.milliseconds=e):(a=Me.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:toInt(a[Y])*n,h:toInt(a[U])*n,m:toInt(a[G])*n,s:toInt(a[q])*n,ms:toInt(absRound(1e3*a[W]))*n}):(a=ke.exec(e))?(n="-"===a[1]?-1:1,o={y:parseIso(a[2],n),M:parseIso(a[3],n),w:parseIso(a[4],n),d:parseIso(a[5],n),h:parseIso(a[6],n),m:parseIso(a[7],n),s:parseIso(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=momentsDifference(createLocal(o.from),createLocal(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new Duration(o),isDuration(e)&&hasOwnProp(e,"_locale")&&(i._locale=e._locale),i}function parseIso(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function positiveMomentsDifference(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function momentsDifference(e,t){var n;return e.isValid()&&t.isValid()?(t=cloneWithOffset(t,e),e.isBefore(t)?n=positiveMomentsDifference(e,t):(n=positiveMomentsDifference(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function createAdder(e,t){return function(n,i){var r,o;return null===i||isNaN(+i)||(deprecateSimple(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=createDuration(n,i),addSubtract(this,r,e),this}}function addSubtract(e,t,n,i){var r=t._milliseconds,o=absRound(t._days),a=absRound(t._months);e.isValid()&&(i=null==i||i,r&&e._d.setTime(e._d.valueOf()+r*n),o&&set$1(e,"Date",get(e,"Date")+o*n),a&&setMonth(e,get(e,"Month")+a*n),i&&hooks.updateOffset(e,o||a))}function getCalendarFormat(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function calendar$1(e,t){var n=e||createLocal(),i=cloneWithOffset(n,this).startOf("day"),r=hooks.calendarFormat(this,i)||"sameElse",o=t&&(isFunction(t[r])?t[r].call(this,n):t[r]);return this.format(o||this.localeData().calendar(r,this,createLocal(n)));
}function clone(){return new Moment(this)}function isAfter(e,t){var n=isMoment(e)?e:createLocal(e);return!(!this.isValid()||!n.isValid())&&(t=normalizeUnits(isUndefined(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function isBefore(e,t){var n=isMoment(e)?e:createLocal(e);return!(!this.isValid()||!n.isValid())&&(t=normalizeUnits(isUndefined(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function isBetween(e,t,n,i){return i=i||"()",("("===i[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))}function isSame(e,t){var n,i=isMoment(e)?e:createLocal(e);return!(!this.isValid()||!i.isValid())&&(t=normalizeUnits(t||"millisecond"),"millisecond"===t?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function isSameOrAfter(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function isSameOrBefore(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function diff(e,t,n){var i,r,o,a;return this.isValid()?(i=cloneWithOffset(e,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),t=normalizeUnits(t),"year"===t||"month"===t||"quarter"===t?(a=monthDiff(this,i),"quarter"===t?a/=3:"year"===t&&(a/=12)):(o=this-i,a="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-r)/864e5:"week"===t?(o-r)/6048e5:o),n?a:absFloor(a)):NaN):NaN}function monthDiff(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(r,"months");return t-o<0?(n=e.clone().add(r-1,"months"),i=(t-o)/(o-n)):(n=e.clone().add(r+1,"months"),i=(t-o)/(n-o)),-(r+i)||0}function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?isFunction(Date.prototype.toISOString)?this.toDate().toISOString():formatMoment(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]';return this.format(n+i+r+o)}function format(e){e||(e=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var t=formatMoment(this,e);return this.localeData().postformat(t)}function from(e,t){return this.isValid()&&(isMoment(e)&&e.isValid()||createLocal(e).isValid())?createDuration({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function fromNow(e){return this.from(createLocal(),e)}function to(e,t){return this.isValid()&&(isMoment(e)&&e.isValid()||createLocal(e).isValid())?createDuration({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function toNow(e){return this.to(createLocal(),e)}function locale(e){var t;return void 0===e?this._locale._abbr:(t=getLocale(e),null!=t&&(this._locale=t),this)}function localeData(){return this._locale}function startOf(e){switch(e=normalizeUnits(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function endOf(e){return e=normalizeUnits(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function valueOf(){return this._d.valueOf()-6e4*(this._offset||0)}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function toObject(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$1(){return isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function addWeekYearFormatToken(e,t){addFormatToken(0,[e,e.length],0,t)}function getSetWeekYear(e){return getSetWeekYearHelper.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(e){return getSetWeekYearHelper.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var e=this.localeData()._week;return weeksInYear(this.year(),e.dow,e.doy)}function getSetWeekYearHelper(e,t,n,i,r){var o;return null==e?weekOfYear(this,i,r).year:(o=weeksInYear(e,i,r),t>o&&(t=o),setWeekAll.call(this,e,t,n,i,r))}function setWeekAll(e,t,n,i,r){var o=dayOfYearFromWeeks(e,t,n,i,r),a=createUTCDate(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function getSetQuarter(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function getSetDayOfYear(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function parseMs(e,t){t[W]=toInt(1e3*("0."+e))}function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}function createUnix(e){return createLocal(1e3*e)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(e){return e}function get$1(e,t,n,i){var r=getLocale(),o=createUTC().set(i,t);return r[n](o,e)}function listMonthsImpl(e,t,n){if(isNumber(e)&&(t=e,e=void 0),e=e||"",null!=t)return get$1(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=get$1(e,i,n,"month");return r}function listWeekdaysImpl(e,t,n,i){"boolean"==typeof e?(isNumber(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,isNumber(t)&&(n=t,t=void 0),t=t||"");var r=getLocale(),o=e?r._week.dow:0;if(null!=n)return get$1(t,(n+o)%7,i,"day");var a,s=[];for(a=0;a<7;a++)s[a]=get$1(t,(a+o)%7,i,"day");return s}function listMonths(e,t){return listMonthsImpl(e,t,"months")}function listMonthsShort(e,t){return listMonthsImpl(e,t,"monthsShort")}function listWeekdays(e,t,n){return listWeekdaysImpl(e,t,n,"weekdays")}function listWeekdaysShort(e,t,n){return listWeekdaysImpl(e,t,n,"weekdaysShort")}function listWeekdaysMin(e,t,n){return listWeekdaysImpl(e,t,n,"weekdaysMin")}function abs(){var e=this._data;return this._milliseconds=He(this._milliseconds),this._days=He(this._days),this._months=He(this._months),e.milliseconds=He(e.milliseconds),e.seconds=He(e.seconds),e.minutes=He(e.minutes),e.hours=He(e.hours),e.months=He(e.months),e.years=He(e.years),this}function addSubtract$1(e,t,n,i){var r=createDuration(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function add$1(e,t){return addSubtract$1(this,e,t,1)}function subtract$1(e,t){return addSubtract$1(this,e,t,-1)}function absCeil(e){return e<0?Math.floor(e):Math.ceil(e)}function bubble(){var e,t,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*absCeil(monthsToDays(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=absFloor(o/1e3),l.seconds=e%60,t=absFloor(e/60),l.minutes=t%60,n=absFloor(t/60),l.hours=n%24,a+=absFloor(n/24),r=absFloor(daysToMonths(a)),s+=r,a-=absCeil(monthsToDays(r)),i=absFloor(s/12),s%=12,l.days=a,l.months=s,l.years=i,this}function daysToMonths(e){return 4800*e/146097}function monthsToDays(e){return 146097*e/4800}function as(e){var t,n,i=this._milliseconds;if(e=normalizeUnits(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+daysToMonths(t),"month"===e?n:n/12;switch(t=this._days+Math.round(monthsToDays(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function valueOf$1(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12)}function makeAs(e){return function(){return this.as(e)}}function get$2(e){return e=normalizeUnits(e),this[e+"s"]()}function makeGetter(e){return function(){return this._data[e]}}function weeks(){return absFloor(this.days()/7)}function substituteTimeAgo(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function relativeTime$1(e,t,n){var i=createDuration(e).abs(),r=tt(i.as("s")),o=tt(i.as("m")),a=tt(i.as("h")),s=tt(i.as("d")),l=tt(i.as("M")),c=tt(i.as("y")),u=r<nt.s&&["s",r]||o<=1&&["m"]||o<nt.m&&["mm",o]||a<=1&&["h"]||a<nt.h&&["hh",a]||s<=1&&["d"]||s<nt.d&&["dd",s]||l<=1&&["M"]||l<nt.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,substituteTimeAgo.apply(null,u)}function getSetRelativeTimeRounding(e){return void 0===e?tt:"function"==typeof e&&(tt=e,!0)}function getSetRelativeTimeThreshold(e,t){return void 0!==nt[e]&&(void 0===t?nt[e]:(nt[e]=t,!0))}function humanize(e){var t=this.localeData(),n=relativeTime$1(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function toISOString$1(){var e,t,n,i=it(this._milliseconds)/1e3,r=it(this._days),o=it(this._months);e=absFloor(i/60),t=absFloor(e/60),i%=60,e%=60,n=absFloor(o/12),o%=12;var a=n,s=o,l=r,c=t,u=e,d=i,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(c||u||d?"T":"")+(c?c+"H":"")+(u?u+"M":"")+(d?d+"S":""):"P0D"}var t,i;i=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var r=i,o=hooks.momentProperties=[],a=!1,s={};hooks.suppressDeprecationWarnings=!1,hooks.deprecationHandler=null;var l;l=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)hasOwnProp(e,t)&&n.push(t);return n};var c,u=l,d={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},h={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},m="Invalid date",p="%d",f=/\d{1,2}/,g={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},v={},y={},b=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,_=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,w={},x={},C=/\d/,S=/\d\d/,E=/\d{3}/,T=/\d{4}/,M=/[+-]?\d{6}/,k=/\d\d?/,A=/\d\d\d\d?/,$=/\d\d\d\d\d\d?/,P=/\d{1,3}/,L=/\d{1,4}/,D=/[+-]?\d{1,6}/,R=/\d+/,I=/[+-]?\d+/,O=/Z|[+-]\d\d:?\d\d/gi,F=/Z|[+-]\d\d(?::?\d\d)?/gi,N=/[+-]?\d+(\.\d{1,3})?/,H=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,j={},B={},V=0,z=1,Y=2,U=3,G=4,q=5,W=6,K=7,X=8;c=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};var J=c;addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),addFormatToken("MMMM",0,0,function(e){return this.localeData().months(this,e)}),addUnitAlias("month","M"),addUnitPriority("month",8),addRegexToken("M",k),addRegexToken("MM",k,S),addRegexToken("MMM",function(e,t){return t.monthsShortRegex(e)}),addRegexToken("MMMM",function(e,t){return t.monthsRegex(e)}),addParseToken(["M","MM"],function(e,t){t[z]=toInt(e)-1}),addParseToken(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[z]=r:getParsingFlags(n).invalidMonth=e});var Z=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Q="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ee="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),te=H,ne=H;addFormatToken("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addUnitPriority("year",1),addRegexToken("Y",I),addRegexToken("YY",k,S),addRegexToken("YYYY",L,T),addRegexToken("YYYYY",D,M),addRegexToken("YYYYYY",D,M),addParseToken(["YYYYY","YYYYYY"],V),addParseToken("YYYY",function(e,t){t[V]=2===e.length?hooks.parseTwoDigitYear(e):toInt(e)}),addParseToken("YY",function(e,t){t[V]=hooks.parseTwoDigitYear(e)}),addParseToken("Y",function(e,t){t[V]=parseInt(e,10)}),hooks.parseTwoDigitYear=function(e){return toInt(e)+(toInt(e)>68?1900:2e3)};var ie=makeGetSet("FullYear",!0);addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addUnitPriority("week",5),addUnitPriority("isoWeek",5),addRegexToken("w",k),addRegexToken("ww",k,S),addRegexToken("W",k),addRegexToken("WW",k,S),addWeekParseToken(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=toInt(e)});var re={dow:0,doy:6};addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),addFormatToken("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),addFormatToken("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addUnitPriority("day",11),addUnitPriority("weekday",11),addUnitPriority("isoWeekday",11),addRegexToken("d",k),addRegexToken("e",k),addRegexToken("E",k),addRegexToken("dd",function(e,t){return t.weekdaysMinRegex(e)}),addRegexToken("ddd",function(e,t){return t.weekdaysShortRegex(e)}),addRegexToken("dddd",function(e,t){return t.weekdaysRegex(e)}),addWeekParseToken(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:getParsingFlags(n).invalidWeekday=e}),addWeekParseToken(["d","e","E"],function(e,t,n,i){t[i]=toInt(e)});var oe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ae="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),se="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),le=H,ce=H,ue=H;addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("k",["kk",2],0,kFormat),addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)}),addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)}),addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addUnitPriority("hour",13),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",k),addRegexToken("h",k),addRegexToken("HH",k,S),addRegexToken("hh",k,S),addRegexToken("hmm",A),addRegexToken("hmmss",$),addRegexToken("Hmm",A),addRegexToken("Hmmss",$),addParseToken(["H","HH"],U),addParseToken(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),addParseToken(["h","hh"],function(e,t,n){t[U]=toInt(e),getParsingFlags(n).bigHour=!0}),addParseToken("hmm",function(e,t,n){var i=e.length-2;t[U]=toInt(e.substr(0,i)),t[G]=toInt(e.substr(i)),getParsingFlags(n).bigHour=!0}),addParseToken("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[U]=toInt(e.substr(0,i)),t[G]=toInt(e.substr(i,2)),t[q]=toInt(e.substr(r)),getParsingFlags(n).bigHour=!0}),addParseToken("Hmm",function(e,t,n){var i=e.length-2;t[U]=toInt(e.substr(0,i)),t[G]=toInt(e.substr(i))}),addParseToken("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[U]=toInt(e.substr(0,i)),t[G]=toInt(e.substr(i,2)),t[q]=toInt(e.substr(r))});var de,he=/[ap]\.?m?\.?/i,me=makeGetSet("Hours",!0),pe={calendar:d,longDateFormat:h,invalidDate:m,ordinal:p,ordinalParse:f,relativeTime:g,months:Q,monthsShort:ee,week:re,weekdays:oe,weekdaysMin:se,weekdaysShort:ae,meridiemParse:he},fe={},ge={},ve=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ye=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,be=/Z|[+-]\d\d(?::?\d\d)?/,_e=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],we=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],xe=/^\/?Date\((\-?\d+)/i;hooks.createFromInputFallback=deprecate("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),hooks.ISO_8601=function(){};var Ce=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=createLocal.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:createInvalid()}),Se=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=createLocal.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:createInvalid()}),Ee=function(){return Date.now?Date.now():+new Date};offset("Z",":"),offset("ZZ",""),addRegexToken("Z",F),addRegexToken("ZZ",F),addParseToken(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=offsetFromString(F,e)});var Te=/([\+\-]|\d\d)/gi;hooks.updateOffset=function(){};var Me=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,ke=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;createDuration.fn=Duration.prototype;var Ae=createAdder(1,"add"),$e=createAdder(-1,"subtract");hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Pe=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addUnitPriority("weekYear",1),addUnitPriority("isoWeekYear",1),addRegexToken("G",I),addRegexToken("g",I),addRegexToken("GG",k,S),addRegexToken("gg",k,S),addRegexToken("GGGG",L,T),addRegexToken("gggg",L,T),addRegexToken("GGGGG",D,M),addRegexToken("ggggg",D,M),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=toInt(e)}),addWeekParseToken(["gg","GG"],function(e,t,n,i){t[i]=hooks.parseTwoDigitYear(e)}),addFormatToken("Q",0,"Qo","quarter"),addUnitAlias("quarter","Q"),addUnitPriority("quarter",7),addRegexToken("Q",C),addParseToken("Q",function(e,t){t[z]=3*(toInt(e)-1)}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addUnitPriority("date",9),addRegexToken("D",k),addRegexToken("DD",k,S),addRegexToken("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),addParseToken(["D","DD"],Y),addParseToken("Do",function(e,t){t[Y]=toInt(e.match(k)[0],10)});var Le=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addUnitPriority("dayOfYear",4),addRegexToken("DDD",P),addRegexToken("DDDD",E),addParseToken(["DDD","DDDD"],function(e,t,n){n._dayOfYear=toInt(e)}),addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addUnitPriority("minute",14),addRegexToken("m",k),addRegexToken("mm",k,S),addParseToken(["m","mm"],G);var De=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addUnitPriority("second",15),addRegexToken("s",k),addRegexToken("ss",k,S),addParseToken(["s","ss"],q);var Re=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addUnitPriority("millisecond",16),addRegexToken("S",P,C),addRegexToken("SS",P,S),addRegexToken("SSS",P,E);var Ie;for(Ie="SSSS";Ie.length<=9;Ie+="S")addRegexToken(Ie,R);for(Ie="S";Ie.length<=9;Ie+="S")addParseToken(Ie,parseMs);var Oe=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var Fe=Moment.prototype;Fe.add=Ae,Fe.calendar=calendar$1,Fe.clone=clone,Fe.diff=diff,Fe.endOf=endOf,Fe.format=format,Fe.from=from,Fe.fromNow=fromNow,Fe.to=to,Fe.toNow=toNow,Fe.get=stringGet,Fe.invalidAt=invalidAt,Fe.isAfter=isAfter,Fe.isBefore=isBefore,Fe.isBetween=isBetween,Fe.isSame=isSame,Fe.isSameOrAfter=isSameOrAfter,Fe.isSameOrBefore=isSameOrBefore,Fe.isValid=isValid$1,Fe.lang=Pe,Fe.locale=locale,Fe.localeData=localeData,Fe.max=Se,Fe.min=Ce,Fe.parsingFlags=parsingFlags,Fe.set=stringSet,Fe.startOf=startOf,Fe.subtract=$e,Fe.toArray=toArray,Fe.toObject=toObject,Fe.toDate=toDate,Fe.toISOString=toISOString,Fe.inspect=inspect,Fe.toJSON=toJSON,Fe.toString=toString,Fe.unix=unix,Fe.valueOf=valueOf,Fe.creationData=creationData,Fe.year=ie,Fe.isLeapYear=getIsLeapYear,Fe.weekYear=getSetWeekYear,Fe.isoWeekYear=getSetISOWeekYear,Fe.quarter=Fe.quarters=getSetQuarter,Fe.month=getSetMonth,Fe.daysInMonth=getDaysInMonth,Fe.week=Fe.weeks=getSetWeek,Fe.isoWeek=Fe.isoWeeks=getSetISOWeek,Fe.weeksInYear=getWeeksInYear,Fe.isoWeeksInYear=getISOWeeksInYear,Fe.date=Le,Fe.day=Fe.days=getSetDayOfWeek,Fe.weekday=getSetLocaleDayOfWeek,Fe.isoWeekday=getSetISODayOfWeek,Fe.dayOfYear=getSetDayOfYear,Fe.hour=Fe.hours=me,Fe.minute=Fe.minutes=De,Fe.second=Fe.seconds=Re,Fe.millisecond=Fe.milliseconds=Oe,Fe.utcOffset=getSetOffset,Fe.utc=setOffsetToUTC,Fe.local=setOffsetToLocal,Fe.parseZone=setOffsetToParsedOffset,Fe.hasAlignedHourOffset=hasAlignedHourOffset,Fe.isDST=isDaylightSavingTime,Fe.isLocal=isLocal,Fe.isUtcOffset=isUtcOffset,Fe.isUtc=isUtc,Fe.isUTC=isUtc,Fe.zoneAbbr=getZoneAbbr,Fe.zoneName=getZoneName,Fe.dates=deprecate("dates accessor is deprecated. Use date instead.",Le),Fe.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),Fe.years=deprecate("years accessor is deprecated. Use year instead",ie),Fe.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone),Fe.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);var Ne=Locale.prototype;Ne.calendar=calendar,Ne.longDateFormat=longDateFormat,Ne.invalidDate=invalidDate,Ne.ordinal=ordinal,Ne.preparse=preParsePostFormat,Ne.postformat=preParsePostFormat,Ne.relativeTime=relativeTime,Ne.pastFuture=pastFuture,Ne.set=set,Ne.months=localeMonths,Ne.monthsShort=localeMonthsShort,Ne.monthsParse=localeMonthsParse,Ne.monthsRegex=monthsRegex,Ne.monthsShortRegex=monthsShortRegex,Ne.week=localeWeek,Ne.firstDayOfYear=localeFirstDayOfYear,Ne.firstDayOfWeek=localeFirstDayOfWeek,Ne.weekdays=localeWeekdays,Ne.weekdaysMin=localeWeekdaysMin,Ne.weekdaysShort=localeWeekdaysShort,Ne.weekdaysParse=localeWeekdaysParse,Ne.weekdaysRegex=weekdaysRegex,Ne.weekdaysShortRegex=weekdaysShortRegex,Ne.weekdaysMinRegex=weekdaysMinRegex,Ne.isPM=localeIsPM,Ne.meridiem=localeMeridiem,getSetGlobalLocale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===toInt(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale),hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var He=Math.abs,je=makeAs("ms"),Be=makeAs("s"),Ve=makeAs("m"),ze=makeAs("h"),Ye=makeAs("d"),Ue=makeAs("w"),Ge=makeAs("M"),qe=makeAs("y"),We=makeGetter("milliseconds"),Ke=makeGetter("seconds"),Xe=makeGetter("minutes"),Je=makeGetter("hours"),Ze=makeGetter("days"),Qe=makeGetter("months"),et=makeGetter("years"),tt=Math.round,nt={s:45,m:45,h:22,d:26,M:11},it=Math.abs,rt=Duration.prototype;return rt.abs=abs,rt.add=add$1,rt.subtract=subtract$1,rt.as=as,rt.asMilliseconds=je,rt.asSeconds=Be,rt.asMinutes=Ve,rt.asHours=ze,rt.asDays=Ye,rt.asWeeks=Ue,rt.asMonths=Ge,rt.asYears=qe,rt.valueOf=valueOf$1,rt._bubble=bubble,rt.get=get$2,rt.milliseconds=We,rt.seconds=Ke,rt.minutes=Xe,rt.hours=Je,rt.days=Ze,rt.weeks=weeks,rt.months=Qe,rt.years=et,rt.humanize=humanize,rt.toISOString=toISOString$1,rt.toString=toISOString$1,rt.toJSON=toISOString$1,rt.locale=locale,rt.localeData=localeData,rt.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1),rt.lang=Pe,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",I),addRegexToken("X",N),addParseToken("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),addParseToken("x",function(e,t,n){n._d=new Date(toInt(e))}),hooks.version="2.17.1",setHookCallback(createLocal),hooks.fn=Fe,hooks.min=min,hooks.max=max,hooks.now=Ee,hooks.utc=createUTC,hooks.unix=createUnix,hooks.months=listMonths,hooks.isDate=isDate,hooks.locale=getSetGlobalLocale,hooks.invalid=createInvalid,hooks.duration=createDuration,hooks.isMoment=isMoment,hooks.weekdays=listWeekdays,hooks.parseZone=createInZone,hooks.localeData=getLocale,hooks.isDuration=isDuration,hooks.monthsShort=listMonthsShort,hooks.weekdaysMin=listWeekdaysMin,hooks.defineLocale=defineLocale,hooks.updateLocale=updateLocale,hooks.locales=listLocales,hooks.weekdaysShort=listWeekdaysShort,hooks.normalizeUnits=normalizeUnits,hooks.relativeTimeRounding=getSetRelativeTimeRounding,hooks.relativeTimeThreshold=getSetRelativeTimeThreshold,hooks.calendarFormat=getCalendarFormat,hooks.prototype=Fe,hooks})}).call(t,n(10)(e))},function(e,t,n){n(207),e.exports=angular},function(e,t,n){(function(e,i){var r;(function(){function addMapEntry(e,t){return e.set(t[0],t[1]),e}function addSetEntry(e,t){return e.add(t),e}function apply(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function arrayAggregator(e,t,n,i){for(var r=-1,o=null==e?0:e.length;++r<o;){var a=e[r];t(i,a,n(a),e)}return i}function arrayEach(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&t(e[n],n,e)!==!1;);return e}function arrayEachRight(e,t){for(var n=null==e?0:e.length;n--&&t(e[n],n,e)!==!1;);return e}function arrayEvery(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function arrayFilter(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}function arrayIncludes(e,t){var n=null==e?0:e.length;return!!n&&baseIndexOf(e,t,0)>-1}function arrayIncludesWith(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function arrayMap(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function arrayPush(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function arrayReduce(e,t,n,i){var r=-1,o=null==e?0:e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function arrayReduceRight(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function arraySome(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function asciiToArray(e){return e.split("")}function asciiWords(e){return e.match(Ye)||[]}function baseFindKey(e,t,n){var i;return n(e,function(e,n,r){if(t(e,n,r))return i=n,!1}),i}function baseFindIndex(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function baseIndexOf(e,t,n){return t===t?strictIndexOf(e,t,n):baseFindIndex(e,baseIsNaN,n)}function baseIndexOfWith(e,t,n,i){for(var r=n-1,o=e.length;++r<o;)if(i(e[r],t))return r;return-1}function baseIsNaN(e){return e!==e}function baseMean(e,t){var n=null==e?0:e.length;return n?baseSum(e,t)/n:N}function baseProperty(e){return function(t){return null==t?o:t[e]}}function basePropertyOf(e){return function(t){return null==e?o:e[t]}}function baseReduce(e,t,n,i,r){return r(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)}),n}function baseSortBy(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function baseSum(e,t){for(var n,i=-1,r=e.length;++i<r;){var a=t(e[i]);a!==o&&(n=n===o?a:n+a)}return n}function baseTimes(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function baseToPairs(e,t){return arrayMap(t,function(t){return[t,e[t]]})}function baseUnary(e){return function(t){return e(t)}}function baseValues(e,t){return arrayMap(t,function(t){return e[t]})}function cacheHas(e,t){return e.has(t)}function charsStartIndex(e,t){for(var n=-1,i=e.length;++n<i&&baseIndexOf(t,e[n],0)>-1;);return n}function charsEndIndex(e,t){for(var n=e.length;n--&&baseIndexOf(t,e[n],0)>-1;);return n}function countHolders(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}function escapeStringChar(e){return"\\"+nn[e]}function getValue(e,t){return null==e?o:e[t]}function hasUnicode(e){return qt.test(e)}function hasUnicodeWord(e){return Wt.test(e)}function iteratorToArray(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function mapToArray(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function overArg(e,t){return function(n){return e(t(n))}}function replaceHolders(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n];a!==t&&a!==h||(e[n]=h,o[r++]=n)}return o}function setToArray(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function setToPairs(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function strictIndexOf(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}function strictLastIndexOf(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}function stringSize(e){return hasUnicode(e)?unicodeSize(e):_n(e)}function stringToArray(e){return hasUnicode(e)?unicodeToArray(e):asciiToArray(e)}function unicodeSize(e){
for(var t=Ut.lastIndex=0;Ut.test(e);)++t;return t}function unicodeToArray(e){return e.match(Ut)||[]}function unicodeWords(e){return e.match(Gt)||[]}var o,a="4.17.4",s=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",u="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",m=1,p=2,f=4,g=1,v=2,y=1,b=2,_=4,w=8,x=16,C=32,S=64,E=128,T=256,M=512,k=30,A="...",$=800,P=16,L=1,D=2,R=3,I=1/0,O=9007199254740991,F=1.7976931348623157e308,N=NaN,H=4294967295,j=H-1,B=H>>>1,V=[["ary",E],["bind",y],["bindKey",b],["curry",w],["curryRight",x],["flip",M],["partial",C],["partialRight",S],["rearg",T]],z="[object Arguments]",Y="[object Array]",U="[object AsyncFunction]",G="[object Boolean]",q="[object Date]",W="[object DOMException]",K="[object Error]",X="[object Function]",J="[object GeneratorFunction]",Z="[object Map]",Q="[object Number]",ee="[object Null]",te="[object Object]",ne="[object Promise]",ie="[object Proxy]",re="[object RegExp]",oe="[object Set]",ae="[object String]",se="[object Symbol]",le="[object Undefined]",ce="[object WeakMap]",ue="[object WeakSet]",de="[object ArrayBuffer]",he="[object DataView]",me="[object Float32Array]",pe="[object Float64Array]",fe="[object Int8Array]",ge="[object Int16Array]",ve="[object Int32Array]",ye="[object Uint8Array]",be="[object Uint8ClampedArray]",_e="[object Uint16Array]",we="[object Uint32Array]",xe=/\b__p \+= '';/g,Ce=/\b(__p \+=) '' \+/g,Se=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ee=/&(?:amp|lt|gt|quot|#39);/g,Te=/[&<>"']/g,Me=RegExp(Ee.source),ke=RegExp(Te.source),Ae=/<%-([\s\S]+?)%>/g,$e=/<%([\s\S]+?)%>/g,Pe=/<%=([\s\S]+?)%>/g,Le=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,De=/^\w*$/,Re=/^\./,Ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Oe=/[\\^$.*+?()[\]{}|]/g,Fe=RegExp(Oe.source),Ne=/^\s+|\s+$/g,He=/^\s+/,je=/\s+$/,Be=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ve=/\{\n\/\* \[wrapped with (.+)\] \*/,ze=/,? & /,Ye=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ue=/\\(\\)?/g,Ge=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qe=/\w*$/,We=/^[-+]0x[0-9a-f]+$/i,Ke=/^0b[01]+$/i,Xe=/^\[object .+?Constructor\]$/,Je=/^0o[0-7]+$/i,Ze=/^(?:0|[1-9]\d*)$/,Qe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,et=/($^)/,tt=/['\n\r\u2028\u2029\\]/g,nt="\\ud800-\\udfff",it="\\u0300-\\u036f",rt="\\ufe20-\\ufe2f",ot="\\u20d0-\\u20ff",at=it+rt+ot,st="\\u2700-\\u27bf",lt="a-z\\xdf-\\xf6\\xf8-\\xff",ct="\\xac\\xb1\\xd7\\xf7",ut="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",dt="\\u2000-\\u206f",ht=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",mt="A-Z\\xc0-\\xd6\\xd8-\\xde",pt="\\ufe0e\\ufe0f",ft=ct+ut+dt+ht,gt="[']",vt="["+nt+"]",yt="["+ft+"]",bt="["+at+"]",_t="\\d+",wt="["+st+"]",xt="["+lt+"]",Ct="[^"+nt+ft+_t+st+lt+mt+"]",St="\\ud83c[\\udffb-\\udfff]",Et="(?:"+bt+"|"+St+")",Tt="[^"+nt+"]",Mt="(?:\\ud83c[\\udde6-\\uddff]){2}",kt="[\\ud800-\\udbff][\\udc00-\\udfff]",At="["+mt+"]",$t="\\u200d",Pt="(?:"+xt+"|"+Ct+")",Lt="(?:"+At+"|"+Ct+")",Dt="(?:"+gt+"(?:d|ll|m|re|s|t|ve))?",Rt="(?:"+gt+"(?:D|LL|M|RE|S|T|VE))?",It=Et+"?",Ot="["+pt+"]?",Ft="(?:"+$t+"(?:"+[Tt,Mt,kt].join("|")+")"+Ot+It+")*",Nt="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Ht="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",jt=Ot+It+Ft,Bt="(?:"+[wt,Mt,kt].join("|")+")"+jt,Vt="(?:"+[Tt+bt+"?",bt,Mt,kt,vt].join("|")+")",zt=RegExp(gt,"g"),Yt=RegExp(bt,"g"),Ut=RegExp(St+"(?="+St+")|"+Vt+jt,"g"),Gt=RegExp([At+"?"+xt+"+"+Dt+"(?="+[yt,At,"$"].join("|")+")",Lt+"+"+Rt+"(?="+[yt,At+Pt,"$"].join("|")+")",At+"?"+Pt+"+"+Dt,At+"+"+Rt,Ht,Nt,_t,Bt].join("|"),"g"),qt=RegExp("["+$t+nt+at+pt+"]"),Wt=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Kt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xt=-1,Jt={};Jt[me]=Jt[pe]=Jt[fe]=Jt[ge]=Jt[ve]=Jt[ye]=Jt[be]=Jt[_e]=Jt[we]=!0,Jt[z]=Jt[Y]=Jt[de]=Jt[G]=Jt[he]=Jt[q]=Jt[K]=Jt[X]=Jt[Z]=Jt[Q]=Jt[te]=Jt[re]=Jt[oe]=Jt[ae]=Jt[ce]=!1;var Zt={};Zt[z]=Zt[Y]=Zt[de]=Zt[he]=Zt[G]=Zt[q]=Zt[me]=Zt[pe]=Zt[fe]=Zt[ge]=Zt[ve]=Zt[Z]=Zt[Q]=Zt[te]=Zt[re]=Zt[oe]=Zt[ae]=Zt[se]=Zt[ye]=Zt[be]=Zt[_e]=Zt[we]=!0,Zt[K]=Zt[X]=Zt[ce]=!1;var Qt={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},en={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},nn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},rn=parseFloat,on=parseInt,an="object"==typeof e&&e&&e.Object===Object&&e,sn="object"==typeof self&&self&&self.Object===Object&&self,ln=an||sn||Function("return this")(),cn="object"==typeof t&&t&&!t.nodeType&&t,un=cn&&"object"==typeof i&&i&&!i.nodeType&&i,dn=un&&un.exports===cn,hn=dn&&an.process,mn=function(){try{return hn&&hn.binding&&hn.binding("util")}catch(e){}}(),pn=mn&&mn.isArrayBuffer,fn=mn&&mn.isDate,gn=mn&&mn.isMap,vn=mn&&mn.isRegExp,yn=mn&&mn.isSet,bn=mn&&mn.isTypedArray,_n=baseProperty("length"),wn=basePropertyOf(Qt),xn=basePropertyOf(en),Cn=basePropertyOf(tn),Sn=function runInContext(e){function lodash(e){if(isObjectLike(e)&&!Li(e)&&!(e instanceof LazyWrapper)){if(e instanceof LodashWrapper)return e;if(dt.call(e,"__wrapped__"))return wrapperClone(e)}return new LodashWrapper(e)}function baseLodash(){}function LodashWrapper(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function LazyWrapper(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=H,this.__views__=[]}function lazyClone(){var e=new LazyWrapper(this.__wrapped__);return e.__actions__=copyArray(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=copyArray(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=copyArray(this.__views__),e}function lazyReverse(){if(this.__filtered__){var e=new LazyWrapper(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function lazyValue(){var e=this.__wrapped__.value(),t=this.__dir__,n=Li(e),i=t<0,r=n?e.length:0,o=getView(0,r,this.__views__),a=o.start,s=o.end,l=s-a,c=i?s:a-1,u=this.__iteratees__,d=u.length,h=0,m=Bt(l,this.__takeCount__);if(!n||!i&&r==l&&m==l)return baseWrapperValue(e,this.__actions__);var p=[];e:for(;l--&&h<m;){c+=t;for(var f=-1,g=e[c];++f<d;){var v=u[f],y=v.iteratee,b=v.type,_=y(g);if(b==D)g=_;else if(!_){if(b==L)continue e;break e}}p[h++]=g}return p}function Hash(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function hashClear(){this.__data__=an?an(null):{},this.size=0}function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function hashGet(e){var t=this.__data__;if(an){var n=t[e];return n===u?o:n}return dt.call(t,e)?t[e]:o}function hashHas(e){var t=this.__data__;return an?t[e]!==o:dt.call(t,e)}function hashSet(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=an&&t===o?u:t,this}function ListCache(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function listCacheClear(){this.__data__=[],this.size=0}function listCacheDelete(e){var t=this.__data__,n=assocIndexOf(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():Et.call(t,n,1),--this.size,!0}function listCacheGet(e){var t=this.__data__,n=assocIndexOf(t,e);return n<0?o:t[n][1]}function listCacheHas(e){return assocIndexOf(this.__data__,e)>-1}function listCacheSet(e,t){var n=this.__data__,i=assocIndexOf(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}function MapCache(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Qt||ListCache),string:new Hash}}function mapCacheDelete(e){var t=getMapData(this,e).delete(e);return this.size-=t?1:0,t}function mapCacheGet(e){return getMapData(this,e).get(e)}function mapCacheHas(e){return getMapData(this,e).has(e)}function mapCacheSet(e,t){var n=getMapData(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}function SetCache(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new MapCache;++t<n;)this.add(e[t])}function setCacheAdd(e){return this.__data__.set(e,u),this}function setCacheHas(e){return this.__data__.has(e)}function Stack(e){var t=this.__data__=new ListCache(e);this.size=t.size}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function stackGet(e){return this.__data__.get(e)}function stackHas(e){return this.__data__.has(e)}function stackSet(e,t){var n=this.__data__;if(n instanceof ListCache){var i=n.__data__;if(!Qt||i.length<s-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new MapCache(i)}return n.set(e,t),this.size=n.size,this}function arrayLikeKeys(e,t){var n=Li(e),i=!n&&Pi(e),r=!n&&!i&&Ri(e),o=!n&&!i&&!r&&Hi(e),a=n||i||r||o,s=a?baseTimes(e.length,rt):[],l=s.length;for(var c in e)!t&&!dt.call(e,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||isIndex(c,l))||s.push(c);return s}function arraySample(e){var t=e.length;return t?e[baseRandom(0,t-1)]:o}function arraySampleSize(e,t){return shuffleSelf(copyArray(e),baseClamp(t,0,e.length))}function arrayShuffle(e){return shuffleSelf(copyArray(e))}function assignMergeValue(e,t,n){(n===o||eq(e[t],n))&&(n!==o||t in e)||baseAssignValue(e,t,n)}function assignValue(e,t,n){var i=e[t];dt.call(e,t)&&eq(i,n)&&(n!==o||t in e)||baseAssignValue(e,t,n)}function assocIndexOf(e,t){for(var n=e.length;n--;)if(eq(e[n][0],t))return n;return-1}function baseAggregator(e,t,n,i){return $n(e,function(e,r,o){t(i,e,n(e),o)}),i}function baseAssign(e,t){return e&&copyObject(t,keys(t),e)}function baseAssignIn(e,t){return e&&copyObject(t,keysIn(t),e)}function baseAssignValue(e,t,n){"__proto__"==t&&At?At(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function baseAt(e,n){for(var i=-1,r=n.length,a=t(r),s=null==e;++i<r;)a[i]=s?o:get(e,n[i]);return a}function baseClamp(e,t,n){return e===e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function baseClone(e,t,n,i,r,a){var s,l=t&m,c=t&p,u=t&f;if(n&&(s=r?n(e,i,r,a):n(e)),s!==o)return s;if(!isObject(e))return e;var d=Li(e);if(d){if(s=initCloneArray(e),!l)return copyArray(e,s)}else{var h=Vn(e),g=h==X||h==J;if(Ri(e))return cloneBuffer(e,l);if(h==te||h==z||g&&!r){if(s=c||g?{}:initCloneObject(e),!l)return c?copySymbolsIn(e,baseAssignIn(s,e)):copySymbols(e,baseAssign(s,e))}else{if(!Zt[h])return r?e:{};s=initCloneByTag(e,h,baseClone,l)}}a||(a=new Stack);var v=a.get(e);if(v)return v;a.set(e,s);var y=u?c?getAllKeysIn:getAllKeys:c?keysIn:keys,b=d?o:y(e);return arrayEach(b||e,function(i,r){b&&(r=i,i=e[r]),assignValue(s,r,baseClone(i,t,n,r,e,a))}),s}function baseConforms(e){var t=keys(e);return function(n){return baseConformsTo(n,e,t)}}function baseConformsTo(e,t,n){var i=n.length;if(null==e)return!i;for(e=nt(e);i--;){var r=n[i],a=t[r],s=e[r];if(s===o&&!(r in e)||!a(s))return!1}return!0}function baseDelay(e,t,n){if("function"!=typeof e)throw new ot(c);return Un(function(){e.apply(o,n)},t)}function baseDifference(e,t,n,i){var r=-1,o=arrayIncludes,a=!0,l=e.length,c=[],u=t.length;if(!l)return c;n&&(t=arrayMap(t,baseUnary(n))),i?(o=arrayIncludesWith,a=!1):t.length>=s&&(o=cacheHas,a=!1,t=new SetCache(t));e:for(;++r<l;){var d=e[r],h=null==n?d:n(d);if(d=i||0!==d?d:0,a&&h===h){for(var m=u;m--;)if(t[m]===h)continue e;c.push(d)}else o(t,h,i)||c.push(d)}return c}function baseEvery(e,t){var n=!0;return $n(e,function(e,i,r){return n=!!t(e,i,r)}),n}function baseExtremum(e,t,n){for(var i=-1,r=e.length;++i<r;){var a=e[i],s=t(a);if(null!=s&&(l===o?s===s&&!isSymbol(s):n(s,l)))var l=s,c=a}return c}function baseFill(e,t,n,i){var r=e.length;for(n=toInteger(n),n<0&&(n=-n>r?0:r+n),i=i===o||i>r?r:toInteger(i),i<0&&(i+=r),i=n>i?0:toLength(i);n<i;)e[n++]=t;return e}function baseFilter(e,t){var n=[];return $n(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}function baseFlatten(e,t,n,i,r){var o=-1,a=e.length;for(n||(n=isFlattenable),r||(r=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?baseFlatten(s,t-1,n,i,r):arrayPush(r,s):i||(r[r.length]=s)}return r}function baseForOwn(e,t){return e&&Ln(e,t,keys)}function baseForOwnRight(e,t){return e&&Dn(e,t,keys)}function baseFunctions(e,t){return arrayFilter(t,function(t){return isFunction(e[t])})}function baseGet(e,t){t=castPath(t,e);for(var n=0,i=t.length;null!=e&&n<i;)e=e[toKey(t[n++])];return n&&n==i?e:o}function baseGetAllKeys(e,t,n){var i=t(e);return Li(e)?i:arrayPush(i,n(e))}function baseGetTag(e){return null==e?e===o?le:ee:kt&&kt in nt(e)?getRawTag(e):objectToString(e)}function baseGt(e,t){return e>t}function baseHas(e,t){return null!=e&&dt.call(e,t)}function baseHasIn(e,t){return null!=e&&t in nt(e)}function baseInRange(e,t,n){return e>=Bt(t,n)&&e<jt(t,n)}function baseIntersection(e,n,i){for(var r=i?arrayIncludesWith:arrayIncludes,a=e[0].length,s=e.length,l=s,c=t(s),u=1/0,d=[];l--;){var h=e[l];l&&n&&(h=arrayMap(h,baseUnary(n))),u=Bt(h.length,u),c[l]=!i&&(n||a>=120&&h.length>=120)?new SetCache(l&&h):o}h=e[0];var m=-1,p=c[0];e:for(;++m<a&&d.length<u;){var f=h[m],g=n?n(f):f;if(f=i||0!==f?f:0,!(p?cacheHas(p,g):r(d,g,i))){for(l=s;--l;){var v=c[l];if(!(v?cacheHas(v,g):r(e[l],g,i)))continue e}p&&p.push(g),d.push(f)}}return d}function baseInverter(e,t,n,i){return baseForOwn(e,function(e,r,o){t(i,n(e),r,o)}),i}function baseInvoke(e,t,n){t=castPath(t,e),e=parent(e,t);var i=null==e?e:e[toKey(last(t))];return null==i?o:apply(i,e,n)}function baseIsArguments(e){return isObjectLike(e)&&baseGetTag(e)==z}function baseIsArrayBuffer(e){return isObjectLike(e)&&baseGetTag(e)==de}function baseIsDate(e){return isObjectLike(e)&&baseGetTag(e)==q}function baseIsEqual(e,t,n,i,r){return e===t||(null==e||null==t||!isObjectLike(e)&&!isObjectLike(t)?e!==e&&t!==t:baseIsEqualDeep(e,t,n,i,baseIsEqual,r))}function baseIsEqualDeep(e,t,n,i,r,o){var a=Li(e),s=Li(t),l=a?Y:Vn(e),c=s?Y:Vn(t);l=l==z?te:l,c=c==z?te:c;var u=l==te,d=c==te,h=l==c;if(h&&Ri(e)){if(!Ri(t))return!1;a=!0,u=!1}if(h&&!u)return o||(o=new Stack),a||Hi(e)?equalArrays(e,t,n,i,r,o):equalByTag(e,t,l,n,i,r,o);if(!(n&g)){var m=u&&dt.call(e,"__wrapped__"),p=d&&dt.call(t,"__wrapped__");if(m||p){var f=m?e.value():e,v=p?t.value():t;return o||(o=new Stack),r(f,v,n,i,o)}}return!!h&&(o||(o=new Stack),equalObjects(e,t,n,i,r,o))}function baseIsMap(e){return isObjectLike(e)&&Vn(e)==Z}function baseIsMatch(e,t,n,i){var r=n.length,a=r,s=!i;if(null==e)return!a;for(e=nt(e);r--;){var l=n[r];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++r<a;){l=n[r];var c=l[0],u=e[c],d=l[1];if(s&&l[2]){if(u===o&&!(c in e))return!1}else{var h=new Stack;if(i)var m=i(u,d,c,e,t,h);if(!(m===o?baseIsEqual(d,u,g|v,i,h):m))return!1}}return!0}function baseIsNative(e){if(!isObject(e)||isMasked(e))return!1;var t=isFunction(e)?vt:Xe;return t.test(toSource(e))}function baseIsRegExp(e){return isObjectLike(e)&&baseGetTag(e)==re}function baseIsSet(e){return isObjectLike(e)&&Vn(e)==oe}function baseIsTypedArray(e){return isObjectLike(e)&&isLength(e.length)&&!!Jt[baseGetTag(e)]}function baseIteratee(e){return"function"==typeof e?e:null==e?identity:"object"==typeof e?Li(e)?baseMatchesProperty(e[0],e[1]):baseMatches(e):property(e)}function baseKeys(e){if(!isPrototype(e))return Ht(e);var t=[];for(var n in nt(e))dt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function baseKeysIn(e){if(!isObject(e))return nativeKeysIn(e);var t=isPrototype(e),n=[];for(var i in e)("constructor"!=i||!t&&dt.call(e,i))&&n.push(i);return n}function baseLt(e,t){return e<t}function baseMap(e,n){var i=-1,r=isArrayLike(e)?t(e.length):[];return $n(e,function(e,t,o){r[++i]=n(e,t,o)}),r}function baseMatches(e){var t=getMatchData(e);return 1==t.length&&t[0][2]?matchesStrictComparable(t[0][0],t[0][1]):function(n){return n===e||baseIsMatch(n,e,t)}}function baseMatchesProperty(e,t){return isKey(e)&&isStrictComparable(t)?matchesStrictComparable(toKey(e),t):function(n){var i=get(n,e);return i===o&&i===t?hasIn(n,e):baseIsEqual(t,i,g|v)}}function baseMerge(e,t,n,i,r){e!==t&&Ln(t,function(a,s){if(isObject(a))r||(r=new Stack),baseMergeDeep(e,t,s,n,baseMerge,i,r);else{var l=i?i(e[s],a,s+"",e,t,r):o;l===o&&(l=a),assignMergeValue(e,s,l)}},keysIn)}function baseMergeDeep(e,t,n,i,r,a,s){var l=e[n],c=t[n],u=s.get(c);if(u)return void assignMergeValue(e,n,u);var d=a?a(l,c,n+"",e,t,s):o,h=d===o;if(h){var m=Li(c),p=!m&&Ri(c),f=!m&&!p&&Hi(c);d=c,m||p||f?Li(l)?d=l:isArrayLikeObject(l)?d=copyArray(l):p?(h=!1,d=cloneBuffer(c,!0)):f?(h=!1,d=cloneTypedArray(c,!0)):d=[]:isPlainObject(c)||Pi(c)?(d=l,Pi(l)?d=toPlainObject(l):(!isObject(l)||i&&isFunction(l))&&(d=initCloneObject(c))):h=!1}h&&(s.set(c,d),r(d,c,i,a,s),s.delete(c)),assignMergeValue(e,n,d)}function baseNth(e,t){var n=e.length;if(n)return t+=t<0?n:0,isIndex(t,n)?e[t]:o}function baseOrderBy(e,t,n){var i=-1;t=arrayMap(t.length?t:[identity],baseUnary(getIteratee()));var r=baseMap(e,function(e,n,r){var o=arrayMap(t,function(t){return t(e)});return{criteria:o,index:++i,value:e}});return baseSortBy(r,function(e,t){return compareMultiple(e,t,n)})}function basePick(e,t){return basePickBy(e,t,function(t,n){return hasIn(e,n)})}function basePickBy(e,t,n){for(var i=-1,r=t.length,o={};++i<r;){var a=t[i],s=baseGet(e,a);n(s,a)&&baseSet(o,castPath(a,e),s)}return o}function basePropertyDeep(e){return function(t){return baseGet(t,e)}}function basePullAll(e,t,n,i){var r=i?baseIndexOfWith:baseIndexOf,o=-1,a=t.length,s=e;for(e===t&&(t=copyArray(t)),n&&(s=arrayMap(e,baseUnary(n)));++o<a;)for(var l=0,c=t[o],u=n?n(c):c;(l=r(s,u,l,i))>-1;)s!==e&&Et.call(s,l,1),Et.call(e,l,1);return e}function basePullAt(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==o){var o=r;isIndex(r)?Et.call(e,r,1):baseUnset(e,r)}}return e}function baseRandom(e,t){return e+Rt(Gt()*(t-e+1))}function baseRange(e,n,i,r){for(var o=-1,a=jt(Dt((n-e)/(i||1)),0),s=t(a);a--;)s[r?a:++o]=e,e+=i;return s}function baseRepeat(e,t){var n="";if(!e||t<1||t>O)return n;do t%2&&(n+=e),t=Rt(t/2),t&&(e+=e);while(t);return n}function baseRest(e,t){return Gn(overRest(e,t,identity),e+"")}function baseSample(e){return arraySample(values(e))}function baseSampleSize(e,t){var n=values(e);return shuffleSelf(n,baseClamp(t,0,n.length))}function baseSet(e,t,n,i){if(!isObject(e))return e;t=castPath(t,e);for(var r=-1,a=t.length,s=a-1,l=e;null!=l&&++r<a;){var c=toKey(t[r]),u=n;if(r!=s){var d=l[c];u=i?i(d,c,l):o,u===o&&(u=isObject(d)?d:isIndex(t[r+1])?[]:{})}assignValue(l,c,u),l=l[c]}return e}function baseShuffle(e){return shuffleSelf(values(e))}function baseSlice(e,n,i){var r=-1,o=e.length;n<0&&(n=-n>o?0:o+n),i=i>o?o:i,i<0&&(i+=o),o=n>i?0:i-n>>>0,n>>>=0;for(var a=t(o);++r<o;)a[r]=e[r+n];return a}function baseSome(e,t){var n;return $n(e,function(e,i,r){return n=t(e,i,r),!n}),!!n}function baseSortedIndex(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t===t&&r<=B){for(;i<r;){var o=i+r>>>1,a=e[o];null!==a&&!isSymbol(a)&&(n?a<=t:a<t)?i=o+1:r=o}return r}return baseSortedIndexBy(e,t,identity,n)}function baseSortedIndexBy(e,t,n,i){t=n(t);for(var r=0,a=null==e?0:e.length,s=t!==t,l=null===t,c=isSymbol(t),u=t===o;r<a;){var d=Rt((r+a)/2),h=n(e[d]),m=h!==o,p=null===h,f=h===h,g=isSymbol(h);if(s)var v=i||f;else v=u?f&&(i||m):l?f&&m&&(i||!p):c?f&&m&&!p&&(i||!g):!p&&!g&&(i?h<=t:h<t);v?r=d+1:a=d}return Bt(a,j)}function baseSortedUniq(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n],s=t?t(a):a;if(!n||!eq(s,l)){var l=s;o[r++]=0===a?0:a}}return o}function baseToNumber(e){return"number"==typeof e?e:isSymbol(e)?N:+e}function baseToString(e){if("string"==typeof e)return e;if(Li(e))return arrayMap(e,baseToString)+"";if(isSymbol(e))return kn?kn.call(e):"";var t=e+"";return"0"==t&&1/e==-I?"-0":t}function baseUniq(e,t,n){var i=-1,r=arrayIncludes,o=e.length,a=!0,l=[],c=l;if(n)a=!1,r=arrayIncludesWith;else if(o>=s){var u=t?null:Nn(e);if(u)return setToArray(u);a=!1,r=cacheHas,c=new SetCache}else c=t?[]:l;e:for(;++i<o;){var d=e[i],h=t?t(d):d;if(d=n||0!==d?d:0,a&&h===h){for(var m=c.length;m--;)if(c[m]===h)continue e;t&&c.push(h),l.push(d)}else r(c,h,n)||(c!==l&&c.push(h),l.push(d))}return l}function baseUnset(e,t){return t=castPath(t,e),e=parent(e,t),null==e||delete e[toKey(last(t))]}function baseUpdate(e,t,n,i){return baseSet(e,t,n(baseGet(e,t)),i)}function baseWhile(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?baseSlice(e,i?0:o,i?o+1:r):baseSlice(e,i?o+1:0,i?r:o)}function baseWrapperValue(e,t){var n=e;return n instanceof LazyWrapper&&(n=n.value()),arrayReduce(t,function(e,t){return t.func.apply(t.thisArg,arrayPush([e],t.args))},n)}function baseXor(e,n,i){var r=e.length;if(r<2)return r?baseUniq(e[0]):[];for(var o=-1,a=t(r);++o<r;)for(var s=e[o],l=-1;++l<r;)l!=o&&(a[o]=baseDifference(a[o]||s,e[l],n,i));return baseUniq(baseFlatten(a,1),n,i)}function baseZipObject(e,t,n){for(var i=-1,r=e.length,a=t.length,s={};++i<r;){var l=i<a?t[i]:o;n(s,e[i],l)}return s}function castArrayLikeObject(e){return isArrayLikeObject(e)?e:[]}function castFunction(e){return"function"==typeof e?e:identity}function castPath(e,t){return Li(e)?e:isKey(e,t)?[e]:qn(toString(e))}function castSlice(e,t,n){var i=e.length;return n=n===o?i:n,!t&&n>=i?e:baseSlice(e,t,n)}function cloneBuffer(e,t){if(t)return e.slice();var n=e.length,i=wt?wt(n):new e.constructor(n);return e.copy(i),i}function cloneArrayBuffer(e){var t=new e.constructor(e.byteLength);return new _t(t).set(new _t(e)),t}function cloneDataView(e,t){var n=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function cloneMap(e,t,n){var i=t?n(mapToArray(e),m):mapToArray(e);return arrayReduce(i,addMapEntry,new e.constructor)}function cloneRegExp(e){var t=new e.constructor(e.source,qe.exec(e));return t.lastIndex=e.lastIndex,t}function cloneSet(e,t,n){var i=t?n(setToArray(e),m):setToArray(e);return arrayReduce(i,addSetEntry,new e.constructor)}function cloneSymbol(e){return Mn?nt(Mn.call(e)):{}}function cloneTypedArray(e,t){var n=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function compareAscending(e,t){if(e!==t){var n=e!==o,i=null===e,r=e===e,a=isSymbol(e),s=t!==o,l=null===t,c=t===t,u=isSymbol(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!r)return 1;if(!i&&!a&&!u&&e<t||u&&n&&r&&!i&&!a||l&&n&&r||!s&&r||!c)return-1}return 0}function compareMultiple(e,t,n){for(var i=-1,r=e.criteria,o=t.criteria,a=r.length,s=n.length;++i<a;){var l=compareAscending(r[i],o[i]);if(l){if(i>=s)return l;var c=n[i];return l*("desc"==c?-1:1)}}return e.index-t.index}function composeArgs(e,n,i,r){for(var o=-1,a=e.length,s=i.length,l=-1,c=n.length,u=jt(a-s,0),d=t(c+u),h=!r;++l<c;)d[l]=n[l];for(;++o<s;)(h||o<a)&&(d[i[o]]=e[o]);for(;u--;)d[l++]=e[o++];return d}function composeArgsRight(e,n,i,r){for(var o=-1,a=e.length,s=-1,l=i.length,c=-1,u=n.length,d=jt(a-l,0),h=t(d+u),m=!r;++o<d;)h[o]=e[o];for(var p=o;++c<u;)h[p+c]=n[c];for(;++s<l;)(m||o<a)&&(h[p+i[s]]=e[o++]);return h}function copyArray(e,n){var i=-1,r=e.length;for(n||(n=t(r));++i<r;)n[i]=e[i];return n}function copyObject(e,t,n,i){var r=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var l=t[a],c=i?i(n[l],e[l],l,n,e):o;c===o&&(c=e[l]),r?baseAssignValue(n,l,c):assignValue(n,l,c)}return n}function copySymbols(e,t){return copyObject(e,jn(e),t)}function copySymbolsIn(e,t){return copyObject(e,Bn(e),t)}function createAggregator(e,t){return function(n,i){var r=Li(n)?arrayAggregator:baseAggregator,o=t?t():{};return r(n,e,getIteratee(i,2),o)}}function createAssigner(e){return baseRest(function(t,n){var i=-1,r=n.length,a=r>1?n[r-1]:o,s=r>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(r--,a):o,s&&isIterateeCall(n[0],n[1],s)&&(a=r<3?o:a,r=1),t=nt(t);++i<r;){var l=n[i];l&&e(t,l,i,a)}return t})}function createBaseEach(e,t){return function(n,i){if(null==n)return n;if(!isArrayLike(n))return e(n,i);for(var r=n.length,o=t?r:-1,a=nt(n);(t?o--:++o<r)&&i(a[o],o,a)!==!1;);return n}}function createBaseFor(e){return function(t,n,i){for(var r=-1,o=nt(t),a=i(t),s=a.length;s--;){var l=a[e?s:++r];if(n(o[l],l,o)===!1)break}return t}}function createBind(e,t,n){function wrapper(){var t=this&&this!==ln&&this instanceof wrapper?r:e;return t.apply(i?n:this,arguments)}var i=t&y,r=createCtor(e);return wrapper}function createCaseFirst(e){return function(t){t=toString(t);var n=hasUnicode(t)?stringToArray(t):o,i=n?n[0]:t.charAt(0),r=n?castSlice(n,1).join(""):t.slice(1);return i[e]()+r}}function createCompounder(e){return function(t){return arrayReduce(words(deburr(t).replace(zt,"")),e,"")}}function createCtor(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=An(e.prototype),i=e.apply(n,t);return isObject(i)?i:n}}function createCurry(e,n,i){function wrapper(){for(var a=arguments.length,s=t(a),l=a,c=getHolder(wrapper);l--;)s[l]=arguments[l];var u=a<3&&s[0]!==c&&s[a-1]!==c?[]:replaceHolders(s,c);if(a-=u.length,a<i)return createRecurry(e,n,createHybrid,wrapper.placeholder,o,s,u,o,o,i-a);var d=this&&this!==ln&&this instanceof wrapper?r:e;return apply(d,this,s)}var r=createCtor(e);return wrapper}function createFind(e){return function(t,n,i){var r=nt(t);if(!isArrayLike(t)){var a=getIteratee(n,3);t=keys(t),n=function(e){return a(r[e],e,r)}}var s=e(t,n,i);return s>-1?r[a?t[s]:s]:o}}function createFlow(e){return flatRest(function(t){var n=t.length,i=n,r=LodashWrapper.prototype.thru;for(e&&t.reverse();i--;){var a=t[i];if("function"!=typeof a)throw new ot(c);if(r&&!s&&"wrapper"==getFuncName(a))var s=new LodashWrapper([],!0)}for(i=s?i:n;++i<n;){a=t[i];var l=getFuncName(a),u="wrapper"==l?Hn(a):o;s=u&&isLaziable(u[0])&&u[1]==(E|w|C|T)&&!u[4].length&&1==u[9]?s[getFuncName(u[0])].apply(s,u[3]):1==a.length&&isLaziable(a)?s[l]():s.thru(a)}return function(){var e=arguments,i=e[0];if(s&&1==e.length&&Li(i))return s.plant(i).value();for(var r=0,o=n?t[r].apply(this,e):i;++r<n;)o=t[r].call(this,o);return o}})}function createHybrid(e,n,i,r,a,s,l,c,u,d){function wrapper(){for(var o=arguments.length,y=t(o),b=o;b--;)y[b]=arguments[b];if(f)var _=getHolder(wrapper),w=countHolders(y,_);if(r&&(y=composeArgs(y,r,a,f)),s&&(y=composeArgsRight(y,s,l,f)),o-=w,f&&o<d){var x=replaceHolders(y,_);return createRecurry(e,n,createHybrid,wrapper.placeholder,i,y,x,c,u,d-o)}var C=m?i:this,S=p?C[e]:e;return o=y.length,c?y=reorder(y,c):g&&o>1&&y.reverse(),h&&u<o&&(y.length=u),this&&this!==ln&&this instanceof wrapper&&(S=v||createCtor(S)),S.apply(C,y)}var h=n&E,m=n&y,p=n&b,f=n&(w|x),g=n&M,v=p?o:createCtor(e);return wrapper}function createInverter(e,t){return function(n,i){return baseInverter(n,e,t(i),{})}}function createMathOperation(e,t){return function(n,i){var r;if(n===o&&i===o)return t;if(n!==o&&(r=n),i!==o){if(r===o)return i;"string"==typeof n||"string"==typeof i?(n=baseToString(n),i=baseToString(i)):(n=baseToNumber(n),i=baseToNumber(i)),r=e(n,i)}return r}}function createOver(e){return flatRest(function(t){return t=arrayMap(t,baseUnary(getIteratee())),baseRest(function(n){var i=this;return e(t,function(e){return apply(e,i,n)})})})}function createPadding(e,t){t=t===o?" ":baseToString(t);var n=t.length;if(n<2)return n?baseRepeat(t,e):t;var i=baseRepeat(t,Dt(e/stringSize(t)));return hasUnicode(t)?castSlice(stringToArray(i),0,e).join(""):i.slice(0,e)}function createPartial(e,n,i,r){function wrapper(){for(var n=-1,s=arguments.length,l=-1,c=r.length,u=t(c+s),d=this&&this!==ln&&this instanceof wrapper?a:e;++l<c;)u[l]=r[l];for(;s--;)u[l++]=arguments[++n];return apply(d,o?i:this,u)}var o=n&y,a=createCtor(e);return wrapper}function createRange(e){return function(t,n,i){return i&&"number"!=typeof i&&isIterateeCall(t,n,i)&&(n=i=o),t=toFinite(t),n===o?(n=t,t=0):n=toFinite(n),i=i===o?t<n?1:-1:toFinite(i),baseRange(t,n,i,e)}}function createRelationalOperation(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=toNumber(t),n=toNumber(n)),e(t,n)}}function createRecurry(e,t,n,i,r,a,s,l,c,u){var d=t&w,h=d?s:o,m=d?o:s,p=d?a:o,f=d?o:a;t|=d?C:S,t&=~(d?S:C),t&_||(t&=~(y|b));var g=[e,t,r,p,h,f,m,l,c,u],v=n.apply(o,g);return isLaziable(e)&&Yn(v,g),v.placeholder=i,setWrapToString(v,e,t)}function createRound(e){var t=Ye[e];return function(e,n){if(e=toNumber(e),n=null==n?0:Bt(toInteger(n),292)){var i=(toString(e)+"e").split("e"),r=t(i[0]+"e"+(+i[1]+n));return i=(toString(r)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return t(e)}}function createToPairs(e){return function(t){var n=Vn(t);return n==Z?mapToArray(t):n==oe?setToPairs(t):baseToPairs(t,e(t))}}function createWrap(e,t,n,i,r,a,s,l){var u=t&b;if(!u&&"function"!=typeof e)throw new ot(c);var d=i?i.length:0;if(d||(t&=~(C|S),i=r=o),s=s===o?s:jt(toInteger(s),0),l=l===o?l:toInteger(l),d-=r?r.length:0,t&S){var h=i,m=r;i=r=o}var p=u?o:Hn(e),f=[e,t,n,i,r,h,m,a,s,l];if(p&&mergeData(f,p),e=f[0],t=f[1],n=f[2],i=f[3],r=f[4],l=f[9]=f[9]===o?u?0:e.length:jt(f[9]-d,0),!l&&t&(w|x)&&(t&=~(w|x)),t&&t!=y)g=t==w||t==x?createCurry(e,t,l):t!=C&&t!=(y|C)||r.length?createHybrid.apply(o,f):createPartial(e,t,n,i);else var g=createBind(e,t,n);var v=p?Rn:Yn;return setWrapToString(v(g,f),e,t)}function customDefaultsAssignIn(e,t,n,i){return e===o||eq(e,lt[n])&&!dt.call(i,n)?t:e}function customDefaultsMerge(e,t,n,i,r,a){return isObject(e)&&isObject(t)&&(a.set(t,e),baseMerge(e,t,o,customDefaultsMerge,a),a.delete(t)),e}function customOmitClone(e){return isPlainObject(e)?o:e}function equalArrays(e,t,n,i,r,a){var s=n&g,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=a.get(e);if(u&&a.get(t))return u==t;var d=-1,h=!0,m=n&v?new SetCache:o;for(a.set(e,t),a.set(t,e);++d<l;){var p=e[d],f=t[d];if(i)var y=s?i(f,p,d,t,e,a):i(p,f,d,e,t,a);if(y!==o){if(y)continue;h=!1;break}if(m){if(!arraySome(t,function(e,t){if(!cacheHas(m,t)&&(p===e||r(p,e,n,i,a)))return m.push(t)})){h=!1;break}}else if(p!==f&&!r(p,f,n,i,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function equalByTag(e,t,n,i,r,o,a){switch(n){case he:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case de:
return!(e.byteLength!=t.byteLength||!o(new _t(e),new _t(t)));case G:case q:case Q:return eq(+e,+t);case K:return e.name==t.name&&e.message==t.message;case re:case ae:return e==t+"";case Z:var s=mapToArray;case oe:var l=i&g;if(s||(s=setToArray),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;i|=v,a.set(e,t);var u=equalArrays(s(e),s(t),i,r,o,a);return a.delete(e),u;case se:if(Mn)return Mn.call(e)==Mn.call(t)}return!1}function equalObjects(e,t,n,i,r,a){var s=n&g,l=getAllKeys(e),c=l.length,u=getAllKeys(t),d=u.length;if(c!=d&&!s)return!1;for(var h=c;h--;){var m=l[h];if(!(s?m in t:dt.call(t,m)))return!1}var p=a.get(e);if(p&&a.get(t))return p==t;var f=!0;a.set(e,t),a.set(t,e);for(var v=s;++h<c;){m=l[h];var y=e[m],b=t[m];if(i)var _=s?i(b,y,m,t,e,a):i(y,b,m,e,t,a);if(!(_===o?y===b||r(y,b,n,i,a):_)){f=!1;break}v||(v="constructor"==m)}if(f&&!v){var w=e.constructor,x=t.constructor;w!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x)&&(f=!1)}return a.delete(e),a.delete(t),f}function flatRest(e){return Gn(overRest(e,o,flatten),e+"")}function getAllKeys(e){return baseGetAllKeys(e,keys,jn)}function getAllKeysIn(e){return baseGetAllKeys(e,keysIn,Bn)}function getFuncName(e){for(var t=e.name+"",n=cn[t],i=dt.call(cn,t)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==e)return r.name}return t}function getHolder(e){var t=dt.call(lodash,"placeholder")?lodash:e;return t.placeholder}function getIteratee(){var e=lodash.iteratee||iteratee;return e=e===iteratee?baseIteratee:e,arguments.length?e(arguments[0],arguments[1]):e}function getMapData(e,t){var n=e.__data__;return isKeyable(t)?n["string"==typeof t?"string":"hash"]:n.map}function getMatchData(e){for(var t=keys(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,isStrictComparable(r)]}return t}function getNative(e,t){var n=getValue(e,t);return baseIsNative(n)?n:o}function getRawTag(e){var t=dt.call(e,kt),n=e[kt];try{e[kt]=o;var i=!0}catch(e){}var r=pt.call(e);return i&&(t?e[kt]=n:delete e[kt]),r}function getView(e,t,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Bt(t,e+a);break;case"takeRight":e=jt(e,t-a)}}return{start:e,end:t}}function getWrapDetails(e){var t=e.match(Ve);return t?t[1].split(ze):[]}function hasPath(e,t,n){t=castPath(t,e);for(var i=-1,r=t.length,o=!1;++i<r;){var a=toKey(t[i]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++i!=r?o:(r=null==e?0:e.length,!!r&&isLength(r)&&isIndex(a,r)&&(Li(e)||Pi(e)))}function initCloneArray(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&dt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function initCloneObject(e){return"function"!=typeof e.constructor||isPrototype(e)?{}:An(xt(e))}function initCloneByTag(e,t,n,i){var r=e.constructor;switch(t){case de:return cloneArrayBuffer(e);case G:case q:return new r(+e);case he:return cloneDataView(e,i);case me:case pe:case fe:case ge:case ve:case ye:case be:case _e:case we:return cloneTypedArray(e,i);case Z:return cloneMap(e,i,n);case Q:case ae:return new r(e);case re:return cloneRegExp(e);case oe:return cloneSet(e,i,n);case se:return cloneSymbol(e)}}function insertWrapDetails(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(Be,"{\n/* [wrapped with "+t+"] */\n")}function isFlattenable(e){return Li(e)||Pi(e)||!!(Tt&&e&&e[Tt])}function isIndex(e,t){return t=null==t?O:t,!!t&&("number"==typeof e||Ze.test(e))&&e>-1&&e%1==0&&e<t}function isIterateeCall(e,t,n){if(!isObject(n))return!1;var i=typeof t;return!!("number"==i?isArrayLike(n)&&isIndex(t,n.length):"string"==i&&t in n)&&eq(n[t],e)}function isKey(e,t){if(Li(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!isSymbol(e))||(De.test(e)||!Le.test(e)||null!=t&&e in nt(t))}function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function isLaziable(e){var t=getFuncName(e),n=lodash[t];if("function"!=typeof n||!(t in LazyWrapper.prototype))return!1;if(e===n)return!0;var i=Hn(n);return!!i&&e===i[0]}function isMasked(e){return!!mt&&mt in e}function isPrototype(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||lt;return e===n}function isStrictComparable(e){return e===e&&!isObject(e)}function matchesStrictComparable(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in nt(n)))}}function memoizeCapped(e){var t=memoize(e,function(e){return n.size===d&&n.clear(),e}),n=t.cache;return t}function mergeData(e,t){var n=e[1],i=t[1],r=n|i,o=r<(y|b|E),a=i==E&&n==w||i==E&&n==T&&e[7].length<=t[8]||i==(E|T)&&t[7].length<=t[8]&&n==w;if(!o&&!a)return e;i&y&&(e[2]=t[2],r|=n&y?0:_);var s=t[3];if(s){var l=e[3];e[3]=l?composeArgs(l,s,t[4]):s,e[4]=l?replaceHolders(e[3],h):t[4]}return s=t[5],s&&(l=e[5],e[5]=l?composeArgsRight(l,s,t[6]):s,e[6]=l?replaceHolders(e[5],h):t[6]),s=t[7],s&&(e[7]=s),i&E&&(e[8]=null==e[8]?t[8]:Bt(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r,e}function nativeKeysIn(e){var t=[];if(null!=e)for(var n in nt(e))t.push(n);return t}function objectToString(e){return pt.call(e)}function overRest(e,n,i){return n=jt(n===o?e.length-1:n,0),function(){for(var r=arguments,o=-1,a=jt(r.length-n,0),s=t(a);++o<a;)s[o]=r[n+o];o=-1;for(var l=t(n+1);++o<n;)l[o]=r[o];return l[n]=i(s),apply(e,this,l)}}function parent(e,t){return t.length<2?e:baseGet(e,baseSlice(t,0,-1))}function reorder(e,t){for(var n=e.length,i=Bt(t.length,n),r=copyArray(e);i--;){var a=t[i];e[i]=isIndex(a,n)?r[a]:o}return e}function setWrapToString(e,t,n){var i=t+"";return Gn(e,insertWrapDetails(i,updateWrapDetails(getWrapDetails(i),n)))}function shortOut(e){var t=0,n=0;return function(){var i=Vt(),r=P-(i-n);if(n=i,r>0){if(++t>=$)return arguments[0]}else t=0;return e.apply(o,arguments)}}function shuffleSelf(e,t){var n=-1,i=e.length,r=i-1;for(t=t===o?i:t;++n<t;){var a=baseRandom(n,r),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}function toKey(e){if("string"==typeof e||isSymbol(e))return e;var t=e+"";return"0"==t&&1/e==-I?"-0":t}function toSource(e){if(null!=e){try{return ut.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function updateWrapDetails(e,t){return arrayEach(V,function(n){var i="_."+n[0];t&n[1]&&!arrayIncludes(e,i)&&e.push(i)}),e.sort()}function wrapperClone(e){if(e instanceof LazyWrapper)return e.clone();var t=new LodashWrapper(e.__wrapped__,e.__chain__);return t.__actions__=copyArray(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function chunk(e,n,i){n=(i?isIterateeCall(e,n,i):n===o)?1:jt(toInteger(n),0);var r=null==e?0:e.length;if(!r||n<1)return[];for(var a=0,s=0,l=t(Dt(r/n));a<r;)l[s++]=baseSlice(e,a,a+=n);return l}function compact(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var o=e[t];o&&(r[i++]=o)}return r}function concat(){var e=arguments.length;if(!e)return[];for(var n=t(e-1),i=arguments[0],r=e;r--;)n[r-1]=arguments[r];return arrayPush(Li(i)?copyArray(i):[i],baseFlatten(n,1))}function drop(e,t,n){var i=null==e?0:e.length;return i?(t=n||t===o?1:toInteger(t),baseSlice(e,t<0?0:t,i)):[]}function dropRight(e,t,n){var i=null==e?0:e.length;return i?(t=n||t===o?1:toInteger(t),t=i-t,baseSlice(e,0,t<0?0:t)):[]}function dropRightWhile(e,t){return e&&e.length?baseWhile(e,getIteratee(t,3),!0,!0):[]}function dropWhile(e,t){return e&&e.length?baseWhile(e,getIteratee(t,3),!0):[]}function fill(e,t,n,i){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&isIterateeCall(e,t,n)&&(n=0,i=r),baseFill(e,t,n,i)):[]}function findIndex(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:toInteger(n);return r<0&&(r=jt(i+r,0)),baseFindIndex(e,getIteratee(t,3),r)}function findLastIndex(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i-1;return n!==o&&(r=toInteger(n),r=n<0?jt(i+r,0):Bt(r,i-1)),baseFindIndex(e,getIteratee(t,3),r,!0)}function flatten(e){var t=null==e?0:e.length;return t?baseFlatten(e,1):[]}function flattenDeep(e){var t=null==e?0:e.length;return t?baseFlatten(e,I):[]}function flattenDepth(e,t){var n=null==e?0:e.length;return n?(t=t===o?1:toInteger(t),baseFlatten(e,t)):[]}function fromPairs(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i}function head(e){return e&&e.length?e[0]:o}function indexOf(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:toInteger(n);return r<0&&(r=jt(i+r,0)),baseIndexOf(e,t,r)}function initial(e){var t=null==e?0:e.length;return t?baseSlice(e,0,-1):[]}function join(e,t){return null==e?"":Nt.call(e,t)}function last(e){var t=null==e?0:e.length;return t?e[t-1]:o}function lastIndexOf(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i;return n!==o&&(r=toInteger(n),r=r<0?jt(i+r,0):Bt(r,i-1)),t===t?strictLastIndexOf(e,t,r):baseFindIndex(e,baseIsNaN,r,!0)}function nth(e,t){return e&&e.length?baseNth(e,toInteger(t)):o}function pullAll(e,t){return e&&e.length&&t&&t.length?basePullAll(e,t):e}function pullAllBy(e,t,n){return e&&e.length&&t&&t.length?basePullAll(e,t,getIteratee(n,2)):e}function pullAllWith(e,t,n){return e&&e.length&&t&&t.length?basePullAll(e,t,o,n):e}function remove(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],o=e.length;for(t=getIteratee(t,3);++i<o;){var a=e[i];t(a,i,e)&&(n.push(a),r.push(i))}return basePullAt(e,r),n}function reverse(e){return null==e?e:qt.call(e)}function slice(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&isIterateeCall(e,t,n)?(t=0,n=i):(t=null==t?0:toInteger(t),n=n===o?i:toInteger(n)),baseSlice(e,t,n)):[]}function sortedIndex(e,t){return baseSortedIndex(e,t)}function sortedIndexBy(e,t,n){return baseSortedIndexBy(e,t,getIteratee(n,2))}function sortedIndexOf(e,t){var n=null==e?0:e.length;if(n){var i=baseSortedIndex(e,t);if(i<n&&eq(e[i],t))return i}return-1}function sortedLastIndex(e,t){return baseSortedIndex(e,t,!0)}function sortedLastIndexBy(e,t,n){return baseSortedIndexBy(e,t,getIteratee(n,2),!0)}function sortedLastIndexOf(e,t){var n=null==e?0:e.length;if(n){var i=baseSortedIndex(e,t,!0)-1;if(eq(e[i],t))return i}return-1}function sortedUniq(e){return e&&e.length?baseSortedUniq(e):[]}function sortedUniqBy(e,t){return e&&e.length?baseSortedUniq(e,getIteratee(t,2)):[]}function tail(e){var t=null==e?0:e.length;return t?baseSlice(e,1,t):[]}function take(e,t,n){return e&&e.length?(t=n||t===o?1:toInteger(t),baseSlice(e,0,t<0?0:t)):[]}function takeRight(e,t,n){var i=null==e?0:e.length;return i?(t=n||t===o?1:toInteger(t),t=i-t,baseSlice(e,t<0?0:t,i)):[]}function takeRightWhile(e,t){return e&&e.length?baseWhile(e,getIteratee(t,3),!1,!0):[]}function takeWhile(e,t){return e&&e.length?baseWhile(e,getIteratee(t,3)):[]}function uniq(e){return e&&e.length?baseUniq(e):[]}function uniqBy(e,t){return e&&e.length?baseUniq(e,getIteratee(t,2)):[]}function uniqWith(e,t){return t="function"==typeof t?t:o,e&&e.length?baseUniq(e,o,t):[]}function unzip(e){if(!e||!e.length)return[];var t=0;return e=arrayFilter(e,function(e){if(isArrayLikeObject(e))return t=jt(e.length,t),!0}),baseTimes(t,function(t){return arrayMap(e,baseProperty(t))})}function unzipWith(e,t){if(!e||!e.length)return[];var n=unzip(e);return null==t?n:arrayMap(n,function(e){return apply(t,o,e)})}function zipObject(e,t){return baseZipObject(e||[],t||[],assignValue)}function zipObjectDeep(e,t){return baseZipObject(e||[],t||[],baseSet)}function chain(e){var t=lodash(e);return t.__chain__=!0,t}function tap(e,t){return t(e),e}function thru(e,t){return t(e)}function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperNext(){this.__values__===o&&(this.__values__=toArray(this.value()));var e=this.__index__>=this.__values__.length,t=e?o:this.__values__[this.__index__++];return{done:e,value:t}}function wrapperToIterator(){return this}function wrapperPlant(e){for(var t,n=this;n instanceof baseLodash;){var i=wrapperClone(n);i.__index__=0,i.__values__=o,t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t}function wrapperReverse(){var e=this.__wrapped__;if(e instanceof LazyWrapper){var t=e;return this.__actions__.length&&(t=new LazyWrapper(this)),t=t.reverse(),t.__actions__.push({func:thru,args:[reverse],thisArg:o}),new LodashWrapper(t,this.__chain__)}return this.thru(reverse)}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}function every(e,t,n){var i=Li(e)?arrayEvery:baseEvery;return n&&isIterateeCall(e,t,n)&&(t=o),i(e,getIteratee(t,3))}function filter(e,t){var n=Li(e)?arrayFilter:baseFilter;return n(e,getIteratee(t,3))}function flatMap(e,t){return baseFlatten(map(e,t),1)}function flatMapDeep(e,t){return baseFlatten(map(e,t),I)}function flatMapDepth(e,t,n){return n=n===o?1:toInteger(n),baseFlatten(map(e,t),n)}function forEach(e,t){var n=Li(e)?arrayEach:$n;return n(e,getIteratee(t,3))}function forEachRight(e,t){var n=Li(e)?arrayEachRight:Pn;return n(e,getIteratee(t,3))}function includes(e,t,n,i){e=isArrayLike(e)?e:values(e),n=n&&!i?toInteger(n):0;var r=e.length;return n<0&&(n=jt(r+n,0)),isString(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&baseIndexOf(e,t,n)>-1}function map(e,t){var n=Li(e)?arrayMap:baseMap;return n(e,getIteratee(t,3))}function orderBy(e,t,n,i){return null==e?[]:(Li(t)||(t=null==t?[]:[t]),n=i?o:n,Li(n)||(n=null==n?[]:[n]),baseOrderBy(e,t,n))}function reduce(e,t,n){var i=Li(e)?arrayReduce:baseReduce,r=arguments.length<3;return i(e,getIteratee(t,4),n,r,$n)}function reduceRight(e,t,n){var i=Li(e)?arrayReduceRight:baseReduce,r=arguments.length<3;return i(e,getIteratee(t,4),n,r,Pn)}function reject(e,t){var n=Li(e)?arrayFilter:baseFilter;return n(e,negate(getIteratee(t,3)))}function sample(e){var t=Li(e)?arraySample:baseSample;return t(e)}function sampleSize(e,t,n){t=(n?isIterateeCall(e,t,n):t===o)?1:toInteger(t);var i=Li(e)?arraySampleSize:baseSampleSize;return i(e,t)}function shuffle(e){var t=Li(e)?arrayShuffle:baseShuffle;return t(e)}function size(e){if(null==e)return 0;if(isArrayLike(e))return isString(e)?stringSize(e):e.length;var t=Vn(e);return t==Z||t==oe?e.size:baseKeys(e).length}function some(e,t,n){var i=Li(e)?arraySome:baseSome;return n&&isIterateeCall(e,t,n)&&(t=o),i(e,getIteratee(t,3))}function after(e,t){if("function"!=typeof t)throw new ot(c);return e=toInteger(e),function(){if(--e<1)return t.apply(this,arguments)}}function ary(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,createWrap(e,E,o,o,o,o,t)}function before(e,t){var n;if("function"!=typeof t)throw new ot(c);return e=toInteger(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}function curry(e,t,n){t=n?o:t;var i=createWrap(e,w,o,o,o,o,o,t);return i.placeholder=curry.placeholder,i}function curryRight(e,t,n){t=n?o:t;var i=createWrap(e,x,o,o,o,o,o,t);return i.placeholder=curryRight.placeholder,i}function debounce(e,t,n){function invokeFunc(t){var n=i,a=r;return i=r=o,d=t,s=e.apply(a,n)}function leadingEdge(e){return d=e,l=Un(timerExpired,t),h?invokeFunc(e):s}function remainingWait(e){var n=e-u,i=e-d,r=t-n;return m?Bt(r,a-i):r}function shouldInvoke(e){var n=e-u,i=e-d;return u===o||n>=t||n<0||m&&i>=a}function timerExpired(){var e=_i();return shouldInvoke(e)?trailingEdge(e):void(l=Un(timerExpired,remainingWait(e)))}function trailingEdge(e){return l=o,p&&i?invokeFunc(e):(i=r=o,s)}function cancel(){l!==o&&Fn(l),d=0,i=u=r=l=o}function flush(){return l===o?s:trailingEdge(_i())}function debounced(){var e=_i(),n=shouldInvoke(e);if(i=arguments,r=this,u=e,n){if(l===o)return leadingEdge(u);if(m)return l=Un(timerExpired,t),invokeFunc(u)}return l===o&&(l=Un(timerExpired,t)),s}var i,r,a,s,l,u,d=0,h=!1,m=!1,p=!0;if("function"!=typeof e)throw new ot(c);return t=toNumber(t)||0,isObject(n)&&(h=!!n.leading,m="maxWait"in n,a=m?jt(toNumber(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),debounced.cancel=cancel,debounced.flush=flush,debounced}function flip(e){return createWrap(e,M)}function memoize(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ot(c);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(memoize.Cache||MapCache),n}function negate(e){if("function"!=typeof e)throw new ot(c);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function once(e){return before(2,e)}function rest(e,t){if("function"!=typeof e)throw new ot(c);return t=t===o?t:toInteger(t),baseRest(e,t)}function spread(e,t){if("function"!=typeof e)throw new ot(c);return t=null==t?0:jt(toInteger(t),0),baseRest(function(n){var i=n[t],r=castSlice(n,0,t);return i&&arrayPush(r,i),apply(e,this,r)})}function throttle(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new ot(c);return isObject(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),debounce(e,t,{leading:i,maxWait:t,trailing:r})}function unary(e){return ary(e,1)}function wrap(e,t){return Ti(castFunction(t),e)}function castArray(){if(!arguments.length)return[];var e=arguments[0];return Li(e)?e:[e]}function clone(e){return baseClone(e,f)}function cloneWith(e,t){return t="function"==typeof t?t:o,baseClone(e,f,t)}function cloneDeep(e){return baseClone(e,m|f)}function cloneDeepWith(e,t){return t="function"==typeof t?t:o,baseClone(e,m|f,t)}function conformsTo(e,t){return null==t||baseConformsTo(e,t,keys(t))}function eq(e,t){return e===t||e!==e&&t!==t}function isArrayLike(e){return null!=e&&isLength(e.length)&&!isFunction(e)}function isArrayLikeObject(e){return isObjectLike(e)&&isArrayLike(e)}function isBoolean(e){return e===!0||e===!1||isObjectLike(e)&&baseGetTag(e)==G}function isElement(e){return isObjectLike(e)&&1===e.nodeType&&!isPlainObject(e)}function isEmpty(e){if(null==e)return!0;if(isArrayLike(e)&&(Li(e)||"string"==typeof e||"function"==typeof e.splice||Ri(e)||Hi(e)||Pi(e)))return!e.length;var t=Vn(e);if(t==Z||t==oe)return!e.size;if(isPrototype(e))return!baseKeys(e).length;for(var n in e)if(dt.call(e,n))return!1;return!0}function isEqual(e,t){return baseIsEqual(e,t)}function isEqualWith(e,t,n){n="function"==typeof n?n:o;var i=n?n(e,t):o;return i===o?baseIsEqual(e,t,o,n):!!i}function isError(e){if(!isObjectLike(e))return!1;var t=baseGetTag(e);return t==K||t==W||"string"==typeof e.message&&"string"==typeof e.name&&!isPlainObject(e)}function isFinite(e){return"number"==typeof e&&Ft(e)}function isFunction(e){if(!isObject(e))return!1;var t=baseGetTag(e);return t==X||t==J||t==U||t==ie}function isInteger(e){return"number"==typeof e&&e==toInteger(e)}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=O}function isObject(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function isObjectLike(e){return null!=e&&"object"==typeof e}function isMatch(e,t){return e===t||baseIsMatch(e,t,getMatchData(t))}function isMatchWith(e,t,n){return n="function"==typeof n?n:o,baseIsMatch(e,t,getMatchData(t),n)}function isNaN(e){return isNumber(e)&&e!=+e}function isNative(e){if(zn(e))throw new i(l);return baseIsNative(e)}function isNull(e){return null===e}function isNil(e){return null==e}function isNumber(e){return"number"==typeof e||isObjectLike(e)&&baseGetTag(e)==Q}function isPlainObject(e){if(!isObjectLike(e)||baseGetTag(e)!=te)return!1;var t=xt(e);if(null===t)return!0;var n=dt.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ut.call(n)==ft}function isSafeInteger(e){return isInteger(e)&&e>=-O&&e<=O}function isString(e){return"string"==typeof e||!Li(e)&&isObjectLike(e)&&baseGetTag(e)==ae}function isSymbol(e){return"symbol"==typeof e||isObjectLike(e)&&baseGetTag(e)==se}function isUndefined(e){return e===o}function isWeakMap(e){return isObjectLike(e)&&Vn(e)==ce}function isWeakSet(e){return isObjectLike(e)&&baseGetTag(e)==ue}function toArray(e){if(!e)return[];if(isArrayLike(e))return isString(e)?stringToArray(e):copyArray(e);if(Mt&&e[Mt])return iteratorToArray(e[Mt]());var t=Vn(e),n=t==Z?mapToArray:t==oe?setToArray:values;return n(e)}function toFinite(e){if(!e)return 0===e?e:0;if(e=toNumber(e),e===I||e===-I){var t=e<0?-1:1;return t*F}return e===e?e:0}function toInteger(e){var t=toFinite(e),n=t%1;return t===t?n?t-n:t:0}function toLength(e){return e?baseClamp(toInteger(e),0,H):0}function toNumber(e){if("number"==typeof e)return e;if(isSymbol(e))return N;if(isObject(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=isObject(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Ne,"");var n=Ke.test(e);return n||Je.test(e)?on(e.slice(2),n?2:8):We.test(e)?N:+e}function toPlainObject(e){return copyObject(e,keysIn(e))}function toSafeInteger(e){return e?baseClamp(toInteger(e),-O,O):0===e?e:0}function toString(e){return null==e?"":baseToString(e)}function create(e,t){var n=An(e);return null==t?n:baseAssign(n,t)}function findKey(e,t){return baseFindKey(e,getIteratee(t,3),baseForOwn)}function findLastKey(e,t){return baseFindKey(e,getIteratee(t,3),baseForOwnRight)}function forIn(e,t){return null==e?e:Ln(e,getIteratee(t,3),keysIn)}function forInRight(e,t){return null==e?e:Dn(e,getIteratee(t,3),keysIn)}function forOwn(e,t){return e&&baseForOwn(e,getIteratee(t,3))}function forOwnRight(e,t){return e&&baseForOwnRight(e,getIteratee(t,3))}function functions(e){return null==e?[]:baseFunctions(e,keys(e))}function functionsIn(e){return null==e?[]:baseFunctions(e,keysIn(e))}function get(e,t,n){var i=null==e?o:baseGet(e,t);return i===o?n:i}function has(e,t){return null!=e&&hasPath(e,t,baseHas)}function hasIn(e,t){return null!=e&&hasPath(e,t,baseHasIn)}function keys(e){return isArrayLike(e)?arrayLikeKeys(e):baseKeys(e)}function keysIn(e){return isArrayLike(e)?arrayLikeKeys(e,!0):baseKeysIn(e)}function mapKeys(e,t){var n={};return t=getIteratee(t,3),baseForOwn(e,function(e,i,r){baseAssignValue(n,t(e,i,r),e)}),n}function mapValues(e,t){var n={};return t=getIteratee(t,3),baseForOwn(e,function(e,i,r){baseAssignValue(n,i,t(e,i,r))}),n}function omitBy(e,t){return pickBy(e,negate(getIteratee(t)))}function pickBy(e,t){if(null==e)return{};var n=arrayMap(getAllKeysIn(e),function(e){return[e]});return t=getIteratee(t),basePickBy(e,n,function(e,n){return t(e,n[0])})}function result(e,t,n){t=castPath(t,e);var i=-1,r=t.length;for(r||(r=1,e=o);++i<r;){var a=null==e?o:e[toKey(t[i])];a===o&&(i=r,a=n),e=isFunction(a)?a.call(e):a}return e}function set(e,t,n){return null==e?e:baseSet(e,t,n)}function setWith(e,t,n,i){return i="function"==typeof i?i:o,null==e?e:baseSet(e,t,n,i)}function transform(e,t,n){var i=Li(e),r=i||Ri(e)||Hi(e);if(t=getIteratee(t,4),null==n){var o=e&&e.constructor;n=r?i?new o:[]:isObject(e)&&isFunction(o)?An(xt(e)):{}}return(r?arrayEach:baseForOwn)(e,function(e,i,r){return t(n,e,i,r)}),n}function unset(e,t){return null==e||baseUnset(e,t)}function update(e,t,n){return null==e?e:baseUpdate(e,t,castFunction(n))}function updateWith(e,t,n,i){return i="function"==typeof i?i:o,null==e?e:baseUpdate(e,t,castFunction(n),i)}function values(e){return null==e?[]:baseValues(e,keys(e))}function valuesIn(e){return null==e?[]:baseValues(e,keysIn(e))}function clamp(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=toNumber(n),n=n===n?n:0),t!==o&&(t=toNumber(t),t=t===t?t:0),baseClamp(toNumber(e),t,n)}function inRange(e,t,n){return t=toFinite(t),n===o?(n=t,t=0):n=toFinite(n),e=toNumber(e),baseInRange(e,t,n)}function random(e,t,n){if(n&&"boolean"!=typeof n&&isIterateeCall(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=toFinite(e),t===o?(t=e,e=0):t=toFinite(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var r=Gt();return Bt(e+r*(t-e+rn("1e-"+((r+"").length-1))),t)}return baseRandom(e,t)}function capitalize(e){return dr(toString(e).toLowerCase())}function deburr(e){return e=toString(e),e&&e.replace(Qe,wn).replace(Yt,"")}function endsWith(e,t,n){e=toString(e),t=baseToString(t);var i=e.length;n=n===o?i:baseClamp(toInteger(n),0,i);var r=n;return n-=t.length,n>=0&&e.slice(n,r)==t}function escape(e){return e=toString(e),e&&ke.test(e)?e.replace(Te,xn):e}function escapeRegExp(e){return e=toString(e),e&&Fe.test(e)?e.replace(Oe,"\\$&"):e}function pad(e,t,n){e=toString(e),t=toInteger(t);var i=t?stringSize(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return createPadding(Rt(r),n)+e+createPadding(Dt(r),n)}function padEnd(e,t,n){e=toString(e),t=toInteger(t);var i=t?stringSize(e):0;return t&&i<t?e+createPadding(t-i,n):e}function padStart(e,t,n){e=toString(e),t=toInteger(t);var i=t?stringSize(e):0;return t&&i<t?createPadding(t-i,n)+e:e}function parseInt(e,t,n){return n||null==t?t=0:t&&(t=+t),Ut(toString(e).replace(He,""),t||0)}function repeat(e,t,n){return t=(n?isIterateeCall(e,t,n):t===o)?1:toInteger(t),baseRepeat(toString(e),t)}function replace(){var e=arguments,t=toString(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function split(e,t,n){return n&&"number"!=typeof n&&isIterateeCall(e,t,n)&&(t=n=o),(n=n===o?H:n>>>0)?(e=toString(e),e&&("string"==typeof t||null!=t&&!Fi(t))&&(t=baseToString(t),!t&&hasUnicode(e))?castSlice(stringToArray(e),0,n):e.split(t,n)):[]}function startsWith(e,t,n){return e=toString(e),n=null==n?0:baseClamp(toInteger(n),0,e.length),t=baseToString(t),e.slice(n,n+t.length)==t}function template(e,t,n){var i=lodash.templateSettings;n&&isIterateeCall(e,t,n)&&(t=o),e=toString(e),t=Yi({},t,i,customDefaultsAssignIn);var a,s,l=Yi({},t.imports,i.imports,customDefaultsAssignIn),c=keys(l),u=baseValues(l,c),d=0,h=t.interpolate||et,m="__p += '",p=it((t.escape||et).source+"|"+h.source+"|"+(h===Pe?Ge:et).source+"|"+(t.evaluate||et).source+"|$","g"),f="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Xt+"]")+"\n";e.replace(p,function(t,n,i,r,o,l){return i||(i=r),m+=e.slice(d,l).replace(tt,escapeStringChar),n&&(a=!0,m+="' +\n__e("+n+") +\n'"),o&&(s=!0,m+="';\n"+o+";\n__p += '"),i&&(m+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),d=l+t.length,t}),m+="';\n";var g=t.variable;g||(m="with (obj) {\n"+m+"\n}\n"),m=(s?m.replace(xe,""):m).replace(Ce,"$1").replace(Se,"$1;"),m="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var v=hr(function(){return r(c,f+"return "+m).apply(o,u)});if(v.source=m,isError(v))throw v;return v}function toLower(e){return toString(e).toLowerCase()}function toUpper(e){return toString(e).toUpperCase()}function trim(e,t,n){if(e=toString(e),e&&(n||t===o))return e.replace(Ne,"");if(!e||!(t=baseToString(t)))return e;var i=stringToArray(e),r=stringToArray(t),a=charsStartIndex(i,r),s=charsEndIndex(i,r)+1;return castSlice(i,a,s).join("")}function trimEnd(e,t,n){if(e=toString(e),e&&(n||t===o))return e.replace(je,"");if(!e||!(t=baseToString(t)))return e;var i=stringToArray(e),r=charsEndIndex(i,stringToArray(t))+1;return castSlice(i,0,r).join("")}function trimStart(e,t,n){if(e=toString(e),e&&(n||t===o))return e.replace(He,"");if(!e||!(t=baseToString(t)))return e;var i=stringToArray(e),r=charsStartIndex(i,stringToArray(t));return castSlice(i,r).join("")}function truncate(e,t){var n=k,i=A;if(isObject(t)){var r="separator"in t?t.separator:r;n="length"in t?toInteger(t.length):n,i="omission"in t?baseToString(t.omission):i}e=toString(e);var a=e.length;if(hasUnicode(e)){var s=stringToArray(e);a=s.length}if(n>=a)return e;var l=n-stringSize(i);if(l<1)return i;var c=s?castSlice(s,0,l).join(""):e.slice(0,l);if(r===o)return c+i;if(s&&(l+=c.length-l),Fi(r)){if(e.slice(l).search(r)){var u,d=c;for(r.global||(r=it(r.source,toString(qe.exec(r))+"g")),r.lastIndex=0;u=r.exec(d);)var h=u.index;c=c.slice(0,h===o?l:h)}}else if(e.indexOf(baseToString(r),l)!=l){var m=c.lastIndexOf(r);m>-1&&(c=c.slice(0,m))}return c+i}function unescape(e){return e=toString(e),e&&Me.test(e)?e.replace(Ee,Cn):e}function words(e,t,n){return e=toString(e),t=n?o:t,t===o?hasUnicodeWord(e)?unicodeWords(e):asciiWords(e):e.match(t)||[]}function cond(e){var t=null==e?0:e.length,n=getIteratee();return e=t?arrayMap(e,function(e){if("function"!=typeof e[1])throw new ot(c);return[n(e[0]),e[1]]}):[],baseRest(function(n){for(var i=-1;++i<t;){var r=e[i];if(apply(r[0],this,n))return apply(r[1],this,n)}})}function conforms(e){return baseConforms(baseClone(e,m))}function constant(e){return function(){return e}}function defaultTo(e,t){return null==e||e!==e?t:e}function identity(e){return e}function iteratee(e){return baseIteratee("function"==typeof e?e:baseClone(e,m))}function matches(e){return baseMatches(baseClone(e,m))}function matchesProperty(e,t){return baseMatchesProperty(e,baseClone(t,m))}function mixin(e,t,n){var i=keys(t),r=baseFunctions(t,i);null!=n||isObject(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=baseFunctions(t,keys(t)));var o=!(isObject(n)&&"chain"in n&&!n.chain),a=isFunction(e);return arrayEach(r,function(n){var i=t[n];e[n]=i,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),r=n.__actions__=copyArray(this.__actions__);return r.push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,arrayPush([this.value()],arguments))})}),e}function noConflict(){return ln._===this&&(ln._=gt),this}function noop(){}function nthArg(e){return e=toInteger(e),baseRest(function(t){return baseNth(t,e)})}function property(e){return isKey(e)?baseProperty(toKey(e)):basePropertyDeep(e)}function propertyOf(e){return function(t){return null==e?o:baseGet(e,t)}}function stubArray(){return[]}function stubFalse(){return!1}function stubObject(){return{}}function stubString(){return""}function stubTrue(){return!0}function times(e,t){if(e=toInteger(e),e<1||e>O)return[];var n=H,i=Bt(e,H);t=getIteratee(t),e-=H;for(var r=baseTimes(i,t);++n<e;)t(n);return r}function toPath(e){return Li(e)?arrayMap(e,toKey):isSymbol(e)?[e]:copyArray(qn(toString(e)))}function uniqueId(e){var t=++ht;return toString(e)+t}function max(e){return e&&e.length?baseExtremum(e,identity,baseGt):o}function maxBy(e,t){return e&&e.length?baseExtremum(e,getIteratee(t,2),baseGt):o}function mean(e){return baseMean(e,identity)}function meanBy(e,t){return baseMean(e,getIteratee(t,2))}function min(e){return e&&e.length?baseExtremum(e,identity,baseLt):o}function minBy(e,t){return e&&e.length?baseExtremum(e,getIteratee(t,2),baseLt):o}function sum(e){return e&&e.length?baseSum(e,identity):0}function sumBy(e,t){return e&&e.length?baseSum(e,getIteratee(t,2)):0}e=null==e?ln:En.defaults(ln.Object(),e,En.pick(ln,Kt));var t=e.Array,n=e.Date,i=e.Error,r=e.Function,Ye=e.Math,nt=e.Object,it=e.RegExp,rt=e.String,ot=e.TypeError,at=t.prototype,st=r.prototype,lt=nt.prototype,ct=e["__core-js_shared__"],ut=st.toString,dt=lt.hasOwnProperty,ht=0,mt=function(){var e=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),pt=lt.toString,ft=ut.call(nt),gt=ln._,vt=it("^"+ut.call(dt).replace(Oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yt=dn?e.Buffer:o,bt=e.Symbol,_t=e.Uint8Array,wt=yt?yt.allocUnsafe:o,xt=overArg(nt.getPrototypeOf,nt),Ct=nt.create,St=lt.propertyIsEnumerable,Et=at.splice,Tt=bt?bt.isConcatSpreadable:o,Mt=bt?bt.iterator:o,kt=bt?bt.toStringTag:o,At=function(){try{var e=getNative(nt,"defineProperty");return e({},"",{}),e}catch(e){}}(),$t=e.clearTimeout!==ln.clearTimeout&&e.clearTimeout,Pt=n&&n.now!==ln.Date.now&&n.now,Lt=e.setTimeout!==ln.setTimeout&&e.setTimeout,Dt=Ye.ceil,Rt=Ye.floor,It=nt.getOwnPropertySymbols,Ot=yt?yt.isBuffer:o,Ft=e.isFinite,Nt=at.join,Ht=overArg(nt.keys,nt),jt=Ye.max,Bt=Ye.min,Vt=n.now,Ut=e.parseInt,Gt=Ye.random,qt=at.reverse,Wt=getNative(e,"DataView"),Qt=getNative(e,"Map"),en=getNative(e,"Promise"),tn=getNative(e,"Set"),nn=getNative(e,"WeakMap"),an=getNative(nt,"create"),sn=nn&&new nn,cn={},un=toSource(Wt),hn=toSource(Qt),mn=toSource(en),_n=toSource(tn),Sn=toSource(nn),Tn=bt?bt.prototype:o,Mn=Tn?Tn.valueOf:o,kn=Tn?Tn.toString:o,An=function(){function object(){}return function(e){if(!isObject(e))return{};if(Ct)return Ct(e);object.prototype=e;
var t=new object;return object.prototype=o,t}}();lodash.templateSettings={escape:Ae,evaluate:$e,interpolate:Pe,variable:"",imports:{_:lodash}},lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash,LodashWrapper.prototype=An(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=An(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var $n=createBaseEach(baseForOwn),Pn=createBaseEach(baseForOwnRight,!0),Ln=createBaseFor(),Dn=createBaseFor(!0),Rn=sn?function(e,t){return sn.set(e,t),e}:identity,In=At?function(e,t){return At(e,"toString",{configurable:!0,enumerable:!1,value:constant(t),writable:!0})}:identity,On=baseRest,Fn=$t||function(e){return ln.clearTimeout(e)},Nn=tn&&1/setToArray(new tn([,-0]))[1]==I?function(e){return new tn(e)}:noop,Hn=sn?function(e){return sn.get(e)}:noop,jn=It?function(e){return null==e?[]:(e=nt(e),arrayFilter(It(e),function(t){return St.call(e,t)}))}:stubArray,Bn=It?function(e){for(var t=[];e;)arrayPush(t,jn(e)),e=xt(e);return t}:stubArray,Vn=baseGetTag;(Wt&&Vn(new Wt(new ArrayBuffer(1)))!=he||Qt&&Vn(new Qt)!=Z||en&&Vn(en.resolve())!=ne||tn&&Vn(new tn)!=oe||nn&&Vn(new nn)!=ce)&&(Vn=function(e){var t=baseGetTag(e),n=t==te?e.constructor:o,i=n?toSource(n):"";if(i)switch(i){case un:return he;case hn:return Z;case mn:return ne;case _n:return oe;case Sn:return ce}return t});var zn=ct?isFunction:stubFalse,Yn=shortOut(Rn),Un=Lt||function(e,t){return ln.setTimeout(e,t)},Gn=shortOut(In),qn=memoizeCapped(function(e){var t=[];return Re.test(e)&&t.push(""),e.replace(Ie,function(e,n,i,r){t.push(i?r.replace(Ue,"$1"):n||e)}),t}),Wn=baseRest(function(e,t){return isArrayLikeObject(e)?baseDifference(e,baseFlatten(t,1,isArrayLikeObject,!0)):[]}),Kn=baseRest(function(e,t){var n=last(t);return isArrayLikeObject(n)&&(n=o),isArrayLikeObject(e)?baseDifference(e,baseFlatten(t,1,isArrayLikeObject,!0),getIteratee(n,2)):[]}),Xn=baseRest(function(e,t){var n=last(t);return isArrayLikeObject(n)&&(n=o),isArrayLikeObject(e)?baseDifference(e,baseFlatten(t,1,isArrayLikeObject,!0),o,n):[]}),Jn=baseRest(function(e){var t=arrayMap(e,castArrayLikeObject);return t.length&&t[0]===e[0]?baseIntersection(t):[]}),Zn=baseRest(function(e){var t=last(e),n=arrayMap(e,castArrayLikeObject);return t===last(n)?t=o:n.pop(),n.length&&n[0]===e[0]?baseIntersection(n,getIteratee(t,2)):[]}),Qn=baseRest(function(e){var t=last(e),n=arrayMap(e,castArrayLikeObject);return t="function"==typeof t?t:o,t&&n.pop(),n.length&&n[0]===e[0]?baseIntersection(n,o,t):[]}),ei=baseRest(pullAll),ti=flatRest(function(e,t){var n=null==e?0:e.length,i=baseAt(e,t);return basePullAt(e,arrayMap(t,function(e){return isIndex(e,n)?+e:e}).sort(compareAscending)),i}),ni=baseRest(function(e){return baseUniq(baseFlatten(e,1,isArrayLikeObject,!0))}),ii=baseRest(function(e){var t=last(e);return isArrayLikeObject(t)&&(t=o),baseUniq(baseFlatten(e,1,isArrayLikeObject,!0),getIteratee(t,2))}),ri=baseRest(function(e){var t=last(e);return t="function"==typeof t?t:o,baseUniq(baseFlatten(e,1,isArrayLikeObject,!0),o,t)}),oi=baseRest(function(e,t){return isArrayLikeObject(e)?baseDifference(e,t):[]}),ai=baseRest(function(e){return baseXor(arrayFilter(e,isArrayLikeObject))}),si=baseRest(function(e){var t=last(e);return isArrayLikeObject(t)&&(t=o),baseXor(arrayFilter(e,isArrayLikeObject),getIteratee(t,2))}),li=baseRest(function(e){var t=last(e);return t="function"==typeof t?t:o,baseXor(arrayFilter(e,isArrayLikeObject),o,t)}),ci=baseRest(unzip),ui=baseRest(function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,unzipWith(e,n)}),di=flatRest(function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,r=function(t){return baseAt(t,e)};return!(t>1||this.__actions__.length)&&i instanceof LazyWrapper&&isIndex(n)?(i=i.slice(n,+n+(t?1:0)),i.__actions__.push({func:thru,args:[r],thisArg:o}),new LodashWrapper(i,this.__chain__).thru(function(e){return t&&!e.length&&e.push(o),e})):this.thru(r)}),hi=createAggregator(function(e,t,n){dt.call(e,n)?++e[n]:baseAssignValue(e,n,1)}),mi=createFind(findIndex),pi=createFind(findLastIndex),fi=createAggregator(function(e,t,n){dt.call(e,n)?e[n].push(t):baseAssignValue(e,n,[t])}),gi=baseRest(function(e,n,i){var r=-1,o="function"==typeof n,a=isArrayLike(e)?t(e.length):[];return $n(e,function(e){a[++r]=o?apply(n,e,i):baseInvoke(e,n,i)}),a}),vi=createAggregator(function(e,t,n){baseAssignValue(e,n,t)}),yi=createAggregator(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),bi=baseRest(function(e,t){if(null==e)return[];var n=t.length;return n>1&&isIterateeCall(e,t[0],t[1])?t=[]:n>2&&isIterateeCall(t[0],t[1],t[2])&&(t=[t[0]]),baseOrderBy(e,baseFlatten(t,1),[])}),_i=Pt||function(){return ln.Date.now()},wi=baseRest(function(e,t,n){var i=y;if(n.length){var r=replaceHolders(n,getHolder(wi));i|=C}return createWrap(e,i,t,n,r)}),xi=baseRest(function(e,t,n){var i=y|b;if(n.length){var r=replaceHolders(n,getHolder(xi));i|=C}return createWrap(t,i,e,n,r)}),Ci=baseRest(function(e,t){return baseDelay(e,1,t)}),Si=baseRest(function(e,t,n){return baseDelay(e,toNumber(t)||0,n)});memoize.Cache=MapCache;var Ei=On(function(e,t){t=1==t.length&&Li(t[0])?arrayMap(t[0],baseUnary(getIteratee())):arrayMap(baseFlatten(t,1),baseUnary(getIteratee()));var n=t.length;return baseRest(function(i){for(var r=-1,o=Bt(i.length,n);++r<o;)i[r]=t[r].call(this,i[r]);return apply(e,this,i)})}),Ti=baseRest(function(e,t){var n=replaceHolders(t,getHolder(Ti));return createWrap(e,C,o,t,n)}),Mi=baseRest(function(e,t){var n=replaceHolders(t,getHolder(Mi));return createWrap(e,S,o,t,n)}),ki=flatRest(function(e,t){return createWrap(e,T,o,o,o,t)}),Ai=createRelationalOperation(baseGt),$i=createRelationalOperation(function(e,t){return e>=t}),Pi=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike(e)&&dt.call(e,"callee")&&!St.call(e,"callee")},Li=t.isArray,Di=pn?baseUnary(pn):baseIsArrayBuffer,Ri=Ot||stubFalse,Ii=fn?baseUnary(fn):baseIsDate,Oi=gn?baseUnary(gn):baseIsMap,Fi=vn?baseUnary(vn):baseIsRegExp,Ni=yn?baseUnary(yn):baseIsSet,Hi=bn?baseUnary(bn):baseIsTypedArray,ji=createRelationalOperation(baseLt),Bi=createRelationalOperation(function(e,t){return e<=t}),Vi=createAssigner(function(e,t){if(isPrototype(t)||isArrayLike(t))return void copyObject(t,keys(t),e);for(var n in t)dt.call(t,n)&&assignValue(e,n,t[n])}),zi=createAssigner(function(e,t){copyObject(t,keysIn(t),e)}),Yi=createAssigner(function(e,t,n,i){copyObject(t,keysIn(t),e,i)}),Ui=createAssigner(function(e,t,n,i){copyObject(t,keys(t),e,i)}),Gi=flatRest(baseAt),qi=baseRest(function(e){return e.push(o,customDefaultsAssignIn),apply(Yi,o,e)}),Wi=baseRest(function(e){return e.push(o,customDefaultsMerge),apply(Qi,o,e)}),Ki=createInverter(function(e,t,n){e[t]=n},constant(identity)),Xi=createInverter(function(e,t,n){dt.call(e,t)?e[t].push(n):e[t]=[n]},getIteratee),Ji=baseRest(baseInvoke),Zi=createAssigner(function(e,t,n){baseMerge(e,t,n)}),Qi=createAssigner(function(e,t,n,i){baseMerge(e,t,n,i)}),er=flatRest(function(e,t){var n={};if(null==e)return n;var i=!1;t=arrayMap(t,function(t){return t=castPath(t,e),i||(i=t.length>1),t}),copyObject(e,getAllKeysIn(e),n),i&&(n=baseClone(n,m|p|f,customOmitClone));for(var r=t.length;r--;)baseUnset(n,t[r]);return n}),tr=flatRest(function(e,t){return null==e?{}:basePick(e,t)}),nr=createToPairs(keys),ir=createToPairs(keysIn),rr=createCompounder(function(e,t,n){return t=t.toLowerCase(),e+(n?capitalize(t):t)}),or=createCompounder(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),ar=createCompounder(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),sr=createCaseFirst("toLowerCase"),lr=createCompounder(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),cr=createCompounder(function(e,t,n){return e+(n?" ":"")+dr(t)}),ur=createCompounder(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),dr=createCaseFirst("toUpperCase"),hr=baseRest(function(e,t){try{return apply(e,o,t)}catch(e){return isError(e)?e:new i(e)}}),mr=flatRest(function(e,t){return arrayEach(t,function(t){t=toKey(t),baseAssignValue(e,t,wi(e[t],e))}),e}),pr=createFlow(),fr=createFlow(!0),gr=baseRest(function(e,t){return function(n){return baseInvoke(n,e,t)}}),vr=baseRest(function(e,t){return function(n){return baseInvoke(e,n,t)}}),yr=createOver(arrayMap),br=createOver(arrayEvery),_r=createOver(arraySome),wr=createRange(),xr=createRange(!0),Cr=createMathOperation(function(e,t){return e+t},0),Sr=createRound("ceil"),Er=createMathOperation(function(e,t){return e/t},1),Tr=createRound("floor"),Mr=createMathOperation(function(e,t){return e*t},1),kr=createRound("round"),Ar=createMathOperation(function(e,t){return e-t},0);return lodash.after=after,lodash.ary=ary,lodash.assign=Vi,lodash.assignIn=zi,lodash.assignInWith=Yi,lodash.assignWith=Ui,lodash.at=Gi,lodash.before=before,lodash.bind=wi,lodash.bindAll=mr,lodash.bindKey=xi,lodash.castArray=castArray,lodash.chain=chain,lodash.chunk=chunk,lodash.compact=compact,lodash.concat=concat,lodash.cond=cond,lodash.conforms=conforms,lodash.constant=constant,lodash.countBy=hi,lodash.create=create,lodash.curry=curry,lodash.curryRight=curryRight,lodash.debounce=debounce,lodash.defaults=qi,lodash.defaultsDeep=Wi,lodash.defer=Ci,lodash.delay=Si,lodash.difference=Wn,lodash.differenceBy=Kn,lodash.differenceWith=Xn,lodash.drop=drop,lodash.dropRight=dropRight,lodash.dropRightWhile=dropRightWhile,lodash.dropWhile=dropWhile,lodash.fill=fill,lodash.filter=filter,lodash.flatMap=flatMap,lodash.flatMapDeep=flatMapDeep,lodash.flatMapDepth=flatMapDepth,lodash.flatten=flatten,lodash.flattenDeep=flattenDeep,lodash.flattenDepth=flattenDepth,lodash.flip=flip,lodash.flow=pr,lodash.flowRight=fr,lodash.fromPairs=fromPairs,lodash.functions=functions,lodash.functionsIn=functionsIn,lodash.groupBy=fi,lodash.initial=initial,lodash.intersection=Jn,lodash.intersectionBy=Zn,lodash.intersectionWith=Qn,lodash.invert=Ki,lodash.invertBy=Xi,lodash.invokeMap=gi,lodash.iteratee=iteratee,lodash.keyBy=vi,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=mapKeys,lodash.mapValues=mapValues,lodash.matches=matches,lodash.matchesProperty=matchesProperty,lodash.memoize=memoize,lodash.merge=Zi,lodash.mergeWith=Qi,lodash.method=gr,lodash.methodOf=vr,lodash.mixin=mixin,lodash.negate=negate,lodash.nthArg=nthArg,lodash.omit=er,lodash.omitBy=omitBy,lodash.once=once,lodash.orderBy=orderBy,lodash.over=yr,lodash.overArgs=Ei,lodash.overEvery=br,lodash.overSome=_r,lodash.partial=Ti,lodash.partialRight=Mi,lodash.partition=yi,lodash.pick=tr,lodash.pickBy=pickBy,lodash.property=property,lodash.propertyOf=propertyOf,lodash.pull=ei,lodash.pullAll=pullAll,lodash.pullAllBy=pullAllBy,lodash.pullAllWith=pullAllWith,lodash.pullAt=ti,lodash.range=wr,lodash.rangeRight=xr,lodash.rearg=ki,lodash.reject=reject,lodash.remove=remove,lodash.rest=rest,lodash.reverse=reverse,lodash.sampleSize=sampleSize,lodash.set=set,lodash.setWith=setWith,lodash.shuffle=shuffle,lodash.slice=slice,lodash.sortBy=bi,lodash.sortedUniq=sortedUniq,lodash.sortedUniqBy=sortedUniqBy,lodash.split=split,lodash.spread=spread,lodash.tail=tail,lodash.take=take,lodash.takeRight=takeRight,lodash.takeRightWhile=takeRightWhile,lodash.takeWhile=takeWhile,lodash.tap=tap,lodash.throttle=throttle,lodash.thru=thru,lodash.toArray=toArray,lodash.toPairs=nr,lodash.toPairsIn=ir,lodash.toPath=toPath,lodash.toPlainObject=toPlainObject,lodash.transform=transform,lodash.unary=unary,lodash.union=ni,lodash.unionBy=ii,lodash.unionWith=ri,lodash.uniq=uniq,lodash.uniqBy=uniqBy,lodash.uniqWith=uniqWith,lodash.unset=unset,lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.update=update,lodash.updateWith=updateWith,lodash.values=values,lodash.valuesIn=valuesIn,lodash.without=oi,lodash.words=words,lodash.wrap=wrap,lodash.xor=ai,lodash.xorBy=si,lodash.xorWith=li,lodash.zip=ci,lodash.zipObject=zipObject,lodash.zipObjectDeep=zipObjectDeep,lodash.zipWith=ui,lodash.entries=nr,lodash.entriesIn=ir,lodash.extend=zi,lodash.extendWith=Yi,mixin(lodash,lodash),lodash.add=Cr,lodash.attempt=hr,lodash.camelCase=rr,lodash.capitalize=capitalize,lodash.ceil=Sr,lodash.clamp=clamp,lodash.clone=clone,lodash.cloneDeep=cloneDeep,lodash.cloneDeepWith=cloneDeepWith,lodash.cloneWith=cloneWith,lodash.conformsTo=conformsTo,lodash.deburr=deburr,lodash.defaultTo=defaultTo,lodash.divide=Er,lodash.endsWith=endsWith,lodash.eq=eq,lodash.escape=escape,lodash.escapeRegExp=escapeRegExp,lodash.every=every,lodash.find=mi,lodash.findIndex=findIndex,lodash.findKey=findKey,lodash.findLast=pi,lodash.findLastIndex=findLastIndex,lodash.findLastKey=findLastKey,lodash.floor=Tr,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=forIn,lodash.forInRight=forInRight,lodash.forOwn=forOwn,lodash.forOwnRight=forOwnRight,lodash.get=get,lodash.gt=Ai,lodash.gte=$i,lodash.has=has,lodash.hasIn=hasIn,lodash.head=head,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.inRange=inRange,lodash.invoke=Ji,lodash.isArguments=Pi,lodash.isArray=Li,lodash.isArrayBuffer=Di,lodash.isArrayLike=isArrayLike,lodash.isArrayLikeObject=isArrayLikeObject,lodash.isBoolean=isBoolean,lodash.isBuffer=Ri,lodash.isDate=Ii,lodash.isElement=isElement,lodash.isEmpty=isEmpty,lodash.isEqual=isEqual,lodash.isEqualWith=isEqualWith,lodash.isError=isError,lodash.isFinite=isFinite,lodash.isFunction=isFunction,lodash.isInteger=isInteger,lodash.isLength=isLength,lodash.isMap=Oi,lodash.isMatch=isMatch,lodash.isMatchWith=isMatchWith,lodash.isNaN=isNaN,lodash.isNative=isNative,lodash.isNil=isNil,lodash.isNull=isNull,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isObjectLike=isObjectLike,lodash.isPlainObject=isPlainObject,lodash.isRegExp=Fi,lodash.isSafeInteger=isSafeInteger,lodash.isSet=Ni,lodash.isString=isString,lodash.isSymbol=isSymbol,lodash.isTypedArray=Hi,lodash.isUndefined=isUndefined,lodash.isWeakMap=isWeakMap,lodash.isWeakSet=isWeakSet,lodash.join=join,lodash.kebabCase=or,lodash.last=last,lodash.lastIndexOf=lastIndexOf,lodash.lowerCase=ar,lodash.lowerFirst=sr,lodash.lt=ji,lodash.lte=Bi,lodash.max=max,lodash.maxBy=maxBy,lodash.mean=mean,lodash.meanBy=meanBy,lodash.min=min,lodash.minBy=minBy,lodash.stubArray=stubArray,lodash.stubFalse=stubFalse,lodash.stubObject=stubObject,lodash.stubString=stubString,lodash.stubTrue=stubTrue,lodash.multiply=Mr,lodash.nth=nth,lodash.noConflict=noConflict,lodash.noop=noop,lodash.now=_i,lodash.pad=pad,lodash.padEnd=padEnd,lodash.padStart=padStart,lodash.parseInt=parseInt,lodash.random=random,lodash.reduce=reduce,lodash.reduceRight=reduceRight,lodash.repeat=repeat,lodash.replace=replace,lodash.result=result,lodash.round=kr,lodash.runInContext=runInContext,lodash.sample=sample,lodash.size=size,lodash.snakeCase=lr,lodash.some=some,lodash.sortedIndex=sortedIndex,lodash.sortedIndexBy=sortedIndexBy,lodash.sortedIndexOf=sortedIndexOf,lodash.sortedLastIndex=sortedLastIndex,lodash.sortedLastIndexBy=sortedLastIndexBy,lodash.sortedLastIndexOf=sortedLastIndexOf,lodash.startCase=cr,lodash.startsWith=startsWith,lodash.subtract=Ar,lodash.sum=sum,lodash.sumBy=sumBy,lodash.template=template,lodash.times=times,lodash.toFinite=toFinite,lodash.toInteger=toInteger,lodash.toLength=toLength,lodash.toLower=toLower,lodash.toNumber=toNumber,lodash.toSafeInteger=toSafeInteger,lodash.toString=toString,lodash.toUpper=toUpper,lodash.trim=trim,lodash.trimEnd=trimEnd,lodash.trimStart=trimStart,lodash.truncate=truncate,lodash.unescape=unescape,lodash.uniqueId=uniqueId,lodash.upperCase=ur,lodash.upperFirst=dr,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.first=head,mixin(lodash,function(){var e={};return baseForOwn(lodash,function(t,n){dt.call(lodash.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),lodash.VERSION=a,arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){lodash[e].placeholder=lodash}),arrayEach(["drop","take"],function(e,t){LazyWrapper.prototype[e]=function(n){n=n===o?1:jt(toInteger(n),0);var i=this.__filtered__&&!t?new LazyWrapper(this):this.clone();return i.__filtered__?i.__takeCount__=Bt(n,i.__takeCount__):i.__views__.push({size:Bt(n,H),type:e+(i.__dir__<0?"Right":"")}),i},LazyWrapper.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),arrayEach(["filter","map","takeWhile"],function(e,t){var n=t+1,i=n==L||n==R;LazyWrapper.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:getIteratee(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}}),arrayEach(["head","last"],function(e,t){var n="take"+(t?"Right":"");LazyWrapper.prototype[e]=function(){return this[n](1).value()[0]}}),arrayEach(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");LazyWrapper.prototype[e]=function(){return this.__filtered__?new LazyWrapper(this):this[n](1)}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.find=function(e){return this.filter(e).head()},LazyWrapper.prototype.findLast=function(e){return this.reverse().find(e)},LazyWrapper.prototype.invokeMap=baseRest(function(e,t){return"function"==typeof e?new LazyWrapper(this):this.map(function(n){return baseInvoke(n,e,t)})}),LazyWrapper.prototype.reject=function(e){return this.filter(negate(getIteratee(e)))},LazyWrapper.prototype.slice=function(e,t){e=toInteger(e);var n=this;return n.__filtered__&&(e>0||t<0)?new LazyWrapper(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(t=toInteger(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},LazyWrapper.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(H)},baseForOwn(LazyWrapper.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),r=lodash[i?"take"+("last"==t?"Right":""):t],a=i||/^find/.test(t);r&&(lodash.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,l=t instanceof LazyWrapper,c=s[0],u=l||Li(t),d=function(e){var t=r.apply(lodash,arrayPush([e],s));return i&&h?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,m=!!this.__actions__.length,p=a&&!h,f=l&&!m;if(!a&&u){t=f?t:new LazyWrapper(this);var g=e.apply(t,s);return g.__actions__.push({func:thru,args:[d],thisArg:o}),new LodashWrapper(g,h)}return p&&f?e.apply(this,s):(g=this.thru(d),p?i?g.value()[0]:g.value():g)})}),arrayEach(["pop","push","shift","sort","splice","unshift"],function(e){var t=at[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);lodash.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(Li(r)?r:[],e)}return this[n](function(n){return t.apply(Li(n)?n:[],e)})}}),baseForOwn(LazyWrapper.prototype,function(e,t){var n=lodash[t];if(n){var i=n.name+"",r=cn[i]||(cn[i]=[]);r.push({name:t,func:n})}}),cn[createHybrid(o,b).name]=[{name:"wrapper",func:o}],LazyWrapper.prototype.clone=lazyClone,LazyWrapper.prototype.reverse=lazyReverse,LazyWrapper.prototype.value=lazyValue,lodash.prototype.at=di,lodash.prototype.chain=wrapperChain,lodash.prototype.commit=wrapperCommit,lodash.prototype.next=wrapperNext,lodash.prototype.plant=wrapperPlant,lodash.prototype.reverse=wrapperReverse,lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue,lodash.prototype.first=lodash.prototype.head,Mt&&(lodash.prototype[Mt]=wrapperToIterator),lodash},En=Sn();ln._=En,r=function(){return En}.call(t,n,t,i),!(r!==o&&(i.exports=r))}).call(this)}).call(t,n(5),n(10)(e))},function(e,t){"undefined"!=typeof e&&"undefined"!=typeof t&&e.exports===t&&(e.exports="ui.router"),function(e,t,n){"use strict";function inherit(e,t){return c(new(c(function(){},{prototype:e})),t)}function merge(e){return l(arguments,function(t){t!==e&&l(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function ancestors(e,t){var n=[];for(var i in e.path){if(e.path[i]!==t.path[i])break;n.push(e.path[i])}return n}function objectKeys(e){if(Object.keys)return Object.keys(e);var t=[];return l(e,function(e,n){t.push(n)}),t}function indexOf(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,i=Number(arguments[2])||0;for(i=i<0?Math.ceil(i):Math.floor(i),i<0&&(i+=n);i<n;i++)if(i in e&&e[i]===t)return i;return-1}function inheritParams(e,t,n,i){var r,o=ancestors(n,i),a={},s=[];for(var l in o)if(o[l]&&o[l].params&&(r=objectKeys(o[l].params),r.length))for(var u in r)indexOf(s,r[u])>=0||(s.push(r[u]),a[r[u]]=e[r[u]]);return c({},a,t)}function equalForKeys(e,t,n){if(!n){n=[];for(var i in e)n.push(i)}for(var r=0;r<n.length;r++){var o=n[r];if(e[o]!=t[o])return!1}return!0}function filterByKeys(e,t){var n={};return l(e,function(e){n[e]=t[e]}),n}function pick(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return l(n,function(n){n in e&&(t[n]=e[n])}),t}function omit(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in e)indexOf(n,i)==-1&&(t[i]=e[i]);return t}function filter(e,t){var n=s(e),i=n?[]:{};return l(e,function(e,r){t(e,r)&&(i[n?i.length:r]=e)}),i}function map(e,t){var n=s(e)?[]:{};return l(e,function(e,i){n[i]=t(e,i)}),n}function silenceUncaughtInPromise(e){return e.then(n,function(){})&&e}function $Resolve(e,t){var r=1,s=2,u={},d=[],h=u,m=c(e.when(u),{$$promises:u,$$values:u});this.study=function(u){function visit(e,n){if(v[n]!==s){if(g.push(n),v[n]===r)throw g.splice(0,indexOf(g,n)),new Error("Cyclic dependency: "+g.join(" -> "));if(v[n]=r,o(e))f.push(n,[function(){return t.get(e)}],d);else{var i=t.annotate(e);l(i,function(e){e!==n&&u.hasOwnProperty(e)&&visit(u[e],e)}),f.push(n,e,i)}g.pop(),v[n]=s}}function isResolve(e){return a(e)&&e.then&&e.$$promises}if(!a(u))throw new Error("'invocables' must be an object");var p=objectKeys(u||{}),f=[],g=[],v={};return l(u,visit),u=g=v=null,function(r,o,s){function done(){--y||(b||merge(v,o.$$values),d.$$values=v,d.$$promises=d.$$promises||!0,delete d.$$inheritedValues,u.resolve(v))}function fail(e){d.$$failure=e,u.reject(e)}function invoke(n,o,a){function onfailure(e){c.reject(e),fail(e)}function proceed(){if(!i(d.$$failure))try{c.resolve(t.invoke(o,s,v)),c.promise.then(function(e){v[n]=e,done()},onfailure)}catch(e){onfailure(e)}}var c=e.defer(),u=0;l(a,function(e){g.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(u++,g[e].then(function(t){v[e]=t,--u||proceed()},onfailure))}),u||proceed(),g[n]=silenceUncaughtInPromise(c.promise)}if(isResolve(r)&&s===n&&(s=o,o=r,r=null),r){if(!a(r))throw new Error("'locals' must be an object")}else r=h;if(o){if(!isResolve(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=m;var u=e.defer(),d=silenceUncaughtInPromise(u.promise),g=d.$$promises={},v=c({},r),y=1+f.length/3,b=!1;if(silenceUncaughtInPromise(d),i(o.$$failure))return fail(o.$$failure),d;o.$$inheritedValues&&merge(v,omit(o.$$inheritedValues,p)),c(g,o.$$promises),o.$$values?(b=merge(v,omit(o.$$values,p)),d.$$inheritedValues=omit(o.$$values,p),done()):(o.$$inheritedValues&&(d.$$inheritedValues=omit(o.$$inheritedValues,p)),o.then(done,fail));for(var _=0,w=f.length;_<w;_+=3)r.hasOwnProperty(f[_])?done():invoke(f[_],f[_+1],f[_+2]);return d}},this.resolve=function(e,t,n,i){return this.study(e)(t,n,i)}}function TemplateFactoryProvider(){var e=t.version.minor<3;this.shouldUnsafelyUseHttp=function(t){e=!!t},this.$get=["$http","$templateCache","$injector",function(t,n,i){return new TemplateFactory(t,n,i,e)}]}function TemplateFactory(e,t,n,o){this.fromConfig=function(e,t,n){return i(e.template)?this.fromString(e.template,t):i(e.templateUrl)?this.fromUrl(e.templateUrl,t):i(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return r(e)?e(t):e},this.fromUrl=function(i,a){return r(i)&&(i=i(a)),null==i?null:o?e.get(i,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data}):n.get("$templateRequest")(i)},this.fromProvider=function(e,t,i){return n.invoke(e,null,i||{params:t})}}function UrlMatcher(e,t,i){function addParameter(t,n,i,r){if(f.push(t),m[t])return m[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(p[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return p[t]=new h.Param(t,n,i,r),p[t]}function quoteRegExp(e,t,n,i){var r=["",""],o=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return o;switch(n){case!1:r=["(",")"+(i?"?":"")];break;case!0:o=o.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+n+"|",")?"]}return o+r[0]+t+r[1]}function matchDetails(i,r){var o,a,s,l,c;return o=i[2]||i[3],c=t.params[o],s=e.substring(u,i.index),a=r?i[4]:i[4]||("*"==i[1]?".*":null),a&&(l=h.type(a)||inherit(h.type("string"),{pattern:new RegExp(a,t.caseInsensitive?"i":n)})),{id:o,regexp:a,segment:s,type:l,cfg:c}}t=c({params:{}},a(t)?t:{});var r,o=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,s=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",u=0,d=this.segments=[],m=i?i.params:{},p=this.params=i?i.params.$$new():new h.ParamSet,f=[];this.source=e;for(var g,v,y;(r=o.exec(e))&&(g=matchDetails(r,!1),!(g.segment.indexOf("?")>=0));)v=addParameter(g.id,g.type,g.cfg,"path"),l+=quoteRegExp(g.segment,v.type.pattern.source,v.squash,v.isOptional),d.push(g.segment),u=o.lastIndex;y=e.substring(u);var b=y.indexOf("?");if(b>=0){var _=this.sourceSearch=y.substring(b);if(y=y.substring(0,b),this.sourcePath=e.substring(0,u+b),_.length>0)for(u=0;r=s.exec(_);)g=matchDetails(r,!0),v=addParameter(g.id,g.type,g.cfg,"search"),u=o.lastIndex}else this.sourcePath=e,this.sourceSearch="";l+=quoteRegExp(y)+(t.strict===!1?"/?":"")+"$",d.push(y),this.regexp=new RegExp(l,t.caseInsensitive?"i":n),this.prefix=d[0],this.$$paramNames=f}function Type(e){c(this,e)}function $UrlMatcherFactory(){function valToString(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e}function valFromString(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e}function getDefaultConfig(){return{strict:d,caseInsensitive:u}}function isInjectable(e){return r(e)||s(e)&&r(e[e.length-1])}function flushTypeQueue(){for(;g.length;){var n=g.shift();if(n.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(p[n.name],e.invoke(n.def))}}function ParamSet(e){c(this,e||{})}h=this;var e,u=!1,d=!0,m=!1,p={},f=!0,g=[],v={string:{encode:valToString,decode:valFromString,is:function(e){return null==e||!i(e)||"string"==typeof e},pattern:/[^\/]*/},int:{encode:valToString,decode:function(e){return parseInt(e,10)},is:function(e){return e!==n&&null!==e&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};$UrlMatcherFactory.$$getDefaultValue=function(t){if(!isInjectable(t.value))return t.value;if(!e)throw new Error("Injectable functions cannot be called at configuration time");return e.invoke(t.value)},this.caseInsensitive=function(e){return i(e)&&(u=e),u},this.strictMode=function(e){return i(e)&&(d=e),d},this.defaultSquashPolicy=function(e){if(!i(e))return m;if(e!==!0&&e!==!1&&!o(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return m=e,e},this.compile=function(e,t){return new UrlMatcher(e,c(getDefaultConfig(),t))},this.isMatcher=function(e){if(!a(e))return!1;var t=!0;return l(UrlMatcher.prototype,function(n,o){r(n)&&(t=t&&i(e[o])&&r(e[o]))}),t},this.type=function(e,t,n){if(!i(t))return p[e];if(p.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return p[e]=new Type(c({name:e},t)),n&&(g.push({name:e,def:n}),f||flushTypeQueue()),this},l(v,function(e,t){p[t]=new Type(c({name:t},e))}),p=inherit(p,{}),this.$get=["$injector",function(t){return e=t,f=!1,flushTypeQueue(),l(v,function(e,t){p[t]||(p[t]=new Type(e))}),this}],this.Param=function(r,l,u,d){function unwrapShorthand(e){var t=a(e)?objectKeys(e):[],n=indexOf(t,"value")===-1&&indexOf(t,"type")===-1&&indexOf(t,"squash")===-1&&indexOf(t,"array")===-1;return n&&(e={value:e}),e.$$fn=isInjectable(e.value)?e.value:function(){return e.value},e}function getType(e,n,i){if(e.type&&n)throw new Error("Param '"+r+"' has two type configurations.");return n?n:e.type?t.isString(e.type)?p[e.type]:e.type instanceof Type?e.type:new Type(e.type):"config"===i?p.any:p.string}function getArrayMode(){var e={array:"search"===d&&"auto"},t=r.match(/\[\]$/)?{array:!0}:{};return c(e,t,u).array}function getSquashPolicy(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!i(n)||null==n)return m;if(n===!0||o(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function getReplace(e,t,i,r){var a,l,c=[{from:"",to:i||t?n:""},{from:null,to:i||t?n:""}];return a=s(e.replace)?e.replace:[],o(r)&&a.push({from:r,to:n}),l=map(a,function(e){return e.from}),filter(c,function(e){return indexOf(l,e.from)===-1}).concat(a)}function $$getDefaultValue(){if(!e)throw new Error("Injectable functions cannot be called at configuration time");var t=e.invoke(u.$$fn);if(null!==t&&t!==n&&!h.type.is(t))throw new Error("Default value ("+t+") for parameter '"+h.id+"' is not an instance of Type ("+h.type.name+")");return t}function $value(e){function hasReplaceVal(e){return function(t){return t.from===e}}function $replace(e){var t=map(filter(h.replace,hasReplaceVal(e)),function(e){return e.to});return t.length?t[0]:e}return e=$replace(e),i(e)?h.type.$normalize(e):$$getDefaultValue()}function toString(){return"{Param:"+r+" "+l+" squash: '"+v+"' optional: "+g+"}"}var h=this;u=unwrapShorthand(u),l=getType(u,l,d);var f=getArrayMode();l=f?l.$asArray(f,"search"===d):l,"string"!==l.name||f||"path"!==d||u.value!==n||(u.value="");var g=u.value!==n,v=getSquashPolicy(u,g),y=getReplace(u,f,g,v);c(this,{id:r,type:l,location:d,array:f,squash:v,replace:y,isOptional:g,value:$value,dynamic:n,config:u,toString:toString})},ParamSet.prototype={$$new:function(){return inherit(this,c(new ParamSet,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,i=objectKeys(ParamSet.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),l(t,function(t){l(objectKeys(t),function(t){indexOf(e,t)===-1&&indexOf(i,t)===-1&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return l(n.$$keys(),function(i){t[i]=n[i].value(e&&e[i])}),t},$$equals:function(e,t){var n=!0,i=this;return l(i.$$keys(),function(r){var o=e&&e[r],a=t&&t[r];i[r].type.equals(o,a)||(n=!1);
}),n},$$validates:function(e){var i,r,o,a,s,l=this.$$keys();for(i=0;i<l.length&&(r=this[l[i]],o=e[l[i]],o!==n&&null!==o||!r.isOptional);i++){if(a=r.type.$normalize(o),!r.type.is(a))return!1;if(s=r.type.encode(a),t.isString(s)&&!r.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=ParamSet}function $UrlRouterProvider(e,a){function regExpPrefix(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function interpolate(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function handleIfMatch(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return!i(r)||r}function $get(i,r,a,s,c){function appendBasePath(e,t,n){return"/"===p?e:t?p.slice(0,-1)+e:n?p.slice(1)+e:e}function update(e){function check(e){var t=e(a,i);return!!t&&(o(t)&&i.replace().url(t),!0)}if(!e||!e.defaultPrevented){m&&i.url()===m;m=n;var t,r=u.length;for(t=0;t<r;t++)if(check(u[t]))return;d&&check(d)}}function listen(){return l=l||r.$on("$locationChangeSuccess",update)}var m,p=s.baseHref(),f=i.url();return h||listen(),{sync:function(){update()},listen:function(){return listen()},update:function(e){return e?void(f=i.url()):void(i.url()!==f&&(i.url(f),i.replace()))},push:function(e,t,r){var o=e.format(t||{});null!==o&&t&&t["#"]&&(o+="#"+t["#"]),i.url(o),m=r&&r.$$avoidResync?i.url():n,r&&r.replace&&i.replace()},href:function(n,r,o){if(!n.validates(r))return null;var a=e.html5Mode();t.isObject(a)&&(a=a.enabled),a=a&&c.history;var s=n.format(r);if(o=o||{},a||null===s||(s="#"+e.hashPrefix()+s),null!==s&&r&&r["#"]&&(s+="#"+r["#"]),s=appendBasePath(s,a,o.absolute),!o.absolute||!s)return s;var l=!a&&s?"/":"",u=i.port();return u=80===u||443===u?"":":"+u,[i.protocol(),"://",i.host(),u,l,s].join("")}}}var l,u=[],d=null,h=!1;this.rule=function(e){if(!r(e))throw new Error("'rule' must be a function");return u.push(e),this},this.otherwise=function(e){if(o(e)){var t=e;e=function(){return t}}else if(!r(e))throw new Error("'rule' must be a function");return d=e,this},this.when=function(e,t){var n,i=o(t);if(o(e)&&(e=a.compile(e)),!i&&!r(t)&&!s(t))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,t){return i&&(n=a.compile(t),t=["$match",function(e){return n.format(e)}]),c(function(n,i){return handleIfMatch(n,t,e.exec(i.path(),i.search()))},{prefix:o(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return i&&(n=t,t=["$match",function(e){return interpolate(n,e)}]),c(function(n,i){return handleIfMatch(n,t,e.exec(i.path()))},{prefix:regExpPrefix(e)})}},u={matcher:a.isMatcher(e),regex:e instanceof RegExp};for(var d in u)if(u[d])return this.rule(l[d](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),h=e},this.$get=$get,$get.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function $StateProvider(e,d){function isRelative(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function findState(e,t){if(!e)return n;var i=o(e),r=i?e:e.name,a=isRelative(r);if(a){if(!t)throw new Error("No reference point given for path '"+r+"'");t=findState(t);for(var s=r.split("."),l=0,c=s.length,u=t;l<c;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!u.parent)throw new Error("Path '"+r+"' not valid for state '"+t.name+"'");u=u.parent}else u=t;s=s.slice(l).join("."),r=u.name+(u.name&&s?".":"")+s}var d=f[r];return!d||!i&&(i||d!==e&&d.self!==e)?n:d}function queueState(e,t){g[e]||(g[e]=[]),g[e].push(t)}function flushQueuedChildren(e){for(var t=g[e]||[];t.length;)registerState(t.shift())}function registerState(t){t=inherit(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!o(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(f.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var i=n.indexOf(".")!==-1?n.substring(0,n.lastIndexOf(".")):o(t.parent)?t.parent:a(t.parent)&&o(t.parent.name)?t.parent.name:"";if(i&&!f[i])return queueState(i,t.self);for(var s in y)r(y[s])&&(t[s]=y[s](t,y.$delegates[s]));return f[n]=t,!t[v]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){p.$current.navigable==t&&equalForKeys(e,n)||p.transitionTo(t,e,{inherit:!0,location:!1})}]),flushQueuedChildren(n),t}function isGlob(e){return e.indexOf("*")>-1}function doesStateMatchGlob(e){for(var t=e.split("."),n=p.$current.name.split("."),i=0,r=t.length;i<r;i++)"*"===t[i]&&(n[i]="*");return"**"===t[0]&&(n=n.slice(indexOf(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(indexOf(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length==n.length&&n.join("")===t.join("")}function decorator(e,t){return o(e)&&!i(t)?y[e]:r(t)&&o(e)?(y[e]&&!y.$delegates[e]&&(y.$delegates[e]=y[e]),y[e]=t,this):this}function state(e,t){return a(e)?t=e:t.name=e,registerState(t),this}function $get(e,d,h,g,y,b,_,w,x){function handleRedirect(t,n,i,r){var o=e.$broadcast("$stateNotFound",t,n,i);if(o.defaultPrevented)return _.update(),T;if(!o.retry)return null;if(r.$retry)return _.update(),M;var a=p.transition=d.when(o.retry);return a.then(function(){return a!==p.transition?(e.$broadcast("$stateChangeCancel",t.to,t.toParams,n,i),S):(t.options.$retry=!0,p.transitionTo(t.to,t.toParams,t.options))},function(){return T}),_.update(),a}function resolveState(e,n,i,o,a,c){function resolveViews(){var n=[];return l(e.views,function(i,o){var l=i.resolve&&i.resolve!==e.resolve?i.resolve:{};l.$template=[function(){return h.load(o,{view:i,locals:a.globals,params:u,notify:c.notify})||""}],n.push(y.resolve(l,a.globals,a.resolve,e).then(function(n){if(r(i.controllerProvider)||s(i.controllerProvider)){var c=t.extend({},l,a.globals);n.$$controller=g.invoke(i.controllerProvider,null,c)}else n.$$controller=i.controller;n.$$state=e,n.$$controllerAs=i.controllerAs,n.$$resolveAs=i.resolveAs,a[o]=n}))}),d.all(n).then(function(){return a.globals})}var u=i?n:filterByKeys(e.params.$$keys(),n),m={$stateParams:u};a.resolve=y.resolve(e.resolve,m,a.resolve,e);var p=[a.resolve.then(function(e){a.globals=e})];return o&&p.push(o),d.all(p).then(resolveViews).then(function(e){return a})}var C=new Error("transition superseded"),S=silenceUncaughtInPromise(d.reject(C)),E=silenceUncaughtInPromise(d.reject(new Error("transition prevented"))),T=silenceUncaughtInPromise(d.reject(new Error("transition aborted"))),M=silenceUncaughtInPromise(d.reject(new Error("transition failed")));return m.locals={resolve:null,globals:{$stateParams:{}}},p={params:{},current:m.self,$current:m,transition:null},p.reload=function(e){return p.transitionTo(p.current,b,{reload:e||!0,inherit:!1,notify:!0})},p.go=function(e,t,n){return p.transitionTo(e,t,c({inherit:!0,relative:p.$current},n))},p.transitionTo=function(t,n,r){n=n||{},r=c({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},r||{});var s,l=p.$current,h=p.params,f=l.path,y=findState(t,r.relative),w=n["#"];if(!i(y)){var x={to:t,toParams:n,options:r},T=handleRedirect(x,l.self,h,r);if(T)return T;if(t=x.to,n=x.toParams,r=x.options,y=findState(t,r.relative),!i(y)){if(!r.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+r.relative+"'")}}if(y[v])throw new Error("Cannot transition to abstract state '"+t+"'");if(r.inherit&&(n=inheritParams(b,n||{},p.$current,y)),!y.params.$$validates(n))return M;n=y.params.$$values(n),t=y;var k=t.path,A=0,$=k[A],P=m.locals,L=[];if(r.reload){if(o(r.reload)||a(r.reload)){if(a(r.reload)&&!r.reload.name)throw new Error("Invalid reload state object");var D=r.reload===!0?f[0]:findState(r.reload);if(r.reload&&!D)throw new Error("No such reload state '"+(o(r.reload)?r.reload:r.reload.name)+"'");for(;$&&$===f[A]&&$!==D;)P=L[A]=$.locals,A++,$=k[A]}}else for(;$&&$===f[A]&&$.ownParams.$$equals(n,h);)P=L[A]=$.locals,A++,$=k[A];if(shouldSkipReload(t,n,l,h,P,r))return w&&(n["#"]=w),p.params=n,u(p.params,b),u(filterByKeys(t.params.$$keys(),b),t.locals.globals.$stateParams),r.location&&t.navigable&&t.navigable.url&&(_.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===r.location}),_.update(!0)),p.transition=null,d.when(p.current);if(n=filterByKeys(t.params.$$keys(),n||{}),w&&(n["#"]=w),r.notify&&e.$broadcast("$stateChangeStart",t.self,n,l.self,h,r).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,l.self,h),null==p.transition&&_.update(),E;for(var R=d.when(P),I=A;I<k.length;I++,$=k[I])P=L[I]=inherit(P),R=resolveState($,n,$===t,R,P,r);var O=p.transition=R.then(function(){var i,o,a;if(p.transition!==O)return e.$broadcast("$stateChangeCancel",t.self,n,l.self,h),S;for(i=f.length-1;i>=A;i--)a=f[i],a.self.onExit&&g.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(i=A;i<k.length;i++)o=k[i],o.locals=L[i],o.self.onEnter&&g.invoke(o.self.onEnter,o.self,o.locals.globals);return p.transition!==O?(e.$broadcast("$stateChangeCancel",t.self,n,l.self,h),S):(p.$current=t,p.current=t.self,p.params=n,u(p.params,b),p.transition=null,r.location&&t.navigable&&_.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===r.location}),r.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,l.self,h),_.update(!0),p.current)}).then(null,function(i){return i===C?S:p.transition!==O?(e.$broadcast("$stateChangeCancel",t.self,n,l.self,h),S):(p.transition=null,s=e.$broadcast("$stateChangeError",t.self,n,l.self,h,i),s.defaultPrevented||_.update(),d.reject(i))});return silenceUncaughtInPromise(O),O},p.is=function(e,t,r){r=c({relative:p.$current},r||{});var o=findState(e,r.relative);return i(o)?p.$current===o&&(!t||objectKeys(t).reduce(function(e,n){var i=o.params[n];return e&&!i||i.type.equals(b[n],t[n])},!0)):n},p.includes=function(e,t,r){if(r=c({relative:p.$current},r||{}),o(e)&&isGlob(e)){if(!doesStateMatchGlob(e))return!1;e=p.$current.name}var a=findState(e,r.relative);if(!i(a))return n;if(!i(p.$current.includes[a.name]))return!1;if(!t)return!0;for(var s=objectKeys(t),l=0;l<s.length;l++){var u=s[l],d=a.params[u];if(d&&!d.type.equals(b[u],t[u]))return!1}return objectKeys(t).reduce(function(e,n){var i=a.params[n];return e&&!i||i.type.equals(b[n],t[n])},!0)},p.href=function(e,t,r){r=c({lossy:!0,inherit:!0,absolute:!1,relative:p.$current},r||{});var o=findState(e,r.relative);if(!i(o))return null;r.inherit&&(t=inheritParams(b,t||{},p.$current,o));var a=o&&r.lossy?o.navigable:o;return a&&a.url!==n&&null!==a.url?_.href(a.url,filterByKeys(o.params.$$keys().concat("#"),t||{}),{absolute:r.absolute}):null},p.get=function(e,t){if(0===arguments.length)return map(objectKeys(f),function(e){return f[e].self});var n=findState(e,t||p.$current);return n&&n.self?n.self:null},p}function shouldSkipReload(e,t,n,i,r,o){function nonSearchParamsEqual(e,t,n){function notSearchParam(t){return"search"!=e.params[t].location}var i=e.params.$$keys().filter(notSearchParam),r=pick.apply({},[e.params].concat(i)),o=new h.ParamSet(r);return o.$$equals(t,n)}if(!o.reload&&e===n&&(r===n.locals||e.self.reloadOnSearch===!1&&nonSearchParamsEqual(n,i,t)))return!0}var m,p,f={},g={},v="abstract",y={parent:function(e){if(i(e.parent)&&e.parent)return findState(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?findState(t[1]):m},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=inherit(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(o(t))return"^"==t.charAt(0)?d.compile(t.substring(1),n):(e.parent.navigable||m).url.concat(t,n);if(!t||d.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new h.ParamSet;return l(e.params||{},function(e,n){t[n]||(t[n]=new h.Param(n,null,e,"config"))}),t},params:function(e){var t=pick(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?c(e.parent.params.$$new(),t):new h.ParamSet},views:function(e){var t={};return l(i(e.views)?e.views:{"":e},function(n,i){i.indexOf("@")<0&&(i+="@"+e.parent.name),n.resolveAs=n.resolveAs||e.resolveAs||"$resolve",t[i]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?c({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};m=registerState({name:"",url:"^",views:null,abstract:!0}),m.navigable=null,this.decorator=decorator,this.state=state,this.$get=$get,$get.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function $ViewProvider(){function $get(e,t){return{load:function(e,n){var i,r={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return n=c(r,n),n.view&&(i=t.fromConfig(n.view,n.params,n.locals)),i}}}this.$get=$get,$get.$inject=["$rootScope","$templateFactory"]}function $ViewScrollProvider(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function $ViewDirective(e,n,i,r,o){function getService(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(e){return null}}}function getRenderer(e,n){var i=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(l)return{enter:function(e,n,i){t.version.minor>2?l.enter(e,null,n).then(i):l.enter(e,null,n,i)},leave:function(e,n){t.version.minor>2?l.leave(e).then(n):l.leave(e,n)}};if(s){var r=s&&s(n,e);return{enter:function(e,t,n){r.enter(e,null,t),n()},leave:function(e,t){r.leave(e),t()}}}return i()}var a=getService(),s=a("$animator"),l=a("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,a,s){return function(n,a,l){function cleanupLastView(){if(c&&(c.remove(),c=null),d&&(d.$destroy(),d=null),u){var e=u.data("$uiViewAnim");f.leave(u,function(){e.$$animLeave.resolve(),c=null}),c=u,u=null}}function updateView(c){var g,v=getUiViewName(n,l,a,r),y=v&&e.$current&&e.$current.locals[v];if(c||y!==h){g=n.$new(),h=e.$current.locals[v],g.$emit("$viewContentLoading",v);var b=s(g,function(e){var r=o.defer(),s=o.defer(),l={$animEnter:r.promise,$animLeave:s.promise,$$animLeave:s};e.data("$uiViewAnim",l),f.enter(e,a,function(){r.resolve(),d&&d.$emit("$viewContentAnimationEnded"),(t.isDefined(p)&&!p||n.$eval(p))&&i(e)}),cleanupLastView()});u=b,d=g,d.$emit("$viewContentLoaded",v),d.$eval(m)}}var c,u,d,h,m=l.onload||"",p=l.autoscroll,f=getRenderer(l,n);a.inheritedData("$uiView");n.$on("$stateChangeSuccess",function(){updateView(!1)}),updateView(!0)}}};return c}function $ViewDirectiveFill(e,n,i,o){return{restrict:"ECA",priority:-400,compile:function(a){var s=a.html();return a.empty?a.empty():a[0].innerHTML=null,function(a,l,c){var u=i.$current,d=getUiViewName(a,c,l,o),h=u&&u.locals[d];if(!h)return l.html(s),void e(l.contents())(a);l.data("$uiView",{name:d,state:h.$$state}),l.html(h.$template?h.$template:s);var m=t.extend({},h);a[h.$$resolveAs]=m;var p=e(l.contents());if(h.$$controller){h.$scope=a,h.$element=l;var f=n(h.$$controller,h);h.$$controllerAs&&(a[h.$$controllerAs]=f,a[h.$$controllerAs][h.$$resolveAs]=m),r(f.$onInit)&&f.$onInit(),l.data("$ngControllerController",f),l.children().data("$ngControllerController",f)}p(a)}}}}function getUiViewName(e,t,n,i){var r=i(t.uiView||t.name||"")(e),o=n.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(o?o.state.name:"")}function parseStateRef(e,t){var n,i=e.match(/^\s*({[^}]*})\s*$/);if(i&&(e=t+"("+i[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function stateContext(e){var t=e.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function getTypeInfo(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function clickHook(e,t,n,i,r){return function(o){var a=o.which||o.button,s=r();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||e.attr("target"))){var l=n(function(){t.go(s.state,s.params,s.options)});o.preventDefault();var c=i.isAnchor&&!s.href?1:0;o.preventDefault=function(){c--<=0&&n.cancel(l)}}}}function defaultOpts(e,t){return{relative:stateContext(e)||t.$current,inherit:!0}}function $StateRefDirective(e,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,o,a){var s,l=parseStateRef(o.uiSref,e.current.name),u={state:l.state,href:null,params:null},d=getTypeInfo(r),h=a[1]||a[0],m=null;u.options=c(defaultOpts(r,e),o.uiSrefOpts?i.$eval(o.uiSrefOpts):{});var p=function(n){n&&(u.params=t.copy(n)),u.href=e.href(l.state,u.params,u.options),m&&m(),h&&(m=h.$$addStateInfo(l.state,u.params)),null!==u.href&&o.$set(d.attr,u.href)};l.paramExpr&&(i.$watch(l.paramExpr,function(e){e!==u.params&&p(e)},!0),u.params=t.copy(i.$eval(l.paramExpr))),p(),d.clickable&&(s=clickHook(r,e,n,d,function(){return u}),r[r.on?"on":"bind"]("click",s),i.$on("$destroy",function(){r[r.off?"off":"unbind"]("click",s)}))}}}function $StateRefDynamicDirective(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,r,o){function runStateRefLink(t){d.state=t[0],d.params=t[1],d.options=t[2],d.href=e.href(d.state,d.params,d.options),h&&h(),l&&(h=l.$$addStateInfo(d.state,d.params)),d.href&&r.$set(s.attr,d.href)}var a,s=getTypeInfo(i),l=o[1]||o[0],c=[r.uiState,r.uiStateParams||null,r.uiStateOpts||null],u="["+c.map(function(e){return e||"null"}).join(", ")+"]",d={state:null,params:null,options:null,href:null},h=null;n.$watch(u,runStateRefLink,!0),runStateRefLink(n.$eval(u)),s.clickable&&(a=clickHook(i,e,t,s,function(){return d}),i[i.on?"on":"bind"]("click",a),n.$on("$destroy",function(){i[i.off?"off":"unbind"]("click",a)}))}}}function $StateRefActiveDirective(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,i,r,s){function addState(t,n,r){var o=e.get(t,stateContext(i)),a=createStateHash(t,n),s={state:o||{name:t},params:n,hash:a};return h.push(s),m[a]=r,function(){var e=h.indexOf(s);e!==-1&&h.splice(e,1)}}function createStateHash(e,n){if(!o(e))throw new Error("state should be a string");return a(n)?e+d(n):(n=t.$eval(n),a(n)?e+d(n):e)}function update(){for(var e=0;e<h.length;e++)anyMatch(h[e].state,h[e].params)?addClass(i,m[h[e].hash]):removeClass(i,m[h[e].hash]),exactMatch(h[e].state,h[e].params)?addClass(i,c):removeClass(i,c)}function addClass(e,t){s(function(){e.addClass(t)})}function removeClass(e,t){e.removeClass(t)}function anyMatch(t,n){return e.includes(t.name,n)}function exactMatch(t,n){return e.is(t.name,n)}var c,u,h=[],m={};c=n(r.uiSrefActiveEq||"",!1)(t);try{u=t.$eval(r.uiSrefActive)}catch(e){}u=u||n(r.uiSrefActive||"",!1)(t),a(u)&&l(u,function(n,i){if(o(n)){var r=parseStateRef(n,e.current.name);addState(r.state,t.$eval(r.paramExpr),i)}}),this.$$addStateInfo=function(e,t){if(!(a(u)&&h.length>0)){var n=addState(e,t,u);return update(),n}},t.$on("$stateChangeSuccess",update),update()}]}}function $IsStateFilter(e){var t=function(t,n){return e.is(t,n)};return t.$stateful=!0,t}function $IncludedByStateFilter(e){var t=function(t,n,i){return e.includes(t,n,i)};return t.$stateful=!0,t}var i=t.isDefined,r=t.isFunction,o=t.isString,a=t.isObject,s=t.isArray,l=t.forEach,c=t.extend,u=t.copy,d=t.toJson;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),$Resolve.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",$Resolve),t.module("ui.router.util").provider("$templateFactory",TemplateFactoryProvider);var h;UrlMatcher.prototype.concat=function(e,t){var n={caseInsensitive:h.caseInsensitive(),strict:h.strictMode(),squash:h.defaultSquashPolicy()};return new UrlMatcher(this.sourcePath+e+this.sourceSearch,c(n,t),this)},UrlMatcher.prototype.toString=function(){return this.source},UrlMatcher.prototype.exec=function(e,t){function decodePathArray(e){function reverseString(e){return e.split("").reverse().join("")}function unquoteDashes(e){return e.replace(/\\-/g,"-")}var t=reverseString(e).split(/-(?!\\)/),n=map(t,reverseString);return map(n,unquoteDashes).reverse()}var n=this.regexp.exec(e);if(!n)return null;t=t||{};var r,o,a,s=this.parameters(),l=s.length,c=this.segments.length-1,u={};if(c!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var d,h;for(r=0;r<c;r++){for(a=s[r],d=this.params[a],h=n[r+1],o=0;o<d.replace.length;o++)d.replace[o].from===h&&(h=d.replace[o].to);h&&d.array===!0&&(h=decodePathArray(h)),i(h)&&(h=d.type.decode(h)),u[a]=d.value(h)}for(;r<l;r++){for(a=s[r],u[a]=this.params[a].value(t[a]),d=this.params[a],h=t[a],o=0;o<d.replace.length;o++)d.replace[o].from===h&&(h=d.replace[o].to);i(h)&&(h=d.type.decode(h)),u[a]=d.value(h)}return u},UrlMatcher.prototype.parameters=function(e){return i(e)?this.params[e]||null:this.$$paramNames},UrlMatcher.prototype.validates=function(e){return this.params.$$validates(e)},UrlMatcher.prototype.format=function(e){function encodeDashes(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var t=this.segments,n=this.parameters(),i=this.params;if(!this.validates(e))return null;var r,a=!1,l=t.length-1,c=n.length,u=t[0];for(r=0;r<c;r++){var d=r<l,h=n[r],m=i[h],p=m.value(e[h]),f=m.isOptional&&m.type.equals(m.value(),p),g=!!f&&m.squash,v=m.type.encode(p);if(d){var y=t[r+1],b=r+1===l;if(g===!1)null!=v&&(u+=s(v)?map(v,encodeDashes).join("-"):encodeURIComponent(v)),u+=y;else if(g===!0){var _=u.match(/\/$/)?/\/?(.*)/:/(.*)/;u+=y.match(_)[1]}else o(g)&&(u+=g+y);b&&m.squash===!0&&"/"===u.slice(-1)&&(u=u.slice(0,-1))}else{if(null==v||f&&g!==!1)continue;if(s(v)||(v=[v]),0===v.length)continue;v=map(v,encodeURIComponent).join("&"+h+"="),u+=(a?"&":"?")+(h+"="+v),a=!0}}return u},Type.prototype.is=function(e,t){return!0},Type.prototype.encode=function(e,t){return e},Type.prototype.decode=function(e,t){return e},Type.prototype.equals=function(e,t){return e==t},Type.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},Type.prototype.pattern=/.*/,Type.prototype.toString=function(){return"{Type:"+this.name+"}"},Type.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},Type.prototype.$asArray=function(e,t){function ArrayType(e,t){function bindTo(e,t){return function(){return e[t].apply(e,arguments)}}function arrayWrap(e){return s(e)?e:i(e)?[e]:[]}function arrayUnwrap(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function falsey(e){return!e}function arrayHandler(e,t){return function(n){if(s(n)&&0===n.length)return n;n=arrayWrap(n);var i=map(n,e);return t===!0?0===filter(i,falsey).length:arrayUnwrap(i)}}function arrayEqualsHandler(e){return function(t,n){var i=arrayWrap(t),r=arrayWrap(n);if(i.length!==r.length)return!1;for(var o=0;o<i.length;o++)if(!e(i[o],r[o]))return!1;return!0}}this.encode=arrayHandler(bindTo(e,"encode")),this.decode=arrayHandler(bindTo(e,"decode")),this.is=arrayHandler(bindTo(e,"is"),!0),this.equals=arrayEqualsHandler(bindTo(e,"equals")),this.pattern=e.pattern,this.$normalize=arrayHandler(bindTo(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new ArrayType(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",$UrlMatcherFactory),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),$UrlRouterProvider.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",$UrlRouterProvider),$StateProvider.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",$StateProvider).run(["$injector",function(e){e.get("$state.runtime").autoinject&&e.get("$state")}]),$ViewProvider.$inject=[],t.module("ui.router.state").provider("$view",$ViewProvider),t.module("ui.router.state").provider("$uiViewScroll",$ViewScrollProvider),$ViewDirective.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],$ViewDirectiveFill.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",$ViewDirective),t.module("ui.router.state").directive("uiView",$ViewDirectiveFill),$StateRefDirective.$inject=["$state","$timeout"],$StateRefDynamicDirective.$inject=["$state","$timeout"],$StateRefActiveDirective.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",$StateRefDirective).directive("uiSrefActive",$StateRefActiveDirective).directive("uiSrefActiveEq",$StateRefActiveDirective).directive("uiState",$StateRefDynamicDirective),$IsStateFilter.$inject=["$state"],$IncludedByStateFilter.$inject=["$state"],t.module("ui.router.state").filter("isState",$IsStateFilter).filter("includedByState",$IncludedByStateFilter)}(window,window.angular)},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=Buffer.prototype):(null===e&&(e=new Buffer(t)),e.length=t),e}function Buffer(e,t,n){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,t,n)}function from(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?fromArrayBuffer(e,t,n,i):"string"==typeof t?fromString(e,t,n):fromObject(e,t)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function alloc(e,t,n,i){return assertSize(t),t<=0?createBuffer(e,t):void 0!==n?"string"==typeof i?createBuffer(e,t).fill(n,i):createBuffer(e,t).fill(n):createBuffer(e,t)}function allocUnsafe(e,t){if(assertSize(t),e=createBuffer(e,t<0?0:0|checked(t)),!Buffer.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function fromString(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!Buffer.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|byteLength(t,n);e=createBuffer(e,i);var r=e.write(t,n);return r!==i&&(e=e.slice(0,r)),e}function fromArrayLike(e,t){var n=t.length<0?0:0|checked(t.length);e=createBuffer(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function fromArrayBuffer(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),Buffer.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=Buffer.prototype):e=fromArrayLike(e,t),e}function fromObject(e,t){if(Buffer.isBuffer(t)){var n=0|checked(t.length);return e=createBuffer(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||isnan(t.length)?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&o(t.data))return fromArrayLike(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function SlowBuffer(e){return+e!=e&&(e=0),Buffer.alloc(+e)}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return base64ToBytes(e).length;default:if(i)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),i=!0}}function slowToString(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,n);case"utf8":case"utf-8":return utf8Slice(this,t,n);case"ascii":return asciiSlice(this,t,n);case"latin1":case"binary":return latin1Slice(this,t,n);case"base64":return base64Slice(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function swap(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function bidirectionalIndexOf(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=Buffer.from(t,i)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,n,i,r);if("number"==typeof t)return t&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):arrayIndexOf(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,n,i,r){function read(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,a=e.length,s=t.length;if(void 0!==i&&(i=String(i).toLowerCase(),"ucs2"===i||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;o=2,a/=2,s/=2,n/=2}var l;if(r){var c=-1;for(l=n;l<a;l++)if(read(e,l)===read(t,c===-1?0:l-c)){if(c===-1&&(c=l),l-c+1===s)return c*o}else c!==-1&&(l-=l-c),c=-1}else for(n+s>a&&(n=a-s),l=n;l>=0;l--){for(var u=!0,d=0;d<s;d++)if(read(e,l+d)!==read(t,d)){u=!1;break}if(u)return l}return-1}function hexWrite(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i),i>r&&(i=r)):i=r;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function utf8Write(e,t,n,i){return blitBuffer(utf8ToBytes(t,e.length-n),e,n,i)}function asciiWrite(e,t,n,i){return blitBuffer(asciiToBytes(t),e,n,i)}function latin1Write(e,t,n,i){return asciiWrite(e,t,n,i)}function base64Write(e,t,n,i){return blitBuffer(base64ToBytes(t),e,n,i)}function ucs2Write(e,t,n,i){return blitBuffer(utf16leToBytes(t,e.length-n),e,n,i)}function base64Slice(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n));
}function utf8Slice(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o=e[r],a=null,s=o>239?4:o>223?3:o>191?2:1;if(r+s<=n){var l,c,u,d;switch(s){case 1:o<128&&(a=o);break;case 2:l=e[r+1],128===(192&l)&&(d=(31&o)<<6|63&l,d>127&&(a=d));break;case 3:l=e[r+1],c=e[r+2],128===(192&l)&&128===(192&c)&&(d=(15&o)<<12|(63&l)<<6|63&c,d>2047&&(d<55296||d>57343)&&(a=d));break;case 4:l=e[r+1],c=e[r+2],u=e[r+3],128===(192&l)&&128===(192&c)&&128===(192&u)&&(d=(15&o)<<18|(63&l)<<12|(63&c)<<6|63&u,d>65535&&d<1114112&&(a=d))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,i.push(a>>>10&1023|55296),a=56320|1023&a),i.push(a),r+=s}return decodeCodePointsArray(i)}function decodeCodePointsArray(e){var t=e.length;if(t<=a)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=a));return n}function asciiSlice(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function latin1Slice(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function hexSlice(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=toHex(e[o]);return r}function utf16leSlice(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function checkOffset(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,n,i,r,o){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function objectWriteUInt32(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function checkIEEE754(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function writeFloat(e,t,n,i,o){return o||checkIEEE754(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),r.write(e,t,n,i,23,4),n+4}function writeDouble(e,t,n,i,o){return o||checkIEEE754(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),r.write(e,t,n,i,52,8),n+8}function base64clean(e){if(e=stringtrim(e).replace(s,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){t=t||1/0;for(var n,i=e.length,r=null,o=[],a=0;a<i;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=(r-55296<<10|n-56320)+65536}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function asciiToBytes(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function utf16leToBytes(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}function base64ToBytes(e){return i.toByteArray(base64clean(e))}function blitBuffer(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function isnan(e){return e!==e}var i=n(355),r=n(416),o=n(42);t.Buffer=Buffer,t.SlowBuffer=SlowBuffer,t.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:typedArraySupport(),t.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e},Buffer.from=function(e,t,n){return from(null,e,t,n)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(e,t,n){return alloc(null,e,t,n)},Buffer.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer.isBuffer=function(e){return!(null==e||!e._isBuffer)},Buffer.compare=function(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=Buffer.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var a=e[n];if(!Buffer.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function(e,t,n,i,r){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,r>>>=0,this===e)return 0;for(var o=r-i,a=n-t,s=Math.min(o,a),l=this.slice(i,r),c=e.slice(t,n),u=0;u<s;++u)if(l[u]!==c[u]){o=l[u],a=c[u];break}return o<a?-1:a<o?1:0},Buffer.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},Buffer.prototype.indexOf=function(e,t,n){return bidirectionalIndexOf(this,e,t,n,!0)},Buffer.prototype.lastIndexOf=function(e,t,n){return bidirectionalIndexOf(this,e,t,n,!1)},Buffer.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return hexWrite(this,e,t,n);case"utf8":case"utf-8":return utf8Write(this,e,t,n);case"ascii":return asciiWrite(this,e,t,n);case"latin1":case"binary":return latin1Write(this,e,t,n);case"base64":return base64Write(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var a=4096;Buffer.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var i;if(Buffer.TYPED_ARRAY_SUPPORT)i=this.subarray(e,t),i.__proto__=Buffer.prototype;else{var r=t-e;i=new Buffer(r,void 0);for(var o=0;o<r;++o)i[o]=this[o+e]}return i},Buffer.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},Buffer.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},Buffer.prototype.readUInt8=function(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*t)),i},Buffer.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*t)),o},Buffer.prototype.readInt8=function(e,t){return t||checkOffset(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},Buffer.prototype.readInt16LE=function(e,t){t||checkOffset(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt16BE=function(e,t){t||checkOffset(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt32LE=function(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,t){return t||checkOffset(e,4,this.length),r.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return t||checkOffset(e,4,this.length),r.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return t||checkOffset(e,8,this.length),r.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return t||checkOffset(e,8,this.length),r.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t|=0,n|=0,!i){var r=Math.pow(2,8*n)-1;checkInt(this,e,t,n,r,0)}var o=1,a=0;for(this[t]=255&e;++a<n&&(o*=256);)this[t+a]=e/o&255;return t+n},Buffer.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t|=0,n|=0,!i){var r=Math.pow(2,8*n)-1;checkInt(this,e,t,n,r,0)}var o=n-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+n},Buffer.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);checkInt(this,e,t,n,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},Buffer.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);checkInt(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},Buffer.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeFloatLE=function(e,t,n){return writeFloat(this,e,t,!0,n)},Buffer.prototype.writeFloatBE=function(e,t,n){return writeFloat(this,e,t,!1,n)},Buffer.prototype.writeDoubleLE=function(e,t,n){return writeDouble(this,e,t,!0,n)},Buffer.prototype.writeDoubleBE=function(e,t,n){return writeDouble(this,e,t,!1,n)},Buffer.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},Buffer.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!Buffer.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var o;if("number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=Buffer.isBuffer(e)?e:utf8ToBytes(new Buffer(e,i).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var s=/[^+\/0-9A-Za-z-_]/g}).call(t,n(5))},function(e,t,n){var i;!function(r){"use strict";function loadImage(e,t,n){var i,r=document.createElement("img");return r.onerror=function(i){return loadImage.onerror(r,i,e,t,n)},r.onload=function(i){return loadImage.onload(r,i,e,t,n)},"string"==typeof e?(loadImage.fetchBlob(e,function(t){t?(e=t,i=loadImage.createObjectURL(e)):(i=e,n&&n.crossOrigin&&(r.crossOrigin=n.crossOrigin)),r.src=i},n),r):loadImage.isInstanceOf("Blob",e)||loadImage.isInstanceOf("File",e)?(i=r._objectURL=loadImage.createObjectURL(e),i?(r.src=i,r):loadImage.readFile(e,function(e){var n=e.target;n&&n.result?r.src=n.result:t&&t(e)})):void 0}function revokeHelper(e,t){!e._objectURL||t&&t.noRevoke||(loadImage.revokeObjectURL(e._objectURL),delete e._objectURL)}var o=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;loadImage.fetchBlob=function(e,t,n){t()},loadImage.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},loadImage.transform=function(e,t,n,i,r){n(e,r)},loadImage.onerror=function(e,t,n,i,r){revokeHelper(e,r),i&&i.call(e,t)},loadImage.onload=function(e,t,n,i,r){revokeHelper(e,r),i&&loadImage.transform(e,r,i,n,{})},loadImage.createObjectURL=function(e){return!!o&&o.createObjectURL(e)},loadImage.revokeObjectURL=function(e){return!!o&&o.revokeObjectURL(e)},loadImage.readFile=function(e,t,n){if(window.FileReader){var i=new FileReader;if(i.onload=i.onerror=t,n=n||"readAsDataURL",i[n])return i[n](e),i}return!1},i=function(){return loadImage}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}(window)},function(e,t){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(n===setTimeout)return setTimeout(e,0);if((n===defaultSetTimout||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function runClearTimeout(e){if(i===clearTimeout)return clearTimeout(e);if((i===defaultClearTimeout||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}function cleanUpNextTick(){s&&o&&(s=!1,o.length?a=o.concat(a):l=-1,a.length&&drainQueue())}function drainQueue(){if(!s){var e=runTimeout(cleanUpNextTick);s=!0;for(var t=a.length;t;){for(o=a,a=[];++l<t;)o&&o[l].run();l=-1,t=a.length}o=null,s=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var n,i,r=e.exports={};!function(){try{n="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){n=defaultSetTimout}try{i="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){i=defaultClearTimeout}}();var o,a=[],s=!1,l=-1;r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new Item(e,t)),1!==a.length||s||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=noop,r.addListener=noop,r.once=noop,r.off=noop,r.removeListener=noop,r.removeAllListeners=noop,r.emit=noop,r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";function Duplex(e){return this instanceof Duplex?(a.call(this,e),s.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(e)}function onend(){this.allowHalfOpen||this._writableState.ended||r(onEndNT,this)}function onEndNT(e){e.end()}var i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=Duplex;var r=n(26),o=n(11);o.inherits=n(4);var a=n(165),s=n(28);o.inherits(Duplex,a);for(var l=i(s.prototype),c=0;c<l.length;c++){var u=l[c];Duplex.prototype[u]||(Duplex.prototype[u]=s.prototype[u])}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(e){function isArray(e){return Array.isArray?Array.isArray(e):"[object Array]"===objectToString(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return"[object Date]"===objectToString(e)}function isError(e){return"[object Error]"===objectToString(e)||e instanceof Error}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function objectToString(e){return Object.prototype.toString.call(e)}t.isArray=isArray,t.isBoolean=isBoolean,t.isNull=isNull,t.isNullOrUndefined=isNullOrUndefined,t.isNumber=isNumber,t.isString=isString,t.isSymbol=isSymbol,t.isUndefined=isUndefined,t.isRegExp=isRegExp,t.isObject=isObject,t.isDate=isDate,t.isError=isError,t.isFunction=isFunction,t.isPrimitive=isPrimitive,t.isBuffer=e.isBuffer}).call(t,n(6).Buffer)},function(e,t){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},function(e,t){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}e.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,i,r,o,a;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var s=new Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}if(n=this._events[e],isUndefined(n))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),n.apply(this,r)}else if(isObject(n))for(r=Array.prototype.slice.call(arguments,1),a=n.slice(),i=a.length,o=0;o<i;o++)a[o].apply(this,r);return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function g(){this.removeListener(e,g),n||(n=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var n=!1;return g.listener=t,this.on(e,g),this},EventEmitter.prototype.removeListener=function(e,t){var n,i,r,o;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],r=n.length,i=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(o=r;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){i=o;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],isFunction(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){(function(e,i){var r;!function(o){var a="object"==typeof t&&t,s=("object"==typeof e&&e&&e.exports==a&&e,"object"==typeof i&&i);s.global!==s&&s.window!==s||(o=s);var l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/[\x01-\x7F]/g,u=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,d=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,h={"":"shy","":"zwnj","":"zwj","":"lrm","":"ic","":"it","":"af","":"rlm","":"ZeroWidthSpace","":"NoBreak","":"DownBreve","":"tdot","":"DotDot","\t":"Tab","\n":"NewLine","":"puncsp","":"MediumSpace","":"thinsp","":"hairsp","":"emsp13","":"ensp","":"emsp14","":"emsp","":"numsp","":"nbsp","":"ThickSpace","":"oline",_:"lowbar","":"dash","":"ndash","":"mdash","":"horbar",",":"comma",";":"semi","":"bsemi",":":"colon","":"Colone","!":"excl","":"iexcl","?":"quest","":"iquest",".":"period","":"nldr","":"mldr","":"middot","'":"apos","":"lsquo","":"rsquo","":"sbquo","":"lsaquo","":"rsaquo",'"':"quot","":"ldquo","":"rdquo","":"bdquo","":"laquo","":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","":"lceil","":"rceil","":"lfloor","":"rfloor","":"lopar","":"ropar","":"lbrke","":"rbrke","":"lbrkslu","":"rbrksld","":"lbrksld","":"rbrkslu","":"langd","":"rangd","":"lparlt","":"rpargt","":"gtlPar","":"ltrPar","":"lobrk","":"robrk","":"lang","":"rang","":"Lang","":"Rang","":"loang","":"roang","":"lbbrk","":"rbbrk","":"Vert","":"sect","":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","":"permil","":"pertenk","":"dagger","":"Dagger","":"bull","":"hybull","":"prime","":"Prime","":"tprime","":"qprime","":"bprime","":"caret","`":"grave","":"acute","":"tilde","^":"Hat","":"macr","":"breve","":"dot","":"die","":"ring","":"dblac","":"cedil","":"ogon","":"circ","":"caron","":"deg","":"copy","":"reg","":"copysr","":"wp","":"rx","":"mho","":"iiota","":"larr","":"nlarr","":"rarr","":"nrarr","":"uarr","":"darr","":"harr","":"nharr","":"varr","":"nwarr","":"nearr","":"searr","":"swarr","":"rarrw","":"nrarrw","":"Larr","":"Uarr","":"Rarr","":"Darr","":"larrtl","":"rarrtl","":"mapstoleft","":"mapstoup","":"map","":"mapstodown","":"larrhk","":"rarrhk","":"larrlp","":"rarrlp","":"harrw","":"lsh","":"rsh","":"ldsh","":"rdsh","":"crarr","":"cularr","":"curarr","":"olarr","":"orarr","":"lharu","":"lhard","":"uharr","":"uharl","":"rharu","":"rhard","":"dharr","":"dharl","":"rlarr","":"udarr","":"lrarr","":"llarr","":"uuarr","":"rrarr","":"ddarr","":"lrhar","":"rlhar","":"lArr","":"nlArr","":"uArr","":"rArr","":"nrArr","":"dArr","":"iff","":"nhArr","":"vArr","":"nwArr","":"neArr","":"seArr","":"swArr","":"lAarr","":"rAarr","":"zigrarr","":"larrb","":"rarrb","":"duarr","":"loarr","":"roarr","":"hoarr","":"forall","":"comp","":"part","":"npart","":"exist","":"nexist","":"empty","":"Del","":"in","":"notin","":"ni","":"notni","":"bepsi","":"prod","":"coprod","":"sum",
"+":"plus","":"pm","":"div","":"times","<":"lt","":"nlt","<":"nvlt","=":"equals","":"ne","=":"bne","":"Equal",">":"gt","":"ngt",">":"nvgt","":"not","|":"vert","":"brvbar","":"minus","":"mp","":"plusdo","":"frasl","":"setmn","":"lowast","":"compfn","":"Sqrt","":"prop","":"infin","":"angrt","":"ang","":"nang","":"angmsd","":"angsph","":"mid","":"nmid","":"par","":"npar","":"and","":"or","":"cap","":"caps","":"cup","":"cups","":"int","":"Int","":"tint","":"qint","":"oint","":"Conint","":"Cconint","":"cwint","":"cwconint","":"awconint","":"there4","":"becaus","":"ratio","":"Colon","":"minusd","":"mDDot","":"homtht","":"sim","":"nsim","":"nvsim","":"bsim","":"race","":"ac","":"acE","":"acd","":"wr","":"esim","":"nesim","":"sime","":"nsime","":"cong","":"ncong","":"simne","":"ap","":"nap","":"ape","":"apid","":"napid","":"bcong","":"CupCap","":"NotCupCap","":"nvap","":"bump","":"nbump","":"bumpe","":"nbumpe","":"doteq","":"nedot","":"eDot","":"efDot","":"erDot","":"colone","":"ecolon","":"ecir","":"cire","":"wedgeq","":"veeeq","":"trie","":"equest","":"equiv","":"nequiv","":"bnequiv","":"le","":"nle","":"nvle","":"ge","":"nge","":"nvge","":"lE","":"nlE","":"gE","":"ngE","":"lvnE","":"lnE","":"gnE","":"gvnE","":"ll","":"nLtv","":"nLt","":"gg","":"nGtv","":"nGt","":"twixt","":"lsim","":"nlsim","":"gsim","":"ngsim","":"lg","":"ntlg","":"gl","":"ntgl","":"pr","":"npr","":"sc","":"nsc","":"prcue","":"nprcue","":"sccue","":"nsccue","":"prsim","":"scsim","":"NotSucceedsTilde","":"sub","":"nsub","":"vnsub","":"sup","":"nsup","":"vnsup","":"sube","":"nsube","":"supe","":"nsupe","":"vsubne","":"subne","":"vsupne","":"supne","":"cupdot","":"uplus","":"sqsub","":"NotSquareSubset","":"sqsup","":"NotSquareSuperset","":"sqsube","":"nsqsube","":"sqsupe","":"nsqsupe","":"sqcap","":"sqcaps","":"sqcup","":"sqcups","":"oplus","":"ominus","":"otimes","":"osol","":"odot","":"ocir","":"oast","":"odash","":"plusb","":"minusb","":"timesb","":"sdotb","":"vdash","":"nvdash","":"dashv","":"top","":"bot","":"models","":"vDash","":"nvDash","":"Vdash","":"nVdash","":"Vvdash","":"VDash","":"nVDash","":"prurel","":"vltri","":"nltri","":"vrtri","":"nrtri","":"ltrie","":"nltrie","":"nvltrie","":"rtrie","":"nrtrie","":"nvrtrie","":"origof","":"imof","":"mumap","":"hercon","":"intcal","":"veebar","":"barvee","":"angrtvb","":"lrtri","":"Wedge","":"Vee","":"xcap","":"xcup","":"diam","":"sdot","":"Star","":"divonx","":"bowtie","":"ltimes","":"rtimes","":"lthree","":"rthree","":"bsime","":"cuvee","":"cuwed","":"Sub","":"Sup","":"Cap","":"Cup","":"fork","":"epar","":"ltdot","":"gtdot","":"Ll","":"nLl","":"Gg","":"nGg","":"lesg","":"leg","":"gel","":"gesl","":"cuepr","":"cuesc","":"lnsim","":"gnsim","":"prnsim","":"scnsim","":"vellip","":"ctdot","":"utdot","":"dtdot","":"disin","":"isinsv","":"isins","":"isindot","":"notindot","":"notinvc","":"notinvb","":"isinE","":"notinE","":"nisd","":"xnis","":"nis","":"notnivc","":"notnivb","":"barwed","":"Barwed","":"drcrop","":"dlcrop","":"urcrop","":"ulcrop","":"bnot","":"profline","":"profsurf","":"telrec","":"target","":"ulcorn","":"urcorn","":"dlcorn","":"drcorn","":"frown","":"smile","":"cylcty","":"profalar","":"topbot","":"ovbar","":"solbar","":"angzarr","":"lmoust","":"rmoust","":"tbrk","":"bbrk","":"bbrktbrk","":"OverParenthesis","":"UnderParenthesis","":"OverBrace","":"UnderBrace","":"trpezium","":"elinters","":"blank","":"boxh","":"boxv","":"boxdr","":"boxdl","":"boxur","":"boxul","":"boxvr","":"boxvl","":"boxhd","":"boxhu","":"boxvh","":"boxH","":"boxV","":"boxdR","":"boxDr","":"boxDR","":"boxdL","":"boxDl","":"boxDL","":"boxuR","":"boxUr","":"boxUR","":"boxuL","":"boxUl","":"boxUL","":"boxvR","":"boxVr","":"boxVR","":"boxvL","":"boxVl","":"boxVL","":"boxHd","":"boxhD","":"boxHD","":"boxHu","":"boxhU","":"boxHU","":"boxvH","":"boxVh","":"boxVH","":"uhblk","":"lhblk","":"block","":"blk14","":"blk12","":"blk34","":"squ","":"squf","":"EmptyVerySmallSquare","":"rect","":"marker","":"fltns","":"xutri","":"utrif","":"utri","":"rtrif","":"rtri","":"xdtri","":"dtrif","":"dtri","":"ltrif","":"ltri","":"loz","":"cir","":"tridot","":"xcirc","":"ultri","":"urtri","":"lltri","":"EmptySmallSquare","":"FilledSmallSquare","":"starf","":"star","":"phone","":"female","":"male","":"spades","":"clubs","":"hearts","":"diams","":"sung","":"check","":"cross","":"malt","":"sext","":"VerticalSeparator","":"bsolhsub","":"suphsol","":"xlarr","":"xrarr","":"xharr","":"xlArr","":"xrArr","":"xhArr","":"xmap","":"dzigrarr","":"nvlArr","":"nvrArr","":"nvHarr","":"Map","":"lbarr","":"rbarr","":"lBarr","":"rBarr","":"RBarr","":"DDotrahd","":"UpArrowBar","":"DownArrowBar","":"Rarrtl","":"latail","":"ratail","":"lAtail","":"rAtail","":"larrfs","":"rarrfs","":"larrbfs","":"rarrbfs","":"nwarhk","":"nearhk","":"searhk","":"swarhk","":"nwnear","":"toea","":"tosa","":"swnwar","":"rarrc","":"nrarrc","":"cudarrr","":"ldca","":"rdca","":"cudarrl","":"larrpl","":"curarrm","":"cularrp","":"rarrpl","":"harrcir","":"Uarrocir","":"lurdshar","":"ldrushar","":"LeftRightVector","":"RightUpDownVector","":"DownLeftRightVector","":"LeftUpDownVector","":"LeftVectorBar","":"RightVectorBar","":"RightUpVectorBar","":"RightDownVectorBar","":"DownLeftVectorBar","":"DownRightVectorBar","":"LeftUpVectorBar","":"LeftDownVectorBar","":"LeftTeeVector","":"RightTeeVector","":"RightUpTeeVector","":"RightDownTeeVector","":"DownLeftTeeVector","":"DownRightTeeVector","":"LeftUpTeeVector","":"LeftDownTeeVector","":"lHar","":"uHar","":"rHar","":"dHar","":"luruhar","":"ldrdhar","":"ruluhar","":"rdldhar","":"lharul","":"llhard","":"rharul","":"lrhard","":"udhar","":"duhar","":"RoundImplies","":"erarr","":"simrarr","":"larrsim","":"rarrsim","":"rarrap","":"ltlarr","":"gtrarr","":"subrarr","":"suplarr","":"lfisht","":"rfisht","":"ufisht","":"dfisht","":"vzigzag","":"vangrt","":"angrtvbd","":"ange","":"range","":"dwangle","":"uwangle","":"angmsdaa","":"angmsdab","":"angmsdac","":"angmsdad","":"angmsdae","":"angmsdaf","":"angmsdag","":"angmsdah","":"bemptyv","":"demptyv","":"cemptyv","":"raemptyv","":"laemptyv","":"ohbar","":"omid","":"opar","":"operp","":"olcross","":"odsold","":"olcir","":"ofcir","":"olt","":"ogt","":"cirscir","":"cirE","":"solb","":"bsolb","":"boxbox","":"trisb","":"rtriltri","":"LeftTriangleBar","":"NotLeftTriangleBar","":"RightTriangleBar","":"NotRightTriangleBar","":"iinfin","":"infintie","":"nvinfin","":"eparsl","":"smeparsl","":"eqvparsl","":"lozf","":"RuleDelayed","":"dsol","":"xodot","":"xoplus","":"xotime","":"xuplus","":"xsqcup","":"fpartint","":"cirfnint","":"awint","":"rppolint","":"scpolint","":"npolint","":"pointint","":"quatint","":"intlarhk","":"pluscir","":"plusacir","":"simplus","":"plusdu","":"plussim","":"plustwo","":"mcomma","":"minusdu","":"loplus","":"roplus","":"Cross","":"timesd","":"timesbar","":"smashp","":"lotimes","":"rotimes","":"otimesas","":"Otimes","":"odiv","":"triplus","":"triminus","":"tritime","":"iprod","":"amalg","":"capdot","":"ncup","":"ncap","":"capand","":"cupor","":"cupcap","":"capcup","":"cupbrcap","":"capbrcup","":"cupcup","":"capcap","":"ccups","":"ccaps","":"ccupssm","":"And","":"Or","":"andand","":"oror","":"orslope","":"andslope","":"andv","":"orv","":"andd","":"ord","":"wedbar","":"sdote","":"simdot","":"congdot","":"ncongdot","":"easter","":"apacir","":"apE","":"napE","":"eplus","":"pluse","":"Esim","":"eDDot","":"equivDD","":"ltcir","":"gtcir","":"ltquest","":"gtquest","":"les","":"nles","":"ges","":"nges","":"lesdot","":"gesdot","":"lesdoto","":"gesdoto","":"lesdotor","":"gesdotol","":"lap","":"gap","":"lne","":"gne","":"lnap","":"gnap","":"lEg","":"gEl","":"lsime","":"gsime","":"lsimg","":"gsiml","":"lgE","":"glE","":"lesges","":"gesles","":"els","":"egs","":"elsdot","":"egsdot","":"el","":"eg","":"siml","":"simg","":"simlE","":"simgE","":"LessLess","":"NotNestedLessLess","":"GreaterGreater","":"NotNestedGreaterGreater","":"glj","":"gla","":"ltcc","":"gtcc","":"lescc","":"gescc","":"smt","":"lat","":"smte","":"smtes","":"late","":"lates","":"bumpE","":"pre","":"npre","":"sce","":"nsce","":"prE","":"scE","":"prnE","":"scnE","":"prap","":"scap","":"prnap","":"scnap","":"Pr","":"Sc","":"subdot","":"supdot","":"subplus","":"supplus","":"submult","":"supmult","":"subedot","":"supedot","":"subE","":"nsubE","":"supE","":"nsupE","":"subsim","":"supsim","":"vsubnE","":"subnE","":"vsupnE","":"supnE","":"csub","":"csup","":"csube","":"csupe","":"subsup","":"supsub","":"subsub","":"supsup","":"suphsub","":"supdsub","":"forkv","":"topfork","":"mlcp","":"Dashv","":"Vdashl","":"Barv","":"vBar","":"vBarv","":"Vbar","":"Not","":"bNot","":"rnmid","":"cirmid","":"midcir","":"topcir","":"nhpar","":"parsim","":"parsl","":"nparsl","":"flat","":"natur","":"sharp","":"curren","":"cent",$:"dollar","":"pound","":"yen","":"euro","":"sup1","":"half","":"frac13","":"frac14","":"frac15","":"frac16","":"frac18","":"sup2","":"frac23","":"frac25","":"sup3","":"frac34","":"frac35","":"frac38","":"frac45","":"frac56","":"frac58","":"frac78","":"ascr","":"aopf","":"afr","":"Aopf","":"Afr","":"Ascr","":"ordf","":"aacute","":"Aacute","":"agrave","":"Agrave","":"abreve","":"Abreve","":"acirc","":"Acirc","":"aring","":"angst","":"auml","":"Auml","":"atilde","":"Atilde","":"aogon","":"Aogon","":"amacr","":"Amacr","":"aelig","":"AElig","":"bscr","":"bopf","":"bfr","":"Bopf","":"Bscr","":"Bfr","":"cfr","":"cscr","":"copf","":"Cfr","":"Cscr","":"Copf","":"cacute","":"Cacute","":"ccirc","":"Ccirc","":"ccaron","":"Ccaron","":"cdot","":"Cdot","":"ccedil","":"Ccedil","":"incare","":"dfr","":"dd","":"dopf","":"dscr","":"Dscr","":"Dfr","":"DD","":"Dopf","":"dcaron","":"Dcaron","":"dstrok","":"Dstrok","":"eth","":"ETH","":"ee","":"escr","":"efr","":"eopf","":"Escr","":"Efr","":"Eopf","":"eacute","":"Eacute","":"egrave","":"Egrave","":"ecirc","":"Ecirc","":"ecaron","":"Ecaron","":"euml","":"Euml","":"edot","":"Edot","":"eogon","":"Eogon","":"emacr","":"Emacr","":"ffr","":"fopf","":"fscr","":"Ffr","":"Fopf","":"Fscr","":"fflig","":"ffilig","":"ffllig","":"filig",fj:"fjlig","":"fllig","":"fnof","":"gscr","":"gopf","":"gfr","":"Gscr","":"Gopf","":"Gfr","":"gacute","":"gbreve","":"Gbreve","":"gcirc","":"Gcirc","":"gdot","":"Gdot","":"Gcedil","":"hfr","":"planckh","":"hscr","":"hopf","":"Hscr","":"Hfr","":"Hopf","":"hcirc","":"Hcirc","":"hbar","":"hstrok","":"Hstrok","":"iopf","":"ifr","":"iscr","":"ii","":"Iopf","":"Iscr","":"Im","":"iacute","":"Iacute","":"igrave","":"Igrave","":"icirc","":"Icirc","":"iuml","":"Iuml","":"itilde","":"Itilde","":"Idot","":"iogon","":"Iogon","":"imacr","":"Imacr","":"ijlig","":"IJlig","":"imath","":"jscr","":"jopf","":"jfr","":"Jscr","":"Jfr","":"Jopf","":"jcirc","":"Jcirc","":"jmath","":"kopf","":"kscr","":"kfr","":"Kscr","":"Kopf","":"Kfr","":"kcedil","":"Kcedil","":"lfr","":"lscr","":"ell","":"lopf","":"Lscr","":"Lfr","":"Lopf","":"lacute","":"Lacute","":"lcaron","":"Lcaron","":"lcedil","":"Lcedil","":"lstrok","":"Lstrok","":"lmidot","":"Lmidot","":"mfr","":"mopf","":"mscr","":"Mfr","":"Mopf","":"Mscr","":"nfr","":"nopf","":"nscr","":"Nopf","":"Nscr","":"Nfr","":"nacute","":"Nacute","":"ncaron","":"Ncaron","":"ntilde","":"Ntilde","":"ncedil","":"Ncedil","":"numero","":"eng","":"ENG","":"oopf","":"ofr","":"oscr","":"Oscr","":"Ofr","":"Oopf","":"ordm","":"oacute","":"Oacute","":"ograve","":"Ograve","":"ocirc","":"Ocirc","":"ouml","":"Ouml","":"odblac","":"Odblac","":"otilde","":"Otilde","":"oslash","":"Oslash","":"omacr","":"Omacr","":"oelig","":"OElig","":"pfr","":"pscr","":"popf","":"Popf","":"Pfr","":"Pscr","":"qopf","":"qfr","":"qscr","":"Qscr","":"Qfr","":"Qopf","":"kgreen","":"rfr","":"ropf","":"rscr","":"Rscr","":"Re","":"Ropf","":"racute","":"Racute","":"rcaron","":"Rcaron","":"rcedil","":"Rcedil","":"sopf","":"sscr","":"sfr","":"Sopf","":"Sfr","":"Sscr","":"oS","":"sacute","":"Sacute","":"scirc","":"Scirc","":"scaron","":"Scaron","":"scedil","":"Scedil","":"szlig","":"tfr","":"tscr","":"topf","":"Tscr","":"Tfr","":"Topf","":"tcaron","":"Tcaron","":"tcedil","":"Tcedil","":"trade","":"tstrok","":"Tstrok","":"uscr","":"uopf","":"ufr","":"Uopf","":"Ufr","":"Uscr","":"uacute","":"Uacute","":"ugrave","":"Ugrave","":"ubreve","":"Ubreve","":"ucirc","":"Ucirc","":"uring","":"Uring","":"uuml","":"Uuml","":"udblac","":"Udblac","":"utilde","":"Utilde","":"uogon","":"Uogon","":"umacr","":"Umacr","":"vfr","":"vopf","":"vscr","":"Vfr","":"Vopf","":"Vscr","":"wopf","":"wscr","":"wfr","":"Wscr","":"Wopf","":"Wfr","":"wcirc","":"Wcirc","":"xfr","":"xscr","":"xopf","":"Xopf","":"Xfr","":"Xscr","":"yfr","":"yscr","":"yopf","":"Yscr","":"Yfr","":"Yopf","":"yacute","":"Yacute","":"ycirc","":"Ycirc","":"yuml","":"Yuml","":"zscr","":"zfr","":"zopf","":"Zfr","":"Zopf","":"Zscr","":"zacute","":"Zacute","":"zcaron","":"Zcaron","":"zdot","":"Zdot","":"imped","":"thorn","":"THORN","":"napos","":"alpha","":"Alpha","":"beta","":"Beta","":"gamma","":"Gamma","":"delta","":"Delta","":"epsi","":"epsiv","":"Epsilon","":"gammad","":"Gammad","":"zeta","":"Zeta","":"eta","":"Eta","":"theta","":"thetav","":"Theta","":"iota","":"Iota","":"kappa","":"kappav","":"Kappa","":"lambda","":"Lambda","":"mu","":"micro","":"Mu","":"nu","":"Nu","":"xi","":"Xi","":"omicron","":"Omicron","":"pi","":"piv","":"Pi","":"rho","":"rhov","":"Rho","":"sigma","":"Sigma","":"sigmaf","":"tau","":"Tau","":"upsi","":"Upsilon","":"Upsi","":"phi","":"phiv","":"Phi","":"chi","":"Chi","":"psi","":"Psi","":"omega","":"ohm","":"acy","":"Acy","":"bcy","":"Bcy","":"vcy","":"Vcy","":"gcy","":"Gcy","":"gjcy","":"GJcy","":"dcy","":"Dcy","":"djcy","":"DJcy","":"iecy","":"IEcy","":"iocy","":"IOcy","":"jukcy","":"Jukcy","":"zhcy","":"ZHcy","":"zcy","":"Zcy","":"dscy","":"DScy","":"icy","":"Icy","":"iukcy","":"Iukcy","":"yicy","":"YIcy","":"jcy","":"Jcy","":"jsercy","":"Jsercy","":"kcy","":"Kcy","":"kjcy","":"KJcy","":"lcy","":"Lcy","":"ljcy","":"LJcy","":"mcy","":"Mcy","":"ncy","":"Ncy","":"njcy","":"NJcy","":"ocy","":"Ocy","":"pcy","":"Pcy","":"rcy","":"Rcy","":"scy","":"Scy","":"tcy","":"Tcy","":"tshcy","":"TSHcy","":"ucy","":"Ucy","":"ubrcy","":"Ubrcy","":"fcy","":"Fcy","":"khcy","":"KHcy","":"tscy","":"TScy","":"chcy","":"CHcy","":"dzcy","":"DZcy","":"shcy","":"SHcy","":"shchcy","":"SHCHcy","":"hardcy","":"HARDcy","":"ycy","":"Ycy","":"softcy","":"SOFTcy","":"ecy","":"Ecy","":"yucy","":"YUcy","":"yacy","":"YAcy","":"aleph","":"beth","":"gimel","":"daleth"},m=/["&'<>`]/g,p={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},f=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,g=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,v=/&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)([=a-zA-Z0-9])?/g,y={aacute:"",Aacute:"",abreve:"",Abreve:"",ac:"",acd:"",acE:"",acirc:"",Acirc:"",acute:"",acy:"",Acy:"",aelig:"",AElig:"",af:"",afr:"",Afr:"",agrave:"",Agrave:"",alefsym:"",aleph:"",alpha:"",Alpha:"",amacr:"",Amacr:"",amalg:"",amp:"&",AMP:"&",and:"",And:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",aogon:"",Aogon:"",aopf:"",Aopf:"",ap:"",apacir:"",ape:"",apE:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",aring:"",Aring:"",ascr:"",Ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",atilde:"",Atilde:"",auml:"",Auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",bcy:"",Bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",beta:"",Beta:"",beth:"",between:"",bfr:"",Bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bnot:"",bNot:"",bopf:"",Bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxhD:"",boxHd:"",boxHD:"",boxhu:"",boxhU:"",boxHu:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpe:"",bumpE:"",bumpeq:"",Bumpeq:"",cacute:"",Cacute:"",cap:"",Cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",ccaron:"",Ccaron:"",ccedil:"",Ccedil:"",ccirc:"",Ccirc:"",Cconint:"",ccups:"",ccupssm:"",cdot:"",Cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",chcy:"",CHcy:"",check:"",checkmark:"",chi:"",Chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cire:"",cirE:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",colone:"",Colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",cscr:"",Cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cup:"",Cup:"",cupbrcap:"",cupcap:"",CupCap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",dArr:"",Darr:"",dash:"",dashv:"",Dashv:"",dbkarow:"",dblac:"",dcaron:"",Dcaron:"",dcy:"",Dcy:"",dd:"",DD:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",delta:"",Delta:"",demptyv:"",dfisht:"",dfr:"",Dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",djcy:"",DJcy:"",dlcorn:"",dlcrop:"",dollar:"$",dopf:"",Dopf:"",dot:"",Dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",downarrow:"",Downarrow:"",DownArrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",dscr:"",Dscr:"",dscy:"",DScy:"",dsol:"",dstrok:"",Dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",dzcy:"",DZcy:"",dzigrarr:"",eacute:"",Eacute:"",easter:"",ecaron:"",Ecaron:"",ecir:"",ecirc:"",Ecirc:"",ecolon:"",ecy:"",Ecy:"",eDDot:"",edot:"",eDot:"",Edot:"",ee:"",efDot:"",efr:"",Efr:"",eg:"",egrave:"",Egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",emacr:"",Emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",eng:"",ENG:"",ensp:"",eogon:"",Eogon:"",eopf:"",Eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",epsilon:"",Epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",esim:"",Esim:"",eta:"",Eta:"",eth:"",ETH:"",euml:"",Euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",fcy:"",Fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",ffr:"",Ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",fopf:"",Fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",gamma:"",Gamma:"",gammad:"",Gammad:"",gap:"",gbreve:"",Gbreve:"",Gcedil:"",gcirc:"",Gcirc:"",gcy:"",Gcy:"",gdot:"",Gdot:"",ge:"",gE:"",gel:"",gEl:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",gfr:"",Gfr:"",gg:"",Gg:"",ggg:"",gimel:"",gjcy:"",GJcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",gopf:"",Gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",gscr:"",Gscr:"",gsim:"",gsime:"",gsiml:"",gt:">",Gt:"",GT:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",hardcy:"",HARDcy:"",harr:"",hArr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",hcirc:"",Hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",hstrok:"",Hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",iacute:"",Iacute:"",ic:"",icirc:"",Icirc:"",icy:"",Icy:"",Idot:"",iecy:"",IEcy:"",iexcl:"",iff:"",ifr:"",Ifr:"",igrave:"",Igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",ijlig:"",IJlig:"",Im:"",imacr:"",Imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",int:"",Int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",iocy:"",IOcy:"",iogon:"",Iogon:"",iopf:"",Iopf:"",iota:"",Iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",itilde:"",Itilde:"",iukcy:"",Iukcy:"",iuml:"",Iuml:"",jcirc:"",Jcirc:"",jcy:"",Jcy:"",jfr:"",Jfr:"",jmath:"",jopf:"",Jopf:"",jscr:"",Jscr:"",jsercy:"",Jsercy:"",jukcy:"",Jukcy:"",kappa:"",Kappa:"",kappav:"",kcedil:"",Kcedil:"",kcy:"",Kcy:"",kfr:"",Kfr:"",kgreen:"",khcy:"",KHcy:"",kjcy:"",KJcy:"",kopf:"",Kopf:"",kscr:"",Kscr:"",lAarr:"",lacute:"",Lacute:"",laemptyv:"",lagran:"",lambda:"",Lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larr:"",lArr:"",Larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",latail:"",lAtail:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",lcaron:"",Lcaron:"",lcedil:"",Lcedil:"",lceil:"",lcub:"{",lcy:"",Lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",leftarrow:"",Leftarrow:"",LeftArrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",Leftrightarrow:"",LeftRightArrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",leg:"",lEg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",lfr:"",Lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",ljcy:"",LJcy:"",ll:"",Ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",lmidot:"",Lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",Longleftarrow:"",LongLeftArrow:"",longleftrightarrow:"",Longleftrightarrow:"",LongLeftRightArrow:"",longmapsto:"",longrightarrow:"",Longrightarrow:"",LongRightArrow:"",looparrowleft:"",looparrowright:"",lopar:"",lopf:"",Lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",lstrok:"",Lstrok:"",lt:"<",Lt:"",LT:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",map:"",Map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",mcy:"",Mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",mfr:"",Mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",mopf:"",Mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",mu:"",Mu:"",multimap:"",mumap:"",nabla:"",nacute:"",Nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",ncaron:"",Ncaron:"",ncedil:"",Ncedil:"",ncong:"",ncongdot:"",ncup:"",ncy:"",Ncy:"",ndash:"",ne:"",nearhk:"",nearr:"",neArr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",nfr:"",Nfr:"",nge:"",ngE:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",ngt:"",nGt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",njcy:"",NJcy:"",nlarr:"",nlArr:"",nldr:"",nle:"",nlE:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nlt:"",nLt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",not:"",Not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrarr:"",nrArr:"",nrarrc:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",nscr:"",Nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsube:"",nsubE:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupe:"",nsupE:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",ntilde:"",Ntilde:"",
ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",nu:"",Nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",oacute:"",Oacute:"",oast:"",ocir:"",ocirc:"",Ocirc:"",ocy:"",Ocy:"",odash:"",odblac:"",Odblac:"",odiv:"",odot:"",odsold:"",oelig:"",OElig:"",ofcir:"",ofr:"",Ofr:"",ogon:"",ograve:"",Ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",omacr:"",Omacr:"",omega:"",Omega:"",omicron:"",Omicron:"",omid:"",ominus:"",oopf:"",Oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",or:"",Or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",oscr:"",Oscr:"",oslash:"",Oslash:"",osol:"",otilde:"",Otilde:"",otimes:"",Otimes:"",otimesas:"",ouml:"",Ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",pcy:"",Pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",pfr:"",Pfr:"",phi:"",Phi:"",phiv:"",phmmat:"",phone:"",pi:"",Pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",pr:"",Pr:"",prap:"",prcue:"",pre:"",prE:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",pscr:"",Pscr:"",psi:"",Psi:"",puncsp:"",qfr:"",Qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",qscr:"",Qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",racute:"",Racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarr:"",rArr:"",Rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",rarrtl:"",Rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",rcaron:"",Rcaron:"",rcedil:"",Rcedil:"",rceil:"",rcub:"}",rcy:"",Rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",rho:"",Rho:"",rhov:"",RightAngleBracket:"",rightarrow:"",Rightarrow:"",RightArrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",sacute:"",Sacute:"",sbquo:"",sc:"",Sc:"",scap:"",scaron:"",Scaron:"",sccue:"",sce:"",scE:"",scedil:"",Scedil:"",scirc:"",Scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",scy:"",Scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",sfr:"",Sfr:"",sfrown:"",sharp:"",shchcy:"",SHCHcy:"",shcy:"",SHcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",sigma:"",Sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",softcy:"",SOFTcy:"",sol:"/",solb:"",solbar:"",sopf:"",Sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",sscr:"",Sscr:"",ssetmn:"",ssmile:"",sstarf:"",star:"",Star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",sube:"",subE:"",subedot:"",submult:"",subne:"",subnE:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup:"",Sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supe:"",supE:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supne:"",supnE:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",tau:"",Tau:"",tbrk:"",tcaron:"",Tcaron:"",tcedil:"",Tcedil:"",tcy:"",Tcy:"",tdot:"",telrec:"",tfr:"",Tfr:"",there4:"",therefore:"",Therefore:"",theta:"",Theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",thorn:"",THORN:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",topf:"",Topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",tscr:"",Tscr:"",tscy:"",TScy:"",tshcy:"",TSHcy:"",tstrok:"",Tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",uacute:"",Uacute:"",uarr:"",uArr:"",Uarr:"",Uarrocir:"",ubrcy:"",Ubrcy:"",ubreve:"",Ubreve:"",ucirc:"",Ucirc:"",ucy:"",Ucy:"",udarr:"",udblac:"",Udblac:"",udhar:"",ufisht:"",ufr:"",Ufr:"",ugrave:"",Ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",umacr:"",Umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",uogon:"",Uogon:"",uopf:"",Uopf:"",uparrow:"",Uparrow:"",UpArrow:"",UpArrowBar:"",UpArrowDownArrow:"",updownarrow:"",Updownarrow:"",UpDownArrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",upsilon:"",Upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",uring:"",Uring:"",urtri:"",uscr:"",Uscr:"",utdot:"",utilde:"",Utilde:"",utri:"",utrif:"",uuarr:"",uuml:"",Uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",vcy:"",Vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",vee:"",Vee:"",veebar:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",vfr:"",Vfr:"",vltri:"",vnsub:"",vnsup:"",vopf:"",Vopf:"",vprop:"",vrtri:"",vscr:"",Vscr:"",vsubne:"",vsubnE:"",vsupne:"",vsupnE:"",Vvdash:"",vzigzag:"",wcirc:"",Wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",wfr:"",Wfr:"",wopf:"",Wopf:"",wp:"",wr:"",wreath:"",wscr:"",Wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",xfr:"",Xfr:"",xharr:"",xhArr:"",xi:"",Xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",xopf:"",Xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",xscr:"",Xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",yacute:"",Yacute:"",yacy:"",YAcy:"",ycirc:"",Ycirc:"",ycy:"",Ycy:"",yen:"",yfr:"",Yfr:"",yicy:"",YIcy:"",yopf:"",Yopf:"",yscr:"",Yscr:"",yucy:"",YUcy:"",yuml:"",Yuml:"",zacute:"",Zacute:"",zcaron:"",Zcaron:"",zcy:"",Zcy:"",zdot:"",Zdot:"",zeetrf:"",ZeroWidthSpace:"",zeta:"",Zeta:"",zfr:"",Zfr:"",zhcy:"",ZHcy:"",zigrarr:"",zopf:"",Zopf:"",zscr:"",Zscr:"",zwj:"",zwnj:""},b={aacute:"",Aacute:"",acirc:"",Acirc:"",acute:"",aelig:"",AElig:"",agrave:"",Agrave:"",amp:"&",AMP:"&",aring:"",Aring:"",atilde:"",Atilde:"",auml:"",Auml:"",brvbar:"",ccedil:"",Ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",eacute:"",Eacute:"",ecirc:"",Ecirc:"",egrave:"",Egrave:"",eth:"",ETH:"",euml:"",Euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",iacute:"",Iacute:"",icirc:"",Icirc:"",iexcl:"",igrave:"",Igrave:"",iquest:"",iuml:"",Iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",ntilde:"",Ntilde:"",oacute:"",Oacute:"",ocirc:"",Ocirc:"",ograve:"",Ograve:"",ordf:"",ordm:"",oslash:"",Oslash:"",otilde:"",Otilde:"",ouml:"",Ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",thorn:"",THORN:"",times:"",uacute:"",Uacute:"",ucirc:"",Ucirc:"",ugrave:"",Ugrave:"",uml:"",uuml:"",Uuml:"",yacute:"",Yacute:"",yen:"",yuml:""},_={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},w=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],x=String.fromCharCode,C={},S=C.hasOwnProperty,E=function(e,t){return S.call(e,t)},T=function(e,t){for(var n=-1,i=e.length;++n<i;)if(e[n]==t)return!0;return!1},M=function(e,t){if(!e)return t;var n,i={};for(n in t)i[n]=E(e,n)?e[n]:t[n];return i},k=function(e,t){var n="";return e>=55296&&e<=57343||e>1114111?(t&&P("character reference outside the permissible Unicode range"),""):E(_,e)?(t&&P("disallowed character reference"),_[e]):(t&&T(w,e)&&P("disallowed character reference"),e>65535&&(e-=65536,n+=x(e>>>10&1023|55296),e=56320|1023&e),n+=x(e))},A=function(e){return"&#x"+e.toString(16).toUpperCase()+";"},$=function(e){return"&#"+e+";"},P=function(e){throw Error("Parse error: "+e)},L=function(e,t){t=M(t,L.options);var n=t.strict;n&&g.test(e)&&P("forbidden code point");var i=t.encodeEverything,r=t.useNamedReferences,o=t.allowUnsafeSymbols,a=t.decimal?$:A,s=function(e){return a(e.charCodeAt(0))};return i?(e=e.replace(c,function(e){return r&&E(h,e)?"&"+h[e]+";":s(e)}),r&&(e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),r&&(e=e.replace(d,function(e){return"&"+h[e]+";"}))):r?(o||(e=e.replace(m,function(e){return"&"+h[e]+";"})),e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),e=e.replace(d,function(e){return"&"+h[e]+";"})):o||(e=e.replace(m,s)),e.replace(l,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=1024*(t-55296)+n-56320+65536;return a(i)}).replace(u,s)};L.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var D=function(e,t){t=M(t,D.options);var n=t.strict;return n&&f.test(e)&&P("malformed character reference"),e.replace(v,function(e,i,r,o,a,s,l,c){var u,d,h,m,p,f;return i?(h=i,d=r,n&&!d&&P("character reference was not terminated by a semicolon"),u=parseInt(h,10),k(u,n)):o?(m=o,d=a,n&&!d&&P("character reference was not terminated by a semicolon"),u=parseInt(m,16),k(u,n)):s?(p=s,E(y,p)?y[p]:(n&&P("named character reference was not terminated by a semicolon"),e)):(p=l,f=c,f&&t.isAttributeValue?(n&&"="==f&&P("`&` did not start a character reference"),e):(n&&P("named character reference was not terminated by a semicolon"),b[p]+(f||"")))})};D.options={isAttributeValue:!1,strict:!1};var R=function(e){return e.replace(m,function(e){return p[e]})},I={version:"1.1.1",encode:L,decode:D,escape:R,unescape:D};r=function(){return I}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)}).call(t,n(10)(e),n(5))},function(e,t,n){function defineProp(t,n){return delete e.exports[t],e.exports[t]=n,n}var i=n(161),r=n(365);e.exports={Parser:i,Tokenizer:n(162),ElementType:n(12),DomHandler:r,get FeedHandler(){return defineProp("FeedHandler",n(529))},get Stream(){return defineProp("Stream",n(531))},get WritableStream(){return defineProp("WritableStream",n(163))},get ProxyHandler(){return defineProp("ProxyHandler",n(530))},get DomUtils(){return defineProp("DomUtils",n(367))},get CollectingHandler(){return defineProp("CollectingHandler",n(528))},DefaultHandler:r,get RssHandler(){return defineProp("RssHandler",this.FeedHandler)},parseDOM:function(e,t){var n=new r(t);return new i(n,t).end(e),n.dom},parseFeed:function(t,n){var r=new e.exports.FeedHandler(n);return new i(r,n).end(t),r.dom},createDomStream:function(e,t,n){var o=new r(e,t,n);return new i(o,t)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(7)],i=a,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){"use strict";var t=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[]}},e.parseMetaData=function(t,n,i,r){i=i||{},r=r||{};var o=this,a=i.maxMetaDataSize||262144,s=!(window.DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&e.blobSlice);!s&&e.readFile(e.blobSlice.call(t,0,a),function(t){if(t.target.error)return console.log(t.target.error),void n(r);var a,s,l,c,u=t.target.result,d=new DataView(u),h=2,m=d.byteLength-4,p=h;if(65496===d.getUint16(0)){for(;h<m&&(a=d.getUint16(h),a>=65504&&a<=65519||65534===a);){if(s=d.getUint16(h+2)+2,h+s>d.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(l=e.metaDataParsers.jpeg[a])for(c=0;c<l.length;c+=1)l[c].call(o,d,h,s,r,i);h+=s,p=h}!i.disableImageHead&&p>6&&(u.slice?r.imageHead=u.slice(0,p):r.imageHead=new Uint8Array(u).subarray(0,p))}else console.log("Invalid JPEG file: Missing JPEG marker.");n(r)},"readAsArrayBuffer")||n(r)},e.hasMetaOption=function(e){return e&&e.meta};var n=e.transform;e.transform=function(t,i,r,o,a){e.hasMetaOption(i)?e.parseMetaData(o,function(a){n.call(e,t,i,r,o,a)},i,a):n.apply(e,arguments)}})},function(e,t){function isObject(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=isObject},function(e,t,n){function Stream(){i.call(this)}e.exports=Stream;var i=n(13).EventEmitter,r=n(4);r(Stream,i),Stream.Readable=n(536),Stream.Writable=n(538),Stream.Duplex=n(533),Stream.Transform=n(537),Stream.PassThrough=n(535),Stream.Stream=Stream,Stream.prototype.pipe=function(e,t){function ondata(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function ondrain(){n.readable&&n.resume&&n.resume()}function onend(){r||(r=!0,e.end())}function onclose(){r||(r=!0,"function"==typeof e.destroy&&e.destroy())}function onerror(e){if(cleanup(),0===i.listenerCount(this,"error"))throw e}function cleanup(){n.removeListener("data",ondata),e.removeListener("drain",ondrain),n.removeListener("end",onend),n.removeListener("close",onclose),n.removeListener("error",onerror),e.removeListener("error",onerror),n.removeListener("end",cleanup),n.removeListener("close",cleanup),e.removeListener("close",cleanup)}var n=this;n.on("data",ondata),e.on("drain",ondrain),e._isStdio||t&&t.end===!1||(n.on("end",onend),n.on("close",onclose));var r=!1;return n.on("error",onerror),e.on("error",onerror),n.on("end",cleanup),n.on("close",cleanup),e.on("close",cleanup),e.emit("pipe",n),e}},function(e,t,n){"use strict";(function(e){var i=n(6),r=i.Buffer,o=i.SlowBuffer,a=i.kMaxLength||2147483647;t.alloc=function(e,t,n){if("function"==typeof r.alloc)return r.alloc(e,t,n);if("number"==typeof n)throw new TypeError("encoding must not be number");if("number"!=typeof e)throw new TypeError("size must be a number");if(e>a)throw new RangeError("size is too large");var i=n,o=t;void 0===o&&(i=void 0,o=0);var s=new r(e);if("string"==typeof o)for(var l=new r(o,i),c=l.length,u=-1;++u<e;)s[u]=l[u%c];else s.fill(o);return s},t.allocUnsafe=function(e){if("function"==typeof r.allocUnsafe)return r.allocUnsafe(e);if("number"!=typeof e)throw new TypeError("size must be a number");if(e>a)throw new RangeError("size is too large");return new r(e)},t.from=function(t,n,i){if("function"==typeof r.from&&(!e.Uint8Array||Uint8Array.from!==r.from))return r.from(t,n,i);if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("string"==typeof t)return new r(t,n);if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer){var o=n;if(1===arguments.length)return new r(t);"undefined"==typeof o&&(o=0);var a=i;if("undefined"==typeof a&&(a=t.byteLength-o),o>=t.byteLength)throw new RangeError("'offset' is out of bounds");if(a>t.byteLength-o)throw new RangeError("'length' is out of bounds");return new r(t.slice(o,o+a))}if(r.isBuffer(t)){var s=new r(t.length);return t.copy(s,0,0,t.length),s}if(t){if(Array.isArray(t)||"undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return new r(t);if("Buffer"===t.type&&Array.isArray(t.data))return new r(t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},t.allocUnsafeSlow=function(e){if("function"==typeof r.allocUnsafeSlow)return r.allocUnsafeSlow(e);if("number"!=typeof e)throw new TypeError("size must be a number");if(e>=a)throw new RangeError("size is too large");return new o(e)}}).call(t,n(5))},function(e,t){e.exports={Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",amp:"&",AMP:"&",andand:"",And:"",and:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angmsd:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",apacir:"",ap:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxHd:"",boxhD:"",boxHD:"",boxhu:"",boxHu:"",boxhU:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsolb:"",bsol:"\\",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",capand:"",capbrcup:"",capcap:"",cap:"",Cap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cir:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cupbrcap:"",cupcap:"",CupCap:"",cup:"",Cup:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",Darr:"",dArr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",ddagger:"",ddarr:"",DD:"",dd:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrowBar:"",downarrow:"",DownArrow:"",Downarrow:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVectorBar:"",DownLeftVector:"",DownRightTeeVector:"",DownRightVectorBar:"",DownRightVector:"",DownTeeArrow:"",DownTee:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",Ecirc:"",ecirc:"",ecir:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",edot:"",eDot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp13:"",emsp14:"",emsp:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",ge:"",gE:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",gescc:"",ges:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",gg:"",Gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gla:"",gl:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",gtcc:"",gtcir:"",gt:">",GT:">",Gt:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",harrcir:"",harr:"",hArr:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",ifr:"",Ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",Im:"",imof:"",imped:"",Implies:"",incare:"",in:"",infin:"",infintie:"",inodot:"",intcal:"",int:"",Int:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larrb:"",larrbfs:"",larr:"",Larr:"",lArr:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",latail:"",lAtail:"",lat:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",LeftArrowBar:"",leftarrow:"",LeftArrow:"",Leftarrow:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVectorBar:"",LeftDownVector:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTeeArrow:"",LeftTee:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangleBar:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVectorBar:"",LeftUpVector:"",LeftVectorBar:"",LeftVector:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",lescc:"",les:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",llarr:"",ll:"",Ll:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoustache:"",lmoust:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",LongLeftArrow:"",Longleftarrow:"",longleftrightarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longmapsto:"",longrightarrow:"",LongRightArrow:"",Longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",ltcc:"",ltcir:"",lt:"<",LT:"<",Lt:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",midast:"*",midcir:"",mid:"",middot:"",minusb:"",minus:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",
mnplus:"",models:"",Mopf:"",mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natural:"",naturals:"",natur:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",nearhk:"",nearr:"",neArr:"",nearrow:"",ne:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlarr:"",nlArr:"",nldr:"",nlE:"",nle:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangleBar:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangleBar:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",nparallel:"",npar:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",nprec:"",npreceq:"",npre:"",nrarrc:"",nrarr:"",nrArr:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",Ocirc:"",ocirc:"",ocir:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",orarr:"",Or:"",or:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",otimesas:"",Otimes:"",otimes:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",para:"",parallel:"",par:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plusacir:"",plusb:"",pluscir:"",plus:"+",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",prap:"",Pr:"",pr:"",prcue:"",precapprox:"",prec:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",pre:"",prE:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportional:"",Proportion:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarr:"",Rarr:"",rArr:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",Re:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrowBar:"",rightarrow:"",RightArrow:"",Rightarrow:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVectorBar:"",RightDownVector:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTeeArrow:"",RightTee:"",RightTeeVector:"",rightthreetimes:"",RightTriangleBar:"",RightTriangle:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVectorBar:"",RightUpVector:"",RightVectorBar:"",RightVector:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoustache:"",rmoust:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",scap:"",Scaron:"",scaron:"",Sc:"",sc:"",sccue:"",sce:"",scE:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdotb:"",sdot:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",solbar:"",solb:"",sol:"/",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squ:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succapprox:"",succ:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup1:"",sup2:"",sup3:"",sup:"",Sup:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",therefore:"",Therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",ThinSpace:"",thinsp:"",thkap:"",thksim:"",THORN:"",thorn:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",timesbar:"",timesb:"",times:"",timesd:"",tint:"",toea:"",topbot:"",topcir:"",top:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",uarr:"",Uarr:"",uArr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrowBar:"",uparrow:"",UpArrow:"",Uparrow:"",UpArrowDownArrow:"",updownarrow:"",UpDownArrow:"",Updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTeeArrow:"",UpTee:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",Vcy:"",vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",veebar:"",vee:"",Vee:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xharr:"",xhArr:"",Xi:"",xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",yuml:"",Yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",zfr:"",Zfr:"",ZHcy:"",zhcy:"",zigrarr:"",zopf:"",Zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}},function(e,t){e.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},function(e,t,n){function baseGetTag(e){return null==e?void 0===e?s:a:l&&l in Object(e)?r(e):o(e)}var i=n(43),r=n(434),o=n(441),a="[object Null]",s="[object Undefined]",l=i?i.toStringTag:void 0;e.exports=baseGetTag},function(e,t,n){var i=n(46),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},function(e,t){function isObjectLike(e){return null!=e&&"object"==typeof e}e.exports=isObjectLike},function(e,t,n){(function(i){var r;"classList"in document.createElement("_")||!function(e){"use strict";if("Element"in e){var t="classList",n="prototype",i=e.Element[n],r=Object,o=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array[n].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},s=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},l=function(e,t){if(""===t)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return a.call(e,t)},c=function(e){for(var t=o.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],i=0,r=n.length;i<r;i++)this.push(n[i]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},u=c[n]=[],d=function(){return new c(this)};if(s[n]=Error[n],u.item=function(e){return this[e]||null},u.contains=function(e){return e+="",l(this,e)!==-1},u.add=function(){var e,t=arguments,n=0,i=t.length,r=!1;do e=t[n]+"",l(this,e)===-1&&(this.push(e),r=!0);while(++n<i);r&&this._updateClassName()},u.remove=function(){var e,t,n=arguments,i=0,r=n.length,o=!1;do for(e=n[i]+"",t=l(this,e);t!==-1;)this.splice(t,1),o=!0,t=l(this,e);while(++i<r);o&&this._updateClassName()},u.toggle=function(e,t){e+="";var n=this.contains(e),i=n?t!==!0&&"remove":t!==!1&&"add";return i&&this[i](e),t===!0||t===!1?t:!n},u.toString=function(){return this.join(" ")},r.defineProperty){var h={get:d,enumerable:!0,configurable:!0};try{r.defineProperty(i,t,h)}catch(e){e.number===-2146823252&&(h.enumerable=!1,r.defineProperty(i,t,h))}}else r[n].__defineGetter__&&i.__defineGetter__(t,d)}}(self),function(e){"use strict";if(e.URL=e.URL||e.webkitURL,e.Blob&&e.URL)try{return void new Blob}catch(e){}var t=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},i=function(e,t,n){this.data=e,this.size=e.length,this.type=t,this.encoding=n},r=n.prototype,o=i.prototype,a=e.FileReaderSync,s=function(e){this.code=this[this.name=e]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),c=l.length,u=e.URL||e.webkitURL||e,d=u.createObjectURL,h=u.revokeObjectURL,m=u,p=e.btoa,f=e.atob,g=e.ArrayBuffer,v=e.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(i.fake=o.fake=!0;c--;)s.prototype[l[c]]=c+1;return u.createObjectURL||(m=e.URL=function(e){var t,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=e,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(t=e.match(y),n.origin=t&&t[1])),n}),m.createObjectURL=function(e){var t,n=e.type;return null===n&&(n="application/octet-stream"),e instanceof i?(t="data:"+n,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):p?t+";base64,"+p(e.data):t+","+encodeURIComponent(e.data)):d?d.call(u,e):void 0},m.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&h&&h.call(u,e)},r.append=function(e){var n=this.data;if(v&&(e instanceof g||e instanceof v)){for(var r="",o=new v(e),l=0,c=o.length;l<c;l++)r+=String.fromCharCode(o[l]);n.push(r)}else if("Blob"===t(e)||"File"===t(e)){if(!a)throw new s("NOT_READABLE_ERR");var u=new a;n.push(u.readAsBinaryString(e))}else e instanceof i?"base64"===e.encoding&&f?n.push(f(e.data)):"URI"===e.encoding?n.push(decodeURIComponent(e.data)):"raw"===e.encoding&&n.push(e.data):("string"!=typeof e&&(e+=""),n.push(unescape(encodeURIComponent(e))))},r.getBlob=function(e){return arguments.length||(e=null),new i(this.data.join(""),e,"raw")},r.toString=function(){return"[object BlobBuilder]"},o.slice=function(e,t,n){var r=arguments.length;return r<3&&(n=null),new i(this.data.slice(e,r>1?t:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},n}(e);e.Blob=function(e,n){var i=n?n.type||"":"",r=new t;if(e)for(var o=0,a=e.length;o<a;o++)Uint8Array&&e[o]instanceof Uint8Array?r.append(e[o].buffer):r.append(e[o]);var s=r.getBlob(i);return!s.slice&&s.webkitSlice&&(s.slice=s.webkitSlice),s};var n=Object.getPrototypeOf||function(e){return e.__proto__};e.Blob.prototype=n(new e.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(o,a){"use strict";var s="object"==typeof e&&"undefined"!=typeof i&&i&&i.versions&&i.versions.electron;s||"object"!=typeof e?(r=function(){return a}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))):e.exports=a}(this,function(){"use strict";function MediumEditor(e,t){return this.init(e,t)}return MediumEditor.extensions={},function(e){function copyInto(e,t){var n,i=Array.prototype.slice.call(arguments,2);t=t||{};for(var r=0;r<i.length;r++){var o=i[r];if(o)for(n in o)o.hasOwnProperty(n)&&"undefined"!=typeof o[n]&&(e||t.hasOwnProperty(n)===!1)&&(t[n]=o[n])}return t}var t=!1;try{var n=document.createElement("div"),i=document.createTextNode(" ");n.appendChild(i),t=n.contains(i)}catch(e){}var r={isIE:"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent),isEdge:null!==/Edge\/\d+/.exec(navigator.userAgent),isFF:navigator.userAgent.toLowerCase().indexOf("firefox")>-1,isMac:e.navigator.platform.toUpperCase().indexOf("MAC")>=0,keyCode:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,K:75,M:77,V:86},isMetaCtrlKey:function(e){return!!(r.isMac&&e.metaKey||!r.isMac&&e.ctrlKey)},isKey:function(e,t){var n=r.getKeyCode(e);return!1===Array.isArray(t)?n===t:-1!==t.indexOf(n)},getKeyCode:function(e){var t=e.which;return null===t&&(t=null!==e.charCode?e.charCode:e.keyCode),t},blockContainerElementNames:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","li","ol","address","article","aside","audio","canvas","dd","dl","dt","fieldset","figcaption","figure","footer","form","header","hgroup","main","nav","noscript","output","section","video","table","thead","tbody","tfoot","tr","th","td"],emptyElementNames:["br","col","colgroup","hr","img","input","source","wbr"],extend:function(){var e=[!0].concat(Array.prototype.slice.call(arguments));return copyInto.apply(this,e)},defaults:function(){var e=[!1].concat(Array.prototype.slice.call(arguments));return copyInto.apply(this,e)},createLink:function(e,t,n,i){var o=e.createElement("a");return r.moveTextRangeIntoElement(t[0],t[t.length-1],o),o.setAttribute("href",n),i&&o.setAttribute("target",i),o},findOrCreateMatchingTextNodes:function(e,t,n){for(var i=e.createTreeWalker(t,NodeFilter.SHOW_ALL,null,!1),o=[],a=0,s=!1,l=null,c=null;null!==(l=i.nextNode());)if(!(l.nodeType>3))if(3===l.nodeType){if(!s&&n.start<a+l.nodeValue.length&&(s=!0,c=r.splitStartNodeIfNeeded(l,n.start,a)),s&&r.splitEndNodeIfNeeded(l,c,n.end,a),s&&a===n.end)break;if(s&&a>n.end+1)throw new Error("PerformLinking overshot the target!");s&&o.push(c||l),a+=l.nodeValue.length,null!==c&&(a+=c.nodeValue.length,i.nextNode()),c=null}else"img"===l.tagName.toLowerCase()&&(!s&&n.start<=a&&(s=!0),s&&o.push(l));return o},splitStartNodeIfNeeded:function(e,t,n){return t!==n?e.splitText(t-n):null},splitEndNodeIfNeeded:function(e,t,n,i){var r,o;r=i+e.nodeValue.length+(t?t.nodeValue.length:0)-1,o=n-i-(t?e.nodeValue.length:0),r>=n&&i!==r&&0!==o&&(t||e).splitText(o)},splitByBlockElements:function(e){if(3!==e.nodeType&&1!==e.nodeType)return[];var t=[],n=MediumEditor.util.blockContainerElementNames.join(",");if(3===e.nodeType||0===e.querySelectorAll(n).length)return[e];for(var i=0;i<e.childNodes.length;i++){var r=e.childNodes[i];if(3===r.nodeType)t.push(r);else if(1===r.nodeType){var o=r.querySelectorAll(n);0===o.length?t.push(r):t=t.concat(MediumEditor.util.splitByBlockElements(r))}}return t},findAdjacentTextNodeWithContent:function(e,t,n){var i,r=!1,o=n.createNodeIterator(e,NodeFilter.SHOW_TEXT,null,!1);for(i=o.nextNode();i;){if(i===t)r=!0;else if(r&&3===i.nodeType&&i.nodeValue&&i.nodeValue.trim().length>0)break;i=o.nextNode()}return i},findPreviousSibling:function(e){if(!e||r.isMediumEditorElement(e))return!1;for(var t=e.previousSibling;!t&&!r.isMediumEditorElement(e.parentNode);)e=e.parentNode,t=e.previousSibling;return t},isDescendant:function(e,n,i){if(!e||!n)return!1;if(e===n)return!!i;if(1!==e.nodeType)return!1;if(t||3!==n.nodeType)return e.contains(n);for(var r=n.parentNode;null!==r;){if(r===e)return!0;r=r.parentNode}return!1},isElement:function(e){return!(!e||1!==e.nodeType)},throttle:function(e,t){var n,i,r,o=50,a=null,s=0,l=function(){s=Date.now(),a=null,r=e.apply(n,i),a||(n=i=null)};return t||0===t||(t=o),function(){var o=Date.now(),c=t-(o-s);return n=this,i=arguments,c<=0||c>t?(a&&(clearTimeout(a),a=null),s=o,r=e.apply(n,i),a||(n=i=null)):a||(a=setTimeout(l,c)),r}},traverseUp:function(e,t){if(!e)return!1;do{if(1===e.nodeType){if(t(e))return e;if(r.isMediumEditorElement(e))return!1}e=e.parentNode}while(e);return!1},htmlEntities:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},insertHTMLCommand:function(e,t){var n,i,o,a,s,l,c,u=!1,d=["insertHTML",!1,t];if(!MediumEditor.util.isEdge&&e.queryCommandSupported("insertHTML"))try{return e.execCommand.apply(e,d)}catch(e){}if(n=e.getSelection(),n.rangeCount){if(i=n.getRangeAt(0),c=i.commonAncestorContainer,r.isMediumEditorElement(c)&&!c.firstChild)i.selectNode(c.appendChild(e.createTextNode("")));else if(3===c.nodeType&&0===i.startOffset&&i.endOffset===c.nodeValue.length||3!==c.nodeType&&c.innerHTML===i.toString()){for(;!r.isMediumEditorElement(c)&&c.parentNode&&1===c.parentNode.childNodes.length&&!r.isMediumEditorElement(c.parentNode);)c=c.parentNode;i.selectNode(c)}for(i.deleteContents(),o=e.createElement("div"),o.innerHTML=t,a=e.createDocumentFragment();o.firstChild;)s=o.firstChild,l=a.appendChild(s);i.insertNode(a),l&&(i=i.cloneRange(),i.setStartAfter(l),i.collapse(!0),MediumEditor.selection.selectRange(e,i)),u=!0}return e.execCommand.callListeners&&e.execCommand.callListeners(d,u),u},execFormatBlock:function(e,t){var n,i=r.getTopBlockContainer(MediumEditor.selection.getSelectionStart(e));if("blockquote"===t){if(i&&(n=Array.prototype.slice.call(i.childNodes),n.some(function(e){return r.isBlockContainer(e)})))return e.execCommand("outdent",!1,null);if(r.isIE)return e.execCommand("indent",!1,t)}if(i&&t===i.nodeName.toLowerCase()&&(t="p"),r.isIE&&(t="<"+t+">"),i&&"blockquote"===i.nodeName.toLowerCase()){if(r.isIE&&"<p>"===t)return e.execCommand("outdent",!1,t);if((r.isFF||r.isEdge)&&"p"===t)return n=Array.prototype.slice.call(i.childNodes),n.some(function(e){return!r.isBlockContainer(e)})&&e.execCommand("formatBlock",!1,t),e.execCommand("outdent",!1,t)}return e.execCommand("formatBlock",!1,t)},setTargetBlank:function(e,t){var n,i=t||!1;if("a"===e.nodeName.toLowerCase())e.target="_blank";else for(e=e.getElementsByTagName("a"),n=0;n<e.length;n+=1)!1!==i&&i!==e[n].attributes.href.value||(e[n].target="_blank")},removeTargetBlank:function(e,t){var n;if("a"===e.nodeName.toLowerCase())e.removeAttribute("target");else for(e=e.getElementsByTagName("a"),n=0;n<e.length;n+=1)t===e[n].attributes.href.value&&e[n].removeAttribute("target")},addClassToAnchors:function(e,t){var n,i,o=t.split(" ");if("a"===e.nodeName.toLowerCase())for(i=0;i<o.length;i+=1)e.classList.add(o[i]);else{var a=e.getElementsByTagName("a");if(0===a.length){var s=r.getClosestTag(e,"a");e=s?[s]:[]}else e=a;for(n=0;n<e.length;n+=1)for(i=0;i<o.length;i+=1)e[n].classList.add(o[i])}},isListItem:function(e){if(!e)return!1;if("li"===e.nodeName.toLowerCase())return!0;for(var t=e.parentNode,n=t.nodeName.toLowerCase();"li"===n||!r.isBlockContainer(t)&&"div"!==n;){if("li"===n)return!0;if(t=t.parentNode,!t)return!1;n=t.nodeName.toLowerCase()}return!1},cleanListDOM:function(e,t){if("li"===t.nodeName.toLowerCase()){var n=t.parentElement;"p"===n.parentElement.nodeName.toLowerCase()&&(r.unwrap(n.parentElement,e),MediumEditor.selection.moveCursor(e,t.firstChild,t.firstChild.textContent.length))}},splitOffDOMTree:function(e,t,n){for(var i=t,r=null,o=!n;i!==e;){var a,s=i.parentNode,l=s.cloneNode(!1),c=o?i:s.firstChild;for(r&&(o?l.appendChild(r):a=r),r=l;c;){var u=c.nextSibling;c===i?(c.hasChildNodes()?c=c.cloneNode(!1):c.parentNode.removeChild(c),c.textContent&&r.appendChild(c),c=o?u:null):(c.parentNode.removeChild(c),(c.hasChildNodes()||c.textContent)&&r.appendChild(c),c=u)}a&&r.appendChild(a),i=s}return r},moveTextRangeIntoElement:function(e,t,n){if(!e||!t)return!1;var i=r.findCommonRoot(e,t);if(!i)return!1;if(t===e){var o=e.parentNode,a=e.nextSibling;return o.removeChild(e),n.appendChild(e),a?o.insertBefore(n,a):o.appendChild(n),n.hasChildNodes()}for(var s,l,c,u=[],d=0;d<i.childNodes.length;d++)if(c=i.childNodes[d],s){if(r.isDescendant(c,t,!0)){l=c;break}u.push(c)}else r.isDescendant(c,e,!0)&&(s=c);var h=l.nextSibling,m=i.ownerDocument.createDocumentFragment();return s===e?(s.parentNode.removeChild(s),m.appendChild(s)):m.appendChild(r.splitOffDOMTree(s,e)),u.forEach(function(e){e.parentNode.removeChild(e),m.appendChild(e)}),l===t?(l.parentNode.removeChild(l),m.appendChild(l)):m.appendChild(r.splitOffDOMTree(l,t,!0)),n.appendChild(m),l.parentNode===i?i.insertBefore(n,l):h?i.insertBefore(n,h):i.appendChild(n),n.hasChildNodes()},depthOfNode:function(e){for(var t=0,n=e;null!==n.parentNode;)n=n.parentNode,t++;return t},findCommonRoot:function(e,t){for(var n=r.depthOfNode(e),i=r.depthOfNode(t),o=e,a=t;n!==i;)n>i?(o=o.parentNode,n-=1):(a=a.parentNode,i-=1);for(;o!==a;)o=o.parentNode,a=a.parentNode;return o},isElementAtBeginningOfBlock:function(e){for(var t,n;!r.isBlockContainer(e)&&!r.isMediumEditorElement(e);){for(n=e;n=n.previousSibling;)if(t=3===n.nodeType?n.nodeValue:n.textContent,t.length>0)return!1;e=e.parentNode}return!0},isMediumEditorElement:function(e){return e&&e.getAttribute&&!!e.getAttribute("data-medium-editor-element")},getContainerEditorElement:function(e){return r.traverseUp(e,function(e){return r.isMediumEditorElement(e)})},isBlockContainer:function(e){return e&&3!==e.nodeType&&r.blockContainerElementNames.indexOf(e.nodeName.toLowerCase())!==-1},getClosestBlockContainer:function(e){return r.traverseUp(e,function(e){return r.isBlockContainer(e)||r.isMediumEditorElement(e)})},getTopBlockContainer:function(e){var t=!!r.isBlockContainer(e)&&e;return r.traverseUp(e,function(e){return r.isBlockContainer(e)&&(t=e),!(t||!r.isMediumEditorElement(e))&&(t=e,!0)}),t},getFirstSelectableLeafNode:function(e){for(;e&&e.firstChild;)e=e.firstChild;if(e=r.traverseUp(e,function(e){return r.emptyElementNames.indexOf(e.nodeName.toLowerCase())===-1}),"table"===e.nodeName.toLowerCase()){var t=e.querySelector("th, td");t&&(e=t)}return e},getFirstTextNode:function(e){return r.warn("getFirstTextNode is deprecated and will be removed in version 6.0.0"),r._getFirstTextNode(e)},_getFirstTextNode:function(e){if(3===e.nodeType)return e;for(var t=0;t<e.childNodes.length;t++){var n=r._getFirstTextNode(e.childNodes[t]);if(null!==n)return n}return null},ensureUrlHasProtocol:function(e){return e.indexOf("://")===-1?"http://"+e:e},warn:function(){void 0!==e.console&&"function"==typeof e.console.warn&&e.console.warn.apply(e.console,arguments)},deprecated:function(e,t,n){var i=e+" is deprecated, please use "+t+" instead.";n&&(i+=" Will be removed in "+n),r.warn(i)},deprecatedMethod:function(e,t,n,i){r.deprecated(e,t,i),"function"==typeof this[t]&&this[t].apply(this,n)},cleanupAttrs:function(e,t){t.forEach(function(t){e.removeAttribute(t)})},cleanupTags:function(e,t){t.indexOf(e.nodeName.toLowerCase())!==-1&&e.parentNode.removeChild(e)},unwrapTags:function(e,t){t.indexOf(e.nodeName.toLowerCase())!==-1&&MediumEditor.util.unwrap(e,document)},getClosestTag:function(e,t){return r.traverseUp(e,function(e){return e.nodeName.toLowerCase()===t.toLowerCase()})},unwrap:function(e,t){for(var n=t.createDocumentFragment(),i=Array.prototype.slice.call(e.childNodes),r=0;r<i.length;r++)n.appendChild(i[r]);n.childNodes.length?e.parentNode.replaceChild(n,e):e.parentNode.removeChild(e)},guid:function(){function _s4(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return _s4()+_s4()+"-"+_s4()+"-"+_s4()+"-"+_s4()+"-"+_s4()+_s4()+_s4()}};MediumEditor.util=r}(window),function(){var e=function(e){MediumEditor.util.extend(this,e)};e.extend=function(e){var t,n=this;t=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return n.apply(this,arguments)},MediumEditor.util.extend(t,n);var i=function(){this.constructor=t};return i.prototype=n.prototype,t.prototype=new i,e&&MediumEditor.util.extend(t.prototype,e),t},e.prototype={init:function(){},base:void 0,name:void 0,checkState:void 0,destroy:void 0,queryCommandState:void 0,isActive:void 0,isAlreadyApplied:void 0,setActive:void 0,setInactive:void 0,getInteractionElements:void 0,window:void 0,document:void 0,getEditorElements:function(){return this.base.elements},getEditorId:function(){return this.base.id},getEditorOption:function(e){return this.base.options[e]}},["execAction","on","off","subscribe","trigger"].forEach(function(t){e.prototype[t]=function(){return this.base[t].apply(this.base,arguments)}}),MediumEditor.Extension=e}(),function(){function filterOnlyParentElements(e){return MediumEditor.util.isBlockContainer(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}var e={findMatchingSelectionParent:function(e,t){var n,i,r=t.getSelection();return 0!==r.rangeCount&&(n=r.getRangeAt(0),i=n.commonAncestorContainer,MediumEditor.util.traverseUp(i,e))},getSelectionElement:function(e){return this.findMatchingSelectionParent(function(e){return MediumEditor.util.isMediumEditorElement(e)},e)},exportSelection:function(e,t){if(!e)return null;var n=null,i=t.getSelection();if(i.rangeCount>0){var r,o=i.getRangeAt(0),a=o.cloneRange();a.selectNodeContents(e),a.setEnd(o.startContainer,o.startOffset),r=a.toString().length,n={start:r,end:r+o.toString().length},this.doesRangeStartWithImages(o,t)&&(n.startsWithImage=!0);var s=this.getTrailingImageCount(e,n,o.endContainer,o.endOffset);if(s&&(n.trailingImageCount=s),0!==r){var l=this.getIndexRelativeToAdjacentEmptyBlocks(t,e,o.startContainer,o.startOffset);l!==-1&&(n.emptyBlocksIndex=l)}}return n},importSelection:function(e,t,n,i){if(e&&t){var r=n.createRange();r.setStart(t,0),r.collapse(!0);var o,a=t,s=[],l=0,c=!1,u=!1,d=0,h=!1,m=!1,p=null;for((i||e.startsWithImage||"undefined"!=typeof e.emptyBlocksIndex)&&(m=!0);!h&&a;)if(a.nodeType>3)a=s.pop();else{if(3!==a.nodeType||u){if(e.trailingImageCount&&u&&("img"===a.nodeName.toLowerCase()&&d++,d===e.trailingImageCount)){for(var f=0;a.parentNode.childNodes[f]!==a;)f++;r.setEnd(a.parentNode,f+1),h=!0}if(!h&&1===a.nodeType)for(var g=a.childNodes.length-1;g>=0;)s.push(a.childNodes[g]),g-=1}else o=l+a.length,!c&&e.start>=l&&e.start<=o&&(m||e.start<o?(r.setStart(a,e.start-l),
c=!0):p=a),c&&e.end>=l&&e.end<=o&&(e.trailingImageCount?u=!0:(r.setEnd(a,e.end-l),h=!0)),l=o;h||(a=s.pop())}!c&&p&&(r.setStart(p,p.length),r.setEnd(p,p.length)),"undefined"!=typeof e.emptyBlocksIndex&&(r=this.importSelectionMoveCursorPastBlocks(n,t,e.emptyBlocksIndex,r)),i&&(r=this.importSelectionMoveCursorPastAnchor(e,r)),this.selectRange(n,r)}},importSelectionMoveCursorPastAnchor:function(e,t){var n=function(e){return"a"===e.nodeName.toLowerCase()};if(e.start===e.end&&3===t.startContainer.nodeType&&t.startOffset===t.startContainer.nodeValue.length&&MediumEditor.util.traverseUp(t.startContainer,n)){for(var i=t.startContainer,r=t.startContainer.parentNode;null!==r&&"a"!==r.nodeName.toLowerCase();)r.childNodes[r.childNodes.length-1]!==i?r=null:(i=r,r=r.parentNode);if(null!==r&&"a"===r.nodeName.toLowerCase()){for(var o=null,a=0;null===o&&a<r.parentNode.childNodes.length;a++)r.parentNode.childNodes[a]===r&&(o=a);t.setStart(r.parentNode,o+1),t.collapse(!0)}}return t},importSelectionMoveCursorPastBlocks:function(e,t,n,i){var r,o,a=e.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,filterOnlyParentElements,!1),s=i.startContainer,l=0;for(n=n||1,r=3===s.nodeType&&MediumEditor.util.isBlockContainer(s.previousSibling)?s.previousSibling:MediumEditor.util.getClosestBlockContainer(s);a.nextNode();)if(o){if(o=a.currentNode,l++,l===n)break;if(o.textContent.length>0)break}else r===a.currentNode&&(o=a.currentNode);return o||(o=r),i.setStart(MediumEditor.util.getFirstSelectableLeafNode(o),0),i},getIndexRelativeToAdjacentEmptyBlocks:function(e,t,n,i){if(n.textContent.length>0&&i>0)return-1;var r=n;if(3!==r.nodeType&&(r=n.childNodes[i]),r){if(!MediumEditor.util.isElementAtBeginningOfBlock(r))return-1;var o=MediumEditor.util.findPreviousSibling(r);if(!o)return-1;if(o.nodeValue)return-1}for(var a=MediumEditor.util.getClosestBlockContainer(n),s=e.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,filterOnlyParentElements,!1),l=0;s.nextNode();){var c=""===s.currentNode.textContent;if((c||l>0)&&(l+=1),s.currentNode===a)return l;c||(l=0)}return l},doesRangeStartWithImages:function(e,t){if(0!==e.startOffset||1!==e.startContainer.nodeType)return!1;if("img"===e.startContainer.nodeName.toLowerCase())return!0;var n=e.startContainer.querySelector("img");if(!n)return!1;for(var i=t.createTreeWalker(e.startContainer,NodeFilter.SHOW_ALL,null,!1);i.nextNode();){var r=i.currentNode;if(r===n)break;if(r.nodeValue)return!1}return!0},getTrailingImageCount:function(e,t,n,i){if(0===i||1!==n.nodeType)return 0;if("img"!==n.nodeName.toLowerCase()&&!n.querySelector("img"))return 0;for(var r=n.childNodes[i-1];r.hasChildNodes();)r=r.lastChild;for(var o,a=e,s=[],l=0,c=!1,u=!1,d=!1,h=0;!d&&a;)if(a.nodeType>3)a=s.pop();else{if(3!==a.nodeType||u){if("img"===a.nodeName.toLowerCase()&&h++,a===r)d=!0;else if(1===a.nodeType)for(var m=a.childNodes.length-1;m>=0;)s.push(a.childNodes[m]),m-=1}else h=0,o=l+a.length,!c&&t.start>=l&&t.start<=o&&(c=!0),c&&t.end>=l&&t.end<=o&&(u=!0),l=o;d||(a=s.pop())}return h},selectionContainsContent:function(e){var t=e.getSelection();if(!t||t.isCollapsed||!t.rangeCount)return!1;if(""!==t.toString().trim())return!0;var n=this.getSelectedParentElement(t.getRangeAt(0));return!(!n||!("img"===n.nodeName.toLowerCase()||1===n.nodeType&&n.querySelector("img")))},selectionInContentEditableFalse:function(e){var t,n=this.findMatchingSelectionParent(function(e){var n=e&&e.getAttribute("contenteditable");return"true"===n&&(t=!0),"#text"!==e.nodeName&&"false"===n},e);return!t&&n},getSelectionHtml:function(e){var t,n,i,r="",o=e.getSelection();if(o.rangeCount){for(i=e.createElement("div"),t=0,n=o.rangeCount;t<n;t+=1)i.appendChild(o.getRangeAt(t).cloneContents());r=i.innerHTML}return r},getCaretOffsets:function(e,t){var n,i;return t||(t=window.getSelection().getRangeAt(0)),n=t.cloneRange(),i=t.cloneRange(),n.selectNodeContents(e),n.setEnd(t.endContainer,t.endOffset),i.selectNodeContents(e),i.setStart(t.endContainer,t.endOffset),{left:n.toString().length,right:i.toString().length}},rangeSelectsSingleNode:function(e){var t=e.startContainer;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===e.startOffset+1},getSelectedParentElement:function(e){return e?this.rangeSelectsSingleNode(e)&&3!==e.startContainer.childNodes[e.startOffset].nodeType?e.startContainer.childNodes[e.startOffset]:3===e.startContainer.nodeType?e.startContainer.parentNode:e.startContainer:null},getSelectedElements:function(e){var t,n,i,r=e.getSelection();if(!r.rangeCount||r.isCollapsed||!r.getRangeAt(0).commonAncestorContainer)return[];if(t=r.getRangeAt(0),3===t.commonAncestorContainer.nodeType){for(n=[],i=t.commonAncestorContainer;i.parentNode&&1===i.parentNode.childNodes.length;)n.push(i.parentNode),i=i.parentNode;return n}return[].filter.call(t.commonAncestorContainer.getElementsByTagName("*"),function(e){return"function"!=typeof r.containsNode||r.containsNode(e,!0)})},selectNode:function(e,t){var n=t.createRange();n.selectNodeContents(e),this.selectRange(t,n)},select:function(e,t,n,i,r){var o=e.createRange();return o.setStart(t,n),i?o.setEnd(i,r):o.collapse(!0),this.selectRange(e,o),o},clearSelection:function(e,t){t?e.getSelection().collapseToStart():e.getSelection().collapseToEnd()},moveCursor:function(e,t,n){this.select(e,t,n)},getSelectionRange:function(e){var t=e.getSelection();return 0===t.rangeCount?null:t.getRangeAt(0)},selectRange:function(e,t){var n=e.getSelection();n.removeAllRanges(),n.addRange(t)},getSelectionStart:function(e){var t=e.getSelection().anchorNode,n=t&&3===t.nodeType?t.parentNode:t;return n}};MediumEditor.selection=e}(),function(){function isElementDescendantOfExtension(e,t){return e.some(function(e){if("function"!=typeof e.getInteractionElements)return!1;var n=e.getInteractionElements();return!!n&&(Array.isArray(n)||(n=[n]),n.some(function(e){return MediumEditor.util.isDescendant(e,t,!0)}))})}var e=function(e){this.base=e,this.options=this.base.options,this.events=[],this.disabledEvents={},this.customEvents={},this.listeners={}};e.prototype={InputEventOnContenteditableSupported:!MediumEditor.util.isIE&&!MediumEditor.util.isEdge,attachDOMEvent:function(e,t,n,i){var r=this.base.options.contentWindow,o=this.base.options.ownerDocument;e=MediumEditor.util.isElement(e)||[r,o].indexOf(e)>-1?[e]:e,Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n,i),this.events.push([e,t,n,i])}.bind(this))},detachDOMEvent:function(e,t,n,i){var r,o,a=this.base.options.contentWindow,s=this.base.options.ownerDocument;null!==e&&(e=MediumEditor.util.isElement(e)||[a,s].indexOf(e)>-1?[e]:e,Array.prototype.forEach.call(e,function(e){r=this.indexOfListener(e,t,n,i),r!==-1&&(o=this.events.splice(r,1)[0],o[0].removeEventListener(o[1],o[2],o[3]))}.bind(this)))},indexOfListener:function(e,t,n,i){var r,o,a;for(r=0,o=this.events.length;r<o;r+=1)if(a=this.events[r],a[0]===e&&a[1]===t&&a[2]===n&&a[3]===i)return r;return-1},detachAllDOMEvents:function(){for(var e=this.events.pop();e;)e[0].removeEventListener(e[1],e[2],e[3]),e=this.events.pop()},detachAllEventsFromElement:function(e){for(var t=this.events.filter(function(t){return t&&t[0].getAttribute&&t[0].getAttribute("medium-editor-index")===e.getAttribute("medium-editor-index")}),n=0,i=t.length;n<i;n++){var r=t[n];this.detachDOMEvent(r[0],r[1],r[2],r[3])}},attachAllEventsToElement:function(e){this.listeners.editableInput&&(this.contentCache[e.getAttribute("medium-editor-index")]=e.innerHTML),this.eventsCache&&this.eventsCache.forEach(function(t){this.attachDOMEvent(e,t.name,t.handler.bind(this))},this)},enableCustomEvent:function(e){void 0!==this.disabledEvents[e]&&delete this.disabledEvents[e]},disableCustomEvent:function(e){this.disabledEvents[e]=!0},attachCustomEvent:function(e,t){this.setupListener(e),this.customEvents[e]||(this.customEvents[e]=[]),this.customEvents[e].push(t)},detachCustomEvent:function(e,t){var n=this.indexOfCustomListener(e,t);n!==-1&&this.customEvents[e].splice(n,1)},indexOfCustomListener:function(e,t){return this.customEvents[e]&&this.customEvents[e].length?this.customEvents[e].indexOf(t):-1},detachAllCustomEvents:function(){this.customEvents={}},triggerCustomEvent:function(e,t,n){this.customEvents[e]&&!this.disabledEvents[e]&&this.customEvents[e].forEach(function(e){e(t,n)})},destroy:function(){this.detachAllDOMEvents(),this.detachAllCustomEvents(),this.detachExecCommand(),this.base.elements&&this.base.elements.forEach(function(e){e.removeAttribute("data-medium-focused")})},attachToExecCommand:function(){this.execCommandListener||(this.execCommandListener=function(e){this.handleDocumentExecCommand(e)}.bind(this),this.wrapExecCommand(),this.options.ownerDocument.execCommand.listeners.push(this.execCommandListener))},detachExecCommand:function(){var e=this.options.ownerDocument;if(this.execCommandListener&&e.execCommand.listeners){var t=e.execCommand.listeners.indexOf(this.execCommandListener);t!==-1&&e.execCommand.listeners.splice(t,1),e.execCommand.listeners.length||this.unwrapExecCommand()}},wrapExecCommand:function(){var e=this.options.ownerDocument;if(!e.execCommand.listeners){var t=function(t,n){e.execCommand.listeners&&e.execCommand.listeners.forEach(function(e){e({command:t[0],value:t[2],args:t,result:n})})},n=function(){var n=e.execCommand.orig.apply(this,arguments);if(!e.execCommand.listeners)return n;var i=Array.prototype.slice.call(arguments);return t(i,n),n};n.orig=e.execCommand,n.listeners=[],n.callListeners=t,e.execCommand=n}},unwrapExecCommand:function(){var e=this.options.ownerDocument;e.execCommand.orig&&(e.execCommand=e.execCommand.orig)},setupListener:function(e){if(!this.listeners[e]){switch(e){case"externalInteraction":this.attachDOMEvent(this.options.ownerDocument.body,"mousedown",this.handleBodyMousedown.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"click",this.handleBodyClick.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"focus",this.handleBodyFocus.bind(this),!0);break;case"blur":this.setupListener("externalInteraction");break;case"focus":this.setupListener("externalInteraction");break;case"editableInput":this.contentCache={},this.base.elements.forEach(function(e){this.contentCache[e.getAttribute("medium-editor-index")]=e.innerHTML},this),this.InputEventOnContenteditableSupported&&this.attachToEachElement("input",this.handleInput),this.InputEventOnContenteditableSupported||(this.setupListener("editableKeypress"),this.keypressUpdateInput=!0,this.attachDOMEvent(document,"selectionchange",this.handleDocumentSelectionChange.bind(this)),this.attachToExecCommand());break;case"editableClick":this.attachToEachElement("click",this.handleClick);break;case"editableBlur":this.attachToEachElement("blur",this.handleBlur);break;case"editableKeypress":this.attachToEachElement("keypress",this.handleKeypress);break;case"editableKeyup":this.attachToEachElement("keyup",this.handleKeyup);break;case"editableKeydown":this.attachToEachElement("keydown",this.handleKeydown);break;case"editableKeydownSpace":this.setupListener("editableKeydown");break;case"editableKeydownEnter":this.setupListener("editableKeydown");break;case"editableKeydownTab":this.setupListener("editableKeydown");break;case"editableKeydownDelete":this.setupListener("editableKeydown");break;case"editableMouseover":this.attachToEachElement("mouseover",this.handleMouseover);break;case"editableDrag":this.attachToEachElement("dragover",this.handleDragging),this.attachToEachElement("dragleave",this.handleDragging);break;case"editableDrop":this.attachToEachElement("drop",this.handleDrop);break;case"editablePaste":this.attachToEachElement("paste",this.handlePaste)}this.listeners[e]=!0}},attachToEachElement:function(e,t){this.eventsCache||(this.eventsCache=[]),this.base.elements.forEach(function(n){this.attachDOMEvent(n,e,t.bind(this))},this),this.eventsCache.push({name:e,handler:t})},cleanupElement:function(e){var t=e.getAttribute("medium-editor-index");t&&(this.detachAllEventsFromElement(e),this.contentCache&&delete this.contentCache[t])},focusElement:function(e){e.focus(),this.updateFocus(e,{target:e,type:"focus"})},updateFocus:function(e,t){var n,i=this.base.getFocusedElement();i&&"click"===t.type&&this.lastMousedownTarget&&(MediumEditor.util.isDescendant(i,this.lastMousedownTarget,!0)||isElementDescendantOfExtension(this.base.extensions,this.lastMousedownTarget))&&(n=i),n||this.base.elements.some(function(t){return!n&&MediumEditor.util.isDescendant(t,e,!0)&&(n=t),!!n},this);var r=!MediumEditor.util.isDescendant(i,e,!0)&&!isElementDescendantOfExtension(this.base.extensions,e);n!==i&&(i&&r&&(i.removeAttribute("data-medium-focused"),this.triggerCustomEvent("blur",t,i)),n&&(n.setAttribute("data-medium-focused",!0),this.triggerCustomEvent("focus",t,n))),r&&this.triggerCustomEvent("externalInteraction",t)},updateInput:function(e,t){if(this.contentCache){var n=e.getAttribute("medium-editor-index"),i=e.innerHTML;i!==this.contentCache[n]&&this.triggerCustomEvent("editableInput",t,e),this.contentCache[n]=i}},handleDocumentSelectionChange:function(e){if(e.currentTarget&&e.currentTarget.activeElement){var t,n=e.currentTarget.activeElement;this.base.elements.some(function(e){return!!MediumEditor.util.isDescendant(e,n,!0)&&(t=e,!0)},this),t&&this.updateInput(t,{target:n,currentTarget:t})}},handleDocumentExecCommand:function(){var e=this.base.getFocusedElement();e&&this.updateInput(e,{target:e,currentTarget:e})},handleBodyClick:function(e){this.updateFocus(e.target,e)},handleBodyFocus:function(e){this.updateFocus(e.target,e)},handleBodyMousedown:function(e){this.lastMousedownTarget=e.target},handleInput:function(e){this.updateInput(e.currentTarget,e)},handleClick:function(e){this.triggerCustomEvent("editableClick",e,e.currentTarget)},handleBlur:function(e){this.triggerCustomEvent("editableBlur",e,e.currentTarget)},handleKeypress:function(e){if(this.triggerCustomEvent("editableKeypress",e,e.currentTarget),this.keypressUpdateInput){var t={target:e.target,currentTarget:e.currentTarget};setTimeout(function(){this.updateInput(t.currentTarget,t)}.bind(this),0)}},handleKeyup:function(e){this.triggerCustomEvent("editableKeyup",e,e.currentTarget)},handleMouseover:function(e){this.triggerCustomEvent("editableMouseover",e,e.currentTarget)},handleDragging:function(e){this.triggerCustomEvent("editableDrag",e,e.currentTarget)},handleDrop:function(e){this.triggerCustomEvent("editableDrop",e,e.currentTarget)},handlePaste:function(e){this.triggerCustomEvent("editablePaste",e,e.currentTarget)},handleKeydown:function(e){return this.triggerCustomEvent("editableKeydown",e,e.currentTarget),MediumEditor.util.isKey(e,MediumEditor.util.keyCode.SPACE)?this.triggerCustomEvent("editableKeydownSpace",e,e.currentTarget):MediumEditor.util.isKey(e,MediumEditor.util.keyCode.ENTER)||e.ctrlKey&&MediumEditor.util.isKey(e,MediumEditor.util.keyCode.M)?this.triggerCustomEvent("editableKeydownEnter",e,e.currentTarget):MediumEditor.util.isKey(e,MediumEditor.util.keyCode.TAB)?this.triggerCustomEvent("editableKeydownTab",e,e.currentTarget):MediumEditor.util.isKey(e,[MediumEditor.util.keyCode.DELETE,MediumEditor.util.keyCode.BACKSPACE])?this.triggerCustomEvent("editableKeydownDelete",e,e.currentTarget):void 0}},MediumEditor.Events=e}(),function(){var e=MediumEditor.Extension.extend({action:void 0,aria:void 0,tagNames:void 0,style:void 0,useQueryState:void 0,contentDefault:void 0,contentFA:void 0,classList:void 0,attrs:void 0,constructor:function(t){e.isBuiltInButton(t)?MediumEditor.Extension.call(this,this.defaults[t]):MediumEditor.Extension.call(this,t)},init:function(){MediumEditor.Extension.prototype.init.apply(this,arguments),this.button=this.createButton(),this.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},getAction:function(){return"function"==typeof this.action?this.action(this.base.options):this.action},getAria:function(){return"function"==typeof this.aria?this.aria(this.base.options):this.aria},getTagNames:function(){return"function"==typeof this.tagNames?this.tagNames(this.base.options):this.tagNames},createButton:function(){var e=this.document.createElement("button"),t=this.contentDefault,n=this.getAria(),i=this.getEditorOption("buttonLabels");return e.classList.add("medium-editor-action"),e.classList.add("medium-editor-action-"+this.name),this.classList&&this.classList.forEach(function(t){e.classList.add(t)}),e.setAttribute("data-action",this.getAction()),n&&(e.setAttribute("title",n),e.setAttribute("aria-label",n)),this.attrs&&Object.keys(this.attrs).forEach(function(t){e.setAttribute(t,this.attrs[t])},this),"fontawesome"===i&&this.contentFA&&(t=this.contentFA),e.innerHTML=t,e},handleClick:function(e){e.preventDefault(),e.stopPropagation();var t=this.getAction();t&&this.execAction(t)},isActive:function(){return this.button.classList.contains(this.getEditorOption("activeButtonClass"))},setInactive:function(){this.button.classList.remove(this.getEditorOption("activeButtonClass")),delete this.knownState},setActive:function(){this.button.classList.add(this.getEditorOption("activeButtonClass")),delete this.knownState},queryCommandState:function(){var e=null;return this.useQueryState&&(e=this.base.queryCommandState(this.getAction())),e},isAlreadyApplied:function(e){var t,n,i=!1,r=this.getTagNames();return this.knownState===!1||this.knownState===!0?this.knownState:(r&&r.length>0&&(i=r.indexOf(e.nodeName.toLowerCase())!==-1),!i&&this.style&&(t=this.style.value.split("|"),n=this.window.getComputedStyle(e,null).getPropertyValue(this.style.prop),t.forEach(function(e){this.knownState||(i=n.indexOf(e)!==-1,(i||"text-decoration"!==this.style.prop)&&(this.knownState=i))},this)),i)}});e.isBuiltInButton=function(e){return"string"==typeof e&&MediumEditor.extensions.button.prototype.defaults.hasOwnProperty(e)},MediumEditor.extensions.button=e}(),function(){MediumEditor.extensions.button.prototype.defaults={bold:{name:"bold",action:"bold",aria:"bold",tagNames:["b","strong"],style:{prop:"font-weight",value:"700|bold"},useQueryState:!0,contentDefault:"<b>B</b>",contentFA:'<i class="fa fa-bold"></i>'},italic:{name:"italic",action:"italic",aria:"italic",tagNames:["i","em"],style:{prop:"font-style",value:"italic"},useQueryState:!0,contentDefault:"<b><i>I</i></b>",contentFA:'<i class="fa fa-italic"></i>'},underline:{name:"underline",action:"underline",aria:"underline",tagNames:["u"],style:{prop:"text-decoration",value:"underline"},useQueryState:!0,contentDefault:"<b><u>U</u></b>",contentFA:'<i class="fa fa-underline"></i>'},strikethrough:{name:"strikethrough",action:"strikethrough",aria:"strike through",tagNames:["strike"],style:{prop:"text-decoration",value:"line-through"},useQueryState:!0,contentDefault:"<s>A</s>",contentFA:'<i class="fa fa-strikethrough"></i>'},superscript:{name:"superscript",action:"superscript",aria:"superscript",tagNames:["sup"],contentDefault:"<b>x<sup>1</sup></b>",contentFA:'<i class="fa fa-superscript"></i>'},subscript:{name:"subscript",action:"subscript",aria:"subscript",tagNames:["sub"],contentDefault:"<b>x<sub>1</sub></b>",contentFA:'<i class="fa fa-subscript"></i>'},image:{name:"image",action:"image",aria:"image",tagNames:["img"],contentDefault:"<b>image</b>",contentFA:'<i class="fa fa-picture-o"></i>'},html:{name:"html",action:"html",aria:"evaluate html",tagNames:["iframe","object"],contentDefault:"<b>html</b>",contentFA:'<i class="fa fa-code"></i>'},orderedlist:{name:"orderedlist",action:"insertorderedlist",aria:"ordered list",tagNames:["ol"],useQueryState:!0,contentDefault:"<b>1.</b>",contentFA:'<i class="fa fa-list-ol"></i>'},unorderedlist:{name:"unorderedlist",action:"insertunorderedlist",aria:"unordered list",tagNames:["ul"],useQueryState:!0,contentDefault:"<b>&bull;</b>",contentFA:'<i class="fa fa-list-ul"></i>'},indent:{name:"indent",action:"indent",aria:"indent",tagNames:[],contentDefault:"<b>&rarr;</b>",contentFA:'<i class="fa fa-indent"></i>'},outdent:{name:"outdent",action:"outdent",aria:"outdent",tagNames:[],contentDefault:"<b>&larr;</b>",contentFA:'<i class="fa fa-outdent"></i>'},justifyCenter:{name:"justifyCenter",action:"justifyCenter",aria:"center justify",tagNames:[],style:{prop:"text-align",value:"center"},contentDefault:"<b>C</b>",contentFA:'<i class="fa fa-align-center"></i>'},justifyFull:{name:"justifyFull",action:"justifyFull",aria:"full justify",tagNames:[],style:{prop:"text-align",value:"justify"},contentDefault:"<b>J</b>",contentFA:'<i class="fa fa-align-justify"></i>'},justifyLeft:{name:"justifyLeft",action:"justifyLeft",aria:"left justify",tagNames:[],style:{prop:"text-align",value:"left"},contentDefault:"<b>L</b>",contentFA:'<i class="fa fa-align-left"></i>'},justifyRight:{name:"justifyRight",action:"justifyRight",aria:"right justify",tagNames:[],style:{prop:"text-align",value:"right"},contentDefault:"<b>R</b>",contentFA:'<i class="fa fa-align-right"></i>'},removeFormat:{name:"removeFormat",aria:"remove formatting",action:"removeFormat",contentDefault:"<b>X</b>",contentFA:'<i class="fa fa-eraser"></i>'},quote:{name:"quote",action:"append-blockquote",aria:"blockquote",tagNames:["blockquote"],contentDefault:"<b>&ldquo;</b>",contentFA:'<i class="fa fa-quote-right"></i>'},pre:{name:"pre",action:"append-pre",aria:"preformatted text",tagNames:["pre"],contentDefault:"<b>0101</b>",contentFA:'<i class="fa fa-code fa-lg"></i>'},h1:{name:"h1",action:"append-h1",aria:"header type one",tagNames:["h1"],contentDefault:"<b>H1</b>",contentFA:'<i class="fa fa-header"><sup>1</sup>'},h2:{name:"h2",action:"append-h2",aria:"header type two",tagNames:["h2"],contentDefault:"<b>H2</b>",contentFA:'<i class="fa fa-header"><sup>2</sup>'},h3:{name:"h3",action:"append-h3",aria:"header type three",tagNames:["h3"],contentDefault:"<b>H3</b>",contentFA:'<i class="fa fa-header"><sup>3</sup>'},h4:{name:"h4",action:"append-h4",aria:"header type four",tagNames:["h4"],contentDefault:"<b>H4</b>",contentFA:'<i class="fa fa-header"><sup>4</sup>'},h5:{name:"h5",action:"append-h5",aria:"header type five",tagNames:["h5"],contentDefault:"<b>H5</b>",contentFA:'<i class="fa fa-header"><sup>5</sup>'},h6:{name:"h6",action:"append-h6",aria:"header type six",tagNames:["h6"],contentDefault:"<b>H6</b>",contentFA:'<i class="fa fa-header"><sup>6</sup>'}}}(),function(){var e=MediumEditor.extensions.button.extend({init:function(){MediumEditor.extensions.button.prototype.init.apply(this,arguments)},formSaveLabel:"&#10003;",formCloseLabel:"&times;",activeClass:"medium-editor-toolbar-form-active",hasForm:!0,getForm:function(){},isDisplayed:function(){return!!this.hasForm&&this.getForm().classList.contains(this.activeClass)},showForm:function(){this.hasForm&&this.getForm().classList.add(this.activeClass)},hideForm:function(){this.hasForm&&this.getForm().classList.remove(this.activeClass)},showToolbarDefaultActions:function(){var e=this.base.getExtensionByName("toolbar");e&&e.showToolbarDefaultActions()},hideToolbarDefaultActions:function(){var e=this.base.getExtensionByName("toolbar");e&&e.hideToolbarDefaultActions()},setToolbarPosition:function(){var e=this.base.getExtensionByName("toolbar");e&&e.setToolbarPosition()}});MediumEditor.extensions.form=e}(),function(){var e=MediumEditor.extensions.form.extend({customClassOption:null,customClassOptionText:"Button",linkValidation:!1,placeholderText:"Paste or type a link",targetCheckbox:!1,targetCheckboxText:"Open in new window",name:"anchor",action:"createLink",aria:"link",tagNames:["a"],contentDefault:"<b>#</b>",contentFA:'<i class="fa fa-link"></i>',init:function(){MediumEditor.extensions.form.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this))},handleClick:function(e){e.preventDefault(),e.stopPropagation();var t=MediumEditor.selection.getSelectionRange(this.document);return"a"===t.startContainer.nodeName.toLowerCase()||"a"===t.endContainer.nodeName.toLowerCase()||MediumEditor.util.getClosestTag(MediumEditor.selection.getSelectedParentElement(t),"a")?this.execAction("unlink"):(this.isDisplayed()||this.showForm(),!1)},handleKeydown:function(e){MediumEditor.util.isKey(e,MediumEditor.util.keyCode.K)&&MediumEditor.util.isMetaCtrlKey(e)&&!e.shiftKey&&this.handleClick(e)},getForm:function(){return this.form||(this.form=this.createForm()),this.form},getTemplate:function(){var e=['<input type="text" class="medium-editor-toolbar-input" placeholder="',this.placeholderText,'">'];return e.push('<a href="#" class="medium-editor-toolbar-save">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':this.formSaveLabel,"</a>"),e.push('<a href="#" class="medium-editor-toolbar-close">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':this.formCloseLabel,"</a>"),this.targetCheckbox&&e.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-target">',"<label>",this.targetCheckboxText,"</label>","</div>"),this.customClassOption&&e.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-button">',"<label>",this.customClassOptionText,"</label>","</div>"),e.join("")},isDisplayed:function(){return MediumEditor.extensions.form.prototype.isDisplayed.apply(this)},hideForm:function(){MediumEditor.extensions.form.prototype.hideForm.apply(this),this.getInput().value=""},showForm:function(e){var t=this.getInput(),n=this.getAnchorTargetCheckbox(),i=this.getAnchorButtonCheckbox();if(e=e||{value:""},"string"==typeof e&&(e={value:e}),this.base.saveSelection(),this.hideToolbarDefaultActions(),MediumEditor.extensions.form.prototype.showForm.apply(this),this.setToolbarPosition(),t.value=e.value,t.focus(),n&&(n.checked="_blank"===e.target),i){var r=e.buttonClass?e.buttonClass.split(" "):[];i.checked=r.indexOf(this.customClassOption)!==-1}},destroy:function(){return!!this.form&&(this.form.parentNode&&this.form.parentNode.removeChild(this.form),void delete this.form)},getFormOpts:function(){var e=this.getAnchorTargetCheckbox(),t=this.getAnchorButtonCheckbox(),n={value:this.getInput().value.trim()};return this.linkValidation&&(n.value=this.checkLinkFormat(n.value)),n.target="_self",e&&e.checked&&(n.target="_blank"),t&&t.checked&&(n.buttonClass=this.customClassOption),n},doFormSave:function(){var e=this.getFormOpts();this.completeFormSave(e)},completeFormSave:function(e){this.base.restoreSelection(),this.execAction(this.action,e),this.base.checkSelection()},ensureEncodedUri:function(e){return e===decodeURI(e)?encodeURI(e):e},ensureEncodedUriComponent:function(e){return e===decodeURIComponent(e)?encodeURIComponent(e):e},ensureEncodedParam:function(e){var t=e.split("="),n=t[0],i=t[1];return n+(void 0===i?"":"="+this.ensureEncodedUriComponent(i))},ensureEncodedQuery:function(e){return e.split("&").map(this.ensureEncodedParam.bind(this)).join("&")},checkLinkFormat:function(e){var t=/^([a-z]+:)?\/\/|^(mailto|tel|maps):|^\#/i,n=t.test(e),i="",r=/^\+?\s?\(?(?:\d\s?\-?\)?){3,20}$/,o=e.match(/^(.*?)(?:\?(.*?))?(?:#(.*))?$/),a=o[1],s=o[2],l=o[3];if(r.test(e))return"tel:"+e;if(!n){var c=a.split("/")[0];(c.match(/.+(\.|:).+/)||"localhost"===c)&&(i="http://")}return i+this.ensureEncodedUri(a)+(void 0===s?"":"?"+this.ensureEncodedQuery(s))+(void 0===l?"":"#"+l)},doFormCancel:function(){this.base.restoreSelection(),this.base.checkSelection()},attachFormEvents:function(e){var t=e.querySelector(".medium-editor-toolbar-close"),n=e.querySelector(".medium-editor-toolbar-save"),i=e.querySelector(".medium-editor-toolbar-input");this.on(e,"click",this.handleFormClick.bind(this)),this.on(i,"keyup",this.handleTextboxKeyup.bind(this)),this.on(t,"click",this.handleCloseClick.bind(this)),this.on(n,"click",this.handleSaveClick.bind(this),!0)},createForm:function(){var e=this.document,t=e.createElement("div");return t.className="medium-editor-toolbar-form",t.id="medium-editor-toolbar-form-anchor-"+this.getEditorId(),t.innerHTML=this.getTemplate(),this.attachFormEvents(t),t},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},getAnchorTargetCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-target")},getAnchorButtonCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-button")},handleTextboxKeyup:function(e){return e.keyCode===MediumEditor.util.keyCode.ENTER?(e.preventDefault(),void this.doFormSave()):void(e.keyCode===MediumEditor.util.keyCode.ESCAPE&&(e.preventDefault(),this.doFormCancel()))},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault(),this.doFormSave()},handleCloseClick:function(e){e.preventDefault(),this.doFormCancel()}});MediumEditor.extensions.anchor=e}(),function(){var e=MediumEditor.Extension.extend({name:"anchor-preview",hideDelay:500,previewValueSelector:"a",showWhenToolbarIsVisible:!1,showOnEmptyLinks:!0,init:function(){this.anchorPreview=this.createPreview(),this.getEditorOption("elementsContainer").appendChild(this.anchorPreview),this.attachToEditables()},getInteractionElements:function(){return this.getPreviewElement()},getPreviewElement:function(){return this.anchorPreview},createPreview:function(){var e=this.document.createElement("div");return e.id="medium-editor-anchor-preview-"+this.getEditorId(),e.className="medium-editor-anchor-preview",e.innerHTML=this.getTemplate(),this.on(e,"click",this.handleClick.bind(this)),e},getTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <a class="medium-editor-toolbar-anchor-preview-inner"></a></div>'},destroy:function(){this.anchorPreview&&(this.anchorPreview.parentNode&&this.anchorPreview.parentNode.removeChild(this.anchorPreview),delete this.anchorPreview)},hidePreview:function(){this.anchorPreview&&this.anchorPreview.classList.remove("medium-editor-anchor-preview-active"),this.activeAnchor=null},showPreview:function(e){return!(!this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")&&!e.getAttribute("data-disable-preview"))||(this.previewValueSelector&&(this.anchorPreview.querySelector(this.previewValueSelector).textContent=e.attributes.href.value,this.anchorPreview.querySelector(this.previewValueSelector).href=e.attributes.href.value),this.anchorPreview.classList.add("medium-toolbar-arrow-over"),this.anchorPreview.classList.remove("medium-toolbar-arrow-under"),this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this.activeAnchor=e,this.positionPreview(),this.attachPreviewHandlers(),this)},positionPreview:function(e){e=e||this.activeAnchor;var t,n,i,r,o,a=this.window.innerWidth,s=this.anchorPreview.offsetHeight,l=e.getBoundingClientRect(),c=this.diffLeft,u=this.diffTop,d=this.getEditorOption("elementsContainer"),h=["absolute","fixed"].indexOf(window.getComputedStyle(d).getPropertyValue("position"))>-1,m={};t=this.anchorPreview.offsetWidth/2;var p=this.base.getExtensionByName("toolbar");p&&(c=p.diffLeft,u=p.diffTop),n=c-t,h?(r=d.getBoundingClientRect(),["top","left"].forEach(function(e){m[e]=l[e]-r[e]}),m.width=l.width,m.height=l.height,l=m,a=r.width,o=d.scrollTop):o=this.window.pageYOffset,i=l.left+l.width/2,o+=s+l.top+l.height-u-this.anchorPreview.offsetHeight,this.anchorPreview.style.top=Math.round(o)+"px",this.anchorPreview.style.right="initial",i<t?(this.anchorPreview.style.left=n+t+"px",this.anchorPreview.style.right="initial"):a-i<t?(this.anchorPreview.style.left="auto",this.anchorPreview.style.right=0):(this.anchorPreview.style.left=n+i+"px",this.anchorPreview.style.right="initial")},attachToEditables:function(){this.subscribe("editableMouseover",this.handleEditableMouseover.bind(this)),this.subscribe("positionedToolbar",this.handlePositionedToolbar.bind(this))},handlePositionedToolbar:function(){this.showWhenToolbarIsVisible||this.hidePreview()},handleClick:function(e){var t=this.base.getExtensionByName("anchor"),n=this.activeAnchor;t&&n&&(e.preventDefault(),this.base.selectElement(this.activeAnchor),this.base.delay(function(){
if(n){var e={value:n.attributes.href.value,target:n.getAttribute("target"),buttonClass:n.getAttribute("class")};t.showForm(e),n=null}}.bind(this))),this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null,this.off(this.activeAnchor,"mouseout",this.instanceHandleAnchorMouseout),this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(e){var t=MediumEditor.util.getClosestTag(e.target,"a");if(!1!==t){if(!this.showOnEmptyLinks&&(!/href=["']\S+["']/.test(t.outerHTML)||/href=["']#\S+["']/.test(t.outerHTML)))return!0;var n=this.base.getExtensionByName("toolbar");if(!this.showWhenToolbarIsVisible&&n&&n.isDisplayed&&n.isDisplayed())return!0;this.activeAnchor&&this.activeAnchor!==t&&this.detachPreviewHandlers(),this.anchorToPreview=t,this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this),this.on(this.anchorToPreview,"mouseout",this.instanceHandleAnchorMouseout),this.base.delay(function(){this.anchorToPreview&&this.showPreview(this.anchorToPreview)}.bind(this))}},handlePreviewMouseover:function(){this.lastOver=(new Date).getTime(),this.hovering=!0},handlePreviewMouseout:function(e){e.relatedTarget&&/anchor-preview/.test(e.relatedTarget.className)||(this.hovering=!1)},updatePreview:function(){if(this.hovering)return!0;var e=(new Date).getTime()-this.lastOver;e>this.hideDelay&&this.detachPreviewHandlers()},detachPreviewHandlers:function(){clearInterval(this.intervalTimer),this.instanceHandlePreviewMouseover&&(this.off(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.activeAnchor&&(this.off(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout))),this.hidePreview(),this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=(new Date).getTime(),this.hovering=!0,this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this),this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this),this.intervalTimer=setInterval(this.updatePreview.bind(this),200),this.on(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.on(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout)}});MediumEditor.extensions.anchorPreview=e}(),function(){function nodeIsNotInsideAnchorTag(e){return!MediumEditor.util.getClosestTag(e,"a")}var e,t,n,i,r;e=[" ","\t","\n","\r","","","","","","\u2028","\u2029"],t="com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw",n="(((?:(https?://|ftps?://|nntp://)|www\\d{0,3}[.]|[a-z0-9.\\-]+[.]("+t+")\\/)\\S+(?:[^\\s`!\\[\\]{};:'\".,?])))|(([a-z0-9\\-]+\\.)?[a-z0-9\\-]+\\.("+t+"))",i=new RegExp("^("+t+")$","i"),r=new RegExp(n,"gi");var o=MediumEditor.Extension.extend({init:function(){MediumEditor.Extension.prototype.init.apply(this,arguments),this.disableEventHandling=!1,this.subscribe("editableKeypress",this.onKeypress.bind(this)),this.subscribe("editableBlur",this.onBlur.bind(this)),this.document.execCommand("AutoUrlDetect",!1,!1)},isLastInstance:function(){for(var e=0,t=0;t<this.window._mediumEditors.length;t++){var n=this.window._mediumEditors[t];null!==n&&void 0!==n.getExtensionByName("autoLink")&&e++}return 1===e},destroy:function(){this.document.queryCommandSupported("AutoUrlDetect")&&this.isLastInstance()&&this.document.execCommand("AutoUrlDetect",!1,!0)},onBlur:function(e,t){this.performLinking(t)},onKeypress:function(e){this.disableEventHandling||MediumEditor.util.isKey(e,[MediumEditor.util.keyCode.SPACE,MediumEditor.util.keyCode.ENTER])&&(clearTimeout(this.performLinkingTimeout),this.performLinkingTimeout=setTimeout(function(){try{var t=this.base.exportSelection();this.performLinking(e.target)&&this.base.importSelection(t,!0)}catch(e){window.console&&window.console.error("Failed to perform linking",e),this.disableEventHandling=!0}}.bind(this),0))},performLinking:function(e){var t=MediumEditor.util.splitByBlockElements(e),n=!1;0===t.length&&(t=[e]);for(var i=0;i<t.length;i++)n=this.removeObsoleteAutoLinkSpans(t[i])||n,n=this.performLinkingWithinElement(t[i])||n;return this.base.events.updateInput(e,{target:e,currentTarget:e}),n},removeObsoleteAutoLinkSpans:function(e){if(!e||3===e.nodeType)return!1;for(var t=e.querySelectorAll('span[data-auto-link="true"]'),n=!1,i=0;i<t.length;i++){var r=t[i].textContent;if(r.indexOf("://")===-1&&(r=MediumEditor.util.ensureUrlHasProtocol(r)),t[i].getAttribute("data-href")!==r&&nodeIsNotInsideAnchorTag(t[i])){n=!0;var o=r.replace(/\s+$/,"");if(t[i].getAttribute("data-href")===o){var a=r.length-o.length,s=MediumEditor.util.splitOffDOMTree(t[i],this.splitTextBeforeEnd(t[i],a));t[i].parentNode.insertBefore(s,t[i].nextSibling)}else MediumEditor.util.unwrap(t[i],this.document)}}return n},splitTextBeforeEnd:function(e,t){for(var n=this.document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),i=!0;i;)i=null!==n.lastChild();for(var r,o,a;t>0&&null!==a;)r=n.currentNode,o=r.nodeValue,o.length>t?(a=r.splitText(o.length-t),t=0):(a=n.previousNode(),t-=o.length);return a},performLinkingWithinElement:function(e){for(var t=this.findLinkableText(e),n=!1,i=0;i<t.length;i++){var r=MediumEditor.util.findOrCreateMatchingTextNodes(this.document,e,t[i]);this.shouldNotLink(r)||this.createAutoLink(r,t[i].href)}return n},shouldNotLink:function(e){for(var t=!1,n=0;n<e.length&&t===!1;n++)t=!!MediumEditor.util.traverseUp(e[n],function(e){return"a"===e.nodeName.toLowerCase()||e.getAttribute&&"true"===e.getAttribute("data-auto-link")});return t},findLinkableText:function(t){for(var n=t.textContent,o=null,a=[];null!==(o=r.exec(n));){var s=!0,l=o.index+o[0].length;s=!(0!==o.index&&e.indexOf(n[o.index-1])===-1||l!==n.length&&e.indexOf(n[l])===-1),s=s&&(o[0].indexOf("/")!==-1||i.test(o[0].split(".").pop().split("?").shift())),s&&a.push({href:o[0],start:o.index,end:l})}return a},createAutoLink:function(e,t){t=MediumEditor.util.ensureUrlHasProtocol(t);var n=MediumEditor.util.createLink(this.document,e,t,this.getEditorOption("targetBlank")?"_blank":null),i=this.document.createElement("span");for(i.setAttribute("data-auto-link","true"),i.setAttribute("data-href",t),n.insertBefore(i,n.firstChild);n.childNodes.length>1;)i.appendChild(n.childNodes[1])}});MediumEditor.extensions.autoLink=o}(),function(){function clearClassNames(t){var n=MediumEditor.util.getContainerEditorElement(t),i=Array.prototype.slice.call(n.parentElement.querySelectorAll("."+e));i.forEach(function(t){t.classList.remove(e)})}var e="medium-editor-dragover",t=MediumEditor.Extension.extend({name:"fileDragging",allowedTypes:["image"],init:function(){MediumEditor.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(t){t.preventDefault(),t.dataTransfer.dropEffect="copy";var n=t.target.classList?t.target:t.target.parentElement;clearClassNames(n),"dragover"===t.type&&n.classList.add(e)},handleDrop:function(e){e.preventDefault(),e.stopPropagation(),this.base.selectElement(e.target);var t=this.base.exportSelection();t.start=t.end,this.base.importSelection(t),e.dataTransfer.files&&Array.prototype.slice.call(e.dataTransfer.files).forEach(function(e){this.isAllowedFile(e)&&e.type.match("image")&&this.insertImageFile(e)},this),clearClassNames(e.target)},isAllowedFile:function(e){return this.allowedTypes.some(function(t){return!!e.type.match(t)})},insertImageFile:function(e){if("function"==typeof FileReader){var t=new FileReader;t.readAsDataURL(e),t.addEventListener("load",function(e){var t=this.document.createElement("img");t.src=e.target.result,MediumEditor.util.insertHTMLCommand(this.document,t.outerHTML)}.bind(this))}}});MediumEditor.extensions.fileDragging=t}(),function(){var e=MediumEditor.Extension.extend({name:"keyboard-commands",commands:[{command:"bold",key:"B",meta:!0,shift:!1,alt:!1},{command:"italic",key:"I",meta:!0,shift:!1,alt:!1},{command:"underline",key:"U",meta:!0,shift:!1,alt:!1}],init:function(){MediumEditor.Extension.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.keys={},this.commands.forEach(function(e){var t=e.key.charCodeAt(0);this.keys[t]||(this.keys[t]=[]),this.keys[t].push(e)},this)},handleKeydown:function(e){var t=MediumEditor.util.getKeyCode(e);if(this.keys[t]){var n=MediumEditor.util.isMetaCtrlKey(e),i=!!e.shiftKey,r=!!e.altKey;this.keys[t].forEach(function(t){t.meta!==n||t.shift!==i||t.alt!==r&&void 0!==t.alt||(e.preventDefault(),e.stopPropagation(),"function"==typeof t.command?t.command.apply(this):!1!==t.command&&this.execAction(t.command))},this)}}});MediumEditor.extensions.keyboardCommands=e}(),function(){var e=MediumEditor.extensions.form.extend({name:"fontname",action:"fontName",aria:"change font name",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-font"></i>',fonts:["","Arial","Verdana","Times New Roman"],init:function(){MediumEditor.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(e){if(e.preventDefault(),e.stopPropagation(),!this.isDisplayed()){var t=this.document.queryCommandValue("fontName")+"";this.showForm(t)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getSelect().value=""},showForm:function(e){var t=this.getSelect();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),t.value=e||"",t.focus()},destroy:function(){return!!this.form&&(this.form.parentNode&&this.form.parentNode.removeChild(this.form),void delete this.form)},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontName(),this.base.checkSelection()},createForm:function(){var e,t=this.document,n=t.createElement("div"),i=t.createElement("select"),r=t.createElement("a"),o=t.createElement("a");n.className="medium-editor-toolbar-form",n.id="medium-editor-toolbar-form-fontname-"+this.getEditorId(),this.on(n,"click",this.handleFormClick.bind(this));for(var a=0;a<this.fonts.length;a++)e=t.createElement("option"),e.innerHTML=this.fonts[a],e.value=this.fonts[a],i.appendChild(e);return i.className="medium-editor-toolbar-select",n.appendChild(i),this.on(i,"change",this.handleFontChange.bind(this)),o.setAttribute("href","#"),o.className="medium-editor-toobar-save",o.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",n.appendChild(o),this.on(o,"click",this.handleSaveClick.bind(this),!0),r.setAttribute("href","#"),r.className="medium-editor-toobar-close",r.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",n.appendChild(r),this.on(r,"click",this.handleCloseClick.bind(this)),n},getSelect:function(){return this.getForm().querySelector("select.medium-editor-toolbar-select")},clearFontName:function(){MediumEditor.selection.getSelectedElements(this.document).forEach(function(e){"font"===e.nodeName.toLowerCase()&&e.hasAttribute("face")&&e.removeAttribute("face")})},handleFontChange:function(){var e=this.getSelect().value;""===e?this.clearFontName():this.execAction("fontName",{value:e})},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault(),this.doFormSave()},handleCloseClick:function(e){e.preventDefault(),this.doFormCancel()}});MediumEditor.extensions.fontName=e}(),function(){var e=MediumEditor.extensions.form.extend({name:"fontsize",action:"fontSize",aria:"increase/decrease font size",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-text-height"></i>',init:function(){MediumEditor.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(e){if(e.preventDefault(),e.stopPropagation(),!this.isDisplayed()){var t=this.document.queryCommandValue("fontSize")+"";this.showForm(t)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getInput().value=""},showForm:function(e){var t=this.getInput();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),t.value=e||"",t.focus()},destroy:function(){return!!this.form&&(this.form.parentNode&&this.form.parentNode.removeChild(this.form),void delete this.form)},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontSize(),this.base.checkSelection()},createForm:function(){var e=this.document,t=e.createElement("div"),n=e.createElement("input"),i=e.createElement("a"),r=e.createElement("a");return t.className="medium-editor-toolbar-form",t.id="medium-editor-toolbar-form-fontsize-"+this.getEditorId(),this.on(t,"click",this.handleFormClick.bind(this)),n.setAttribute("type","range"),n.setAttribute("min","1"),n.setAttribute("max","7"),n.className="medium-editor-toolbar-input",t.appendChild(n),this.on(n,"change",this.handleSliderChange.bind(this)),r.setAttribute("href","#"),r.className="medium-editor-toobar-save",r.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",t.appendChild(r),this.on(r,"click",this.handleSaveClick.bind(this),!0),i.setAttribute("href","#"),i.className="medium-editor-toobar-close",i.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",t.appendChild(i),this.on(i,"click",this.handleCloseClick.bind(this)),t},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},clearFontSize:function(){MediumEditor.selection.getSelectedElements(this.document).forEach(function(e){"font"===e.nodeName.toLowerCase()&&e.hasAttribute("size")&&e.removeAttribute("size")})},handleSliderChange:function(){var e=this.getInput().value;"4"===e?this.clearFontSize():this.execAction("fontSize",{value:e})},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault(),this.doFormSave()},handleCloseClick:function(e){e.preventDefault(),this.doFormCancel()}});MediumEditor.extensions.fontSize=e}(),function(){function createReplacements(){return[[new RegExp(/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/g),""],[new RegExp(/<!--StartFragment-->|<!--EndFragment-->/g),""],[new RegExp(/<br>$/i),""],[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:(bold|700)|font-weight:(bold|700);font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:(bold|700)[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a(?:(?!href).)+href=(?:&quot;|&rdquo;|&ldquo;|"||)(((?!&quot;|&rdquo;|&ldquo;|"||).)*)(?:&quot;|&rdquo;|&ldquo;|"||)(?:(?!&gt;).)*&gt;/gi),'<a href="$1">'],[new RegExp(/<\/p>\n+/gi),"</p>"],[new RegExp(/\n+<p/gi),"<p"],[new RegExp(/<\/?o:[a-z]*>/gi),""],[new RegExp(/<!\[if !supportLists\]>(((?!<!).)*)<!\[endif]\>/gi),"$1"]]}function getClipboardContent(e,t,n){var i=e.clipboardData||t.clipboardData||n.dataTransfer,r={};if(!i)return r;if(i.getData){var o=i.getData("Text");o&&o.length>0&&(r["text/plain"]=o)}if(i.types)for(var a=0;a<i.types.length;a++){var s=i.types[a];r[s]=i.getData(s)}return r}var e="%ME_PASTEBIN%",t=null,n=null,i=function(e){e.stopPropagation()},r=MediumEditor.Extension.extend({forcePlainText:!0,cleanPastedHTML:!1,preCleanReplacements:[],cleanReplacements:[],cleanAttrs:["class","style","dir"],cleanTags:["meta"],unwrapTags:[],init:function(){MediumEditor.Extension.prototype.init.apply(this,arguments),(this.forcePlainText||this.cleanPastedHTML)&&(this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.getEditorElements().forEach(function(e){this.on(e,"paste",this.handlePaste.bind(this))},this),this.subscribe("addElement",this.handleAddElement.bind(this)))},handleAddElement:function(e,t){this.on(t,"paste",this.handlePaste.bind(this))},destroy:function(){(this.forcePlainText||this.cleanPastedHTML)&&this.removePasteBin()},handlePaste:function(e,t){if(!e.defaultPrevented){var n=getClipboardContent(e,this.window,this.document),i=n["text/html"],r=n["text/plain"];this.window.clipboardData&&void 0===e.clipboardData&&!i&&(i=r),(i||r)&&(e.preventDefault(),this.doPaste(i,r,t))}},doPaste:function(e,t,n){var i,r,o="";if(this.cleanPastedHTML&&e)return this.cleanPaste(e);if(this.getEditorOption("disableReturn")||n&&n.getAttribute("data-disable-return"))o=MediumEditor.util.htmlEntities(t);else if(i=t.split(/[\r\n]+/g),i.length>1)for(r=0;r<i.length;r+=1)""!==i[r]&&(o+="<p>"+MediumEditor.util.htmlEntities(i[r])+"</p>");else o=MediumEditor.util.htmlEntities(i[0]);MediumEditor.util.insertHTMLCommand(this.document,o)},handlePasteBinPaste:function(e){if(e.defaultPrevented)return void this.removePasteBin();var t=getClipboardContent(e,this.window,this.document),i=t["text/html"],r=t["text/plain"],o=n;return!this.cleanPastedHTML||i?(e.preventDefault(),this.removePasteBin(),this.doPaste(i,r,o),void this.trigger("editablePaste",{currentTarget:o,target:o},o)):void setTimeout(function(){this.cleanPastedHTML&&(i=this.getPasteBinHtml()),this.removePasteBin(),this.doPaste(i,r,o),this.trigger("editablePaste",{currentTarget:o,target:o},o)}.bind(this),0)},handleKeydown:function(e,t){MediumEditor.util.isKey(e,MediumEditor.util.keyCode.V)&&MediumEditor.util.isMetaCtrlKey(e)&&(e.stopImmediatePropagation(),this.removePasteBin(),this.createPasteBin(t))},createPasteBin:function(r){var o,a=MediumEditor.selection.getSelectionRange(this.document),s=this.window.pageYOffset;n=r,a&&(o=a.getClientRects(),s+=o.length?o[0].top:a.startContainer.getBoundingClientRect().top),t=a;var l=this.document.createElement("div");l.id=this.pasteBinId="medium-editor-pastebin-"+ +Date.now(),l.setAttribute("style","border: 1px red solid; position: absolute; top: "+s+"px; width: 10px; height: 10px; overflow: hidden; opacity: 0"),l.setAttribute("contentEditable",!0),l.innerHTML=e,this.document.body.appendChild(l),this.on(l,"focus",i),this.on(l,"focusin",i),this.on(l,"focusout",i),l.focus(),MediumEditor.selection.selectNode(l,this.document),this.boundHandlePaste||(this.boundHandlePaste=this.handlePasteBinPaste.bind(this)),this.on(l,"paste",this.boundHandlePaste)},removePasteBin:function(){null!==t&&(MediumEditor.selection.selectRange(this.document,t),t=null),null!==n&&(n=null);var e=this.getPasteBin();e&&e&&(this.off(e,"focus",i),this.off(e,"focusin",i),this.off(e,"focusout",i),this.off(e,"paste",this.boundHandlePaste),e.parentElement.removeChild(e))},getPasteBin:function(){return this.document.getElementById(this.pasteBinId)},getPasteBinHtml:function(){var t=this.getPasteBin();if(!t)return!1;if(t.firstChild&&"mcepastebin"===t.firstChild.id)return!1;var n=t.innerHTML;return!(!n||n===e)&&n},cleanPaste:function(e){var t,n,i,r,o=/<p|<br|<div/.test(e),a=[].concat(this.preCleanReplacements||[],createReplacements(),this.cleanReplacements||[]);for(t=0;t<a.length;t+=1)e=e.replace(a[t][0],a[t][1]);if(!o)return this.pasteHTML(e);for(i=this.document.createElement("div"),i.innerHTML="<p>"+e.split("<br><br>").join("</p><p>")+"</p>",n=i.querySelectorAll("a,p,div,br"),t=0;t<n.length;t+=1)switch(r=n[t],r.innerHTML=r.innerHTML.replace(/\n/gi," "),r.nodeName.toLowerCase()){case"p":case"div":this.filterCommonBlocks(r);break;case"br":this.filterLineBreak(r)}this.pasteHTML(i.innerHTML)},pasteHTML:function(e,t){t=MediumEditor.util.defaults({},t,{cleanAttrs:this.cleanAttrs,cleanTags:this.cleanTags,unwrapTags:this.unwrapTags});var n,i,r,o,a=this.document.createDocumentFragment();for(a.appendChild(this.document.createElement("body")),o=a.querySelector("body"),o.innerHTML=e,this.cleanupSpans(o),n=o.querySelectorAll("*"),r=0;r<n.length;r+=1)i=n[r],"a"===i.nodeName.toLowerCase()&&this.getEditorOption("targetBlank")&&MediumEditor.util.setTargetBlank(i),MediumEditor.util.cleanupAttrs(i,t.cleanAttrs),MediumEditor.util.cleanupTags(i,t.cleanTags),MediumEditor.util.unwrapTags(i,t.unwrapTags);MediumEditor.util.insertHTMLCommand(this.document,o.innerHTML.replace(/&nbsp;/g," "))},isCommonBlock:function(e){return e&&("p"===e.nodeName.toLowerCase()||"div"===e.nodeName.toLowerCase())},filterCommonBlocks:function(e){/^\s*$/.test(e.textContent)&&e.parentNode&&e.parentNode.removeChild(e)},filterLineBreak:function(e){this.isCommonBlock(e.previousElementSibling)?this.removeWithParent(e):!this.isCommonBlock(e.parentNode)||e.parentNode.firstChild!==e&&e.parentNode.lastChild!==e?e.parentNode&&1===e.parentNode.childElementCount&&""===e.parentNode.textContent&&this.removeWithParent(e):this.removeWithParent(e)},removeWithParent:function(e){e&&e.parentNode&&(e.parentNode.parentNode&&1===e.parentNode.childElementCount?e.parentNode.parentNode.removeChild(e.parentNode):e.parentNode.removeChild(e))},cleanupSpans:function(e){var t,n,i,r=e.querySelectorAll(".replace-with"),o=function(e){return e&&"#text"!==e.nodeName&&"false"===e.getAttribute("contenteditable")};for(t=0;t<r.length;t+=1)n=r[t],i=this.document.createElement(n.classList.contains("bold")?"b":"i"),n.classList.contains("bold")&&n.classList.contains("italic")?i.innerHTML="<i>"+n.innerHTML+"</i>":i.innerHTML=n.innerHTML,n.parentNode.replaceChild(i,n);for(r=e.querySelectorAll("span"),t=0;t<r.length;t+=1){if(n=r[t],MediumEditor.util.traverseUp(n,o))return!1;MediumEditor.util.unwrap(n,this.document)}}});MediumEditor.extensions.paste=r}(),function(){var e=MediumEditor.Extension.extend({name:"placeholder",text:"Type your text",hideOnClick:!0,init:function(){MediumEditor.Extension.prototype.init.apply(this,arguments),this.initPlaceholders(),this.attachEventHandlers()},initPlaceholders:function(){this.getEditorElements().forEach(this.initElement,this)},handleAddElement:function(e,t){this.initElement(t)},initElement:function(e){e.getAttribute("data-placeholder")||e.setAttribute("data-placeholder",this.text),this.updatePlaceholder(e)},destroy:function(){this.getEditorElements().forEach(this.cleanupElement,this)},handleRemoveElement:function(e,t){this.cleanupElement(t)},cleanupElement:function(e){e.getAttribute("data-placeholder")===this.text&&e.removeAttribute("data-placeholder")},showPlaceholder:function(e){e&&(MediumEditor.util.isFF&&0===e.childNodes.length?(e.classList.add("medium-editor-placeholder-relative"),e.classList.remove("medium-editor-placeholder")):(e.classList.add("medium-editor-placeholder"),e.classList.remove("medium-editor-placeholder-relative")))},hidePlaceholder:function(e){e&&(e.classList.remove("medium-editor-placeholder"),e.classList.remove("medium-editor-placeholder-relative"))},updatePlaceholder:function(e,t){return e.querySelector("img, blockquote, ul, ol, table")||""!==e.textContent.replace(/^\s+|\s+$/g,"")?this.hidePlaceholder(e):void(t||this.showPlaceholder(e))},attachEventHandlers:function(){this.hideOnClick&&this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableInput",this.handleInput.bind(this)),this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("addElement",this.handleAddElement.bind(this)),this.subscribe("removeElement",this.handleRemoveElement.bind(this))},handleInput:function(e,t){var n=this.hideOnClick&&t===this.base.getFocusedElement();this.updatePlaceholder(t,n)},handleFocus:function(e,t){this.hidePlaceholder(t)},handleBlur:function(e,t){this.updatePlaceholder(t)}});MediumEditor.extensions.placeholder=e}(),function(){var e=MediumEditor.Extension.extend({name:"toolbar",align:"center",allowMultiParagraphSelection:!0,buttons:["bold","italic","underline","anchor","h2","h3","quote"],diffLeft:0,diffTop:-10,firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last",standardizeSelectionStart:!1,static:!1,sticky:!1,stickyTopOffset:0,updateOnEmptySelection:!1,relativeContainer:null,init:function(){MediumEditor.Extension.prototype.init.apply(this,arguments),this.initThrottledMethods(),this.relativeContainer?this.relativeContainer.appendChild(this.getToolbarElement()):this.getEditorOption("elementsContainer").appendChild(this.getToolbarElement())},forEachExtension:function(e,t){return this.base.extensions.forEach(function(n){if(n!==this)return e.apply(t||this,arguments)},this)},createToolbar:function(){var e=this.document.createElement("div");return e.id="medium-editor-toolbar-"+this.getEditorId(),e.className="medium-editor-toolbar",this.static?e.className+=" static-toolbar":this.relativeContainer?e.className+=" medium-editor-relative-toolbar":e.className+=" medium-editor-stalker-toolbar",e.appendChild(this.createToolbarButtons()),this.forEachExtension(function(t){t.hasForm&&e.appendChild(t.getForm())}),this.attachEventHandlers(),e},createToolbarButtons:function(){var e,t,n,i,r,o,a=this.document.createElement("ul");return a.id="medium-editor-toolbar-actions"+this.getEditorId(),a.className="medium-editor-toolbar-actions",a.style.display="block",this.buttons.forEach(function(n){"string"==typeof n?(r=n,o=null):(r=n.name,o=n),i=this.base.addBuiltInExtension(r,o),i&&"function"==typeof i.getButton&&(t=i.getButton(this.base),e=this.document.createElement("li"),MediumEditor.util.isElement(t)?e.appendChild(t):e.innerHTML=t,a.appendChild(e))},this),n=a.querySelectorAll("button"),n.length>0&&(n[0].classList.add(this.firstButtonClass),n[n.length-1].classList.add(this.lastButtonClass)),a},destroy:function(){this.toolbar&&(this.toolbar.parentNode&&this.toolbar.parentNode.removeChild(this.toolbar),delete this.toolbar)},getInteractionElements:function(){return this.getToolbarElement()},getToolbarElement:function(){return this.toolbar||(this.toolbar=this.createToolbar()),this.toolbar},getToolbarActionsElement:function(){return this.getToolbarElement().querySelector(".medium-editor-toolbar-actions")},initThrottledMethods:function(){this.throttledPositionToolbar=MediumEditor.util.throttle(function(){this.base.isActive&&this.positionToolbarIfShown()}.bind(this))},attachEventHandlers:function(){this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableClick",this.handleEditableClick.bind(this)),this.subscribe("editableKeyup",this.handleEditableKeyup.bind(this)),this.on(this.document.documentElement,"mouseup",this.handleDocumentMouseup.bind(this)),this.static&&this.sticky&&this.on(this.window,"scroll",this.handleWindowScroll.bind(this),!0),this.on(this.window,"resize",this.handleWindowResize.bind(this))},handleWindowScroll:function(){this.positionToolbarIfShown()},handleWindowResize:function(){this.throttledPositionToolbar()},handleDocumentMouseup:function(e){return!(e&&e.target&&MediumEditor.util.isDescendant(this.getToolbarElement(),e.target))&&void this.checkState()},handleEditableClick:function(){setTimeout(function(){this.checkState()}.bind(this),0)},handleEditableKeyup:function(){this.checkState()},handleBlur:function(){clearTimeout(this.hideTimeout),clearTimeout(this.delayShowTimeout),this.hideTimeout=setTimeout(function(){this.hideToolbar()}.bind(this),1)},handleFocus:function(){this.checkState()},isDisplayed:function(){return this.getToolbarElement().classList.contains("medium-editor-toolbar-active")},showToolbar:function(){clearTimeout(this.hideTimeout),this.isDisplayed()||(this.getToolbarElement().classList.add("medium-editor-toolbar-active"),this.trigger("showToolbar",{},this.base.getFocusedElement()))},hideToolbar:function(){this.isDisplayed()&&(this.getToolbarElement().classList.remove("medium-editor-toolbar-active"),this.trigger("hideToolbar",{},this.base.getFocusedElement()))},isToolbarDefaultActionsDisplayed:function(){return"block"===this.getToolbarActionsElement().style.display},hideToolbarDefaultActions:function(){this.isToolbarDefaultActionsDisplayed()&&(this.getToolbarActionsElement().style.display="none")},showToolbarDefaultActions:function(){this.hideExtensionForms(),this.isToolbarDefaultActionsDisplayed()||(this.getToolbarActionsElement().style.display="block"),this.delayShowTimeout=this.base.delay(function(){this.showToolbar()}.bind(this))},hideExtensionForms:function(){this.forEachExtension(function(e){e.hasForm&&e.isDisplayed()&&e.hideForm()})},multipleBlockElementsSelected:function(){var e=/<[^\/>][^>]*><\/[^>]+>/gim,t=new RegExp("<("+MediumEditor.util.blockContainerElementNames.join("|")+")[^>]*>","g"),n=MediumEditor.selection.getSelectionHtml(this.document).replace(e,""),i=n.match(t);return!!i&&i.length>1},modifySelection:function(){var e=this.window.getSelection(),t=e.getRangeAt(0);if(this.standardizeSelectionStart&&t.startContainer.nodeValue&&t.startOffset===t.startContainer.nodeValue.length){var n=MediumEditor.util.findAdjacentTextNodeWithContent(MediumEditor.selection.getSelectionElement(this.window),t.startContainer,this.document);if(n){for(var i=0;0===n.nodeValue.substr(i,1).trim().length;)i+=1;t=MediumEditor.selection.select(this.document,n,i,t.endContainer,t.endOffset)}}},checkState:function(){if(!this.base.preventSelectionUpdates){if(!this.base.getFocusedElement()||MediumEditor.selection.selectionInContentEditableFalse(this.window))return this.hideToolbar();var e=MediumEditor.selection.getSelectionElement(this.window);return!e||this.getEditorElements().indexOf(e)===-1||e.getAttribute("data-disable-toolbar")?this.hideToolbar():this.updateOnEmptySelection&&this.static?this.showAndUpdateToolbar():!MediumEditor.selection.selectionContainsContent(this.document)||this.allowMultiParagraphSelection===!1&&this.multipleBlockElementsSelected()?this.hideToolbar():void this.showAndUpdateToolbar()}},showAndUpdateToolbar:function(){this.modifySelection(),this.setToolbarButtonStates(),this.trigger("positionToolbar",{},this.base.getFocusedElement()),this.showToolbarDefaultActions(),this.setToolbarPosition()},setToolbarButtonStates:function(){this.forEachExtension(function(e){"function"==typeof e.isActive&&"function"==typeof e.setInactive&&e.setInactive()}),this.checkActiveButtons()},checkActiveButtons:function(){var e,t=[],n=null,i=MediumEditor.selection.getSelectionRange(this.document),r=function(t){"function"==typeof t.checkState?t.checkState(e):"function"==typeof t.isActive&&"function"==typeof t.isAlreadyApplied&&"function"==typeof t.setActive&&!t.isActive()&&t.isAlreadyApplied(e)&&t.setActive()};if(i&&(this.forEachExtension(function(e){return"function"==typeof e.queryCommandState&&(n=e.queryCommandState(),null!==n)?void(n&&"function"==typeof e.setActive&&e.setActive()):void t.push(e)}),e=MediumEditor.selection.getSelectedParentElement(i),
this.getEditorElements().some(function(t){return MediumEditor.util.isDescendant(t,e,!0)})))for(;e&&(t.forEach(r),!MediumEditor.util.isMediumEditorElement(e));)e=e.parentNode},positionToolbarIfShown:function(){this.isDisplayed()&&this.setToolbarPosition()},setToolbarPosition:function(){var e=this.base.getFocusedElement(),t=this.window.getSelection();return e?void(!this.static&&t.isCollapsed||(this.showToolbar(),this.relativeContainer||(this.static?this.positionStaticToolbar(e):this.positionToolbar(t)),this.trigger("positionedToolbar",{},this.base.getFocusedElement()))):this},positionStaticToolbar:function(e){this.getToolbarElement().style.left="0";var t,n=this.document.documentElement&&this.document.documentElement.scrollTop||this.document.body.scrollTop,i=this.window.innerWidth,r=this.getToolbarElement(),o=e.getBoundingClientRect(),a=o.top+n,s=o.left+o.width/2,l=r.offsetHeight,c=r.offsetWidth,u=c/2;switch(this.sticky?n>a+e.offsetHeight-l-this.stickyTopOffset?(r.style.top=a+e.offsetHeight-l+"px",r.classList.remove("medium-editor-sticky-toolbar")):n>a-l-this.stickyTopOffset?(r.classList.add("medium-editor-sticky-toolbar"),r.style.top=this.stickyTopOffset+"px"):(r.classList.remove("medium-editor-sticky-toolbar"),r.style.top=a-l+"px"):r.style.top=a-l+"px",this.align){case"left":t=o.left;break;case"right":t=o.right-c;break;case"center":t=s-u}t<0?t=0:t+c>i&&(t=i-Math.ceil(c)-1),r.style.left=t+"px"},positionToolbar:function(e){this.getToolbarElement().style.left="0",this.getToolbarElement().style.right="initial";var t=e.getRangeAt(0),n=t.getBoundingClientRect();(!n||0===n.height&&0===n.width&&t.startContainer===t.endContainer)&&(n=1===t.startContainer.nodeType&&t.startContainer.querySelector("img")?t.startContainer.querySelector("img").getBoundingClientRect():t.startContainer.getBoundingClientRect());var i,r,o=this.window.innerWidth,a=this.getToolbarElement(),s=a.offsetHeight,l=a.offsetWidth,c=l/2,u=50,d=this.diffLeft-c,h=this.getEditorOption("elementsContainer"),m=["absolute","fixed"].indexOf(window.getComputedStyle(h).getPropertyValue("position"))>-1,p={},f={};m?(r=h.getBoundingClientRect(),["top","left"].forEach(function(e){f[e]=n[e]-r[e]}),f.width=n.width,f.height=n.height,n=f,o=r.width,p.top=h.scrollTop):p.top=this.window.pageYOffset,i=n.left+n.width/2,p.top+=n.top-s,n.top<u?(a.classList.add("medium-toolbar-arrow-over"),a.classList.remove("medium-toolbar-arrow-under"),p.top+=u+n.height-this.diffTop):(a.classList.add("medium-toolbar-arrow-under"),a.classList.remove("medium-toolbar-arrow-over"),p.top+=this.diffTop),i<c?(p.left=d+c,p.right="initial"):o-i<c?(p.left="auto",p.right=0):(p.left=d+i,p.right="initial"),["top","left","right"].forEach(function(e){a.style[e]=p[e]+(isNaN(p[e])?"":"px")})}});MediumEditor.extensions.toolbar=e}(),function(){var e=MediumEditor.Extension.extend({init:function(){MediumEditor.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(e){var t="medium-editor-dragover";e.preventDefault(),e.dataTransfer.dropEffect="copy","dragover"===e.type?e.target.classList.add(t):"dragleave"===e.type&&e.target.classList.remove(t)},handleDrop:function(e){var t,n="medium-editor-dragover";e.preventDefault(),e.stopPropagation(),e.dataTransfer.files&&(t=Array.prototype.slice.call(e.dataTransfer.files,0),t.some(function(e){if(e.type.match("image")){var t,n;t=new FileReader,t.readAsDataURL(e),n="medium-img-"+ +new Date,MediumEditor.util.insertHTMLCommand(this.document,'<img class="medium-editor-image-loading" id="'+n+'" />'),t.onload=function(){var e=this.document.getElementById(n);e&&(e.removeAttribute("id"),e.removeAttribute("class"),e.src=t.result)}.bind(this)}}.bind(this))),e.target.classList.remove(n)}});MediumEditor.extensions.imageDragging=e}(),function(){function handleDisableExtraSpaces(e){var t=MediumEditor.selection.getSelectionStart(this.options.ownerDocument),n=t.textContent,i=MediumEditor.selection.getCaretOffsets(t);(void 0===n[i.left-1]||""===n[i.left-1].trim()||void 0!==n[i.left]&&""===n[i.left].trim())&&e.preventDefault()}function handleDisabledEnterKeydown(e,t){if(this.options.disableReturn||t.getAttribute("data-disable-return"))e.preventDefault();else if(this.options.disableDoubleReturn||t.getAttribute("data-disable-double-return")){var n=MediumEditor.selection.getSelectionStart(this.options.ownerDocument);(n&&""===n.textContent.trim()&&"li"!==n.nodeName.toLowerCase()||n.previousElementSibling&&"br"!==n.previousElementSibling.nodeName.toLowerCase()&&""===n.previousElementSibling.textContent.trim())&&e.preventDefault()}}function handleTabKeydown(e){var t=MediumEditor.selection.getSelectionStart(this.options.ownerDocument),n=t&&t.nodeName.toLowerCase();"pre"===n&&(e.preventDefault(),MediumEditor.util.insertHTMLCommand(this.options.ownerDocument,"    ")),MediumEditor.util.isListItem(t)&&(e.preventDefault(),e.shiftKey?this.options.ownerDocument.execCommand("outdent",!1,null):this.options.ownerDocument.execCommand("indent",!1,null))}function handleBlockDeleteKeydowns(e){var t,n=MediumEditor.selection.getSelectionStart(this.options.ownerDocument),i=n.nodeName.toLowerCase(),r=/^(\s+|<br\/?>)?$/i,o=/h\d/i;MediumEditor.util.isKey(e,[MediumEditor.util.keyCode.BACKSPACE,MediumEditor.util.keyCode.ENTER])&&n.previousElementSibling&&o.test(i)&&0===MediumEditor.selection.getCaretOffsets(n).left?MediumEditor.util.isKey(e,MediumEditor.util.keyCode.BACKSPACE)&&r.test(n.previousElementSibling.innerHTML)?(n.previousElementSibling.parentNode.removeChild(n.previousElementSibling),e.preventDefault()):!this.options.disableDoubleReturn&&MediumEditor.util.isKey(e,MediumEditor.util.keyCode.ENTER)&&(t=this.options.ownerDocument.createElement("p"),t.innerHTML="<br>",n.previousElementSibling.parentNode.insertBefore(t,n),e.preventDefault()):MediumEditor.util.isKey(e,MediumEditor.util.keyCode.DELETE)&&n.nextElementSibling&&n.previousElementSibling&&!o.test(i)&&r.test(n.innerHTML)&&o.test(n.nextElementSibling.nodeName.toLowerCase())?(MediumEditor.selection.moveCursor(this.options.ownerDocument,n.nextElementSibling),n.previousElementSibling.parentNode.removeChild(n),e.preventDefault()):MediumEditor.util.isKey(e,MediumEditor.util.keyCode.BACKSPACE)&&"li"===i&&r.test(n.innerHTML)&&!n.previousElementSibling&&!n.parentElement.previousElementSibling&&n.nextElementSibling&&"li"===n.nextElementSibling.nodeName.toLowerCase()?(t=this.options.ownerDocument.createElement("p"),t.innerHTML="<br>",n.parentElement.parentElement.insertBefore(t,n.parentElement),MediumEditor.selection.moveCursor(this.options.ownerDocument,t),n.parentElement.removeChild(n),e.preventDefault()):MediumEditor.util.isKey(e,MediumEditor.util.keyCode.BACKSPACE)&&MediumEditor.util.getClosestTag(n,"blockquote")!==!1&&0===MediumEditor.selection.getCaretOffsets(n).left?(e.preventDefault(),MediumEditor.util.execFormatBlock(this.options.ownerDocument,"p")):MediumEditor.util.isKey(e,MediumEditor.util.keyCode.ENTER)&&MediumEditor.util.getClosestTag(n,"blockquote")!==!1&&0===MediumEditor.selection.getCaretOffsets(n).right?(t=this.options.ownerDocument.createElement("p"),t.innerHTML="<br>",n.parentElement.insertBefore(t,n.nextSibling),MediumEditor.selection.moveCursor(this.options.ownerDocument,t),e.preventDefault()):MediumEditor.util.isKey(e,MediumEditor.util.keyCode.BACKSPACE)&&MediumEditor.util.isMediumEditorElement(n.parentElement)&&!n.previousElementSibling&&n.nextElementSibling&&r.test(n.innerHTML)&&(e.preventDefault(),MediumEditor.selection.moveCursor(this.options.ownerDocument,n.nextSibling),n.parentElement.removeChild(n))}function handleKeyup(e){var t,n=MediumEditor.selection.getSelectionStart(this.options.ownerDocument);n&&(MediumEditor.util.isMediumEditorElement(n)&&0===n.children.length&&!MediumEditor.util.isBlockContainer(n)&&this.options.ownerDocument.execCommand("formatBlock",!1,"p"),!MediumEditor.util.isKey(e,MediumEditor.util.keyCode.ENTER)||MediumEditor.util.isListItem(n)||MediumEditor.util.isBlockContainer(n)||(t=n.nodeName.toLowerCase(),"a"===t?this.options.ownerDocument.execCommand("unlink",!1,null):e.shiftKey||e.ctrlKey||this.options.ownerDocument.execCommand("formatBlock",!1,"p")))}function handleEditableInput(e,t){var n=t.parentNode.querySelector('textarea[medium-editor-textarea-id="'+t.getAttribute("medium-editor-textarea-id")+'"]');n&&(n.value=t.innerHTML.trim())}function addToEditors(e){e._mediumEditors||(e._mediumEditors=[null]),this.id||(this.id=e._mediumEditors.length),e._mediumEditors[this.id]=this}function removeFromEditors(e){e._mediumEditors&&e._mediumEditors[this.id]&&(e._mediumEditors[this.id]=null)}function createElementsArray(e,t,n){var i=[];if(e||(e=[]),"string"==typeof e&&(e=t.querySelectorAll(e)),MediumEditor.util.isElement(e)&&(e=[e]),n)for(var r=0;r<e.length;r++){var o=e[r];!MediumEditor.util.isElement(o)||o.getAttribute("data-medium-editor-element")||o.getAttribute("medium-editor-textarea-id")||i.push(o)}else i=Array.prototype.slice.apply(e);return i}function cleanupTextareaElement(e){var t=e.parentNode.querySelector('textarea[medium-editor-textarea-id="'+e.getAttribute("medium-editor-textarea-id")+'"]');t&&(t.classList.remove("medium-editor-hidden"),t.removeAttribute("medium-editor-textarea-id")),e.parentNode&&e.parentNode.removeChild(e)}function setExtensionDefaults(e,t){return Object.keys(t).forEach(function(n){void 0===e[n]&&(e[n]=t[n])}),e}function initExtension(e,t,n){var i={window:n.options.contentWindow,document:n.options.ownerDocument,base:n};return e=setExtensionDefaults(e,i),"function"==typeof e.init&&e.init(),e.name||(e.name=t),e}function isToolbarEnabled(){return!this.elements.every(function(e){return!!e.getAttribute("data-disable-toolbar")})&&this.options.toolbar!==!1}function isAnchorPreviewEnabled(){return!!isToolbarEnabled.call(this)&&this.options.anchorPreview!==!1}function isPlaceholderEnabled(){return this.options.placeholder!==!1}function isAutoLinkEnabled(){return this.options.autoLink!==!1}function isImageDraggingEnabled(){return this.options.imageDragging!==!1}function isKeyboardCommandsEnabled(){return this.options.keyboardCommands!==!1}function shouldUseFileDraggingExtension(){return!this.options.extensions.imageDragging}function createContentEditable(e){for(var t=this.options.ownerDocument.createElement("div"),n=Date.now(),i="medium-editor-"+n,r=e.attributes;this.options.ownerDocument.getElementById(i);)n++,i="medium-editor-"+n;t.className=e.className,t.id=i,t.innerHTML=e.value,e.setAttribute("medium-editor-textarea-id",i);for(var o=0,a=r.length;o<a;o++)t.hasAttribute(r[o].nodeName)||t.setAttribute(r[o].nodeName,r[o].nodeValue);return e.form&&this.on(e.form,"reset",function(e){e.defaultPrevented||this.resetContent(this.options.ownerDocument.getElementById(i))}.bind(this)),e.classList.add("medium-editor-hidden"),e.parentNode.insertBefore(t,e),t}function initElement(t,n){if(!t.getAttribute("data-medium-editor-element")){"textarea"===t.nodeName.toLowerCase()&&(t=createContentEditable.call(this,t),this.instanceHandleEditableInput||(this.instanceHandleEditableInput=handleEditableInput.bind(this),this.subscribe("editableInput",this.instanceHandleEditableInput))),this.options.disableEditing||t.getAttribute("data-disable-editing")||(t.setAttribute("contentEditable",!0),t.setAttribute("spellcheck",this.options.spellcheck)),this.instanceHandleEditableKeydownEnter||(t.getAttribute("data-disable-return")||t.getAttribute("data-disable-double-return"))&&(this.instanceHandleEditableKeydownEnter=handleDisabledEnterKeydown.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter)),this.options.disableReturn||t.getAttribute("data-disable-return")||this.on(t,"keyup",handleKeyup.bind(this));var i=MediumEditor.util.guid();t.setAttribute("data-medium-editor-element",!0),t.classList.add("medium-editor-element"),t.setAttribute("role","textbox"),t.setAttribute("aria-multiline",!0),t.setAttribute("data-medium-editor-editor-index",n),t.setAttribute("medium-editor-index",i),e[i]=t.innerHTML,this.events.attachAllEventsToElement(t)}return t}function attachHandlers(){this.subscribe("editableKeydownTab",handleTabKeydown.bind(this)),this.subscribe("editableKeydownDelete",handleBlockDeleteKeydowns.bind(this)),this.subscribe("editableKeydownEnter",handleBlockDeleteKeydowns.bind(this)),this.options.disableExtraSpaces&&this.subscribe("editableKeydownSpace",handleDisableExtraSpaces.bind(this)),this.instanceHandleEditableKeydownEnter||(this.options.disableReturn||this.options.disableDoubleReturn)&&(this.instanceHandleEditableKeydownEnter=handleDisabledEnterKeydown.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter))}function initExtensions(){if(this.extensions=[],Object.keys(this.options.extensions).forEach(function(e){"toolbar"!==e&&this.options.extensions[e]&&this.extensions.push(initExtension(this.options.extensions[e],e,this))},this),shouldUseFileDraggingExtension.call(this)){var e=this.options.fileDragging;e||(e={},isImageDraggingEnabled.call(this)||(e.allowedTypes=[])),this.addBuiltInExtension("fileDragging",e)}var t={paste:!0,"anchor-preview":isAnchorPreviewEnabled.call(this),autoLink:isAutoLinkEnabled.call(this),keyboardCommands:isKeyboardCommandsEnabled.call(this),placeholder:isPlaceholderEnabled.call(this)};Object.keys(t).forEach(function(e){t[e]&&this.addBuiltInExtension(e)},this);var n=this.options.extensions.toolbar;if(!n&&isToolbarEnabled.call(this)){var i=MediumEditor.util.extend({},this.options.toolbar,{allowMultiParagraphSelection:this.options.allowMultiParagraphSelection});n=new MediumEditor.extensions.toolbar(i)}n&&this.extensions.push(initExtension(n,"toolbar",this))}function mergeOptions(e,t){var n=[["allowMultiParagraphSelection","toolbar.allowMultiParagraphSelection"]];return t&&n.forEach(function(e){t.hasOwnProperty(e[0])&&void 0!==t[e[0]]&&MediumEditor.util.deprecated(e[0],e[1],"v6.0.0")}),MediumEditor.util.defaults({},t,e)}function execActionInternal(e,t){var n,i,r=/^append-(.+)$/gi,o=/justify([A-Za-z]*)$/g;if(n=r.exec(e))return MediumEditor.util.execFormatBlock(this.options.ownerDocument,n[1]);if("fontSize"===e)return t.size&&MediumEditor.util.deprecated(".size option for fontSize command",".value","6.0.0"),i=t.value||t.size,this.options.ownerDocument.execCommand("fontSize",!1,i);if("fontName"===e)return t.name&&MediumEditor.util.deprecated(".name option for fontName command",".value","6.0.0"),i=t.value||t.name,this.options.ownerDocument.execCommand("fontName",!1,i);if("createLink"===e)return this.createLink(t);if("image"===e){var a=this.options.contentWindow.getSelection().toString().trim();return this.options.ownerDocument.execCommand("insertImage",!1,a)}if("html"===e){var s=this.options.contentWindow.getSelection().toString().trim();return MediumEditor.util.insertHTMLCommand(this.options.ownerDocument,s)}if(o.exec(e)){var l=this.options.ownerDocument.execCommand(e,!1,null),c=MediumEditor.selection.getSelectedParentElement(MediumEditor.selection.getSelectionRange(this.options.ownerDocument));return c&&cleanupJustifyDivFragments.call(this,MediumEditor.util.getTopBlockContainer(c)),l}return i=t&&t.value,this.options.ownerDocument.execCommand(e,!1,i)}function cleanupJustifyDivFragments(e){if(e){var t,n=Array.prototype.slice.call(e.childNodes).filter(function(e){var n="div"===e.nodeName.toLowerCase();return n&&!t&&(t=e.style.textAlign),n});n.length&&(this.saveSelection(),n.forEach(function(e){if(e.style.textAlign===t){var n=e.lastChild;if(n){MediumEditor.util.unwrap(e,this.options.ownerDocument);var i=this.options.ownerDocument.createElement("BR");n.parentNode.insertBefore(i,n.nextSibling)}}},this),e.style.textAlign=t,this.restoreSelection())}}var e={};MediumEditor.prototype={init:function(e,t){return this.options=mergeOptions.call(this,this.defaults,t),this.origElements=e,this.options.elementsContainer||(this.options.elementsContainer=this.options.ownerDocument.body),this.setup()},setup:function(){this.isActive||(addToEditors.call(this,this.options.contentWindow),this.events=new MediumEditor.Events(this),this.elements=[],this.addElements(this.origElements),0!==this.elements.length&&(this.isActive=!0,initExtensions.call(this),attachHandlers.call(this)))},destroy:function(){this.isActive&&(this.isActive=!1,this.extensions.forEach(function(e){"function"==typeof e.destroy&&e.destroy()},this),this.events.destroy(),this.elements.forEach(function(e){this.options.spellcheck&&(e.innerHTML=e.innerHTML),e.removeAttribute("contentEditable"),e.removeAttribute("spellcheck"),e.removeAttribute("data-medium-editor-element"),e.classList.remove("medium-editor-element"),e.removeAttribute("role"),e.removeAttribute("aria-multiline"),e.removeAttribute("medium-editor-index"),e.removeAttribute("data-medium-editor-editor-index"),e.getAttribute("medium-editor-textarea-id")&&cleanupTextareaElement(e)},this),this.elements=[],this.instanceHandleEditableKeydownEnter=null,this.instanceHandleEditableInput=null,removeFromEditors.call(this,this.options.contentWindow))},on:function(e,t,n,i){return this.events.attachDOMEvent(e,t,n,i),this},off:function(e,t,n,i){return this.events.detachDOMEvent(e,t,n,i),this},subscribe:function(e,t){return this.events.attachCustomEvent(e,t),this},unsubscribe:function(e,t){return this.events.detachCustomEvent(e,t),this},trigger:function(e,t,n){return this.events.triggerCustomEvent(e,t,n),this},delay:function(e){var t=this;return setTimeout(function(){t.isActive&&e()},this.options.delay)},serialize:function(){var e,t,n={},i=this.elements.length;for(e=0;e<i;e+=1)t=""!==this.elements[e].id?this.elements[e].id:"element-"+e,n[t]={value:this.elements[e].innerHTML.trim()};return n},getExtensionByName:function(e){var t;return this.extensions&&this.extensions.length&&this.extensions.some(function(n){return n.name===e&&(t=n,!0)}),t},addBuiltInExtension:function(e,t){var n,i=this.getExtensionByName(e);if(i)return i;switch(e){case"anchor":n=MediumEditor.util.extend({},this.options.anchor,t),i=new MediumEditor.extensions.anchor(n);break;case"anchor-preview":i=new MediumEditor.extensions.anchorPreview(this.options.anchorPreview);break;case"autoLink":i=new MediumEditor.extensions.autoLink;break;case"fileDragging":i=new MediumEditor.extensions.fileDragging(t);break;case"fontname":i=new MediumEditor.extensions.fontName(this.options.fontName);break;case"fontsize":i=new MediumEditor.extensions.fontSize(t);break;case"keyboardCommands":i=new MediumEditor.extensions.keyboardCommands(this.options.keyboardCommands);break;case"paste":i=new MediumEditor.extensions.paste(this.options.paste);break;case"placeholder":i=new MediumEditor.extensions.placeholder(this.options.placeholder);break;default:MediumEditor.extensions.button.isBuiltInButton(e)&&(t?(n=MediumEditor.util.defaults({},t,MediumEditor.extensions.button.prototype.defaults[e]),i=new MediumEditor.extensions.button(n)):i=new MediumEditor.extensions.button(e))}return i&&this.extensions.push(initExtension(i,e,this)),i},stopSelectionUpdates:function(){this.preventSelectionUpdates=!0},startSelectionUpdates:function(){this.preventSelectionUpdates=!1},checkSelection:function(){var e=this.getExtensionByName("toolbar");return e&&e.checkState(),this},queryCommandState:function(e){var t,n=/^full-(.+)$/gi,i=null;t=n.exec(e),t&&(e=t[1]);try{i=this.options.ownerDocument.queryCommandState(e)}catch(e){i=null}return i},execAction:function(e,t){var n,i,r=/^full-(.+)$/gi;return n=r.exec(e),n?(this.saveSelection(),this.selectAllContents(),i=execActionInternal.call(this,n[1],t),this.restoreSelection()):i=execActionInternal.call(this,e,t),"insertunorderedlist"!==e&&"insertorderedlist"!==e||MediumEditor.util.cleanListDOM(this.options.ownerDocument,this.getSelectedParentElement()),this.checkSelection(),i},getSelectedParentElement:function(e){return void 0===e&&(e=this.options.contentWindow.getSelection().getRangeAt(0)),MediumEditor.selection.getSelectedParentElement(e)},selectAllContents:function(){var e=MediumEditor.selection.getSelectionElement(this.options.contentWindow);if(e){for(;1===e.children.length;)e=e.children[0];this.selectElement(e)}},selectElement:function(e){MediumEditor.selection.selectNode(e,this.options.ownerDocument);var t=MediumEditor.selection.getSelectionElement(this.options.contentWindow);t&&this.events.focusElement(t)},getFocusedElement:function(){var e;return this.elements.some(function(t){return!e&&t.getAttribute("data-medium-focused")&&(e=t),!!e},this),e},exportSelection:function(){var e=MediumEditor.selection.getSelectionElement(this.options.contentWindow),t=this.elements.indexOf(e),n=null;return t>=0&&(n=MediumEditor.selection.exportSelection(e,this.options.ownerDocument)),null!==n&&0!==t&&(n.editableElementIndex=t),n},saveSelection:function(){this.selectionState=this.exportSelection()},importSelection:function(e,t){if(e){var n=this.elements[e.editableElementIndex||0];MediumEditor.selection.importSelection(e,n,this.options.ownerDocument,t)}},restoreSelection:function(){this.importSelection(this.selectionState)},createLink:function(e){var t,n=MediumEditor.selection.getSelectionElement(this.options.contentWindow),i={};if(this.elements.indexOf(n)!==-1){try{if(this.events.disableCustomEvent("editableInput"),e.url&&MediumEditor.util.deprecated(".url option for createLink",".value","6.0.0"),t=e.url||e.value,t&&t.trim().length>0){var r=this.options.contentWindow.getSelection();if(r){var o,a,s,l,c=r.getRangeAt(0),u=c.commonAncestorContainer;if(3===c.endContainer.nodeType&&3!==c.startContainer.nodeType&&0===c.startOffset&&c.startContainer.firstChild===c.endContainer&&(u=c.endContainer),a=MediumEditor.util.getClosestBlockContainer(c.startContainer),s=MediumEditor.util.getClosestBlockContainer(c.endContainer),3!==u.nodeType&&0!==u.textContent.length&&a===s){var d=a||n,h=this.options.ownerDocument.createDocumentFragment();this.execAction("unlink"),o=this.exportSelection(),h.appendChild(d.cloneNode(!0)),n===d?MediumEditor.selection.select(this.options.ownerDocument,d.firstChild,0,d.lastChild,3===d.lastChild.nodeType?d.lastChild.nodeValue.length:d.lastChild.childNodes.length):MediumEditor.selection.select(this.options.ownerDocument,d,0,d,d.childNodes.length);var m=this.exportSelection();l=MediumEditor.util.findOrCreateMatchingTextNodes(this.options.ownerDocument,h,{start:o.start-m.start,end:o.end-m.start,editableElementIndex:o.editableElementIndex}),0===l.length&&(h=this.options.ownerDocument.createDocumentFragment(),h.appendChild(u.cloneNode(!0)),l=[h.firstChild.firstChild,h.firstChild.lastChild]),MediumEditor.util.createLink(this.options.ownerDocument,l,t.trim());var p=(h.firstChild.innerHTML.match(/^\s+/)||[""])[0].length;MediumEditor.util.insertHTMLCommand(this.options.ownerDocument,h.firstChild.innerHTML.replace(/^\s+/,"")),o.start-=p,o.end-=p,this.importSelection(o)}else this.options.ownerDocument.execCommand("createLink",!1,t);this.options.targetBlank||"_blank"===e.target?MediumEditor.util.setTargetBlank(MediumEditor.selection.getSelectionStart(this.options.ownerDocument),t):MediumEditor.util.removeTargetBlank(MediumEditor.selection.getSelectionStart(this.options.ownerDocument),t),e.buttonClass&&MediumEditor.util.addClassToAnchors(MediumEditor.selection.getSelectionStart(this.options.ownerDocument),e.buttonClass)}}if(this.options.targetBlank||"_blank"===e.target||e.buttonClass){i=this.options.ownerDocument.createEvent("HTMLEvents"),i.initEvent("input",!0,!0,this.options.contentWindow);for(var f=0,g=this.elements.length;f<g;f+=1)this.elements[f].dispatchEvent(i)}}finally{this.events.enableCustomEvent("editableInput")}this.events.triggerCustomEvent("editableInput",i,n)}},cleanPaste:function(e){this.getExtensionByName("paste").cleanPaste(e)},pasteHTML:function(e,t){this.getExtensionByName("paste").pasteHTML(e,t)},setContent:function(e,t){if(t=t||0,this.elements[t]){var n=this.elements[t];n.innerHTML=e,this.checkContentChanged(n)}},getContent:function(e){return e=e||0,this.elements[e]?this.elements[e].innerHTML.trim():null},checkContentChanged:function(e){e=e||MediumEditor.selection.getSelectionElement(this.options.contentWindow),this.events.updateInput(e,{target:e,currentTarget:e})},resetContent:function(t){if(t){var n=this.elements.indexOf(t);return void(n!==-1&&this.setContent(e[t.getAttribute("medium-editor-index")],n))}this.elements.forEach(function(t,n){this.setContent(e[t.getAttribute("medium-editor-index")],n)},this)},addElements:function(e){var t=createElementsArray(e,this.options.ownerDocument,!0);return 0!==t.length&&void t.forEach(function(e){e=initElement.call(this,e,this.id),this.elements.push(e),this.trigger("addElement",{target:e,currentTarget:e},e)},this)},removeElements:function(e){var t=createElementsArray(e,this.options.ownerDocument),n=t.map(function(e){return e.getAttribute("medium-editor-textarea-id")&&e.parentNode?e.parentNode.querySelector('div[medium-editor-textarea-id="'+e.getAttribute("medium-editor-textarea-id")+'"]'):e});this.elements=this.elements.filter(function(e){return n.indexOf(e)===-1||(this.events.cleanupElement(e),e.getAttribute("medium-editor-textarea-id")&&cleanupTextareaElement(e),this.trigger("removeElement",{target:e,currentTarget:e},e),!1)},this)}},MediumEditor.getEditorFromElement=function(e){var t=e.getAttribute("data-medium-editor-editor-index"),n=e&&e.ownerDocument&&(e.ownerDocument.defaultView||e.ownerDocument.parentWindow);return n&&n._mediumEditors&&n._mediumEditors[t]?n._mediumEditors[t]:null}}(),function(){MediumEditor.prototype.defaults={activeButtonClass:"medium-editor-button-active",buttonLabels:!1,delay:0,disableReturn:!1,disableDoubleReturn:!1,disableExtraSpaces:!1,disableEditing:!1,autoLink:!1,elementsContainer:!1,contentWindow:window,ownerDocument:document,targetBlank:!1,extensions:{},spellcheck:!0}}(),MediumEditor.parseVersionString=function(e){var t=e.split("-"),n=t[0].split("."),i=t.length>1?t[1]:"";return{major:parseInt(n[0],10),minor:parseInt(n[1],10),revision:parseInt(n[2],10),preRelease:i,toString:function(){return[n[0],n[1],n[2]].join(".")+(i?"-"+i:"")}}},MediumEditor.version=MediumEditor.parseVersionString.call(this,{version:"5.23.0"}.version),MediumEditor}())}).call(t,n(8))},function(e,t,n){"use strict";(function(t){function nextTick(e,n,i,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,i)});case 4:return t.nextTick(function(){e.call(null,n,i,r)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=nextTick:e.exports=t.nextTick}).call(t,n(8))},function(e,t,n){"use strict";function TransformState(e){this.afterTransform=function(t,n){return afterTransform(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(e,t,n){var i=e._transformState;i.transforming=!1;var r=i.writecb;if(!r)return e.emit("error",new Error("no writecb in Transform class"));i.writechunk=null,i.writecb=null,null!==n&&void 0!==n&&e.push(n),r(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function Transform(e){if(!(this instanceof Transform))return new Transform(e);i.call(this,e),this._transformState=new TransformState(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,n){done(t,e,n)}):done(t)})}function done(e,t,n){if(t)return e.emit("error",t);null!==n&&void 0!==n&&e.push(n);var i=e._writableState,r=e._transformState;if(i.length)throw new Error("Calling transform done when ws.length != 0");if(r.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=Transform;var i=n(9),r=n(11);r.inherits=n(4),r.inherits(Transform,i),Transform.prototype.push=function(e,t){return this._transformState.needTransform=!1,i.prototype.push.call(this,e,t)},Transform.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},Transform.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},Transform.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},function(e,t,n){"use strict";(function(t,i){function nop(){}function WriteReq(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function WritableState(e,t){r=r||n(9),e=e||{},this.objectMode=!!e.objectMode,t instanceof r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,o=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var a=e.decodeStrings===!1;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){onwrite(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(e){return r=r||n(9),h.call(Writable,this)||this instanceof r?(this._writableState=new WritableState(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),void l.call(this)):new Writable(e)}function writeAfterEnd(e,t){var n=new Error("write after end");e.emit("error",n),o(t,n)}function validChunk(e,t,n,i){var r=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):u.isBuffer(n)||"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o(i,a),r=!1),r}function decodeChunk(e,t,n){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=d.from(t,n)),t}function writeOrBuffer(e,t,n,i,r){n=decodeChunk(t,n,i),u.isBuffer(n)&&(i="buffer");var o=t.objectMode?1:n.length;t.length+=o;var a=t.length<t.highWaterMark;if(a||(t.needDrain=!0),t.writing||t.corked){var s=t.lastBufferedRequest;t.lastBufferedRequest=new WriteReq(n,i,r),s?s.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else doWrite(e,t,!1,o,n,i,r);return a}function doWrite(e,t,n,i,r,o,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function onwriteError(e,t,n,i,r){--t.pendingcb,n?o(r,i):r(i),e._writableState.errorEmitted=!0,e.emit("error",i)}function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite(e,t){var n=e._writableState,i=n.sync,r=n.writecb;if(onwriteStateUpdate(n),t)onwriteError(e,n,i,t,r);else{var o=needFinish(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||clearBuffer(e,n),i?a(afterWrite,e,n,o,r):afterWrite(e,n,o,r)}}function afterWrite(e,t,n,i){n||onwriteDrain(e,t),t.pendingcb--,i(),finishMaybe(e,t)}function onwriteDrain(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function clearBuffer(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,r=new Array(i),o=t.corkedRequestsFree;o.entry=n;for(var a=0;n;)r[a]=n,n=n.next,a+=1;doWrite(e,t,!0,t.length,r,"",o.finish),t.pendingcb++,
t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new CorkedRequest(t)}else{for(;n;){var s=n.chunk,l=n.encoding,c=n.callback,u=t.objectMode?1:s.length;if(doWrite(e,t,!1,u,s,l,c),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function needFinish(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function prefinish(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function finishMaybe(e,t){var n=needFinish(t);return n&&(0===t.pendingcb?(prefinish(e,t),t.finished=!0,e.emit("finish")):prefinish(e,t)),n}function endWritable(e,t,n){t.ending=!0,finishMaybe(e,t),n&&(t.finished?o(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function CorkedRequest(e){var t=this;this.next=null,this.entry=null,this.finish=function(n){var i=t.entry;for(t.entry=null;i;){var r=i.callback;e.pendingcb--,r(n),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}e.exports=Writable;var r,o=n(26),a=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?i:o;Writable.WritableState=WritableState;var s=n(11);s.inherits=n(4);var l,c={deprecate:n(540)};!function(){try{l=n(18)}catch(e){}finally{l||(l=n(13).EventEmitter)}}();var u=n(6).Buffer,d=n(19);s.inherits(Writable,l),WritableState.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(e){}}();var h;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||e&&e._writableState instanceof WritableState}})):h=function(e){return e instanceof this},Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(e,t,n){var i=this._writableState,r=!1;return"function"==typeof t&&(n=t,t=null),u.isBuffer(e)?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=nop),i.ended?writeAfterEnd(this,n):validChunk(this,i,e,n)&&(i.pendingcb++,r=writeOrBuffer(this,i,e,t,n)),r},Writable.prototype.cork=function(){var e=this._writableState;e.corked++},Writable.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||clearBuffer(this,e))},Writable.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Writable.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||endWritable(this,i,n)}}).call(t,n(8),n(166).setImmediate)},function(e,t,n){function assertEncoding(e){if(e&&!r(e))throw new Error("Unknown encoding: "+e)}function passThroughWrite(e){return e.toString(this.encoding)}function utf16DetectIncompleteChar(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var i=n(6).Buffer,r=i.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},o=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new i(6),this.charReceived=0,this.charLength=0};o.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var i=t.charCodeAt(t.length-1);if(!(i>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var r=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,r),r-=this.charReceived),t+=e.toString(this.encoding,0,r);var r=t.length-1,i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,r)}return t},o.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},o.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,i=this.charBuffer,r=this.encoding;t+=i.slice(0,n).toString(r)}return t}},function(e,t,n){n(194),e.exports="ngAnimate"},function(e,t,n){n(195),e.exports="ngAria"},function(e,t,n){n(1),n(30),n(31),n(200),e.exports="ngMaterial"},function(e,t,n){(function(e){var n,i;!function(r,o,a){"use strict";function Flow(e){if(this.support=!("undefined"==typeof File||"undefined"==typeof Blob||"undefined"==typeof FileList||!Blob.prototype.slice&&!Blob.prototype.webkitSlice&&!Blob.prototype.mozSlice),this.support){this.supportDirectory=/Chrome/.test(r.navigator.userAgent),this.files=[],this.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,singleFile:!1,fileParameterName:"file",progressCallbacksInterval:500,speedSmoothingFactor:.1,query:{},headers:{},withCredentials:!1,preprocess:null,method:"multipart",testMethod:"GET",uploadMethod:"POST",prioritizeFirstAndLastChunk:!1,allowDuplicateUploads:!1,target:"/",testChunks:!0,generateUniqueIdentifier:null,maxChunkRetries:0,chunkRetryInterval:null,permanentErrors:[404,413,415,500,501],successStatuses:[200,201,202],onDropStopPropagation:!1,initFileFn:null,readFileFn:webAPIFileRead},this.opts={},this.events={};var t=this;this.onDrop=function(e){t.opts.onDropStopPropagation&&e.stopPropagation(),e.preventDefault();var n=e.dataTransfer;n.items&&n.items[0]&&n.items[0].webkitGetAsEntry?t.webkitReadDataTransfer(e):t.addFiles(n.files,e)},this.preventEvent=function(e){e.preventDefault()},this.opts=Flow.extend({},this.defaults,e||{})}}function FlowFile(e,t){this.flowObj=e,this.bytes=null,this.file=t,this.name=t.fileName||t.name,this.size=t.size,this.relativePath=t.relativePath||t.webkitRelativePath||this.name,this.uniqueIdentifier=e.generateUniqueIdentifier(t),this.chunks=[],this.paused=!1,this.error=!1,this.averageSpeed=0,this.currentSpeed=0,this._lastProgressCallback=Date.now(),this._prevUploadedSize=0,this._prevProgress=0,this.bootstrap()}function webAPIFileRead(e,t,n,i,r){var o="slice";e.file.slice?o="slice":e.file.mozSlice?o="mozSlice":e.file.webkitSlice&&(o="webkitSlice"),r.readFinished(e.file[o](t,n,i))}function FlowChunk(e,t,n){this.flowObj=e,this.fileObj=t,this.offset=n,this.tested=!1,this.retries=0,this.pendingRetry=!1,this.preprocessState=0,this.readState=0,this.loaded=0,this.total=0,this.chunkSize=this.flowObj.opts.chunkSize,this.startByte=this.offset*this.chunkSize,this.computeEndByte=function(){var e=Math.min(this.fileObj.size,(this.offset+1)*this.chunkSize);return this.fileObj.size-e<this.chunkSize&&!this.flowObj.opts.forceChunkSize&&(e=this.fileObj.size),e},this.endByte=this.computeEndByte(),this.xhr=null;var i=this;this.event=function(e,t){t=Array.prototype.slice.call(arguments),t.unshift(i),i.fileObj.chunkEvent.apply(i.fileObj,t)},this.progressHandler=function(e){e.lengthComputable&&(i.loaded=e.loaded,i.total=e.total),i.event("progress",e)},this.testHandler=function(e){var t=i.status(!0);"error"===t?(i.event(t,i.message()),i.flowObj.uploadNextChunk()):"success"===t?(i.tested=!0,i.event(t,i.message()),i.flowObj.uploadNextChunk()):i.fileObj.paused||(i.tested=!0,i.send())},this.doneHandler=function(e){var t=i.status();if("success"===t||"error"===t)delete this.data,i.event(t,i.message()),i.flowObj.uploadNextChunk();else{i.event("retry",i.message()),i.pendingRetry=!0,i.abort(),i.retries++;var n=i.flowObj.opts.chunkRetryInterval;null!==n?setTimeout(function(){i.send()},n):i.send()}}}function arrayRemove(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function evalOpts(e,t){return"function"==typeof e&&(t=Array.prototype.slice.call(arguments),e=e.apply(null,t.slice(1))),e}function async(e,t){setTimeout(e.bind(t),0)}function extend(e,t){return each(arguments,function(t){t!==e&&each(t,function(t,n){e[n]=t})}),e}function each(e,t,n){if(e){var i;if("undefined"!=typeof e.length){for(i=0;i<e.length;i++)if(t.call(n,e[i],i)===!1)return}else for(i in e)if(e.hasOwnProperty(i)&&t.call(n,e[i],i)===!1)return}}var s=r.navigator.msPointerEnabled;Flow.prototype={on:function(e,t){e=e.toLowerCase(),this.events.hasOwnProperty(e)||(this.events[e]=[]),this.events[e].push(t)},off:function(e,t){e!==a?(e=e.toLowerCase(),t!==a?this.events.hasOwnProperty(e)&&arrayRemove(this.events[e],t):delete this.events[e]):this.events={}},fire:function(e,t){t=Array.prototype.slice.call(arguments),e=e.toLowerCase();var n=!1;return this.events.hasOwnProperty(e)&&each(this.events[e],function(e){n=e.apply(this,t.slice(1))===!1||n},this),"catchall"!=e&&(t.unshift("catchAll"),n=this.fire.apply(this,t)===!1||n),!n},webkitReadDataTransfer:function(e){function readDirectory(e){e.readEntries(function(t){t.length?(n+=t.length,each(t,function(e){if(e.isFile){var t=e.fullPath;e.file(function(e){fileReadSuccess(e,t)},readError)}else e.isDirectory&&readDirectory(e.createReader())}),readDirectory(e)):decrement()},readError)}function fileReadSuccess(e,t){e.relativePath=t.substring(1),i.push(e),decrement()}function readError(e){throw e}function decrement(){0==--n&&t.addFiles(i,e)}var t=this,n=e.dataTransfer.items.length,i=[];each(e.dataTransfer.items,function(e){var t=e.webkitGetAsEntry();return t?void(t.isFile?fileReadSuccess(e.getAsFile(),t.fullPath):readDirectory(t.createReader())):void decrement()})},generateUniqueIdentifier:function(e){var t=this.opts.generateUniqueIdentifier;if("function"==typeof t)return t(e);var n=e.relativePath||e.webkitRelativePath||e.fileName||e.name;return e.size+"-"+n.replace(/[^0-9a-zA-Z_-]/gim,"")},uploadNextChunk:function(e){var t=!1;if(this.opts.prioritizeFirstAndLastChunk&&(each(this.files,function(e){return!e.paused&&e.chunks.length&&"pending"===e.chunks[0].status()?(e.chunks[0].send(),t=!0,!1):!e.paused&&e.chunks.length>1&&"pending"===e.chunks[e.chunks.length-1].status()?(e.chunks[e.chunks.length-1].send(),t=!0,!1):void 0}),t))return t;if(each(this.files,function(e){if(e.paused||each(e.chunks,function(e){if("pending"===e.status())return e.send(),t=!0,!1}),t)return!1}),t)return!0;var n=!1;return each(this.files,function(e){if(!e.isComplete())return n=!0,!1}),n||e||async(function(){this.fire("complete")},this),!1},assignBrowse:function(e,t,n,i){e instanceof Element&&(e=[e]),each(e,function(e){var r;"INPUT"===e.tagName&&"file"===e.type?r=e:(r=o.createElement("input"),r.setAttribute("type","file"),extend(r.style,{visibility:"hidden",position:"absolute",width:"1px",height:"1px"}),e.appendChild(r),e.addEventListener("click",function(){r.click()},!1)),this.opts.singleFile||n||r.setAttribute("multiple","multiple"),t&&r.setAttribute("webkitdirectory","webkitdirectory"),each(i,function(e,t){r.setAttribute(t,e)});var a=this;r.addEventListener("change",function(e){e.target.value&&(a.addFiles(e.target.files,e),e.target.value="")},!1)},this)},assignDrop:function(e){"undefined"==typeof e.length&&(e=[e]),each(e,function(e){e.addEventListener("dragover",this.preventEvent,!1),e.addEventListener("dragenter",this.preventEvent,!1),e.addEventListener("drop",this.onDrop,!1)},this)},unAssignDrop:function(e){"undefined"==typeof e.length&&(e=[e]),each(e,function(e){e.removeEventListener("dragover",this.preventEvent),e.removeEventListener("dragenter",this.preventEvent),e.removeEventListener("drop",this.onDrop)},this)},isUploading:function(){var e=!1;return each(this.files,function(t){if(t.isUploading())return e=!0,!1}),e},_shouldUploadNext:function(){var e=0,t=!0,n=this.opts.simultaneousUploads;return each(this.files,function(i){each(i.chunks,function(i){if("uploading"===i.status()&&(e++,e>=n))return t=!1,!1})}),t&&e},upload:function(){var e=this._shouldUploadNext();if(e!==!1){this.fire("uploadStart");for(var t=!1,n=1;n<=this.opts.simultaneousUploads-e;n++)t=this.uploadNextChunk(!0)||t;t||async(function(){this.fire("complete")},this)}},resume:function(){each(this.files,function(e){e.resume()})},pause:function(){each(this.files,function(e){e.pause()})},cancel:function(){for(var e=this.files.length-1;e>=0;e--)this.files[e].cancel()},progress:function(){var e=0,t=0;return each(this.files,function(n){e+=n.progress()*n.size,t+=n.size}),t>0?e/t:0},addFile:function(e,t){this.addFiles([e],t)},addFiles:function(e,t){var n=[];each(e,function(e){if((!s||s&&e.size>0)&&(e.size%4096!==0||"."!==e.name&&"."!==e.fileName)&&(this.opts.allowDuplicateUploads||!this.getFromUniqueIdentifier(this.generateUniqueIdentifier(e)))){var i=new FlowFile(this,e);this.fire("fileAdded",i,t)&&n.push(i)}},this),this.fire("filesAdded",n,t)&&(each(n,function(e){this.opts.singleFile&&this.files.length>0&&this.removeFile(this.files[0]),this.files.push(e)},this),this.fire("filesSubmitted",n,t))},removeFile:function(e){for(var t=this.files.length-1;t>=0;t--)this.files[t]===e&&(this.files.splice(t,1),e.abort(),this.fire("fileRemoved",e))},getFromUniqueIdentifier:function(e){var t=!1;return each(this.files,function(n){n.uniqueIdentifier===e&&(t=n)}),t},getSize:function(){var e=0;return each(this.files,function(t){e+=t.size}),e},sizeUploaded:function(){var e=0;return each(this.files,function(t){e+=t.sizeUploaded()}),e},timeRemaining:function(){var e=0,t=0;return each(this.files,function(n){n.paused||n.error||(e+=n.size-n.sizeUploaded(),t+=n.averageSpeed)}),e&&!t?Number.POSITIVE_INFINITY:e||t?Math.floor(e/t):0}},FlowFile.prototype={measureSpeed:function(){var e=Date.now()-this._lastProgressCallback;if(e){var t=this.flowObj.opts.speedSmoothingFactor,n=this.sizeUploaded();this.currentSpeed=Math.max((n-this._prevUploadedSize)/e*1e3,0),this.averageSpeed=t*this.currentSpeed+(1-t)*this.averageSpeed,this._prevUploadedSize=n}},chunkEvent:function(e,t,n){switch(t){case"progress":if(Date.now()-this._lastProgressCallback<this.flowObj.opts.progressCallbacksInterval)break;this.measureSpeed(),this.flowObj.fire("fileProgress",this,e),this.flowObj.fire("progress"),this._lastProgressCallback=Date.now();break;case"error":this.error=!0,this.abort(!0),this.flowObj.fire("fileError",this,n,e),this.flowObj.fire("error",n,this,e);break;case"success":if(this.error)return;this.measureSpeed(),this.flowObj.fire("fileProgress",this,e),this.flowObj.fire("progress"),this._lastProgressCallback=Date.now(),this.isComplete()&&(this.currentSpeed=0,this.averageSpeed=0,this.flowObj.fire("fileSuccess",this,n,e));break;case"retry":this.flowObj.fire("fileRetry",this,e)}},pause:function(){this.paused=!0,this.abort()},resume:function(){this.paused=!1,this.flowObj.upload()},abort:function(e){this.currentSpeed=0,this.averageSpeed=0;var t=this.chunks;e&&(this.chunks=[]),each(t,function(e){"uploading"===e.status()&&(e.abort(),this.flowObj.uploadNextChunk())},this)},cancel:function(){this.flowObj.removeFile(this)},retry:function(){this.bootstrap(),this.flowObj.upload()},bootstrap:function(){"function"==typeof this.flowObj.opts.initFileFn&&this.flowObj.opts.initFileFn(this),this.abort(!0),this.error=!1,this._prevProgress=0;for(var e=this.flowObj.opts.forceChunkSize?Math.ceil:Math.floor,t=Math.max(e(this.size/this.flowObj.opts.chunkSize),1),n=0;n<t;n++)this.chunks.push(new FlowChunk(this.flowObj,this,n))},progress:function(){if(this.error)return 1;if(1===this.chunks.length)return this._prevProgress=Math.max(this._prevProgress,this.chunks[0].progress()),this._prevProgress;var e=0;each(this.chunks,function(t){e+=t.progress()*(t.endByte-t.startByte)});var t=e/this.size;return this._prevProgress=Math.max(this._prevProgress,t>.9999?1:t),this._prevProgress},isUploading:function(){var e=!1;return each(this.chunks,function(t){if("uploading"===t.status())return e=!0,!1}),e},isComplete:function(){var e=!1;return each(this.chunks,function(t){var n=t.status();if("pending"===n||"uploading"===n||"reading"===n||1===t.preprocessState||1===t.readState)return e=!0,!1}),!e},sizeUploaded:function(){var e=0;return each(this.chunks,function(t){e+=t.sizeUploaded()}),e},timeRemaining:function(){if(this.paused||this.error)return 0;var e=this.size-this.sizeUploaded();return e&&!this.averageSpeed?Number.POSITIVE_INFINITY:e||this.averageSpeed?Math.floor(e/this.averageSpeed):0},getType:function(){return this.file.type&&this.file.type.split("/")[1]},getExtension:function(){return this.name.substr((~-this.name.lastIndexOf(".")>>>0)+2).toLowerCase()}},FlowChunk.prototype={getParams:function(){return{flowChunkNumber:this.offset+1,flowChunkSize:this.flowObj.opts.chunkSize,flowCurrentChunkSize:this.endByte-this.startByte,flowTotalSize:this.fileObj.size,flowIdentifier:this.fileObj.uniqueIdentifier,flowFilename:this.fileObj.name,flowRelativePath:this.fileObj.relativePath,flowTotalChunks:this.fileObj.chunks.length}},getTarget:function(e,t){return e+=e.indexOf("?")<0?"?":"&",e+t.join("&")},test:function(){this.xhr=new XMLHttpRequest,this.xhr.addEventListener("load",this.testHandler,!1),this.xhr.addEventListener("error",this.testHandler,!1);var e=evalOpts(this.flowObj.opts.testMethod,this.fileObj,this),t=this.prepareXhrRequest(e,!0);this.xhr.send(t)},preprocessFinished:function(){this.endByte=this.computeEndByte(),this.preprocessState=2,this.send()},readFinished:function(e){this.readState=2,this.bytes=e,this.send()},send:function(){var e=this.flowObj.opts.preprocess,t=this.flowObj.opts.readFileFn;if("function"==typeof e)switch(this.preprocessState){case 0:return this.preprocessState=1,void e(this);case 1:return}switch(this.readState){case 0:return this.readState=1,void t(this.fileObj,this.startByte,this.endByte,this.fileObj.file.type,this);case 1:return}if(this.flowObj.opts.testChunks&&!this.tested)return void this.test();this.loaded=0,this.total=0,this.pendingRetry=!1,this.xhr=new XMLHttpRequest,this.xhr.upload.addEventListener("progress",this.progressHandler,!1),this.xhr.addEventListener("load",this.doneHandler,!1),this.xhr.addEventListener("error",this.doneHandler,!1);var n=evalOpts(this.flowObj.opts.uploadMethod,this.fileObj,this),i=this.prepareXhrRequest(n,!1,this.flowObj.opts.method,this.bytes);this.xhr.send(i)},abort:function(){var e=this.xhr;this.xhr=null,e&&e.abort()},status:function(e){return 1===this.readState?"reading":this.pendingRetry||1===this.preprocessState?"uploading":this.xhr?this.xhr.readyState<4?"uploading":this.flowObj.opts.successStatuses.indexOf(this.xhr.status)>-1?"success":this.flowObj.opts.permanentErrors.indexOf(this.xhr.status)>-1||!e&&this.retries>=this.flowObj.opts.maxChunkRetries?"error":(this.abort(),"pending"):"pending"},message:function(){return this.xhr?this.xhr.responseText:""},progress:function(){if(this.pendingRetry)return 0;var e=this.status();return"success"===e||"error"===e?1:"pending"===e?0:this.total>0?this.loaded/this.total:0},sizeUploaded:function(){var e=this.endByte-this.startByte;return"success"!==this.status()&&(e=this.progress()*e),e},prepareXhrRequest:function(e,t,n,i){var r=evalOpts(this.flowObj.opts.query,this.fileObj,this,t);r=extend(r,this.getParams());var o=evalOpts(this.flowObj.opts.target,this.fileObj,this,t),a=null;if("GET"===e||"octet"===n){var s=[];each(r,function(e,t){s.push([encodeURIComponent(t),encodeURIComponent(e)].join("="))}),o=this.getTarget(o,s),a=i||null}else a=new FormData,each(r,function(e,t){a.append(t,e)}),a.append(this.flowObj.opts.fileParameterName,i,this.fileObj.file.name);return this.xhr.open(e,o,!0),this.xhr.withCredentials=this.flowObj.opts.withCredentials,each(evalOpts(this.flowObj.opts.headers,this.fileObj,this,t),function(e,t){this.xhr.setRequestHeader(t,e)},this),a}},Flow.evalOpts=evalOpts,Flow.extend=extend,Flow.each=each,Flow.FlowFile=FlowFile,Flow.FlowChunk=FlowChunk,Flow.version="<%= version %>","object"==typeof e&&e&&"object"==typeof e.exports?e.exports=Flow:(r.Flow=Flow,n=[],i=function(){return Flow}.apply(t,n),!(i!==a&&(e.exports=i)))}(window,document)}).call(t,n(10)(e))},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(356),r=n.n(i),o=n(6),a=(n.n(o),n(448)),s=n.n(a),l=n(208),c=n.n(l),u=n(354),d=(n.n(u),n(358)),h=n.n(d),m=n(357),p=(n.n(m),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}()),f=function(){function ImagePrep(e){_classCallCheck(this,ImagePrep),this.options=s()({maxWidth:1/0,maxHeight:1/0,quality:100,downsamplingRatio:.5,maxMetaDataSize:1024e3},e),h.a.metaDataParsers.jpeg[65506]=[],h.a.metaDataParsers.jpeg[65506].push(function(e,t,n,i,r){var o=e.buffer.slice(t+18,t+n);o.byteLength>0&&(i.iccProfile?i.iccProfile=c()(i.iccProfile,o):i.iccProfile=o)})}return p(ImagePrep,[{key:"loadImage",value:function(e){var t=this;return new r.a(function(i,r){h.a.parseMetaData(e,function(r){var a=void 0;r.exif&&(a=r.exif.getAll());var s=void 0;if(r.iccProfile){for(var l=new o.Buffer(r.iccProfile.byteLength),c=new Uint8Array(r.iccProfile),d=0;d<l.length;++d)l[d]=c[d];s=n.i(u.parse)(l)}h()(e,function(n){n.toBlob(function(e){var t=[];r.imageHead?(t.push(r.imageHead),t.push(h.a.blobSlice.call(e,20))):t.push(e);var n=new Blob(t,{type:e.type});i({blob:n,profile:s,exif:a})},e.type,t.options.quality/100)},{maxWidth:t.options.maxWidth,maxHeight:t.options.maxHeight,downsamplingRatio:t.options.downsamplingRatio,canvas:!0})},{maxMetaDataSize:1024e3,disableImageHead:!1})})}}]),ImagePrep}();t.a=f},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(7),n(16)],i=a,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){"use strict";e.ExifMap=function(){return this},e.ExifMap.prototype.map={Orientation:274},e.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.getExifThumbnail=function(e,t,n){var i,r,o;if(!n||t+n>e.byteLength)return void console.log("Invalid Exif data: Invalid thumbnail data.");for(i=[],r=0;r<n;r+=1)o=e.getUint8(t+r),i.push((o<16?"0":"")+o.toString(16));return"data:image/jpeg,%"+i.join("%")},e.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}},e.exifTagTypes[7]=e.exifTagTypes[1],e.getExifValue=function(t,n,i,r,o,a){var s,l,c,u,d,h,m=e.exifTagTypes[r];if(!m)return void console.log("Invalid Exif data: Invalid tag type.");if(s=m.size*o,l=s>4?n+t.getUint32(i+8,a):i+8,l+s>t.byteLength)return void console.log("Invalid Exif data: Invalid data offset.");if(1===o)return m.getValue(t,l,a);for(c=[],u=0;u<o;u+=1)c[u]=m.getValue(t,l+u*m.size,a);if(m.ascii){for(d="",u=0;u<c.length&&(h=c[u],"\0"!==h);u+=1)d+=h;return d}return c},e.parseExifTag=function(t,n,i,r,o){var a=t.getUint16(i,r);o.exif[a]=e.getExifValue(t,n,i,t.getUint16(i+2,r),t.getUint32(i+4,r),r)},e.parseExifTags=function(e,t,n,i,r){var o,a,s;if(n+6>e.byteLength)return void console.log("Invalid Exif data: Invalid directory offset.");if(o=e.getUint16(n,i),a=n+2+12*o,a+4>e.byteLength)return void console.log("Invalid Exif data: Invalid directory size.");for(s=0;s<o;s+=1)this.parseExifTag(e,t,n+2+12*s,i,r);return e.getUint32(a,i)},e.parseExifData=function(t,n,i,r,o){if(!o.disableExif){var a,s,l,c=n+10;if(1165519206===t.getUint32(n+4)){if(c+8>t.byteLength)return void console.log("Invalid Exif data: Invalid segment size.");if(0!==t.getUint16(n+8))return void console.log("Invalid Exif data: Missing byte alignment offset.");switch(t.getUint16(c)){case 18761:a=!0;break;case 19789:a=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==t.getUint16(c+2,a))return void console.log("Invalid Exif data: Missing TIFF marker.");s=t.getUint32(c+4,a),r.exif=new e.ExifMap,s=e.parseExifTags(t,c,c+s,a,r),s&&!o.disableExifThumbnail&&(l={exif:{}},s=e.parseExifTags(t,c,c+s,a,l),l.exif[513]&&(r.exif.Thumbnail=e.getExifThumbnail(t,c+l.exif[513],l.exif[514]))),r.exif[34665]&&!o.disableExifSub&&e.parseExifTags(t,c,c+r.exif[34665],a,r),r.exif[34853]&&!o.disableExifGps&&e.parseExifTags(t,c,c+r.exif[34853],a,r)}}},e.metaDataParsers.jpeg[65505].push(e.parseExifData)})},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(7)],i=a,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){"use strict";var t=e.transform;e.transform=function(n,i,r,o,a){t.call(e,e.scale(n,i,a),i,r,o,a)},e.transformCoordinates=function(){},e.getTransformedOptions=function(e,t){var n,i,r,o,a=t.aspectRatio;if(!a)return t;n={};for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n.crop=!0,r=e.naturalWidth||e.width,o=e.naturalHeight||e.height,r/o>a?(n.maxWidth=o*a,n.maxHeight=o):(n.maxWidth=r,n.maxHeight=r/a),n},e.renderImageToCanvas=function(e,t,n,i,r,o,a,s,l,c){return e.getContext("2d").drawImage(t,n,i,r,o,a,s,l,c),e},e.hasCanvasOption=function(e){return e.canvas||e.crop||!!e.aspectRatio},e.scale=function(t,n,i){function scaleUp(){var e=Math.max((a||b)/b,(s||_)/_);e>1&&(b*=e,_*=e)}function scaleDown(){var e=Math.min((r||b)/b,(o||_)/_);e<1&&(b*=e,_*=e)}n=n||{};var r,o,a,s,l,c,u,d,h,m,p,f=document.createElement("canvas"),g=t.getContext||e.hasCanvasOption(n)&&f.getContext,v=t.naturalWidth||t.width,y=t.naturalHeight||t.height,b=v,_=y;if(g&&(n=e.getTransformedOptions(t,n,i),u=n.left||0,d=n.top||0,n.sourceWidth?(l=n.sourceWidth,void 0!==n.right&&void 0===n.left&&(u=v-l-n.right)):l=v-u-(n.right||0),n.sourceHeight?(c=n.sourceHeight,void 0!==n.bottom&&void 0===n.top&&(d=y-c-n.bottom)):c=y-d-(n.bottom||0),b=l,_=c),r=n.maxWidth,o=n.maxHeight,a=n.minWidth,s=n.minHeight,g&&r&&o&&n.crop?(b=r,_=o,p=l/c-r/o,p<0?(c=o*l/r,void 0===n.top&&void 0===n.bottom&&(d=(y-c)/2)):p>0&&(l=r*c/o,void 0===n.left&&void 0===n.right&&(u=(v-l)/2))):((n.contain||n.cover)&&(a=r=r||a,s=o=o||s),n.cover?(scaleDown(),scaleUp()):(scaleUp(),scaleDown())),g){if(h=n.pixelRatio,h>1&&(f.style.width=b+"px",f.style.height=_+"px",b*=h,_*=h,f.getContext("2d").scale(h,h)),m=n.downsamplingRatio,m>0&&m<1&&b<l&&_<c)for(;l*m>b;)f.width=l*m,f.height=c*m,e.renderImageToCanvas(f,t,u,d,l,c,0,0,f.width,f.height),u=0,d=0,l=f.width,c=f.height,t=document.createElement("canvas"),t.width=l,t.height=c,e.renderImageToCanvas(t,f,0,0,l,c,0,0,l,c);return f.width=b,f.height=_,e.transformCoordinates(f,n),e.renderImageToCanvas(f,t,u,d,l,c,0,0,b,_)}return t.width=b,t.height=_,t}})},function(e,t,n){var i,r;!function(){function d3_documentElement(e){return e&&(e.ownerDocument||e.document||e).documentElement}function d3_window(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function d3_ascending(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function d3_number(e){return null===e?NaN:+e}function d3_numeric(e){return!isNaN(e)}function d3_bisector(e){return{left:function(t,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=t.length);i<r;){var o=i+r>>>1;e(t[o],n)<0?i=o+1:r=o}return i},right:function(t,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=t.length);i<r;){var o=i+r>>>1;e(t[o],n)>0?r=o:i=o+1}return i}}}function d3_transposeLength(e){return e.length}function d3_range_integerScale(e){for(var t=1;e*t%1;)t*=10;return t}function d3_class(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function d3_Map(){this._=Object.create(null)}function d3_map_escape(e){return(e+="")===g||e[0]===v?v+e:e}function d3_map_unescape(e){return(e+="")[0]===v?e.slice(1):e}function d3_map_has(e){return d3_map_escape(e)in this._}function d3_map_remove(e){return(e=d3_map_escape(e))in this._&&delete this._[e]}function d3_map_keys(){var e=[];for(var t in this._)e.push(d3_map_unescape(t));return e}function d3_map_size(){var e=0;for(var t in this._)++e;return e}function d3_map_empty(){for(var e in this._)return!1;return!0}function d3_Set(){this._=Object.create(null)}function d3_identity(e){return e}function d3_rebind(e,t,n){return function(){var i=n.apply(t,arguments);return i===t?e:i}}function d3_vendorSymbol(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,i=y.length;n<i;++n){var r=y[n]+t;if(r in e)return r}}function d3_noop(){}function d3_dispatch(){}function d3_dispatch_event(e){function event(){for(var n,i=t,r=-1,o=i.length;++r<o;)(n=i[r].on)&&n.apply(this,arguments);return e}var t=[],n=new d3_Map;return event.on=function(i,r){var o,a=n.get(i);return arguments.length<2?a&&a.on:(a&&(a.on=null,t=t.slice(0,o=t.indexOf(a)).concat(t.slice(o+1)),n.remove(i)),r&&t.push(n.set(i,{on:r})),e)},event}function d3_eventPreventDefault(){o.event.preventDefault()}function d3_eventSource(){for(var e,t=o.event;e=t.sourceEvent;)t=e;return t}function d3_eventDispatch(e){for(var t=new d3_dispatch,n=0,i=arguments.length;++n<i;)t[arguments[n]]=d3_dispatch_event(t);return t.of=function(n,i){return function(r){try{var a=r.sourceEvent=o.event;r.target=e,o.event=r,t[r.type].apply(n,i)}finally{o.event=a}}},t}function d3_selection(e){return _(e,S),e}function d3_selection_selector(e){return"function"==typeof e?e:function(){return w(e,this)}}function d3_selection_selectorAll(e){return"function"==typeof e?e:function(){return x(e,this)}}function d3_selection_attr(e,t){function attrNull(){this.removeAttribute(e)}function attrNullNS(){this.removeAttributeNS(e.space,e.local)}function attrConstant(){this.setAttribute(e,t)}function attrConstantNS(){this.setAttributeNS(e.space,e.local,t)}function attrFunction(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function attrFunctionNS(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=o.ns.qualify(e),null==t?e.local?attrNullNS:attrNull:"function"==typeof t?e.local?attrFunctionNS:attrFunction:e.local?attrConstantNS:attrConstant}function d3_collapse(e){return e.trim().replace(/\s+/g," ")}function d3_selection_classedRe(e){return new RegExp("(?:^|\\s+)"+o.requote(e)+"(?:\\s+|$)","g")}function d3_selection_classes(e){return(e+"").trim().split(/^|\s+/)}function d3_selection_classed(e,t){function classedConstant(){for(var i=-1;++i<n;)e[i](this,t)}function classedFunction(){for(var i=-1,r=t.apply(this,arguments);++i<n;)e[i](this,r)}e=d3_selection_classes(e).map(d3_selection_classedName);var n=e.length;
return"function"==typeof t?classedFunction:classedConstant}function d3_selection_classedName(e){var t=d3_selection_classedRe(e);return function(n,i){if(r=n.classList)return i?r.add(e):r.remove(e);var r=n.getAttribute("class")||"";i?(t.lastIndex=0,t.test(r)||n.setAttribute("class",d3_collapse(r+" "+e))):n.setAttribute("class",d3_collapse(r.replace(t," ")))}}function d3_selection_style(e,t,n){function styleNull(){this.style.removeProperty(e)}function styleConstant(){this.style.setProperty(e,t,n)}function styleFunction(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}return null==t?styleNull:"function"==typeof t?styleFunction:styleConstant}function d3_selection_property(e,t){function propertyNull(){delete this[e]}function propertyConstant(){this[e]=t}function propertyFunction(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?propertyNull:"function"==typeof t?propertyFunction:propertyConstant}function d3_selection_creator(e){function create(){var t=this.ownerDocument,n=this.namespaceURI;return n===E&&t.documentElement.namespaceURI===E?t.createElement(e):t.createElementNS(n,e)}function createNS(){return this.ownerDocument.createElementNS(e.space,e.local)}return"function"==typeof e?e:(e=o.ns.qualify(e)).local?createNS:create}function d3_selectionRemove(){var e=this.parentNode;e&&e.removeChild(this)}function d3_selection_dataNode(e){return{__data__:e}}function d3_selection_filter(e){return function(){return C(this,e)}}function d3_selection_sortComparator(e){return arguments.length||(e=d3_ascending),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function d3_selection_each(e,t){for(var n=0,i=e.length;n<i;n++)for(var r,o=e[n],a=0,s=o.length;a<s;a++)(r=o[a])&&t(r,a,n);return e}function d3_selection_enter(e){return _(e,M),e}function d3_selection_enterInsertBefore(e){var t,n;return function(i,r,o){var a,s=e[o].update,l=s.length;for(o!=n&&(n=o,t=0),r>=t&&(t=r+1);!(a=s[t])&&++t<l;);return a}}function d3_selection_on(e,t,n){function onRemove(){var t=this[i];t&&(this.removeEventListener(e,t,t.$),delete this[i])}function onAdd(){var r=a(t,s(arguments));onRemove.call(this),this.addEventListener(e,this[i]=r,r.$=n),r._=t}function removeAll(){var t,n=new RegExp("^__on([^.]+)"+o.requote(e)+"$");for(var i in this)if(t=i.match(n)){var r=this[i];this.removeEventListener(t[1],r,r.$),delete this[i]}}var i="__on"+e,r=e.indexOf("."),a=d3_selection_onListener;r>0&&(e=e.slice(0,r));var l=k.get(e);return l&&(e=l,a=d3_selection_onFilter),r?t?onAdd:onRemove:t?d3_noop:removeAll}function d3_selection_onListener(e,t){return function(n){var i=o.event;o.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{o.event=i}}}function d3_selection_onFilter(e,t){var n=d3_selection_onListener(e,t);return function(e){var t=this,i=e.relatedTarget;i&&(i===t||8&i.compareDocumentPosition(t))||n.call(t,e)}}function d3_event_dragSuppress(e){var t=".dragsuppress-"+ ++$,n="click"+t,i=o.select(d3_window(e)).on("touchmove"+t,d3_eventPreventDefault).on("dragstart"+t,d3_eventPreventDefault).on("selectstart"+t,d3_eventPreventDefault);if(null==A&&(A=!("onselectstart"in e)&&d3_vendorSymbol(e.style,"userSelect")),A){var r=d3_documentElement(e).style,a=r[A];r[A]="none"}return function(e){if(i.on(t,null),A&&(r[A]=a),e){var o=function(){i.on(n,null)};i.on(n,function(){d3_eventPreventDefault(),o()},!0),setTimeout(o,0)}}}function d3_mousePoint(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();if(P<0){var r=d3_window(e);if(r.scrollX||r.scrollY){n=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=n[0][0].getScreenCTM();P=!(a.f||a.e),n.remove()}}return P?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function d3_behavior_dragTouchId(){return o.event.changedTouches[0].identifier}function d3_sgn(e){return e>0?1:e<0?-1:0}function d3_cross2d(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function d3_acos(e){return e>1?0:e<-1?R:Math.acos(e)}function d3_asin(e){return e>1?F:e<-1?-F:Math.asin(e)}function d3_sinh(e){return((e=Math.exp(e))-1/e)/2}function d3_cosh(e){return((e=Math.exp(e))+1/e)/2}function d3_tanh(e){return((e=Math.exp(2*e))-1)/(e+1)}function d3_haversin(e){return(e=Math.sin(e/2))*e}function d3_color(){}function d3_hsl(e,t,n){return this instanceof d3_hsl?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof d3_hsl?new d3_hsl(e.h,e.s,e.l):d3_rgb_parse(""+e,d3_rgb_hsl,d3_hsl):new d3_hsl(e,t,n)}function d3_hsl_rgb(e,t,n){function v(e){return e>360?e-=360:e<0&&(e+=360),e<60?i+(r-i)*e/60:e<180?r:e<240?i+(r-i)*(240-e)/60:i}function vv(e){return Math.round(255*v(e))}var i,r;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:t<0?0:t>1?1:t,n=n<0?0:n>1?1:n,r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r,new d3_rgb(vv(e+120),vv(e),vv(e-120))}function d3_hcl(e,t,n){return this instanceof d3_hcl?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof d3_hcl?new d3_hcl(e.h,e.c,e.l):e instanceof d3_lab?d3_lab_hcl(e.l,e.a,e.b):d3_lab_hcl((e=d3_rgb_lab((e=o.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new d3_hcl(e,t,n)}function d3_hcl_lab(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new d3_lab(n,Math.cos(e*=N)*t,Math.sin(e)*t)}function d3_lab(e,t,n){return this instanceof d3_lab?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof d3_lab?new d3_lab(e.l,e.a,e.b):e instanceof d3_hcl?d3_hcl_lab(e.h,e.c,e.l):d3_rgb_lab((e=d3_rgb(e)).r,e.g,e.b):new d3_lab(e,t,n)}function d3_lab_rgb(e,t,n){var i=(e+16)/116,r=i+t/500,o=i-n/200;return r=d3_lab_xyz(r)*K,i=d3_lab_xyz(i)*X,o=d3_lab_xyz(o)*J,new d3_rgb(d3_xyz_rgb(3.2404542*r-1.5371385*i-.4985314*o),d3_xyz_rgb(-.969266*r+1.8760108*i+.041556*o),d3_xyz_rgb(.0556434*r-.2040259*i+1.0572252*o))}function d3_lab_hcl(e,t,n){return e>0?new d3_hcl(Math.atan2(n,t)*H,Math.sqrt(t*t+n*n),e):new d3_hcl(NaN,NaN,e)}function d3_lab_xyz(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function d3_xyz_lab(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function d3_xyz_rgb(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function d3_rgb(e,t,n){return this instanceof d3_rgb?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof d3_rgb?new d3_rgb(e.r,e.g,e.b):d3_rgb_parse(""+e,d3_rgb,d3_hsl_rgb):new d3_rgb(e,t,n)}function d3_rgbNumber(e){return new d3_rgb(e>>16,e>>8&255,255&e)}function d3_rgbString(e){return d3_rgbNumber(e)+""}function d3_rgb_hex(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function d3_rgb_parse(e,t,n){var i,r,o,a=0,s=0,l=0;if(i=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return t(d3_rgb_parseNumber(r[0]),d3_rgb_parseNumber(r[1]),d3_rgb_parseNumber(r[2]))}return(o=ee.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.slice(1),16))||(4===e.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,l=15&o,l|=l<<4):7===e.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),t(a,s,l))}function d3_rgb_hsl(e,t,n){var i,r,o=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),s=a-o,l=(a+o)/2;return s?(r=l<.5?s/(a+o):s/(2-a-o),i=e==a?(t-n)/s+(t<n?6:0):t==a?(n-e)/s+2:(e-t)/s+4,i*=60):(i=NaN,r=l>0&&l<1?0:i),new d3_hsl(i,r,l)}function d3_rgb_lab(e,t,n){e=d3_rgb_xyz(e),t=d3_rgb_xyz(t),n=d3_rgb_xyz(n);var i=d3_xyz_lab((.4124564*e+.3575761*t+.1804375*n)/K),r=d3_xyz_lab((.2126729*e+.7151522*t+.072175*n)/X),o=d3_xyz_lab((.0193339*e+.119192*t+.9503041*n)/J);return d3_lab(116*r-16,500*(i-r),200*(r-o))}function d3_rgb_xyz(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function d3_rgb_parseNumber(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function d3_functor(e){return"function"==typeof e?e:function(){return e}}function d3_xhrType(e){return function(t,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),d3_xhr(t,n,e,i)}}function d3_xhr(e,t,n,i){function respond(){var e,t=c.status;if(!t&&d3_xhrHasResponse(c)||t>=200&&t<300||304===t){try{e=n.call(r,c)}catch(e){return void a.error.call(r,e)}a.load.call(r,e)}else a.error.call(r,c)}var r={},a=o.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(e)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=respond:c.onreadystatechange=function(){c.readyState>3&&respond()},c.onprogress=function(e){var t=o.event;o.event=e;try{a.progress.call(r,c)}finally{o.event=t}},r.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l[e]:(null==t?delete l[e]:l[e]=t+"",r)},r.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",r):t},r.responseType=function(e){return arguments.length?(u=e,r):u},r.response=function(e){return n=e,r},["get","post"].forEach(function(e){r[e]=function(){return r.send.apply(r,[e].concat(s(arguments)))}}),r.send=function(n,i,o){if(2===arguments.length&&"function"==typeof i&&(o=i,i=null),c.open(n,e,!0),null==t||"accept"in l||(l.accept=t+",*/*"),c.setRequestHeader)for(var s in l)c.setRequestHeader(s,l[s]);return null!=t&&c.overrideMimeType&&c.overrideMimeType(t),null!=u&&(c.responseType=u),null!=o&&r.on("error",o).on("load",function(e){o(null,e)}),a.beforesend.call(r,c),c.send(null==i?null:i),r},r.abort=function(){return c.abort(),r},o.rebind(r,a,"on"),null==i?r:r.get(d3_xhr_fixCallback(i))}function d3_xhr_fixCallback(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function d3_xhrHasResponse(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function d3_timer(e,t,n){var i=arguments.length;i<2&&(t=0),i<3&&(n=Date.now());var r=n+t,o={c:e,t:r,n:null};return ne?ne.n=o:te=o,ne=o,ie||(re=clearTimeout(re),ie=1,oe(d3_timer_step)),o}function d3_timer_step(){var e=d3_timer_mark(),t=d3_timer_sweep()-e;t>24?(isFinite(t)&&(clearTimeout(re),re=setTimeout(d3_timer_step,t)),ie=0):(ie=1,oe(d3_timer_step))}function d3_timer_mark(){for(var e=Date.now(),t=te;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function d3_timer_sweep(){for(var e,t=te,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:te=t.n;return ne=e,n}function d3_format_precision(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function d3_formatPrefix(e,t){var n=Math.pow(10,3*f(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function d3_locale_numberFormat(e){var t=e.decimal,n=e.thousands,i=e.grouping,r=e.currency,a=i&&n?function(e,t){for(var r=e.length,o=[],a=0,s=i[0],l=0;r>0&&s>0&&(l+s+1>t&&(s=Math.max(1,t-l)),o.push(e.substring(r-=s,r+s)),!((l+=s+1)>t));)s=i[a=(a+1)%i.length];return o.reverse().join(n)}:d3_identity;return function(e){var n=se.exec(e),i=n[1]||" ",s=n[2]||">",l=n[3]||"-",c=n[4]||"",u=n[5],d=+n[6],h=n[7],m=n[8],p=n[9],f=1,g="",v="",y=!1,b=!0;switch(m&&(m=+m.substring(1)),(u||"0"===i&&"="===s)&&(u=i="0",s="="),p){case"n":h=!0,p="g";break;case"%":f=100,v="%",p="f";break;case"p":f=100,v="%",p="r";break;case"b":case"o":case"x":case"X":"#"===c&&(g="0"+p.toLowerCase());case"c":b=!1;case"d":y=!0,m=0;break;case"s":f=-1,p="r"}"$"===c&&(g=r[0],v=r[1]),"r"!=p||m||(p="g"),null!=m&&("g"==p?m=Math.max(1,Math.min(21,m)):"e"!=p&&"f"!=p||(m=Math.max(0,Math.min(20,m)))),p=le.get(p)||d3_format_typeDefault;var _=u&&h;return function(e){var n=v;if(y&&e%1)return"";var r=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===l?"":l;if(f<0){var c=o.formatPrefix(e,m);e=c.scale(e),n=c.symbol+v}else e*=f;e=p(e,m);var w,x,C=e.lastIndexOf(".");if(C<0){var S=b?e.lastIndexOf("e"):-1;S<0?(w=e,x=""):(w=e.substring(0,S),x=e.substring(S))}else w=e.substring(0,C),x=t+e.substring(C+1);!u&&h&&(w=a(w,1/0));var E=g.length+w.length+x.length+(_?0:r.length),T=E<d?new Array(E=d-E+1).join(i):"";return _&&(w=a(T+w,T.length?d-x.length:1/0)),r+=g,e=w+x,("<"===s?r+e+T:">"===s?T+r+e:"^"===s?T.substring(0,E>>=1)+r+e+T.substring(E):r+(_?e:T+e))+n}}}function d3_format_typeDefault(e){return e+""}function d3_date_utc(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function d3_time_interval(e,t,n){function round(t){var n=e(t),i=offset(n,1);return t-n<i-t?n:i}function ceil(n){return t(n=e(new ue(n-1)),1),n}function offset(e,n){return t(e=new ue(+e),n),e}function range(e,i,r){var o=ceil(e),a=[];if(r>1)for(;o<i;)n(o)%r||a.push(new Date(+o)),t(o,1);else for(;o<i;)a.push(new Date(+o)),t(o,1);return a}function range_utc(e,t,n){try{ue=d3_date_utc;var i=new d3_date_utc;return i._=e,range(i,t,n)}finally{ue=Date}}e.floor=e,e.round=round,e.ceil=ceil,e.offset=offset,e.range=range;var i=e.utc=d3_time_interval_utc(e);return i.floor=i,i.round=d3_time_interval_utc(round),i.ceil=d3_time_interval_utc(ceil),i.offset=d3_time_interval_utc(offset),i.range=range_utc,e}function d3_time_interval_utc(e){return function(t,n){try{ue=d3_date_utc;var i=new d3_date_utc;return i._=t,e(i,n)._}finally{ue=Date}}}function d3_locale_timeFormat(e){function d3_time_format(e){function format(n){for(var i,r,o,a=[],s=-1,l=0;++s<t;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(r=he[i=e.charAt(++s)])&&(i=e.charAt(++s)),(o=b[i])&&(i=o(n,null==r?"e"===i?" ":"0":r)),a.push(i),l=s+1);return a.push(e.slice(l,s)),a.join("")}var t=e.length;return format.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=d3_time_parse(n,e,t,0);if(i!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&ue!==d3_date_utc,o=new(r?d3_date_utc:ue);return"j"in n?o.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),o.setFullYear(n.y,0,1),o.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(o.getDay()+5)%7:n.w+7*n.U-(o.getDay()+6)%7)):o.setFullYear(n.y,n.m,n.d),o.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?o._:o},format.toString=function(){return e},format}function d3_time_parse(e,t,n,i){for(var r,o,a,s=0,l=t.length,c=n.length;s<l;){if(i>=c)return-1;if(r=t.charCodeAt(s++),37===r){if(a=t.charAt(s++),o=_[a in he?t.charAt(s++):a],!o||(i=o(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function d3_time_parseWeekdayAbbrev(e,t,n){m.lastIndex=0;var i=m.exec(t.slice(n));return i?(e.w=p.get(i[0].toLowerCase()),n+i[0].length):-1}function d3_time_parseWeekday(e,t,n){d.lastIndex=0;var i=d.exec(t.slice(n));return i?(e.w=h.get(i[0].toLowerCase()),n+i[0].length):-1}function d3_time_parseMonthAbbrev(e,t,n){v.lastIndex=0;var i=v.exec(t.slice(n));return i?(e.m=y.get(i[0].toLowerCase()),n+i[0].length):-1}function d3_time_parseMonth(e,t,n){f.lastIndex=0;var i=f.exec(t.slice(n));return i?(e.m=g.get(i[0].toLowerCase()),n+i[0].length):-1}function d3_time_parseLocaleFull(e,t,n){return d3_time_parse(e,b.c.toString(),t,n)}function d3_time_parseLocaleDate(e,t,n){return d3_time_parse(e,b.x.toString(),t,n)}function d3_time_parseLocaleTime(e,t,n){return d3_time_parse(e,b.X.toString(),t,n)}function d3_time_parseAmPm(e,t,n){var i=u.get(t.slice(n,n+=2).toLowerCase());return null==i?-1:(e.p=i,n)}var t=e.dateTime,n=e.date,i=e.time,r=e.periods,a=e.days,s=e.shortDays,l=e.months,c=e.shortMonths;d3_time_format.utc=function(e){function format(e){try{ue=d3_date_utc;var n=new ue;return n._=e,t(n)}finally{ue=Date}}var t=d3_time_format(e);return format.parse=function(e){try{ue=d3_date_utc;var n=t.parse(e);return n&&n._}finally{ue=Date}},format.toString=t.toString,format},d3_time_format.multi=d3_time_format.utc.multi=d3_time_formatMulti;var u=o.map(),d=d3_time_formatRe(a),h=d3_time_formatLookup(a),m=d3_time_formatRe(s),p=d3_time_formatLookup(s),f=d3_time_formatRe(l),g=d3_time_formatLookup(l),v=d3_time_formatRe(c),y=d3_time_formatLookup(c);r.forEach(function(e,t){u.set(e.toLowerCase(),t)});var b={a:function(e){return s[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:d3_time_format(t),d:function(e,t){return d3_time_formatPad(e.getDate(),t,2)},e:function(e,t){return d3_time_formatPad(e.getDate(),t,2)},H:function(e,t){return d3_time_formatPad(e.getHours(),t,2)},I:function(e,t){return d3_time_formatPad(e.getHours()%12||12,t,2)},j:function(e,t){return d3_time_formatPad(1+ce.dayOfYear(e),t,3)},L:function(e,t){return d3_time_formatPad(e.getMilliseconds(),t,3)},m:function(e,t){return d3_time_formatPad(e.getMonth()+1,t,2)},M:function(e,t){return d3_time_formatPad(e.getMinutes(),t,2)},p:function(e){return r[+(e.getHours()>=12)]},S:function(e,t){return d3_time_formatPad(e.getSeconds(),t,2)},U:function(e,t){return d3_time_formatPad(ce.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return d3_time_formatPad(ce.mondayOfYear(e),t,2)},x:d3_time_format(n),X:d3_time_format(i),y:function(e,t){return d3_time_formatPad(e.getFullYear()%100,t,2)},Y:function(e,t){return d3_time_formatPad(e.getFullYear()%1e4,t,4)},Z:d3_time_zone,"%":function(){return"%"}},_={a:d3_time_parseWeekdayAbbrev,A:d3_time_parseWeekday,b:d3_time_parseMonthAbbrev,B:d3_time_parseMonth,c:d3_time_parseLocaleFull,d:d3_time_parseDay,e:d3_time_parseDay,H:d3_time_parseHour24,I:d3_time_parseHour24,j:d3_time_parseDayOfYear,L:d3_time_parseMilliseconds,m:d3_time_parseMonthNumber,M:d3_time_parseMinutes,p:d3_time_parseAmPm,S:d3_time_parseSeconds,U:d3_time_parseWeekNumberSunday,w:d3_time_parseWeekdayNumber,W:d3_time_parseWeekNumberMonday,x:d3_time_parseLocaleDate,X:d3_time_parseLocaleTime,y:d3_time_parseYear,Y:d3_time_parseFullYear,Z:d3_time_parseZone,"%":d3_time_parseLiteralPercent};return d3_time_format}function d3_time_formatPad(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(t)+r:r)}function d3_time_formatRe(e){return new RegExp("^(?:"+e.map(o.requote).join("|")+")","i")}function d3_time_formatLookup(e){for(var t=new d3_Map,n=-1,i=e.length;++n<i;)t.set(e[n].toLowerCase(),n);return t}function d3_time_parseWeekdayNumber(e,t,n){me.lastIndex=0;var i=me.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function d3_time_parseWeekNumberSunday(e,t,n){me.lastIndex=0;var i=me.exec(t.slice(n));return i?(e.U=+i[0],n+i[0].length):-1}function d3_time_parseWeekNumberMonday(e,t,n){me.lastIndex=0;var i=me.exec(t.slice(n));return i?(e.W=+i[0],n+i[0].length):-1}function d3_time_parseFullYear(e,t,n){me.lastIndex=0;var i=me.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function d3_time_parseYear(e,t,n){me.lastIndex=0;var i=me.exec(t.slice(n,n+2));return i?(e.y=d3_time_expandYear(+i[0]),n+i[0].length):-1}function d3_time_parseZone(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function d3_time_expandYear(e){return e+(e>68?1900:2e3)}function d3_time_parseMonthNumber(e,t,n){me.lastIndex=0;var i=me.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function d3_time_parseDay(e,t,n){me.lastIndex=0;var i=me.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function d3_time_parseDayOfYear(e,t,n){me.lastIndex=0;var i=me.exec(t.slice(n,n+3));return i?(e.j=+i[0],n+i[0].length):-1}function d3_time_parseHour24(e,t,n){me.lastIndex=0;var i=me.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function d3_time_parseMinutes(e,t,n){me.lastIndex=0;var i=me.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function d3_time_parseSeconds(e,t,n){me.lastIndex=0;var i=me.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function d3_time_parseMilliseconds(e,t,n){me.lastIndex=0;var i=me.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function d3_time_zone(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",i=f(t)/60|0,r=f(t)%60;return n+d3_time_formatPad(i,"0",2)+d3_time_formatPad(r,"0",2)}function d3_time_parseLiteralPercent(e,t,n){pe.lastIndex=0;var i=pe.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function d3_time_formatMulti(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,i=e[n];!i[1](t);)i=e[++n];return i[0](t)}}function d3_adder(){}function d3_adderSum(e,t,n){var i=n.s=e+t,r=i-e,o=i-r;n.t=e-o+(t-r)}function d3_geo_streamGeometry(e,t){e&&ye.hasOwnProperty(e.type)&&ye[e.type](e,t)}function d3_geo_streamLine(e,t,n){var i,r=-1,o=e.length-n;for(t.lineStart();++r<o;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function d3_geo_streamPolygon(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)d3_geo_streamLine(e[n],t,1);t.polygonEnd()}function d3_geo_areaRingStart(){function nextPoint(e,t){e*=N,t=t*N/2+R/4;var o=e-n,a=o>=0?1:-1,s=a*o,l=Math.cos(t),c=Math.sin(t),u=r*c,d=i*l+u*Math.cos(s),h=u*a*Math.sin(s);_e.add(Math.atan2(h,d)),n=e,i=l,r=c}var e,t,n,i,r;we.point=function(o,a){we.point=nextPoint,n=(e=o)*N,i=Math.cos(a=(t=a)*N/2+R/4),r=Math.sin(a)},we.lineEnd=function(){nextPoint(e,t)}}function d3_geo_cartesian(e){var t=e[0],n=e[1],i=Math.cos(n);return[i*Math.cos(t),i*Math.sin(t),Math.sin(n)]}function d3_geo_cartesianDot(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function d3_geo_cartesianCross(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function d3_geo_cartesianAdd(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function d3_geo_cartesianScale(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function d3_geo_cartesianNormalize(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function d3_geo_spherical(e){return[Math.atan2(e[1],e[0]),d3_asin(e[2])]}function d3_geo_sphericalEqual(e,t){return f(e[0]-t[0])<L&&f(e[1]-t[1])<L}function d3_geo_centroidPoint(e,t){e*=N;var n=Math.cos(t*=N);d3_geo_centroidPointXYZ(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function d3_geo_centroidPointXYZ(e,t,n){++xe,Se+=(e-Se)/xe,Ee+=(t-Ee)/xe,Te+=(n-Te)/xe}function d3_geo_centroidLineStart(){function nextPoint(i,r){i*=N;var o=Math.cos(r*=N),a=o*Math.cos(i),s=o*Math.sin(i),l=Math.sin(r),c=Math.atan2(Math.sqrt((c=t*l-n*s)*c+(c=n*a-e*l)*c+(c=e*s-t*a)*c),e*a+t*s+n*l);Ce+=c,Me+=c*(e+(e=a)),ke+=c*(t+(t=s)),Ae+=c*(n+(n=l)),d3_geo_centroidPointXYZ(e,t,n)}var e,t,n;De.point=function(i,r){i*=N;var o=Math.cos(r*=N);e=o*Math.cos(i),t=o*Math.sin(i),n=Math.sin(r),De.point=nextPoint,d3_geo_centroidPointXYZ(e,t,n)}}function d3_geo_centroidLineEnd(){De.point=d3_geo_centroidPoint}function d3_geo_centroidRingStart(){function nextPoint(e,t){e*=N;var o=Math.cos(t*=N),a=o*Math.cos(e),s=o*Math.sin(e),l=Math.sin(t),c=i*l-r*s,u=r*a-n*l,d=n*s-i*a,h=Math.sqrt(c*c+u*u+d*d),m=n*a+i*s+r*l,p=h&&-d3_acos(m)/h,f=Math.atan2(h,m);$e+=p*c,Pe+=p*u,Le+=p*d,Ce+=f,Me+=f*(n+(n=a)),ke+=f*(i+(i=s)),Ae+=f*(r+(r=l)),d3_geo_centroidPointXYZ(n,i,r)}var e,t,n,i,r;De.point=function(o,a){e=o,t=a,De.point=nextPoint,o*=N;var s=Math.cos(a*=N);n=s*Math.cos(o),i=s*Math.sin(o),r=Math.sin(a),d3_geo_centroidPointXYZ(n,i,r)},De.lineEnd=function(){nextPoint(e,t),De.lineEnd=d3_geo_centroidLineEnd,De.point=d3_geo_centroidPoint}}function d3_geo_compose(e,t){function compose(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(compose.invert=function(n,i){return n=t.invert(n,i),n&&e.invert(n[0],n[1])}),compose}function d3_true(){return!0}function d3_geo_clipPolygon(e,t,n,i,r){var o=[],a=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],i=e[t];if(d3_geo_sphericalEqual(n,i)){r.lineStart();for(var s=0;s<t;++s)r.point((n=e[s])[0],n[1]);return void r.lineEnd()}var l=new d3_geo_clipPolygonIntersection(n,e,null,!0),c=new d3_geo_clipPolygonIntersection(n,null,l,!1);l.o=c,o.push(l),a.push(c),l=new d3_geo_clipPolygonIntersection(i,e,null,!1),c=new d3_geo_clipPolygonIntersection(i,null,l,!0),l.o=c,o.push(l),a.push(c)}}),a.sort(t),d3_geo_clipPolygonLinkCircular(o),d3_geo_clipPolygonLinkCircular(a),o.length){for(var s=0,l=n,c=a.length;s<c;++s)a[s].e=l=!l;for(var u,d,h=o[0];;){for(var m=h,p=!0;m.v;)if((m=m.n)===h)return;u=m.z,r.lineStart();do{if(m.v=m.o.v=!0,m.e){if(p)for(var s=0,c=u.length;s<c;++s)r.point((d=u[s])[0],d[1]);else i(m.x,m.n.x,1,r);m=m.n}else{if(p){u=m.p.z;for(var s=u.length-1;s>=0;--s)r.point((d=u[s])[0],d[1])}else i(m.x,m.p.x,-1,r);m=m.p}m=m.o,u=m.z,p=!p}while(!m.v);r.lineEnd()}}}function d3_geo_clipPolygonLinkCircular(e){if(t=e.length){for(var t,n,i=0,r=e[0];++i<t;)r.n=n=e[i],n.p=r,r=n;r.n=n=e[0],n.p=r}}function d3_geo_clipPolygonIntersection(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function d3_geo_clip(e,t,n,i){return function(r,a){function point(t,n){var i=r(t,n);e(t=i[0],n=i[1])&&a.point(t,n)}function pointLine(e,t){var n=r(e,t);u.point(n[0],n[1])}function lineStart(){h.point=pointLine,u.lineStart()}function lineEnd(){h.point=point,u.lineEnd()}function pointRing(e,t){c.push([e,t]);var n=r(e,t);p.point(n[0],n[1])}function ringStart(){p.lineStart(),c=[]}function ringEnd(){pointRing(c[0][0],c[0][1]),p.lineEnd();var e,t=p.clean(),n=m.buffer(),i=n.length;if(c.pop(),l.push(c),c=null,i)if(1&t){e=n[0];var r,i=e.length-1,o=-1;if(i>0){for(f||(a.polygonStart(),f=!0),a.lineStart();++o<i;)a.point((r=e[o])[0],r[1]);a.lineEnd()}}else i>1&&2&t&&n.push(n.pop().concat(n.shift())),s.push(n.filter(d3_geo_clipSegmentLength1))}var s,l,c,u=t(a),d=r.invert(i[0],i[1]),h={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){h.point=pointRing,h.lineStart=ringStart,h.lineEnd=ringEnd,s=[],l=[]},polygonEnd:function(){h.point=point,h.lineStart=lineStart,h.lineEnd=lineEnd,s=o.merge(s);var e=d3_geo_pointInPolygon(d,l);s.length?(f||(a.polygonStart(),f=!0),d3_geo_clipPolygon(s,d3_geo_clipSort,e,n,a)):e&&(f||(a.polygonStart(),f=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),f&&(a.polygonEnd(),f=!1),s=l=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},m=d3_geo_clipBufferListener(),p=t(m),f=!1;return h}}function d3_geo_clipSegmentLength1(e){return e.length>1}function d3_geo_clipBufferListener(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:d3_noop,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function d3_geo_clipSort(e,t){return((e=e.x)[0]<0?e[1]-F-L:F-e[1])-((t=t.x)[0]<0?t[1]-F-L:F-t[1])}function d3_geo_clipAntimeridianLine(e){var t,n=NaN,i=NaN,r=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?R:-R,l=f(o-n);f(l-R)<L?(e.point(n,i=(i+a)/2>0?F:-F),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(s,i),e.point(o,i),t=0):r!==s&&l>=R&&(f(n-r)<L&&(n-=r*L),f(o-s)<L&&(o-=s*L),i=d3_geo_clipAntimeridianIntersect(n,i,o,a),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(s,i),t=0),e.point(n=o,i=a),r=s},lineEnd:function(){e.lineEnd(),n=i=NaN},clean:function(){return 2-t}}}function d3_geo_clipAntimeridianIntersect(e,t,n,i){var r,o,a=Math.sin(e-n);return f(a)>L?Math.atan((Math.sin(t)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(t))*Math.sin(e))/(r*o*a)):(t+i)/2}function d3_geo_clipAntimeridianInterpolate(e,t,n,i){var r;if(null==e)r=n*F,i.point(-R,r),i.point(0,r),i.point(R,r),i.point(R,0),i.point(R,-r),i.point(0,-r),i.point(-R,-r),i.point(-R,0),i.point(-R,r);else if(f(e[0]-t[0])>L){var o=e[0]<t[0]?R:-R;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(t[0],t[1])}function d3_geo_pointInPolygon(e,t){var n=e[0],i=e[1],r=[Math.sin(n),-Math.cos(n),0],o=0,a=0;_e.reset();for(var s=0,l=t.length;s<l;++s){var c=t[s],u=c.length;if(u)for(var d=c[0],h=d[0],m=d[1]/2+R/4,p=Math.sin(m),f=Math.cos(m),g=1;;){g===u&&(g=0),e=c[g];var v=e[0],y=e[1]/2+R/4,b=Math.sin(y),_=Math.cos(y),w=v-h,x=w>=0?1:-1,C=x*w,S=C>R,E=p*b;if(_e.add(Math.atan2(E*x*Math.sin(C),f*_+E*Math.cos(C))),o+=S?w+x*I:w,S^h>=n^v>=n){var T=d3_geo_cartesianCross(d3_geo_cartesian(d),d3_geo_cartesian(e));d3_geo_cartesianNormalize(T);var M=d3_geo_cartesianCross(r,T);d3_geo_cartesianNormalize(M);var k=(S^w>=0?-1:1)*d3_asin(M[2]);(i>k||i===k&&(T[0]||T[1]))&&(a+=S^w>=0?1:-1)}if(!g++)break;h=v,p=b,f=_,d=e}}return(o<-L||o<L&&_e<-L)^1&a}function d3_geo_clipCircle(e){function visible(e,n){return Math.cos(e)*Math.cos(n)>t}function clipLine(e){var t,r,o,a,s;return{lineStart:function(){a=o=!1,s=1},point:function(l,c){var u,d=[l,c],h=visible(l,c),m=n?h?0:code(l,c):h?code(l+(l<0?R:-R),c):0;if(!t&&(a=o=h)&&e.lineStart(),h!==o&&(u=intersect(t,d),(d3_geo_sphericalEqual(t,u)||d3_geo_sphericalEqual(d,u))&&(d[0]+=L,d[1]+=L,h=visible(d[0],d[1]))),h!==o)s=0,h?(e.lineStart(),u=intersect(d,t),e.point(u[0],u[1])):(u=intersect(t,d),e.point(u[0],u[1]),e.lineEnd()),t=u;else if(i&&t&&n^h){var p;m&r||!(p=intersect(d,t,!0))||(s=0,n?(e.lineStart(),e.point(p[0][0],p[0][1]),e.point(p[1][0],p[1][1]),e.lineEnd()):(e.point(p[1][0],p[1][1]),e.lineEnd(),e.lineStart(),e.point(p[0][0],p[0][1])))}!h||t&&d3_geo_sphericalEqual(t,d)||e.point(d[0],d[1]),t=d,o=h,r=m},lineEnd:function(){o&&e.lineEnd(),t=null},clean:function(){return s|(a&&o)<<1}}}function intersect(e,n,i){var r=d3_geo_cartesian(e),o=d3_geo_cartesian(n),a=[1,0,0],s=d3_geo_cartesianCross(r,o),l=d3_geo_cartesianDot(s,s),c=s[0],u=l-c*c;if(!u)return!i&&e;var d=t*l/u,h=-t*c/u,m=d3_geo_cartesianCross(a,s),p=d3_geo_cartesianScale(a,d),g=d3_geo_cartesianScale(s,h);d3_geo_cartesianAdd(p,g);var v=m,y=d3_geo_cartesianDot(p,v),b=d3_geo_cartesianDot(v,v),_=y*y-b*(d3_geo_cartesianDot(p,p)-1);if(!(_<0)){var w=Math.sqrt(_),x=d3_geo_cartesianScale(v,(-y-w)/b);if(d3_geo_cartesianAdd(x,p),x=d3_geo_spherical(x),!i)return x;var C,S=e[0],E=n[0],T=e[1],M=n[1];E<S&&(C=S,S=E,E=C);var k=E-S,A=f(k-R)<L,$=A||k<L;if(!A&&M<T&&(C=T,T=M,M=C),$?A?T+M>0^x[1]<(f(x[0]-S)<L?T:M):T<=x[1]&&x[1]<=M:k>R^(S<=x[0]&&x[0]<=E)){var P=d3_geo_cartesianScale(v,(-y+w)/b);return d3_geo_cartesianAdd(P,p),[x,d3_geo_spherical(P)]}}}function code(t,i){var r=n?e:R-e,o=0;return t<-r?o|=1:t>r&&(o|=2),i<-r?o|=4:i>r&&(o|=8),o}var t=Math.cos(e),n=t>0,i=f(t)>L,r=d3_geo_circleInterpolate(e,6*N);return d3_geo_clip(visible,clipLine,r,n?[0,-e]:[-R,e-R])}function d3_geom_clipLine(e,t,n,i){return function(r){var o,a=r.a,s=r.b,l=a.x,c=a.y,u=s.x,d=s.y,h=0,m=1,p=u-l,f=d-c;if(o=e-l,p||!(o>0)){if(o/=p,p<0){if(o<h)return;o<m&&(m=o)}else if(p>0){if(o>m)return;o>h&&(h=o)}if(o=n-l,p||!(o<0)){if(o/=p,p<0){if(o>m)return;o>h&&(h=o)}else if(p>0){if(o<h)return;o<m&&(m=o)}if(o=t-c,f||!(o>0)){if(o/=f,f<0){if(o<h)return;o<m&&(m=o)}else if(f>0){if(o>m)return;o>h&&(h=o)}if(o=i-c,f||!(o<0)){if(o/=f,f<0){if(o>m)return;o>h&&(h=o)}else if(f>0){if(o<h)return;o<m&&(m=o)}return h>0&&(r.a={x:l+h*p,y:c+h*f}),m<1&&(r.b={x:l+m*p,y:c+m*f}),r}}}}}}function d3_geo_clipExtent(e,t,n,i){function corner(i,r){return f(i[0]-e)<L?r>0?0:3:f(i[0]-n)<L?r>0?2:1:f(i[1]-t)<L?r>0?1:0:r>0?3:2}function compare(e,t){return comparePoints(e.x,t.x)}function comparePoints(e,t){var n=corner(e,1),i=corner(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(r){function insidePolygon(e){for(var t=0,n=s.length,i=e[1],r=0;r<n;++r)for(var o,a=1,l=s[r],c=l.length,u=l[0];a<c;++a)o=l[a],u[1]<=i?o[1]>i&&d3_cross2d(u,o,e)>0&&++t:o[1]<=i&&d3_cross2d(u,o,e)<0&&--t,u=o;return 0!==t}function interpolate(r,o,a,s){var l=0,c=0;if(null==r||(l=corner(r,a))!==(c=corner(o,a))||comparePoints(r,o)<0^a>0){do s.point(0===l||3===l?e:n,l>1?i:t);while((l=(l+a+4)%4)!==c)}else s.point(o[0],o[1])}function pointVisible(r,o){return e<=r&&r<=n&&t<=o&&o<=i}function point(e,t){pointVisible(e,t)&&r.point(e,t)}function lineStart(){_.point=linePoint,s&&s.push(l=[]),f=!0,p=!1,h=m=NaN}function lineEnd(){a&&(linePoint(c,u),d&&p&&y.rejoin(),a.push(y.buffer())),_.point=point,p&&r.lineEnd()}function linePoint(e,t){e=Math.max(-Ie,Math.min(Ie,e)),t=Math.max(-Ie,Math.min(Ie,t));var n=pointVisible(e,t);if(s&&l.push([e,t]),f)c=e,u=t,d=n,f=!1,n&&(r.lineStart(),r.point(e,t));else if(n&&p)r.point(e,t);else{var i={a:{x:h,y:m},b:{x:e,y:t}};b(i)?(p||(r.lineStart(),r.point(i.a.x,i.a.y)),r.point(i.b.x,i.b.y),n||r.lineEnd(),g=!1):n&&(r.lineStart(),r.point(e,t),g=!1)}h=e,m=t,p=n}var a,s,l,c,u,d,h,m,p,f,g,v=r,y=d3_geo_clipBufferListener(),b=d3_geom_clipLine(e,t,n,i),_={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){r=y,a=[],s=[],g=!0},polygonEnd:function(){r=v,a=o.merge(a);var t=insidePolygon([e,i]),n=g&&t,c=a.length;(n||c)&&(r.polygonStart(),n&&(r.lineStart(),interpolate(null,null,1,r),
r.lineEnd()),c&&d3_geo_clipPolygon(a,compare,t,interpolate,r),r.polygonEnd()),a=s=l=null}};return _}}function d3_geo_conic(e){var t=0,n=R/3,i=d3_geo_projectionMutator(e),r=i(t,n);return r.parallels=function(e){return arguments.length?i(t=e[0]*R/180,n=e[1]*R/180):[t/R*180,n/R*180]},r}function d3_geo_conicEqualArea(e,t){function forward(e,t){var n=Math.sqrt(r-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),o-n*Math.cos(e)]}var n=Math.sin(e),i=(n+Math.sin(t))/2,r=1+n*(2*i-n),o=Math.sqrt(r)/i;return forward.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,d3_asin((r-(e*e+n*n)*i*i)/(2*i))]},forward}function d3_geo_pathAreaRingStart(){function nextPoint(e,t){Fe+=i*e-n*t,n=e,i=t}var e,t,n,i;Ve.point=function(r,o){Ve.point=nextPoint,e=n=r,t=i=o},Ve.lineEnd=function(){nextPoint(e,t)}}function d3_geo_pathBoundsPoint(e,t){e<Ne&&(Ne=e),e>je&&(je=e),t<He&&(He=t),t>Be&&(Be=t)}function d3_geo_pathBuffer(){function point(n,i){t.push("M",n,",",i,e)}function pointLineStart(e,i){t.push("M",e,",",i),n.point=pointLine}function pointLine(e,n){t.push("L",e,",",n)}function lineEnd(){n.point=point}function lineEndPolygon(){t.push("Z")}var e=d3_geo_pathBufferCircle(4.5),t=[],n={point:point,lineStart:function(){n.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){n.lineEnd=lineEndPolygon},polygonEnd:function(){n.lineEnd=lineEnd,n.point=point},pointRadius:function(t){return e=d3_geo_pathBufferCircle(t),n},result:function(){if(t.length){var e=t.join("");return t=[],e}}};return n}function d3_geo_pathBufferCircle(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function d3_geo_pathCentroidPoint(e,t){Se+=e,Ee+=t,++Te}function d3_geo_pathCentroidLineStart(){function nextPoint(n,i){var r=n-e,o=i-t,a=Math.sqrt(r*r+o*o);Me+=a*(e+n)/2,ke+=a*(t+i)/2,Ae+=a,d3_geo_pathCentroidPoint(e=n,t=i)}var e,t;Ye.point=function(n,i){Ye.point=nextPoint,d3_geo_pathCentroidPoint(e=n,t=i)}}function d3_geo_pathCentroidLineEnd(){Ye.point=d3_geo_pathCentroidPoint}function d3_geo_pathCentroidRingStart(){function nextPoint(e,t){var r=e-n,o=t-i,a=Math.sqrt(r*r+o*o);Me+=a*(n+e)/2,ke+=a*(i+t)/2,Ae+=a,a=i*e-n*t,$e+=a*(n+e),Pe+=a*(i+t),Le+=3*a,d3_geo_pathCentroidPoint(n=e,i=t)}var e,t,n,i;Ye.point=function(r,o){Ye.point=nextPoint,d3_geo_pathCentroidPoint(e=n=r,t=i=o)},Ye.lineEnd=function(){nextPoint(e,t)}}function d3_geo_pathContext(e){function point(n,i){e.moveTo(n+t,i),e.arc(n,i,t,0,I)}function pointLineStart(t,i){e.moveTo(t,i),n.point=pointLine}function pointLine(t,n){e.lineTo(t,n)}function lineEnd(){n.point=point}function lineEndPolygon(){e.closePath()}var t=4.5,n={point:point,lineStart:function(){n.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){n.lineEnd=lineEndPolygon},polygonEnd:function(){n.lineEnd=lineEnd,n.point=point},pointRadius:function(e){return t=e,n},result:d3_noop};return n}function d3_geo_resample(e){function resample(e){return(i?resampleRecursive:resampleNone)(e)}function resampleNone(t){return d3_geo_transformPoint(t,function(n,i){n=e(n,i),t.point(n[0],n[1])})}function resampleRecursive(t){function point(n,i){n=e(n,i),t.point(n[0],n[1])}function lineStart(){d=NaN,g.point=linePoint,t.lineStart()}function linePoint(n,r){var o=d3_geo_cartesian([n,r]),a=e(n,r);resampleLineTo(d,h,u,m,p,f,d=a[0],h=a[1],u=n,m=o[0],p=o[1],f=o[2],i,t),t.point(d,h)}function lineEnd(){g.point=point,t.lineEnd()}function ringStart(){lineStart(),g.point=ringPoint,g.lineEnd=ringEnd}function ringPoint(e,t){linePoint(n=e,r=t),o=d,a=h,s=m,l=p,c=f,g.point=linePoint}function ringEnd(){resampleLineTo(d,h,u,m,p,f,o,a,n,s,l,c,i,t),g.lineEnd=lineEnd,lineEnd()}var n,r,o,a,s,l,c,u,d,h,m,p,f,g={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){t.polygonStart(),g.lineStart=ringStart},polygonEnd:function(){t.polygonEnd(),g.lineStart=lineStart}};return g}function resampleLineTo(i,r,o,a,s,l,c,u,d,h,m,p,g,v){var y=c-i,b=u-r,_=y*y+b*b;if(_>4*t&&g--){var w=a+h,x=s+m,C=l+p,S=Math.sqrt(w*w+x*x+C*C),E=Math.asin(C/=S),T=f(f(C)-1)<L||f(o-d)<L?(o+d)/2:Math.atan2(x,w),M=e(T,E),k=M[0],A=M[1],$=k-i,P=A-r,D=b*$-y*P;(D*D/_>t||f((y*$+b*P)/_-.5)>.3||a*h+s*m+l*p<n)&&(resampleLineTo(i,r,o,a,s,l,k,A,T,w/=S,x/=S,C,g,v),v.point(k,A),resampleLineTo(k,A,T,w,x,C,c,u,d,h,m,p,g,v))}}var t=.5,n=Math.cos(30*N),i=16;return resample.precision=function(e){return arguments.length?(i=(t=e*e)>0&&16,resample):Math.sqrt(t)},resample}function d3_geo_pathProjectStream(e){var t=d3_geo_resample(function(t,n){return e([t*H,n*H])});return function(e){return d3_geo_projectionRadians(t(e))}}function d3_geo_transform(e){this.stream=e}function d3_geo_transformPoint(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function d3_geo_projection(e){return d3_geo_projectionMutator(function(){return e})()}function d3_geo_projectionMutator(e){function projection(e){return e=i(e[0]*N,e[1]*N),[e[0]*c+r,a-e[1]*c]}function invert(e){return e=i.invert((e[0]-r)/c,(a-e[1])/c),e&&[e[0]*H,e[1]*H]}function reset(){i=d3_geo_compose(n=d3_geo_rotation(p,f,g),t);var e=t(h,m);return r=u-e[0]*c,a=d+e[1]*c,invalidate()}function invalidate(){return s&&(s.valid=!1,s=null),projection}var t,n,i,r,a,s,l=d3_geo_resample(function(e,n){return e=t(e,n),[e[0]*c+r,a-e[1]*c]}),c=150,u=480,d=250,h=0,m=0,p=0,f=0,g=0,v=Re,y=d3_identity,b=null,_=null;return projection.stream=function(e){return s&&(s.valid=!1),s=d3_geo_projectionRadians(v(n,l(y(e)))),s.valid=!0,s},projection.clipAngle=function(e){return arguments.length?(v=null==e?(b=e,Re):d3_geo_clipCircle((b=+e)*N),invalidate()):b},projection.clipExtent=function(e){return arguments.length?(_=e,y=e?d3_geo_clipExtent(e[0][0],e[0][1],e[1][0],e[1][1]):d3_identity,invalidate()):_},projection.scale=function(e){return arguments.length?(c=+e,reset()):c},projection.translate=function(e){return arguments.length?(u=+e[0],d=+e[1],reset()):[u,d]},projection.center=function(e){return arguments.length?(h=e[0]%360*N,m=e[1]%360*N,reset()):[h*H,m*H]},projection.rotate=function(e){return arguments.length?(p=e[0]%360*N,f=e[1]%360*N,g=e.length>2?e[2]%360*N:0,reset()):[p*H,f*H,g*H]},o.rebind(projection,l,"precision"),function(){return t=e.apply(this,arguments),projection.invert=t.invert&&invert,reset()}}function d3_geo_projectionRadians(e){return d3_geo_transformPoint(e,function(t,n){e.point(t*N,n*N)})}function d3_geo_equirectangular(e,t){return[e,t]}function d3_geo_identityRotation(e,t){return[e>R?e-I:e<-R?e+I:e,t]}function d3_geo_rotation(e,t,n){return e?t||n?d3_geo_compose(d3_geo_rotation(e),d3_geo_rotation(t,n)):d3_geo_rotation(e):t||n?d3_geo_rotation(t,n):d3_geo_identityRotation}function d3_geo_forwardRotation(e){return function(t,n){return t+=e,[t>R?t-I:t<-R?t+I:t,n]}}function d3_geo_rotation(e){var t=d3_geo_forwardRotation(e);return t.invert=d3_geo_forwardRotation(-e),t}function d3_geo_rotation(e,t){function rotation(e,t){var a=Math.cos(t),s=Math.cos(e)*a,l=Math.sin(e)*a,c=Math.sin(t),u=c*n+s*i;return[Math.atan2(l*r-u*o,s*n-c*i),d3_asin(u*r+l*o)]}var n=Math.cos(e),i=Math.sin(e),r=Math.cos(t),o=Math.sin(t);return rotation.invert=function(e,t){var a=Math.cos(t),s=Math.cos(e)*a,l=Math.sin(e)*a,c=Math.sin(t),u=c*r-l*o;return[Math.atan2(l*r+c*o,s*n+u*i),d3_asin(u*n-s*i)]},rotation}function d3_geo_circleInterpolate(e,t){var n=Math.cos(e),i=Math.sin(e);return function(r,o,a,s){var l=a*t;null!=r?(r=d3_geo_circleAngle(n,r),o=d3_geo_circleAngle(n,o),(a>0?r<o:r>o)&&(r+=a*I)):(r=e+a*I,o=e-.5*l);for(var c,u=r;a>0?u>o:u<o;u-=l)s.point((c=d3_geo_spherical([n,-i*Math.cos(u),-i*Math.sin(u)]))[0],c[1])}}function d3_geo_circleAngle(e,t){var n=d3_geo_cartesian(t);n[0]-=e,d3_geo_cartesianNormalize(n);var i=d3_acos(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-L)%(2*Math.PI)}function d3_geo_graticuleX(e,t,n){var i=o.range(e,t-L,n).concat(t);return function(e){return i.map(function(t){return[e,t]})}}function d3_geo_graticuleY(e,t,n){var i=o.range(e,t-L,n).concat(t);return function(e){return i.map(function(t){return[t,e]})}}function d3_source(e){return e.source}function d3_target(e){return e.target}function d3_geo_interpolate(e,t,n,i){var r=Math.cos(t),o=Math.sin(t),a=Math.cos(i),s=Math.sin(i),l=r*Math.cos(e),c=r*Math.sin(e),u=a*Math.cos(n),d=a*Math.sin(n),h=2*Math.asin(Math.sqrt(d3_haversin(i-t)+r*a*d3_haversin(n-e))),m=1/Math.sin(h),p=h?function(e){var t=Math.sin(e*=h)*m,n=Math.sin(h-e)*m,i=n*l+t*u,r=n*c+t*d,a=n*o+t*s;return[Math.atan2(r,i)*H,Math.atan2(a,Math.sqrt(i*i+r*r))*H]}:function(){return[e*H,t*H]};return p.distance=h,p}function d3_geo_lengthLineStart(){function nextPoint(i,r){var o=Math.sin(r*=N),a=Math.cos(r),s=f((i*=N)-e),l=Math.cos(s);Ue+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=n*o-t*a*l)*s),t*o+n*a*l),e=i,t=o,n=a}var e,t,n;Ge.point=function(i,r){e=i*N,t=Math.sin(r*=N),n=Math.cos(r),Ge.point=nextPoint},Ge.lineEnd=function(){Ge.point=Ge.lineEnd=d3_noop}}function d3_geo_azimuthal(e,t){function azimuthal(t,n){var i=Math.cos(t),r=Math.cos(n),o=e(i*r);return[o*r*Math.sin(t),o*Math.sin(n)]}return azimuthal.invert=function(e,n){var i=Math.sqrt(e*e+n*n),r=t(i),o=Math.sin(r),a=Math.cos(r);return[Math.atan2(e*o,i*a),Math.asin(i&&n*o/i)]},azimuthal}function d3_geo_conicConformal(e,t){function forward(e,t){o>0?t<-F+L&&(t=-F+L):t>F-L&&(t=F-L);var n=o/Math.pow(i(t),r);return[n*Math.sin(r*e),o-n*Math.cos(r*e)]}var n=Math.cos(e),i=function(e){return Math.tan(R/4+e/2)},r=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(i(t)/i(e)),o=n*Math.pow(i(e),r)/r;return r?(forward.invert=function(e,t){var n=o-t,i=d3_sgn(r)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/r,2*Math.atan(Math.pow(o/i,1/r))-F]},forward):d3_geo_mercator}function d3_geo_conicEquidistant(e,t){function forward(e,t){var n=r-t;return[n*Math.sin(i*e),r-n*Math.cos(i*e)]}var n=Math.cos(e),i=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),r=n/i+e;return f(i)<L?d3_geo_equirectangular:(forward.invert=function(e,t){var n=r-t;return[Math.atan2(e,n)/i,r-d3_sgn(i)*Math.sqrt(e*e+n*n)]},forward)}function d3_geo_mercator(e,t){return[e,Math.log(Math.tan(R/4+t/2))]}function d3_geo_mercatorProjection(e){var t,n=d3_geo_projection(e),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var a=o.apply(n,arguments);if(a===n){if(t=null==e){var s=R*i(),l=r();o([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else t&&(a=null);return a},n.clipExtent(null)}function d3_geo_transverseMercator(e,t){return[Math.log(Math.tan(R/4+t/2)),-e]}function d3_geom_pointX(e){return e[0]}function d3_geom_pointY(e){return e[1]}function d3_geom_hullUpper(e){for(var t=e.length,n=[0,1],i=2,r=2;r<t;r++){for(;i>1&&d3_cross2d(e[n[i-2]],e[n[i-1]],e[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function d3_geom_hullOrder(e,t){return e[0]-t[0]||e[1]-t[1]}function d3_geom_polygonInside(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function d3_geom_polygonIntersect(e,t,n,i){var r=e[0],o=n[0],a=t[0]-r,s=i[0]-o,l=e[1],c=n[1],u=t[1]-l,d=i[1]-c,h=(s*(l-c)-d*(r-o))/(d*a-s*u);return[r+h*a,l+h*u]}function d3_geom_polygonClosed(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function d3_geom_voronoiBeach(){d3_geom_voronoiRedBlackNode(this),this.edge=this.site=this.circle=null}function d3_geom_voronoiCreateBeach(e){var t=rt.pop()||new d3_geom_voronoiBeach;return t.site=e,t}function d3_geom_voronoiDetachBeach(e){d3_geom_voronoiDetachCircle(e),tt.remove(e),rt.push(e),d3_geom_voronoiRedBlackNode(e)}function d3_geom_voronoiRemoveBeach(e){var t=e.circle,n=t.x,i=t.cy,r={x:n,y:i},o=e.P,a=e.N,s=[e];d3_geom_voronoiDetachBeach(e);for(var l=o;l.circle&&f(n-l.circle.x)<L&&f(i-l.circle.cy)<L;)o=l.P,s.unshift(l),d3_geom_voronoiDetachBeach(l),l=o;s.unshift(l),d3_geom_voronoiDetachCircle(l);for(var c=a;c.circle&&f(n-c.circle.x)<L&&f(i-c.circle.cy)<L;)a=c.N,s.push(c),d3_geom_voronoiDetachBeach(c),c=a;s.push(c),d3_geom_voronoiDetachCircle(c);var u,d=s.length;for(u=1;u<d;++u)c=s[u],l=s[u-1],d3_geom_voronoiSetEdgeEnd(c.edge,l.site,c.site,r);l=s[0],c=s[d-1],c.edge=d3_geom_voronoiCreateEdge(l.site,c.site,null,r),d3_geom_voronoiAttachCircle(l),d3_geom_voronoiAttachCircle(c)}function d3_geom_voronoiAddBeach(e){for(var t,n,i,r,o=e.x,a=e.y,s=tt._;s;)if(i=d3_geom_voronoiLeftBreakPoint(s,a)-o,i>L)s=s.L;else{if(r=o-d3_geom_voronoiRightBreakPoint(s,a),!(r>L)){i>-L?(t=s.P,n=s):r>-L?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var l=d3_geom_voronoiCreateBeach(e);if(tt.insert(t,l),t||n){if(t===n)return d3_geom_voronoiDetachCircle(t),n=d3_geom_voronoiCreateBeach(t.site),tt.insert(l,n),l.edge=n.edge=d3_geom_voronoiCreateEdge(t.site,l.site),d3_geom_voronoiAttachCircle(t),void d3_geom_voronoiAttachCircle(n);if(!n)return void(l.edge=d3_geom_voronoiCreateEdge(t.site,l.site));d3_geom_voronoiDetachCircle(t),d3_geom_voronoiDetachCircle(n);var c=t.site,u=c.x,d=c.y,h=e.x-u,m=e.y-d,p=n.site,f=p.x-u,g=p.y-d,v=2*(h*g-m*f),y=h*h+m*m,b=f*f+g*g,_={x:(g*y-m*b)/v+u,y:(h*b-f*y)/v+d};d3_geom_voronoiSetEdgeEnd(n.edge,c,p,_),l.edge=d3_geom_voronoiCreateEdge(c,e,null,_),n.edge=d3_geom_voronoiCreateEdge(e,p,null,_),d3_geom_voronoiAttachCircle(t),d3_geom_voronoiAttachCircle(n)}}function d3_geom_voronoiLeftBreakPoint(e,t){var n=e.site,i=n.x,r=n.y,o=r-t;if(!o)return i;var a=e.P;if(!a)return-(1/0);n=a.site;var s=n.x,l=n.y,c=l-t;if(!c)return s;var u=s-i,d=1/o-1/c,h=u/c;return d?(-h+Math.sqrt(h*h-2*d*(u*u/(-2*c)-l+c/2+r-o/2)))/d+i:(i+s)/2}function d3_geom_voronoiRightBreakPoint(e,t){var n=e.N;if(n)return d3_geom_voronoiLeftBreakPoint(n,t);var i=e.site;return i.y===t?i.x:1/0}function d3_geom_voronoiCell(e){this.site=e,this.edges=[]}function d3_geom_voronoiCloseCells(e){for(var t,n,i,r,o,a,s,l,c,u,d=e[0][0],h=e[1][0],m=e[0][1],p=e[1][1],g=et,v=g.length;v--;)if(o=g[v],o&&o.prepare())for(s=o.edges,l=s.length,a=0;a<l;)u=s[a].end(),i=u.x,r=u.y,c=s[++a%l].start(),t=c.x,n=c.y,(f(i-t)>L||f(r-n)>L)&&(s.splice(a,0,new d3_geom_voronoiHalfEdge(d3_geom_voronoiCreateBorderEdge(o.site,u,f(i-d)<L&&p-r>L?{x:d,y:f(t-d)<L?n:p}:f(r-p)<L&&h-i>L?{x:f(n-p)<L?t:h,y:p}:f(i-h)<L&&r-m>L?{x:h,y:f(t-h)<L?n:m}:f(r-m)<L&&i-d>L?{x:f(n-m)<L?t:d,y:m}:null),o.site,null)),++l)}function d3_geom_voronoiHalfEdgeOrder(e,t){return t.angle-e.angle}function d3_geom_voronoiCircle(){d3_geom_voronoiRedBlackNode(this),this.x=this.y=this.arc=this.site=this.cy=null}function d3_geom_voronoiAttachCircle(e){var t=e.P,n=e.N;if(t&&n){var i=t.site,r=e.site,o=n.site;if(i!==o){var a=r.x,s=r.y,l=i.x-a,c=i.y-s,u=o.x-a,d=o.y-s,h=2*(l*d-c*u);if(!(h>=-D)){var m=l*l+c*c,p=u*u+d*d,f=(d*m-c*p)/h,g=(l*p-u*m)/h,d=g+s,v=ot.pop()||new d3_geom_voronoiCircle;v.arc=e,v.site=r,v.x=f+a,v.y=d+Math.sqrt(f*f+g*g),v.cy=d,e.circle=v;for(var y=null,b=it._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}it.insert(y,v),y||(nt=v)}}}}function d3_geom_voronoiDetachCircle(e){var t=e.circle;t&&(t.P||(nt=t.N),it.remove(t),ot.push(t),d3_geom_voronoiRedBlackNode(t),e.circle=null)}function d3_geom_voronoiClipEdges(e){for(var t,n=Qe,i=d3_geom_clipLine(e[0][0],e[0][1],e[1][0],e[1][1]),r=n.length;r--;)t=n[r],(!d3_geom_voronoiConnectEdge(t,e)||!i(t)||f(t.a.x-t.b.x)<L&&f(t.a.y-t.b.y)<L)&&(t.a=t.b=null,n.splice(r,1))}function d3_geom_voronoiConnectEdge(e,t){var n=e.b;if(n)return!0;var i,r,o=e.a,a=t[0][0],s=t[1][0],l=t[0][1],c=t[1][1],u=e.l,d=e.r,h=u.x,m=u.y,p=d.x,f=d.y,g=(h+p)/2,v=(m+f)/2;if(f===m){if(g<a||g>=s)return;if(h>p){if(o){if(o.y>=c)return}else o={x:g,y:l};n={x:g,y:c}}else{if(o){if(o.y<l)return}else o={x:g,y:c};n={x:g,y:l}}}else if(i=(h-p)/(f-m),r=v-i*g,i<-1||i>1)if(h>p){if(o){if(o.y>=c)return}else o={x:(l-r)/i,y:l};n={x:(c-r)/i,y:c}}else{if(o){if(o.y<l)return}else o={x:(c-r)/i,y:c};n={x:(l-r)/i,y:l}}else if(m<f){if(o){if(o.x>=s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}else{if(o){if(o.x<a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}return e.a=o,e.b=n,!0}function d3_geom_voronoiEdge(e,t){this.l=e,this.r=t,this.a=this.b=null}function d3_geom_voronoiCreateEdge(e,t,n,i){var r=new d3_geom_voronoiEdge(e,t);return Qe.push(r),n&&d3_geom_voronoiSetEdgeEnd(r,e,t,n),i&&d3_geom_voronoiSetEdgeEnd(r,t,e,i),et[e.i].edges.push(new d3_geom_voronoiHalfEdge(r,e,t)),et[t.i].edges.push(new d3_geom_voronoiHalfEdge(r,t,e)),r}function d3_geom_voronoiCreateBorderEdge(e,t,n){var i=new d3_geom_voronoiEdge(e,null);return i.a=t,i.b=n,Qe.push(i),i}function d3_geom_voronoiSetEdgeEnd(e,t,n,i){e.a||e.b?e.l===n?e.b=i:e.a=i:(e.a=i,e.l=t,e.r=n)}function d3_geom_voronoiHalfEdge(e,t,n){var i=e.a,r=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function d3_geom_voronoiRedBlackTree(){this._=null}function d3_geom_voronoiRedBlackNode(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function d3_geom_voronoiRedBlackRotateLeft(e,t){var n=t,i=t.R,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function d3_geom_voronoiRedBlackRotateRight(e,t){var n=t,i=t.L,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function d3_geom_voronoiRedBlackFirst(e){for(;e.L;)e=e.L;return e}function d3_geom_voronoi(e,t){var n,i,r,o=e.sort(d3_geom_voronoiVertexOrder).pop();for(Qe=[],et=new Array(e.length),tt=new d3_geom_voronoiRedBlackTree,it=new d3_geom_voronoiRedBlackTree;;)if(r=nt,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))o.x===n&&o.y===i||(et[o.i]=new d3_geom_voronoiCell(o),d3_geom_voronoiAddBeach(o),n=o.x,i=o.y),o=e.pop();else{if(!r)break;d3_geom_voronoiRemoveBeach(r.arc)}t&&(d3_geom_voronoiClipEdges(t),d3_geom_voronoiCloseCells(t));var a={cells:et,edges:Qe};return tt=it=Qe=et=null,a}function d3_geom_voronoiVertexOrder(e,t){return t.y-e.y||t.x-e.x}function d3_geom_voronoiTriangleArea(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function d3_geom_quadtreeCompatX(e){return e.x}function d3_geom_quadtreeCompatY(e){return e.y}function d3_geom_quadtreeNode(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function d3_geom_quadtreeVisit(e,t,n,i,r,o){if(!e(t,n,i,r,o)){var a=.5*(n+r),s=.5*(i+o),l=t.nodes;l[0]&&d3_geom_quadtreeVisit(e,l[0],n,i,a,s),l[1]&&d3_geom_quadtreeVisit(e,l[1],a,i,r,s),l[2]&&d3_geom_quadtreeVisit(e,l[2],n,s,a,o),l[3]&&d3_geom_quadtreeVisit(e,l[3],a,s,r,o)}}function d3_geom_quadtreeFind(e,t,n,i,r,o,a){var s,l=1/0;return function find(e,c,u,d,h){if(!(c>o||u>a||d<i||h<r)){if(m=e.point){var m,p=t-e.x,f=n-e.y,g=p*p+f*f;if(g<l){var v=Math.sqrt(l=g);i=t-v,r=n-v,o=t+v,a=n+v,s=m}}for(var y=e.nodes,b=.5*(c+d),_=.5*(u+h),w=t>=b,x=n>=_,C=x<<1|w,S=C+4;C<S;++C)if(e=y[3&C])switch(3&C){case 0:find(e,c,u,b,_);break;case 1:find(e,b,u,d,_);break;case 2:find(e,c,_,b,h);break;case 3:find(e,b,_,d,h)}}}(e,i,r,o,a),s}function d3_interpolateRgb(e,t){e=o.rgb(e),t=o.rgb(t);var n=e.r,i=e.g,r=e.b,a=t.r-n,s=t.g-i,l=t.b-r;return function(e){return"#"+d3_rgb_hex(Math.round(n+a*e))+d3_rgb_hex(Math.round(i+s*e))+d3_rgb_hex(Math.round(r+l*e))}}function d3_interpolateObject(e,t){var n,i={},r={};for(n in e)n in t?i[n]=d3_interpolate(e[n],t[n]):r[n]=e[n];for(n in t)n in e||(r[n]=t[n]);return function(e){for(n in i)r[n]=i[n](e);return r}}function d3_interpolateNumber(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function d3_interpolateString(e,t){var n,i,r,o=st.lastIndex=lt.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=st.exec(e))&&(i=lt.exec(t));)(r=i.index)>o&&(r=t.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:d3_interpolateNumber(n,i)})),o=lt.lastIndex;return o<t.length&&(r=t.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,i=0;i<t;++i)s[(n=l[i]).i]=n.x(e);return s.join("")})}function d3_interpolate(e,t){for(var n,i=o.interpolators.length;--i>=0&&!(n=o.interpolators[i](e,t)););return n}function d3_interpolateArray(e,t){var n,i=[],r=[],o=e.length,a=t.length,s=Math.min(e.length,t.length);for(n=0;n<s;++n)i.push(d3_interpolate(e[n],t[n]));for(;n<o;++n)r[n]=e[n];for(;n<a;++n)r[n]=t[n];return function(e){for(n=0;n<s;++n)r[n]=i[n](e);return r}}function d3_ease_clamp(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function d3_ease_reverse(e){return function(t){return 1-e(1-t)}}function d3_ease_reflect(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function d3_ease_quad(e){return e*e}function d3_ease_cubic(e){return e*e*e}function d3_ease_cubicInOut(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function d3_ease_poly(e){return function(t){return Math.pow(t,e)}}function d3_ease_sin(e){return 1-Math.cos(e*F)}function d3_ease_exp(e){return Math.pow(2,10*(e-1))}function d3_ease_circle(e){return 1-Math.sqrt(1-e*e)}function d3_ease_elastic(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/I*Math.asin(1/e):(e=1,n=t/4),function(i){return 1+e*Math.pow(2,-10*i)*Math.sin((i-n)*I/t)}}function d3_ease_back(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function d3_ease_bounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function d3_interpolateHcl(e,t){e=o.hcl(e),t=o.hcl(t);var n=e.h,i=e.c,r=e.l,a=t.h-n,s=t.c-i,l=t.l-r;return isNaN(s)&&(s=0,i=isNaN(i)?t.c:i),isNaN(a)?(a=0,n=isNaN(n)?t.h:n):a>180?a-=360:a<-180&&(a+=360),function(e){return d3_hcl_lab(n+a*e,i+s*e,r+l*e)+""}}function d3_interpolateHsl(e,t){e=o.hsl(e),t=o.hsl(t);var n=e.h,i=e.s,r=e.l,a=t.h-n,s=t.s-i,l=t.l-r;return isNaN(s)&&(s=0,i=isNaN(i)?t.s:i),isNaN(a)?(a=0,n=isNaN(n)?t.h:n):a>180?a-=360:a<-180&&(a+=360),function(e){return d3_hsl_rgb(n+a*e,i+s*e,r+l*e)+""}}function d3_interpolateLab(e,t){e=o.lab(e),t=o.lab(t);var n=e.l,i=e.a,r=e.b,a=t.l-n,s=t.a-i,l=t.b-r;return function(e){return d3_lab_rgb(n+a*e,i+s*e,r+l*e)+""}}function d3_interpolateRound(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function d3_transform(e){var t=[e.a,e.b],n=[e.c,e.d],i=d3_transformNormalize(t),r=d3_transformDot(t,n),o=d3_transformNormalize(d3_transformCombine(n,t,-r))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*H,this.translate=[e.e,e.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*H:0}function d3_transformDot(e,t){return e[0]*t[0]+e[1]*t[1]}function d3_transformNormalize(e){var t=Math.sqrt(d3_transformDot(e,e));return t&&(e[0]/=t,e[1]/=t),t}function d3_transformCombine(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function d3_interpolateTransformPop(e){return e.length?e.pop()+",":""}function d3_interpolateTranslate(e,t,n,i){if(e[0]!==t[0]||e[1]!==t[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:d3_interpolateNumber(e[0],t[0])},{i:r-2,x:d3_interpolateNumber(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}function d3_interpolateRotate(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(d3_interpolateTransformPop(n)+"rotate(",null,")")-2,x:d3_interpolateNumber(e,t)})):t&&n.push(d3_interpolateTransformPop(n)+"rotate("+t+")")}function d3_interpolateSkew(e,t,n,i){e!==t?i.push({i:n.push(d3_interpolateTransformPop(n)+"skewX(",null,")")-2,x:d3_interpolateNumber(e,t)}):t&&n.push(d3_interpolateTransformPop(n)+"skewX("+t+")")}function d3_interpolateScale(e,t,n,i){if(e[0]!==t[0]||e[1]!==t[1]){var r=n.push(d3_interpolateTransformPop(n)+"scale(",null,",",null,")");i.push({i:r-4,x:d3_interpolateNumber(e[0],t[0])},{i:r-2,x:d3_interpolateNumber(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(d3_interpolateTransformPop(n)+"scale("+t+")")}function d3_interpolateTransform(e,t){var n=[],i=[];return e=o.transform(e),t=o.transform(t),d3_interpolateTranslate(e.translate,t.translate,n,i),d3_interpolateRotate(e.rotate,t.rotate,n,i),d3_interpolateSkew(e.skew,t.skew,n,i),d3_interpolateScale(e.scale,t.scale,n,i),e=t=null,function(e){for(var t,r=-1,o=i.length;++r<o;)n[(t=i[r]).i]=t.x(e);return n.join("")}}function d3_uninterpolateNumber(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function d3_uninterpolateClamp(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function d3_layout_bundlePath(e){for(var t=e.source,n=e.target,i=d3_layout_bundleLeastCommonAncestor(t,n),r=[t];t!==i;)t=t.parent,r.push(t);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function d3_layout_bundleAncestors(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function d3_layout_bundleLeastCommonAncestor(e,t){if(e===t)return e;for(var n=d3_layout_bundleAncestors(e),i=d3_layout_bundleAncestors(t),r=n.pop(),o=i.pop(),a=null;r===o;)a=r,r=n.pop(),o=i.pop();return a}function d3_layout_forceDragstart(e){e.fixed|=2}function d3_layout_forceDragend(e){e.fixed&=-7}function d3_layout_forceMouseover(e){e.fixed|=4,e.px=e.x,e.py=e.y}function d3_layout_forceMouseout(e){e.fixed&=-5}function d3_layout_forceAccumulate(e,t,n){var i=0,r=0;if(e.charge=0,!e.leaf)for(var o,a=e.nodes,s=a.length,l=-1;++l<s;)o=a[l],null!=o&&(d3_layout_forceAccumulate(o,t,n),e.charge+=o.charge,i+=o.charge*o.cx,r+=o.charge*o.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=t*n[e.point.index];e.charge+=e.pointCharge=c,i+=c*e.point.x,r+=c*e.point.y}e.cx=i/e.charge,e.cy=r/e.charge}function d3_layout_hierarchyRebind(e,t){return o.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=d3_layout_hierarchyLinks,e}function d3_layout_hierarchyVisitBefore(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(r=e.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function d3_layout_hierarchyVisitAfter(e,t){for(var n=[e],i=[];null!=(e=n.pop());)if(i.push(e),(o=e.children)&&(r=o.length))for(var r,o,a=-1;++a<r;)n.push(o[a]);for(;null!=(e=i.pop());)t(e)}function d3_layout_hierarchyChildren(e){return e.children}function d3_layout_hierarchyValue(e){return e.value}function d3_layout_hierarchySort(e,t){return t.value-e.value}function d3_layout_hierarchyLinks(e){return o.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function d3_layout_stackX(e){return e.x}function d3_layout_stackY(e){return e.y}function d3_layout_stackOut(e,t,n){e.y0=t,e.y=n}function d3_layout_stackOrderDefault(e){return o.range(e.length)}function d3_layout_stackOffsetZero(e){for(var t=-1,n=e[0].length,i=[];++t<n;)i[t]=0;return i}function d3_layout_stackMaxIndex(e){for(var t,n=1,i=0,r=e[0][1],o=e.length;n<o;++n)(t=e[n][1])>r&&(i=n,r=t);return i}function d3_layout_stackReduceSum(e){return e.reduce(d3_layout_stackSum,0)}function d3_layout_stackSum(e,t){return e+t[1]}function d3_layout_histogramBinSturges(e,t){return d3_layout_histogramBinFixed(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function d3_layout_histogramBinFixed(e,t){for(var n=-1,i=+e[0],r=(e[1]-i)/t,o=[];++n<=t;)o[n]=r*n+i;return o}function d3_layout_histogramRange(e){return[o.min(e),o.max(e)]}function d3_layout_packSort(e,t){return e.value-t.value}function d3_layout_packInsert(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function d3_layout_packSplice(e,t){e._pack_next=t,t._pack_prev=e}function d3_layout_packIntersects(e,t){var n=t.x-e.x,i=t.y-e.y,r=e.r+t.r;return.999*r*r>n*n+i*i}function d3_layout_packSiblings(e){function bound(e){c=Math.min(e.x-e.r,c),u=Math.max(e.x+e.r,u),d=Math.min(e.y-e.r,d),h=Math.max(e.y+e.r,h)}if((t=e.children)&&(l=t.length)){var t,n,i,r,o,a,s,l,c=1/0,u=-(1/0),d=1/0,h=-(1/0);if(t.forEach(d3_layout_packLink),n=t[0],n.x=-n.r,n.y=0,bound(n),l>1&&(i=t[1],i.x=i.r,i.y=0,bound(i),l>2))for(r=t[2],d3_layout_packPlace(n,i,r),bound(r),d3_layout_packInsert(n,r),n._pack_prev=r,d3_layout_packInsert(r,i),i=n._pack_next,o=3;o<l;o++){d3_layout_packPlace(n,i,r=t[o]);var m=0,p=1,f=1;for(a=i._pack_next;a!==i;a=a._pack_next,p++)if(d3_layout_packIntersects(a,r)){m=1;break}if(1==m)for(s=n._pack_prev;s!==a._pack_prev&&!d3_layout_packIntersects(s,r);s=s._pack_prev,f++);m?(p<f||p==f&&i.r<n.r?d3_layout_packSplice(n,i=a):d3_layout_packSplice(n=s,i),o--):(d3_layout_packInsert(n,r),i=r,bound(r))}var g=(c+u)/2,v=(d+h)/2,y=0;for(o=0;o<l;o++)r=t[o],r.x-=g,r.y-=v,y=Math.max(y,r.r+Math.sqrt(r.x*r.x+r.y*r.y));e.r=y,t.forEach(d3_layout_packUnlink)}}function d3_layout_packLink(e){e._pack_next=e._pack_prev=e}function d3_layout_packUnlink(e){delete e._pack_next,delete e._pack_prev}function d3_layout_packTransform(e,t,n,i){var r=e.children;if(e.x=t+=i*e.x,e.y=n+=i*e.y,e.r*=i,r)for(var o=-1,a=r.length;++o<a;)d3_layout_packTransform(r[o],t,n,i)}function d3_layout_packPlace(e,t,n){var i=e.r+n.r,r=t.x-e.x,o=t.y-e.y;if(i&&(r||o)){var a=t.r+n.r,s=r*r+o*o;a*=a,i*=i;var l=.5+(i-a)/(2*s),c=Math.sqrt(Math.max(0,2*a*(i+s)-(i-=s)*i-a*a))/(2*s);n.x=e.x+l*r+c*o,n.y=e.y+l*o-c*r}else n.x=e.x+i,n.y=e.y}function d3_layout_treeSeparation(e,t){return e.parent==t.parent?1:2}function d3_layout_treeLeft(e){var t=e.children;return t.length?t[0]:e.t}function d3_layout_treeRight(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function d3_layout_treeMove(e,t,n){var i=n/(t.i-e.i);t.c-=i,t.s+=n,e.c+=i,t.z+=n,t.m+=n}function d3_layout_treeShift(e){for(var t,n=0,i=0,r=e.children,o=r.length;--o>=0;)t=r[o],t.z+=n,t.m+=n,n+=t.s+(i+=t.c)}function d3_layout_treeAncestor(e,t,n){return e.a.parent===t.parent?e.a:n}function d3_layout_clusterY(e){return 1+o.max(e,function(e){return e.y})}function d3_layout_clusterX(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function d3_layout_clusterLeft(e){var t=e.children;return t&&t.length?d3_layout_clusterLeft(t[0]):e}function d3_layout_clusterRight(e){var t,n=e.children;return n&&(t=n.length)?d3_layout_clusterRight(n[t-1]):e}function d3_layout_treemapPadNull(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function d3_layout_treemapPad(e,t){var n=e.x+t[3],i=e.y+t[0],r=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return r<0&&(n+=r/2,r=0),o<0&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function d3_scaleExtent(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function d3_scaleRange(e){return e.rangeExtent?e.rangeExtent():d3_scaleExtent(e.range())}function d3_scale_bilinear(e,t,n,i){var r=n(e[0],e[1]),o=i(t[0],t[1]);return function(e){return o(r(e))}}function d3_scale_nice(e,t){var n,i=0,r=e.length-1,o=e[i],a=e[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),e[i]=t.floor(o),e[r]=t.ceil(a),e}function d3_scale_niceStep(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:bt}function d3_scale_polylinear(e,t,n,i){var r=[],a=[],s=0,l=Math.min(e.length,t.length)-1;for(e[l]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<=l;)r.push(n(e[s-1],e[s])),a.push(i(t[s-1],t[s]));return function(t){var n=o.bisect(e,t,1,l)-1;return a[n](r[n](t))}}function d3_scale_linear(e,t,n,i){function rescale(){var a=Math.min(e.length,t.length)>2?d3_scale_polylinear:d3_scale_bilinear,s=i?d3_uninterpolateClamp:d3_uninterpolateNumber;return r=a(e,t,s,n),o=a(t,e,s,d3_interpolate),scale}function scale(e){return r(e)}var r,o;return scale.invert=function(e){return o(e)},scale.domain=function(t){return arguments.length?(e=t.map(Number),rescale()):e},scale.range=function(e){return arguments.length?(t=e,rescale()):t},scale.rangeRound=function(e){return scale.range(e).interpolate(d3_interpolateRound)},scale.clamp=function(e){return arguments.length?(i=e,rescale()):i},scale.interpolate=function(e){return arguments.length?(n=e,rescale()):n},scale.ticks=function(t){return d3_scale_linearTicks(e,t)},scale.tickFormat=function(t,n){return d3_scale_linearTickFormat(e,t,n)},scale.nice=function(t){return d3_scale_linearNice(e,t),rescale()},scale.copy=function(){return d3_scale_linear(e,t,n,i)},rescale()}function d3_scale_linearRebind(e,t){return o.rebind(e,t,"range","rangeRound","interpolate","clamp")}function d3_scale_linearNice(e,t){return d3_scale_nice(e,d3_scale_niceStep(d3_scale_linearTickRange(e,t)[2])),d3_scale_nice(e,d3_scale_niceStep(d3_scale_linearTickRange(e,t)[2])),e}function d3_scale_linearTickRange(e,t){null==t&&(t=10);var n=d3_scaleExtent(e),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/t)/Math.LN10)),o=t/i*r;return o<=.15?r*=10:o<=.35?r*=5:o<=.75&&(r*=2),
n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function d3_scale_linearTicks(e,t){return o.range.apply(o,d3_scale_linearTickRange(e,t))}function d3_scale_linearTickFormat(e,t,n){var i=d3_scale_linearTickRange(e,t);if(n){var r=se.exec(n);if(r.shift(),"s"===r[8]){var a=o.formatPrefix(Math.max(f(i[0]),f(i[1])));return r[7]||(r[7]="."+d3_scale_linearPrecision(a.scale(i[2]))),r[8]="f",n=o.format(r.join("")),function(e){return n(a.scale(e))+a.symbol}}r[7]||(r[7]="."+d3_scale_linearFormatPrecision(r[8],i)),n=r.join("")}else n=",."+d3_scale_linearPrecision(i[2])+"f";return o.format(n)}function d3_scale_linearPrecision(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function d3_scale_linearFormatPrecision(e,t){var n=d3_scale_linearPrecision(t[2]);return e in _t?Math.abs(n-d3_scale_linearPrecision(Math.max(f(t[0]),f(t[1]))))+ +("e"!==e):n-2*("%"===e)}function d3_scale_log(e,t,n,i){function log(e){return(n?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function pow(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function scale(t){return e(log(t))}return scale.invert=function(t){return pow(e.invert(t))},scale.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((i=t.map(Number)).map(log)),scale):i},scale.base=function(n){return arguments.length?(t=+n,e.domain(i.map(log)),scale):t},scale.nice=function(){var t=d3_scale_nice(i.map(log),n?Math:xt);return e.domain(t),i=t.map(pow),scale},scale.ticks=function(){var e=d3_scaleExtent(i),r=[],o=e[0],a=e[1],s=Math.floor(log(o)),l=Math.ceil(log(a)),c=t%1?2:t;if(isFinite(l-s)){if(n){for(;s<l;s++)for(var u=1;u<c;u++)r.push(pow(s)*u);r.push(pow(s))}else for(r.push(pow(s));s++<l;)for(var u=c-1;u>0;u--)r.push(pow(s)*u);for(s=0;r[s]<o;s++);for(l=r.length;r[l-1]>a;l--);r=r.slice(s,l)}return r},scale.tickFormat=function(e,n){if(!arguments.length)return wt;arguments.length<2?n=wt:"function"!=typeof n&&(n=o.format(n));var i=Math.max(1,t*e/scale.ticks().length);return function(e){var r=e/pow(Math.round(log(e)));return r*t<t-.5&&(r*=t),r<=i?n(e):""}},scale.copy=function(){return d3_scale_log(e.copy(),t,n,i)},d3_scale_linearRebind(scale,e)}function d3_scale_pow(e,t,n){function scale(t){return e(i(t))}var i=d3_scale_powPow(t),r=d3_scale_powPow(1/t);return scale.invert=function(t){return r(e.invert(t))},scale.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),scale):n},scale.ticks=function(e){return d3_scale_linearTicks(n,e)},scale.tickFormat=function(e,t){return d3_scale_linearTickFormat(n,e,t)},scale.nice=function(e){return scale.domain(d3_scale_linearNice(n,e))},scale.exponent=function(o){return arguments.length?(i=d3_scale_powPow(t=o),r=d3_scale_powPow(1/t),e.domain(n.map(i)),scale):t},scale.copy=function(){return d3_scale_pow(e.copy(),t,n)},d3_scale_linearRebind(scale,e)}function d3_scale_powPow(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function d3_scale_ordinal(e,t){function scale(r){return i[((n.get(r)||("range"===t.t?n.set(r,e.push(r)):NaN))-1)%i.length]}function steps(t,n){return o.range(e.length).map(function(e){return t+n*e})}var n,i,r;return scale.domain=function(i){if(!arguments.length)return e;e=[],n=new d3_Map;for(var r,o=-1,a=i.length;++o<a;)n.has(r=i[o])||n.set(r,e.push(r));return scale[t.t].apply(scale,t.a)},scale.range=function(e){return arguments.length?(i=e,r=0,t={t:"range",a:arguments},scale):i},scale.rangePoints=function(n,o){arguments.length<2&&(o=0);var a=n[0],s=n[1],l=e.length<2?(a=(a+s)/2,0):(s-a)/(e.length-1+o);return i=steps(a+l*o/2,l),r=0,t={t:"rangePoints",a:arguments},scale},scale.rangeRoundPoints=function(n,o){arguments.length<2&&(o=0);var a=n[0],s=n[1],l=e.length<2?(a=s=Math.round((a+s)/2),0):(s-a)/(e.length-1+o)|0;return i=steps(a+Math.round(l*o/2+(s-a-(e.length-1+o)*l)/2),l),r=0,t={t:"rangeRoundPoints",a:arguments},scale},scale.rangeBands=function(n,o,a){arguments.length<2&&(o=0),arguments.length<3&&(a=o);var s=n[1]<n[0],l=n[s-0],c=n[1-s],u=(c-l)/(e.length-o+2*a);return i=steps(l+u*a,u),s&&i.reverse(),r=u*(1-o),t={t:"rangeBands",a:arguments},scale},scale.rangeRoundBands=function(n,o,a){arguments.length<2&&(o=0),arguments.length<3&&(a=o);var s=n[1]<n[0],l=n[s-0],c=n[1-s],u=Math.floor((c-l)/(e.length-o+2*a));return i=steps(l+Math.round((c-l-(e.length-o)*u)/2),u),s&&i.reverse(),r=Math.round(u*(1-o)),t={t:"rangeRoundBands",a:arguments},scale},scale.rangeBand=function(){return r},scale.rangeExtent=function(){return d3_scaleExtent(t.a[0])},scale.copy=function(){return d3_scale_ordinal(e,t)},scale.domain(e)}function d3_scale_quantile(e,t){function rescale(){var i=0,r=t.length;for(n=[];++i<r;)n[i-1]=o.quantile(e,i/r);return scale}function scale(e){if(!isNaN(e=+e))return t[o.bisect(n,e)]}var n;return scale.domain=function(t){return arguments.length?(e=t.map(d3_number).filter(d3_numeric).sort(d3_ascending),rescale()):e},scale.range=function(e){return arguments.length?(t=e,rescale()):t},scale.quantiles=function(){return n},scale.invertExtent=function(i){return i=t.indexOf(i),i<0?[NaN,NaN]:[i>0?n[i-1]:e[0],i<n.length?n[i]:e[e.length-1]]},scale.copy=function(){return d3_scale_quantile(e,t)},rescale()}function d3_scale_quantize(e,t,n){function scale(t){return n[Math.max(0,Math.min(r,Math.floor(i*(t-e))))]}function rescale(){return i=n.length/(t-e),r=n.length-1,scale}var i,r;return scale.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],rescale()):[e,t]},scale.range=function(e){return arguments.length?(n=e,rescale()):n},scale.invertExtent=function(t){return t=n.indexOf(t),t=t<0?NaN:t/i+e,[t,t+1/i]},scale.copy=function(){return d3_scale_quantize(e,t,n)},rescale()}function d3_scale_threshold(e,t){function scale(n){if(n<=n)return t[o.bisect(e,n)]}return scale.domain=function(t){return arguments.length?(e=t,scale):e},scale.range=function(e){return arguments.length?(t=e,scale):t},scale.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},scale.copy=function(){return d3_scale_threshold(e,t)},scale}function d3_scale_identity(e){function identity(e){return+e}return identity.invert=identity,identity.domain=identity.range=function(t){return arguments.length?(e=t.map(identity),identity):e},identity.ticks=function(t){return d3_scale_linearTicks(e,t)},identity.tickFormat=function(t,n){return d3_scale_linearTickFormat(e,t,n)},identity.copy=function(){return d3_scale_identity(e)},identity}function d3_zero(){return 0}function d3_svg_arcInnerRadius(e){return e.innerRadius}function d3_svg_arcOuterRadius(e){return e.outerRadius}function d3_svg_arcStartAngle(e){return e.startAngle}function d3_svg_arcEndAngle(e){return e.endAngle}function d3_svg_arcPadAngle(e){return e&&e.padAngle}function d3_svg_arcSweep(e,t,n,i){return(e-n)*t-(t-i)*e>0?0:1}function d3_svg_arcCornerTangents(e,t,n,i,r){var o=e[0]-t[0],a=e[1]-t[1],s=(r?i:-i)/Math.sqrt(o*o+a*a),l=s*a,c=-s*o,u=e[0]+l,d=e[1]+c,h=t[0]+l,m=t[1]+c,p=(u+h)/2,f=(d+m)/2,g=h-u,v=m-d,y=g*g+v*v,b=n-i,_=u*m-h*d,w=(v<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-_*_)),x=(_*v-g*w)/y,C=(-_*g-v*w)/y,S=(_*v+g*w)/y,E=(-_*g+v*w)/y,T=x-p,M=C-f,k=S-p,A=E-f;return T*T+M*M>k*k+A*A&&(x=S,C=E),[[x-l,C-c],[x*n/b,C*n/b]]}function d3_svg_line(e){function line(o){function segment(){l.push("M",r(e(c),a))}for(var s,l=[],c=[],u=-1,d=o.length,h=d3_functor(t),m=d3_functor(n);++u<d;)i.call(this,s=o[u],u)?c.push([+h.call(this,s,u),+m.call(this,s,u)]):c.length&&(segment(),c=[]);return c.length&&segment(),l.length?l.join(""):null}var t=d3_geom_pointX,n=d3_geom_pointY,i=d3_true,r=d3_svg_lineLinear,o=r.key,a=.7;return line.x=function(e){return arguments.length?(t=e,line):t},line.y=function(e){return arguments.length?(n=e,line):n},line.defined=function(e){return arguments.length?(i=e,line):i},line.interpolate=function(e){return arguments.length?(o="function"==typeof e?r=e:(r=kt.get(e)||d3_svg_lineLinear).key,line):o},line.tension=function(e){return arguments.length?(a=e,line):a},line}function d3_svg_lineLinear(e){return e.length>1?e.join("L"):e+"Z"}function d3_svg_lineLinearClosed(e){return e.join("L")+"Z"}function d3_svg_lineStep(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("H",(i[0]+(i=e[t])[0])/2,"V",i[1]);return n>1&&r.push("H",i[0]),r.join("")}function d3_svg_lineStepBefore(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("V",(i=e[t])[1],"H",i[0]);return r.join("")}function d3_svg_lineStepAfter(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("H",(i=e[t])[0],"V",i[1]);return r.join("")}function d3_svg_lineCardinalOpen(e,t){return e.length<4?d3_svg_lineLinear(e):e[1]+d3_svg_lineHermite(e.slice(1,-1),d3_svg_lineCardinalTangents(e,t))}function d3_svg_lineCardinalClosed(e,t){return e.length<3?d3_svg_lineLinearClosed(e):e[0]+d3_svg_lineHermite((e.push(e[0]),e),d3_svg_lineCardinalTangents([e[e.length-2]].concat(e,[e[1]]),t))}function d3_svg_lineCardinal(e,t){return e.length<3?d3_svg_lineLinear(e):e[0]+d3_svg_lineHermite(e,d3_svg_lineCardinalTangents(e,t))}function d3_svg_lineHermite(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return d3_svg_lineLinear(e);var n=e.length!=t.length,i="",r=e[0],o=e[1],a=t[0],s=a,l=1;if(n&&(i+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],r=e[1],l=2),t.length>1){s=t[1],o=e[l],l++,i+="C"+(r[0]+a[0])+","+(r[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var c=2;c<t.length;c++,l++)o=e[l],s=t[c],i+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var u=e[l];i+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+u[0]+","+u[1]}return i}function d3_svg_lineCardinalTangents(e,t){for(var n,i=[],r=(1-t)/2,o=e[0],a=e[1],s=1,l=e.length;++s<l;)n=o,o=a,a=e[s],i.push([r*(a[0]-n[0]),r*(a[1]-n[1])]);return i}function d3_svg_lineBasis(e){if(e.length<3)return d3_svg_lineLinear(e);var t=1,n=e.length,i=e[0],r=i[0],o=i[1],a=[r,r,r,(i=e[1])[0]],s=[o,o,o,i[1]],l=[r,",",o,"L",d3_svg_lineDot4(Pt,a),",",d3_svg_lineDot4(Pt,s)];for(e.push(e[n-1]);++t<=n;)i=e[t],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),d3_svg_lineBasisBezier(l,a,s);return e.pop(),l.push("L",i),l.join("")}function d3_svg_lineBasisOpen(e){if(e.length<4)return d3_svg_lineLinear(e);for(var t,n=[],i=-1,r=e.length,o=[0],a=[0];++i<3;)t=e[i],o.push(t[0]),a.push(t[1]);for(n.push(d3_svg_lineDot4(Pt,o)+","+d3_svg_lineDot4(Pt,a)),--i;++i<r;)t=e[i],o.shift(),o.push(t[0]),a.shift(),a.push(t[1]),d3_svg_lineBasisBezier(n,o,a);return n.join("")}function d3_svg_lineBasisClosed(e){for(var t,n,i=-1,r=e.length,o=r+4,a=[],s=[];++i<4;)n=e[i%r],a.push(n[0]),s.push(n[1]);for(t=[d3_svg_lineDot4(Pt,a),",",d3_svg_lineDot4(Pt,s)],--i;++i<o;)n=e[i%r],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),d3_svg_lineBasisBezier(t,a,s);return t.join("")}function d3_svg_lineBundle(e,t){var n=e.length-1;if(n)for(var i,r,o=e[0][0],a=e[0][1],s=e[n][0]-o,l=e[n][1]-a,c=-1;++c<=n;)i=e[c],r=c/n,i[0]=t*i[0]+(1-t)*(o+r*s),i[1]=t*i[1]+(1-t)*(a+r*l);return d3_svg_lineBasis(e)}function d3_svg_lineDot4(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function d3_svg_lineBasisBezier(e,t,n){e.push("C",d3_svg_lineDot4(At,t),",",d3_svg_lineDot4(At,n),",",d3_svg_lineDot4($t,t),",",d3_svg_lineDot4($t,n),",",d3_svg_lineDot4(Pt,t),",",d3_svg_lineDot4(Pt,n))}function d3_svg_lineSlope(e,t){return(t[1]-e[1])/(t[0]-e[0])}function d3_svg_lineFiniteDifferences(e){for(var t=0,n=e.length-1,i=[],r=e[0],o=e[1],a=i[0]=d3_svg_lineSlope(r,o);++t<n;)i[t]=(a+(a=d3_svg_lineSlope(r=o,o=e[t+1])))/2;return i[t]=a,i}function d3_svg_lineMonotoneTangents(e){for(var t,n,i,r,o=[],a=d3_svg_lineFiniteDifferences(e),s=-1,l=e.length-1;++s<l;)t=d3_svg_lineSlope(e[s],e[s+1]),f(t)<L?a[s]=a[s+1]=0:(n=a[s]/t,i=a[s+1]/t,r=n*n+i*i,r>9&&(r=3*t/Math.sqrt(r),a[s]=r*n,a[s+1]=r*i));for(s=-1;++s<=l;)r=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([r||0,a[s]*r||0]);return o}function d3_svg_lineMonotone(e){return e.length<3?d3_svg_lineLinear(e):e[0]+d3_svg_lineHermite(e,d3_svg_lineMonotoneTangents(e))}function d3_svg_lineRadial(e){for(var t,n,i,r=-1,o=e.length;++r<o;)t=e[r],n=t[0],i=t[1]-F,t[0]=n*Math.cos(i),t[1]=n*Math.sin(i);return e}function d3_svg_area(e){function area(s){function segment(){p.push("M",a(e(g),u),c,l(e(f.reverse()),u),"Z")}for(var d,h,m,p=[],f=[],g=[],v=-1,y=s.length,b=d3_functor(t),_=d3_functor(i),w=t===n?function(){return h}:d3_functor(n),x=i===r?function(){return m}:d3_functor(r);++v<y;)o.call(this,d=s[v],v)?(f.push([h=+b.call(this,d,v),m=+_.call(this,d,v)]),g.push([+w.call(this,d,v),+x.call(this,d,v)])):f.length&&(segment(),f=[],g=[]);return f.length&&segment(),p.length?p.join(""):null}var t=d3_geom_pointX,n=d3_geom_pointX,i=0,r=d3_geom_pointY,o=d3_true,a=d3_svg_lineLinear,s=a.key,l=a,c="L",u=.7;return area.x=function(e){return arguments.length?(t=n=e,area):n},area.x0=function(e){return arguments.length?(t=e,area):t},area.x1=function(e){return arguments.length?(n=e,area):n},area.y=function(e){return arguments.length?(i=r=e,area):r},area.y0=function(e){return arguments.length?(i=e,area):i},area.y1=function(e){return arguments.length?(r=e,area):r},area.defined=function(e){return arguments.length?(o=e,area):o},area.interpolate=function(e){return arguments.length?(s="function"==typeof e?a=e:(a=kt.get(e)||d3_svg_lineLinear).key,l=a.reverse||a,c=a.closed?"M":"L",area):s},area.tension=function(e){return arguments.length?(u=e,area):u},area}function d3_svg_chordRadius(e){return e.radius}function d3_svg_diagonalProjection(e){return[e.x,e.y]}function d3_svg_diagonalRadialProjection(e){return function(){var t=e.apply(this,arguments),n=t[0],i=t[1]-F;return[n*Math.cos(i),n*Math.sin(i)]}}function d3_svg_symbolSize(){return 64}function d3_svg_symbolType(){return"circle"}function d3_svg_symbolCircle(e){var t=Math.sqrt(e/R);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function d3_selection_interruptNS(e){return function(){var t,n,i;(t=this[e])&&(i=t[n=t.active])&&(i.timer.c=null,i.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function d3_transition(e,t,n){return _(e,Nt),e.namespace=t,e.id=n,e}function d3_transition_tween(e,t,n,i){var r=e.id,o=e.namespace;return d3_selection_each(e,"function"==typeof n?function(e,a,s){e[o][r].tween.set(t,i(n.call(e,e.__data__,a,s)))}:(n=i(n),function(e){e[o][r].tween.set(t,n)}))}function d3_transition_text(e){return null==e&&(e=""),function(){this.textContent=e}}function d3_transitionNamespace(e){return null==e?"__transition__":"__transition_"+e+"__"}function d3_transitionNode(e,t,n,i,r){function schedule(e){var t=d.delay;return a.t=t+o,t<=e?start(e-t):void(a.c=start)}function start(n){var r=u.active,h=u[r];h&&(h.timer.c=null,h.timer.t=NaN,--u.count,delete u[r],h.event&&h.event.interrupt.call(e,e.__data__,h.index));for(var m in u)if(+m<i){var p=u[m];p.timer.c=null,p.timer.t=NaN,--u.count,delete u[m]}a.c=tick,d3_timer(function(){return a.c&&tick(n||1)&&(a.c=null,a.t=NaN),1},0,o),u.active=i,d.event&&d.event.start.call(e,e.__data__,t),c=[],d.tween.forEach(function(n,i){(i=i.call(e,e.__data__,t))&&c.push(i)}),l=d.ease,s=d.duration}function tick(r){for(var o=r/s,a=l(o),h=c.length;h>0;)c[--h].call(e,a);if(o>=1)return d.event&&d.event.end.call(e,e.__data__,t),--u.count?delete u[i]:delete e[n],1}var o,a,s,l,c,u=e[n]||(e[n]={active:0,count:0}),d=u[i];d||(o=r.time,a=d3_timer(schedule,0,o),d=u[i]={tween:new d3_Map,time:o,timer:a,delay:r.delay,duration:r.duration,ease:r.ease,index:t},r=null,++u.count)}function d3_svg_axisX(e,t,n){e.attr("transform",function(e){var i=t(e);return"translate("+(isFinite(i)?i:n(e))+",0)"})}function d3_svg_axisY(e,t,n){e.attr("transform",function(e){var i=t(e);return"translate(0,"+(isFinite(i)?i:n(e))+")"})}function d3_time_formatIsoNative(e){return e.toISOString()}function d3_time_scale(e,t,n){function scale(t){return e(t)}function tickMethod(e,n){var i=e[1]-e[0],r=i/n,a=o.bisect(qt,r);return a==qt.length?[t.year,d3_scale_linearTickRange(e.map(function(e){return e/31536e6}),n)[2]]:a?t[r/qt[a-1]<qt[a]/r?a-1:a]:[Xt,d3_scale_linearTickRange(e,n)[2]]}return scale.invert=function(t){return d3_time_scaleDate(e.invert(t))},scale.domain=function(t){return arguments.length?(e.domain(t),scale):e.domain().map(d3_time_scaleDate)},scale.nice=function(e,t){function skipped(n){return!isNaN(n)&&!e.range(n,d3_time_scaleDate(+n+1),t).length}var n=scale.domain(),i=d3_scaleExtent(n),r=null==e?tickMethod(i,10):"number"==typeof e&&tickMethod(i,e);return r&&(e=r[0],t=r[1]),scale.domain(d3_scale_nice(n,t>1?{floor:function(t){for(;skipped(t=e.floor(t));)t=d3_time_scaleDate(t-1);return t},ceil:function(t){for(;skipped(t=e.ceil(t));)t=d3_time_scaleDate(+t+1);return t}}:e))},scale.ticks=function(e,t){var n=d3_scaleExtent(scale.domain()),i=null==e?tickMethod(n,10):"number"==typeof e?tickMethod(n,e):!e.range&&[{range:e},t];return i&&(e=i[0],t=i[1]),e.range(n[0],d3_time_scaleDate(+n[1]+1),t<1?1:t)},scale.tickFormat=function(){return n},scale.copy=function(){return d3_time_scale(e.copy(),t,n)},d3_scale_linearRebind(scale,e)}function d3_time_scaleDate(e){return new Date(e)}function d3_json(e){return JSON.parse(e.responseText)}function d3_html(e){var t=l.createRange();return t.selectNode(l.body),t.createContextualFragment(e.responseText)}var o={version:"3.5.17"},a=[].slice,s=function(e){return a.call(e)},l=this.document;if(l)try{s(l.documentElement.childNodes)[0].nodeType}catch(e){s=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var c=this.Element.prototype,u=c.setAttribute,d=c.setAttributeNS,h=this.CSSStyleDeclaration.prototype,m=h.setProperty;c.setAttribute=function(e,t){u.call(this,e,t+"")},c.setAttributeNS=function(e,t,n){d.call(this,e,t,n+"")},h.setProperty=function(e,t,n){m.call(this,e,t+"",n)}}o.ascending=d3_ascending,o.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},o.min=function(e,t){var n,i,r=-1,o=e.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=e[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=e[r])&&n>i&&(n=i)}else{for(;++r<o;)if(null!=(i=t.call(e,e[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=t.call(e,e[r],r))&&n>i&&(n=i)}return n},o.max=function(e,t){var n,i,r=-1,o=e.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=e[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=e[r])&&i>n&&(n=i)}else{for(;++r<o;)if(null!=(i=t.call(e,e[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=t.call(e,e[r],r))&&i>n&&(n=i)}return n},o.extent=function(e,t){var n,i,r,o=-1,a=e.length;if(1===arguments.length){for(;++o<a;)if(null!=(i=e[o])&&i>=i){n=r=i;break}for(;++o<a;)null!=(i=e[o])&&(n>i&&(n=i),r<i&&(r=i))}else{for(;++o<a;)if(null!=(i=t.call(e,e[o],o))&&i>=i){n=r=i;break}for(;++o<a;)null!=(i=t.call(e,e[o],o))&&(n>i&&(n=i),r<i&&(r=i))}return[n,r]},o.sum=function(e,t){var n,i=0,r=e.length,o=-1;if(1===arguments.length)for(;++o<r;)d3_numeric(n=+e[o])&&(i+=n);else for(;++o<r;)d3_numeric(n=+t.call(e,e[o],o))&&(i+=n);return i},o.mean=function(e,t){var n,i=0,r=e.length,o=-1,a=r;if(1===arguments.length)for(;++o<r;)d3_numeric(n=d3_number(e[o]))?i+=n:--a;else for(;++o<r;)d3_numeric(n=d3_number(t.call(e,e[o],o)))?i+=n:--a;if(a)return i/a},o.quantile=function(e,t){var n=(e.length-1)*t+1,i=Math.floor(n),r=+e[i-1],o=n-i;return o?r+o*(e[i]-r):r},o.median=function(e,t){var n,i=[],r=e.length,a=-1;if(1===arguments.length)for(;++a<r;)d3_numeric(n=d3_number(e[a]))&&i.push(n);else for(;++a<r;)d3_numeric(n=d3_number(t.call(e,e[a],a)))&&i.push(n);if(i.length)return o.quantile(i.sort(d3_ascending),.5)},o.variance=function(e,t){var n,i,r=e.length,o=0,a=0,s=-1,l=0;if(1===arguments.length)for(;++s<r;)d3_numeric(n=d3_number(e[s]))&&(i=n-o,o+=i/++l,a+=i*(n-o));else for(;++s<r;)d3_numeric(n=d3_number(t.call(e,e[s],s)))&&(i=n-o,o+=i/++l,a+=i*(n-o));if(l>1)return a/(l-1)},o.deviation=function(){var e=o.variance.apply(this,arguments);return e?Math.sqrt(e):e};var p=d3_bisector(d3_ascending);o.bisectLeft=p.left,o.bisect=o.bisectRight=p.right,o.bisector=function(e){return d3_bisector(1===e.length?function(t,n){return d3_ascending(e(t),n)}:e)},o.shuffle=function(e,t,n){(o=arguments.length)<3&&(n=e.length,o<2&&(t=0));for(var i,r,o=n-t;o;)r=Math.random()*o--|0,i=e[o+t],e[o+t]=e[r+t],e[r+t]=i;return e},o.permute=function(e,t){for(var n=t.length,i=new Array(n);n--;)i[n]=e[t[n]];return i},o.pairs=function(e){for(var t,n=0,i=e.length-1,r=e[0],o=new Array(i<0?0:i);n<i;)o[n]=[t=r,r=e[++n]];return o},o.transpose=function(e){if(!(r=e.length))return[];for(var t=-1,n=o.min(e,d3_transposeLength),i=new Array(n);++t<n;)for(var r,a=-1,s=i[t]=new Array(r);++a<r;)s[a]=e[a][t];return i},o.zip=function(){return o.transpose(arguments)},o.keys=function(e){var t=[];for(var n in e)t.push(n);return t},o.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},o.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},o.merge=function(e){for(var t,n,i,r=e.length,o=-1,a=0;++o<r;)a+=e[o].length;for(n=new Array(a);--r>=0;)for(i=e[r],t=i.length;--t>=0;)n[--a]=i[t];return n};var f=Math.abs;o.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n===1/0)throw new Error("infinite range");var i,r=[],o=d3_range_integerScale(f(n)),a=-1;if(e*=o,t*=o,n*=o,n<0)for(;(i=e+n*++a)>t;)r.push(i/o);else for(;(i=e+n*++a)<t;)r.push(i/o);return r},o.map=function(e,t){var n=new d3_Map;if(e instanceof d3_Map)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var i,r=-1,o=e.length;if(1===arguments.length)for(;++r<o;)n.set(r,e[r]);else for(;++r<o;)n.set(t.call(e,i=e[r],r),i)}else for(var a in e)n.set(a,e[a]);return n};var g="__proto__",v="\0";d3_class(d3_Map,{has:d3_map_has,get:function(e){return this._[d3_map_escape(e)]},set:function(e,t){return this._[d3_map_escape(e)]=t},remove:d3_map_remove,keys:d3_map_keys,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:d3_map_unescape(t),value:this._[t]});return e},size:d3_map_size,empty:d3_map_empty,forEach:function(e){for(var t in this._)e.call(this,d3_map_unescape(t),this._[t])}}),o.nest=function(){function map(r,o,a){if(a>=i.length)return t?t.call(n,o):e?o.sort(e):o;for(var s,l,c,u,d=-1,h=o.length,m=i[a++],p=new d3_Map;++d<h;)(u=p.get(s=m(l=o[d])))?u.push(l):p.set(s,[l]);return r?(l=r(),c=function(e,t){l.set(e,map(r,t,a))}):(l={},c=function(e,t){l[e]=map(r,t,a)}),p.forEach(c),l}function entries(e,t){if(t>=i.length)return e;var n=[],o=r[t++];return e.forEach(function(e,i){n.push({key:e,values:entries(i,t)})}),o?n.sort(function(e,t){return o(e.key,t.key)}):n}var e,t,n={},i=[],r=[];return n.map=function(e,t){return map(t,e,0)},n.entries=function(e){return entries(map(o.map,e,0),0)},n.key=function(e){return i.push(e),n},n.sortKeys=function(e){return r[i.length-1]=e,n},n.sortValues=function(t){return e=t,n},n.rollup=function(e){return t=e,n},n},o.set=function(e){var t=new d3_Set;if(e)for(var n=0,i=e.length;n<i;++n)t.add(e[n]);return t},d3_class(d3_Set,{has:d3_map_has,add:function(e){return this._[d3_map_escape(e+="")]=!0,e},remove:d3_map_remove,values:d3_map_keys,size:d3_map_size,empty:d3_map_empty,forEach:function(e){for(var t in this._)e.call(this,d3_map_unescape(t))}}),o.behavior={},o.rebind=function(e,t){for(var n,i=1,r=arguments.length;++i<r;)e[n=arguments[i]]=d3_rebind(e,t,t[n]);return e};var y=["webkit","ms","moz","Moz","o","O"];o.dispatch=function(){for(var e=new d3_dispatch,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=d3_dispatch_event(e);return e},d3_dispatch.prototype.on=function(e,t){var n=e.indexOf("."),i="";if(n>=0&&(i=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(i):this[e].on(i,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(i,null);return this}},o.event=null,o.requote=function(e){return e.replace(b,"\\$&")};var b=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,_={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},w=function(e,t){return t.querySelector(e)},x=function(e,t){return t.querySelectorAll(e)},C=function(e,t){var n=e.matches||e[d3_vendorSymbol(e,"matchesSelector")];return(C=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(w=function(e,t){return Sizzle(e,t)[0]||null},x=Sizzle,C=Sizzle.matchesSelector),o.selection=function(){return o.select(l.documentElement)};var S=o.selection.prototype=[];S.select=function(e){var t,n,i,r,o=[];e=d3_selection_selector(e);for(var a=-1,s=this.length;++a<s;){o.push(t=[]),t.parentNode=(i=this[a]).parentNode;for(var l=-1,c=i.length;++l<c;)(r=i[l])?(t.push(n=e.call(r,r.__data__,l,a)),n&&"__data__"in r&&(n.__data__=r.__data__)):t.push(null)}return d3_selection(o)},S.selectAll=function(e){var t,n,i=[];e=d3_selection_selectorAll(e);for(var r=-1,o=this.length;++r<o;)for(var a=this[r],l=-1,c=a.length;++l<c;)(n=a[l])&&(i.push(t=s(e.call(n,n.__data__,l,r))),t.parentNode=n);return d3_selection(i)};var E="http://www.w3.org/1999/xhtml",T={svg:"http://www.w3.org/2000/svg",xhtml:E,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};o.ns={prefix:T,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),T.hasOwnProperty(n)?{space:T[n],local:e}:e}},S.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=o.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(d3_selection_attr(t,e[t]));return this}return this.each(d3_selection_attr(e,t))},S.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),i=(e=d3_selection_classes(e)).length,r=-1;if(t=n.classList){for(;++r<i;)if(!t.contains(e[r]))return!1}else for(t=n.getAttribute("class");++r<i;)if(!d3_selection_classedRe(e[r]).test(t))return!1;return!0}for(t in e)this.each(d3_selection_classed(t,e[t]));return this}return this.each(d3_selection_classed(e,t))},S.style=function(e,t,n){var i=arguments.length;if(i<3){if("string"!=typeof e){i<2&&(t="");for(n in e)this.each(d3_selection_style(n,e[n],t));return this}if(i<2){var r=this.node();return d3_window(r).getComputedStyle(r,null).getPropertyValue(e)}n=""}return this.each(d3_selection_style(e,t,n))},S.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(d3_selection_property(t,e[t]));return this}return this.each(d3_selection_property(e,t))},S.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},S.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},S.append=function(e){return e=d3_selection_creator(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},S.insert=function(e,t){return e=d3_selection_creator(e),t=d3_selection_selector(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},S.remove=function(){return this.each(d3_selectionRemove)},S.data=function(e,t){function bind(e,n){var i,r,o,c=e.length,u=n.length,d=Math.min(c,u),h=new Array(u),m=new Array(u),p=new Array(c);if(t){var f,g=new d3_Map,v=new Array(c);for(i=-1;++i<c;)(r=e[i])&&(g.has(f=t.call(r,r.__data__,i))?p[i]=r:g.set(f,r),v[i]=f);for(i=-1;++i<u;)(r=g.get(f=t.call(n,o=n[i],i)))?r!==!0&&(h[i]=r,r.__data__=o):m[i]=d3_selection_dataNode(o),g.set(f,!0);for(i=-1;++i<c;)i in v&&g.get(v[i])!==!0&&(p[i]=e[i])}else{for(i=-1;++i<d;)r=e[i],o=n[i],r?(r.__data__=o,h[i]=r):m[i]=d3_selection_dataNode(o);for(;i<u;++i)m[i]=d3_selection_dataNode(n[i]);for(;i<c;++i)p[i]=e[i]}m.update=h,m.parentNode=h.parentNode=p.parentNode=e.parentNode,a.push(m),s.push(h),l.push(p)}var n,i,r=-1,o=this.length;if(!arguments.length){for(e=new Array(o=(n=this[0]).length);++r<o;)(i=n[r])&&(e[r]=i.__data__);return e}var a=d3_selection_enter([]),s=d3_selection([]),l=d3_selection([]);if("function"==typeof e)for(;++r<o;)bind(n=this[r],e.call(n,n.parentNode.__data__,r));else for(;++r<o;)bind(n=this[r],e);return s.enter=function(){return a},s.exit=function(){return l},s},S.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},S.filter=function(e){var t,n,i,r=[];"function"!=typeof e&&(e=d3_selection_filter(e));for(var o=0,a=this.length;o<a;o++){r.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;s<l;s++)(i=n[s])&&e.call(i,i.__data__,s,o)&&t.push(i)}return d3_selection(r)},S.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,i=this[e],r=i.length-1,o=i[r];--r>=0;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},S.sort=function(e){e=d3_selection_sortComparator.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},S.each=function(e){return d3_selection_each(this,function(t,n,i){e.call(t,t.__data__,n,i)})},S.call=function(e){var t=s(arguments);return e.apply(t[0]=this,t),this},S.empty=function(){return!this.node()},S.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],i=0,r=n.length;i<r;i++){var o=n[i];if(o)return o}return null},S.size=function(){var e=0;return d3_selection_each(this,function(){++e}),e};var M=[];o.selection.enter=d3_selection_enter,o.selection.enter.prototype=M,M.append=S.append,M.empty=S.empty,M.node=S.node,M.call=S.call,M.size=S.size,M.select=function(e){for(var t,n,i,r,o,a=[],s=-1,l=this.length;++s<l;){i=(r=this[s]).update,a.push(t=[]),t.parentNode=r.parentNode;for(var c=-1,u=r.length;++c<u;)(o=r[c])?(t.push(i[c]=n=e.call(r.parentNode,o.__data__,c,s)),n.__data__=o.__data__):t.push(null)}return d3_selection(a)},M.insert=function(e,t){return arguments.length<2&&(t=d3_selection_enterInsertBefore(this)),S.insert.call(this,e,t)},o.select=function(e){var t;return"string"==typeof e?(t=[w(e,l)],t.parentNode=l.documentElement):(t=[e],t.parentNode=d3_documentElement(e)),d3_selection([t])},o.selectAll=function(e){var t;return"string"==typeof e?(t=s(x(e,l)),t.parentNode=l.documentElement):(t=s(e),t.parentNode=null),d3_selection([t])},S.on=function(e,t,n){var i=arguments.length;if(i<3){if("string"!=typeof e){i<2&&(t=!1);for(n in e)this.each(d3_selection_on(n,e[n],t));return this}if(i<2)return(i=this.node()["__on"+e])&&i._;n=!1}return this.each(d3_selection_on(e,t,n))};var k=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});l&&k.forEach(function(e){"on"+e in l&&k.remove(e)});var A,$=0;o.mouse=function(e){return d3_mousePoint(e,d3_eventSource())};var P=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;o.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=d3_eventSource().changedTouches),t)for(var i,r=0,o=t.length;r<o;++r)if((i=t[r]).identifier===n)return d3_mousePoint(e,i)},o.behavior.drag=function(){function drag(){this.on("mousedown.drag",n).on("touchstart.drag",i)}function dragstart(n,i,r,a,s){return function(){function moved(){var e,t,n=i(d,p);n&&(e=n[0]-y[0],t=n[1]-y[1],m|=e|t,y=n,h({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:e,dy:t}))}function ended(){i(d,p)&&(g.on(a+f,null).on(s+f,null),v(m),h({type:"dragend"}))}var l,c=this,u=o.event.target.correspondingElement||o.event.target,d=c.parentNode,h=e.of(c,arguments),m=0,p=n(),f=".drag"+(null==p?"":"-"+p),g=o.select(r(u)).on(a+f,moved).on(s+f,ended),v=d3_event_dragSuppress(u),y=i(d,p);t?(l=t.apply(c,arguments),l=[l.x-y[0],l.y-y[1]]):l=[0,0],h({type:"dragstart"})}}var e=d3_eventDispatch(drag,"drag","dragstart","dragend"),t=null,n=dragstart(d3_noop,o.mouse,d3_window,"mousemove","mouseup"),i=dragstart(d3_behavior_dragTouchId,o.touch,d3_identity,"touchmove","touchend");return drag.origin=function(e){return arguments.length?(t=e,drag):t},o.rebind(drag,e,"on")},o.touches=function(e,t){return arguments.length<2&&(t=d3_eventSource().touches),t?s(t).map(function(t){var n=d3_mousePoint(e,t);return n.identifier=t.identifier,n}):[]};var L=1e-6,D=L*L,R=Math.PI,I=2*R,O=I-L,F=R/2,N=R/180,H=180/R,j=Math.SQRT2,B=2,V=4;
o.interpolateZoom=function(e,t){var n,i,r=e[0],o=e[1],a=e[2],s=t[0],l=t[1],c=t[2],u=s-r,d=l-o,h=u*u+d*d;if(h<D)i=Math.log(c/a)/j,n=function(e){return[r+e*u,o+e*d,a*Math.exp(j*e*i)]};else{var m=Math.sqrt(h),p=(c*c-a*a+V*h)/(2*a*B*m),f=(c*c-a*a-V*h)/(2*c*B*m),g=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(f*f+1)-f);i=(v-g)/j,n=function(e){var t=e*i,n=d3_cosh(g),s=a/(B*m)*(n*d3_tanh(j*t+g)-d3_sinh(g));return[r+s*u,o+s*d,a*n/d3_cosh(j*t+g)]}}return n.duration=1e3*i,n},o.behavior.zoom=function(){function zoom(e){e.on(g,mousedowned).on(Y+".zoom",mousewheeled).on("dblclick.zoom",dblclicked).on(b,touchstarted)}function location(e){return[(e[0]-d.x)/d.k,(e[1]-d.y)/d.k]}function point(e){return[e[0]*d.k+d.x,e[1]*d.k+d.y]}function scaleTo(e){d.k=Math.max(m[0],Math.min(m[1],e))}function translateTo(e,t){t=point(t),d.x+=e[0]-t[0],d.y+=e[1]-t[1]}function zoomTo(e,n,i,r){e.__chart__={x:d.x,y:d.y,k:d.k},scaleTo(Math.pow(2,r)),translateTo(t=n,i),e=o.select(e),p>0&&(e=e.transition().duration(p)),e.call(zoom.event)}function rescale(){s&&s.domain(a.range().map(function(e){return(e-d.x)/d.k}).map(a.invert)),u&&u.domain(c.range().map(function(e){return(e-d.y)/d.k}).map(c.invert))}function zoomstarted(e){f++||e({type:"zoomstart"})}function zoomed(e){rescale(),e({type:"zoom",scale:d.k,translate:[d.x,d.y]})}function zoomended(e){--f||(e({type:"zoomend"}),t=null)}function mousedowned(){function moved(){n=1,translateTo(o.mouse(e),r),zoomed(t)}function ended(){i.on(v,null).on(y,null),a(n),zoomended(t)}var e=this,t=_.of(e,arguments),n=0,i=o.select(d3_window(e)).on(v,moved).on(y,ended),r=location(o.mouse(e)),a=d3_event_dragSuppress(e);Ft.call(e),zoomstarted(t)}function touchstarted(){function relocate(){var n=o.touches(t);return e=d.k,n.forEach(function(e){e.identifier in i&&(i[e.identifier]=location(e))}),n}function started(){var e=o.event.target;o.select(e).on(l,moved).on(c,ended),u.push(e);for(var n=o.event.changedTouches,s=0,h=n.length;s<h;++s)i[n[s].identifier]=null;var m=relocate(),p=Date.now();if(1===m.length){if(p-r<500){var f=m[0];zoomTo(t,f,i[f.identifier],Math.floor(Math.log(d.k)/Math.LN2)+1),d3_eventPreventDefault()}r=p}else if(m.length>1){var f=m[0],g=m[1],v=f[0]-g[0],y=f[1]-g[1];a=v*v+y*y}}function moved(){var s,l,c,u,d=o.touches(t);Ft.call(t);for(var h=0,m=d.length;h<m;++h,u=null)if(c=d[h],u=i[c.identifier]){if(l)break;s=c,l=u}if(u){var p=(p=c[0]-s[0])*p+(p=c[1]-s[1])*p,f=a&&Math.sqrt(p/a);s=[(s[0]+c[0])/2,(s[1]+c[1])/2],l=[(l[0]+u[0])/2,(l[1]+u[1])/2],scaleTo(f*e)}r=null,translateTo(s,l),zoomed(n)}function ended(){if(o.event.touches.length){for(var e=o.event.changedTouches,t=0,r=e.length;t<r;++t)delete i[e[t].identifier];for(var a in i)return void relocate()}o.selectAll(u).on(s,null),h.on(g,mousedowned).on(b,touchstarted),m(),zoomended(n)}var e,t=this,n=_.of(t,arguments),i={},a=0,s=".zoom-"+o.event.changedTouches[0].identifier,l="touchmove"+s,c="touchend"+s,u=[],h=o.select(t),m=d3_event_dragSuppress(t);started(),zoomstarted(n),h.on(g,null).on(b,started)}function mousewheeled(){var r=_.of(this,arguments);i?clearTimeout(i):(Ft.call(this),e=location(t=n||o.mouse(this)),zoomstarted(r)),i=setTimeout(function(){i=null,zoomended(r)},50),d3_eventPreventDefault(),scaleTo(Math.pow(2,.002*z())*d.k),translateTo(t,e),zoomed(r)}function dblclicked(){var e=o.mouse(this),t=Math.log(d.k)/Math.LN2;zoomTo(this,e,location(e),o.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var e,t,n,i,r,a,s,c,u,d={x:0,y:0,k:1},h=[960,500],m=U,p=250,f=0,g="mousedown.zoom",v="mousemove.zoom",y="mouseup.zoom",b="touchstart.zoom",_=d3_eventDispatch(zoom,"zoomstart","zoom","zoomend");return Y||(Y="onwheel"in l?(z=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(z=function(){return o.event.wheelDelta},"mousewheel"):(z=function(){return-o.event.detail},"MozMousePixelScroll")),zoom.event=function(e){e.each(function(){var e=_.of(this,arguments),n=d;It?o.select(this).transition().each("start.zoom",function(){d=this.__chart__||{x:0,y:0,k:1},zoomstarted(e)}).tween("zoom:zoom",function(){var i=h[0],r=h[1],a=t?t[0]:i/2,s=t?t[1]:r/2,l=o.interpolateZoom([(a-d.x)/d.k,(s-d.y)/d.k,i/d.k],[(a-n.x)/n.k,(s-n.y)/n.k,i/n.k]);return function(t){var n=l(t),r=i/n[2];this.__chart__=d={x:a-n[0]*r,y:s-n[1]*r,k:r},zoomed(e)}}).each("interrupt.zoom",function(){zoomended(e)}).each("end.zoom",function(){zoomended(e)}):(this.__chart__=d,zoomstarted(e),zoomed(e),zoomended(e))})},zoom.translate=function(e){return arguments.length?(d={x:+e[0],y:+e[1],k:d.k},rescale(),zoom):[d.x,d.y]},zoom.scale=function(e){return arguments.length?(d={x:d.x,y:d.y,k:null},scaleTo(+e),rescale(),zoom):d.k},zoom.scaleExtent=function(e){return arguments.length?(m=null==e?U:[+e[0],+e[1]],zoom):m},zoom.center=function(e){return arguments.length?(n=e&&[+e[0],+e[1]],zoom):n},zoom.size=function(e){return arguments.length?(h=e&&[+e[0],+e[1]],zoom):h},zoom.duration=function(e){return arguments.length?(p=+e,zoom):p},zoom.x=function(e){return arguments.length?(s=e,a=e.copy(),d={x:0,y:0,k:1},zoom):s},zoom.y=function(e){return arguments.length?(u=e,c=e.copy(),d={x:0,y:0,k:1},zoom):u},o.rebind(zoom,_,"on")};var z,Y,U=[0,1/0];o.color=d3_color,d3_color.prototype.toString=function(){return this.rgb()+""},o.hsl=d3_hsl;var G=d3_hsl.prototype=new d3_color;G.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new d3_hsl(this.h,this.s,this.l/e)},G.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new d3_hsl(this.h,this.s,e*this.l)},G.rgb=function(){return d3_hsl_rgb(this.h,this.s,this.l)},o.hcl=d3_hcl;var q=d3_hcl.prototype=new d3_color;q.brighter=function(e){return new d3_hcl(this.h,this.c,Math.min(100,this.l+W*(arguments.length?e:1)))},q.darker=function(e){return new d3_hcl(this.h,this.c,Math.max(0,this.l-W*(arguments.length?e:1)))},q.rgb=function(){return d3_hcl_lab(this.h,this.c,this.l).rgb()},o.lab=d3_lab;var W=18,K=.95047,X=1,J=1.08883,Z=d3_lab.prototype=new d3_color;Z.brighter=function(e){return new d3_lab(Math.min(100,this.l+W*(arguments.length?e:1)),this.a,this.b)},Z.darker=function(e){return new d3_lab(Math.max(0,this.l-W*(arguments.length?e:1)),this.a,this.b)},Z.rgb=function(){return d3_lab_rgb(this.l,this.a,this.b)},o.rgb=d3_rgb;var Q=d3_rgb.prototype=new d3_color;Q.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,i=this.b,r=30;return t||n||i?(t&&t<r&&(t=r),n&&n<r&&(n=r),i&&i<r&&(i=r),new d3_rgb(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,i/e))):new d3_rgb(r,r,r)},Q.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new d3_rgb(e*this.r,e*this.g,e*this.b)},Q.hsl=function(){return d3_rgb_hsl(this.r,this.g,this.b)},Q.toString=function(){return"#"+d3_rgb_hex(this.r)+d3_rgb_hex(this.g)+d3_rgb_hex(this.b)};var ee=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ee.forEach(function(e,t){ee.set(e,d3_rgbNumber(t))}),o.functor=d3_functor,o.xhr=d3_xhrType(d3_identity),o.dsv=function(e,t){function dsv(e,n,i){arguments.length<3&&(i=n,n=null);var r=d3_xhr(e,t,null==n?response:typedResponse(n),i);return r.row=function(e){return arguments.length?r.response(null==(n=e)?response:typedResponse(e)):n},r}function response(e){return dsv.parse(e.responseText)}function typedResponse(e){return function(t){return dsv.parse(t.responseText,e)}}function formatRow(t){return t.map(formatValue).join(e)}function formatValue(e){return n.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var n=new RegExp('["'+e+"\n]"),i=e.charCodeAt(0);return dsv.parse=function(e,t){var n;return dsv.parseRows(e,function(e,i){if(n)return n(e,i-1);var r=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");n=t?function(e,n){return t(r(e),n)}:r})},dsv.parseRows=function(e,t){function token(){if(c>=l)return a;if(r)return r=!1,o;var t=c;if(34===e.charCodeAt(t)){for(var n=t;n++<l;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}c=n+2;var s=e.charCodeAt(n+1);return 13===s?(r=!0,10===e.charCodeAt(n+2)&&++c):10===s&&(r=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;c<l;){var s=e.charCodeAt(c++),u=1;if(10===s)r=!0;else if(13===s)r=!0,10===e.charCodeAt(c)&&(++c,++u);else if(s!==i)continue;return e.slice(t,c-u)}return e.slice(t)}for(var n,r,o={},a={},s=[],l=e.length,c=0,u=0;(n=token())!==a;){for(var d=[];n!==o&&n!==a;)d.push(n),n=token();t&&null==(d=t(d,u++))||s.push(d)}return s},dsv.format=function(t){if(Array.isArray(t[0]))return dsv.formatRows(t);var n=new d3_Set,i=[];return t.forEach(function(e){for(var t in e)n.has(t)||i.push(n.add(t))}),[i.map(formatValue).join(e)].concat(t.map(function(t){return i.map(function(e){return formatValue(t[e])}).join(e)})).join("\n")},dsv.formatRows=function(e){return e.map(formatRow).join("\n")},dsv},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("\t","text/tab-separated-values");var te,ne,ie,re,oe=this[d3_vendorSymbol(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};o.timer=function(){d3_timer.apply(this,arguments)},o.timer.flush=function(){d3_timer_mark(),d3_timer_sweep()},o.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var ae=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(d3_formatPrefix);o.formatPrefix=function(e,t){var n=0;return(e=+e)&&(e<0&&(e*=-1),t&&(e=o.round(e,d3_format_precision(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ae[8+n/3]};var se=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,le=o.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=o.round(e,d3_format_precision(e,t))).toFixed(Math.max(0,Math.min(20,d3_format_precision(e*(1+1e-15),t))))}}),ce=o.time={},ue=Date;d3_date_utc.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){de.setUTCDate.apply(this._,arguments)},setDay:function(){de.setUTCDay.apply(this._,arguments)},setFullYear:function(){de.setUTCFullYear.apply(this._,arguments)},setHours:function(){de.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){de.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){de.setUTCMinutes.apply(this._,arguments)},setMonth:function(){de.setUTCMonth.apply(this._,arguments)},setSeconds:function(){de.setUTCSeconds.apply(this._,arguments)},setTime:function(){de.setTime.apply(this._,arguments)}};var de=Date.prototype;ce.year=d3_time_interval(function(e){return e=ce.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),ce.years=ce.year.range,ce.years.utc=ce.year.utc.range,ce.day=d3_time_interval(function(e){var t=new ue(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),ce.days=ce.day.range,ce.days.utc=ce.day.utc.range,ce.dayOfYear=function(e){var t=ce.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=ce[e]=d3_time_interval(function(e){return(e=ce.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=ce.year(e).getDay();return Math.floor((ce.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});ce[e+"s"]=n.range,ce[e+"s"].utc=n.utc.range,ce[e+"OfYear"]=function(e){var n=ce.year(e).getDay();return Math.floor((ce.dayOfYear(e)+(n+t)%7)/7)}}),ce.week=ce.sunday,ce.weeks=ce.sunday.range,ce.weeks.utc=ce.sunday.utc.range,ce.weekOfYear=ce.sundayOfYear;var he={"-":"",_:" ",0:"0"},me=/^\s*\d+/,pe=/^%/;o.locale=function(e){return{numberFormat:d3_locale_numberFormat(e),timeFormat:d3_locale_timeFormat(e)}};var fe=o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});o.format=fe.numberFormat,o.geo={},d3_adder.prototype={s:0,t:0,add:function(e){d3_adderSum(e,this.t,ge),d3_adderSum(ge.s,this.s,this),this.s?this.t+=ge.t:this.s=ge.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ge=new d3_adder;o.geo.stream=function(e,t){e&&ve.hasOwnProperty(e.type)?ve[e.type](e,t):d3_geo_streamGeometry(e,t)};var ve={Feature:function(e,t){d3_geo_streamGeometry(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)d3_geo_streamGeometry(n[i].geometry,t)}},ye={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){d3_geo_streamLine(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)d3_geo_streamLine(n[i],t,0)},Polygon:function(e,t){d3_geo_streamPolygon(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)d3_geo_streamPolygon(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)d3_geo_streamGeometry(n[i],t)}};o.geo.area=function(e){return be=0,o.geo.stream(e,we),be};var be,_e=new d3_adder,we={sphere:function(){be+=4*R},point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){_e.reset(),we.lineStart=d3_geo_areaRingStart},polygonEnd:function(){var e=2*_e;be+=e<0?4*R+e:e,we.lineStart=we.lineEnd=we.point=d3_noop}};o.geo.bounds=function(){function point(r,o){u.push(d=[e=r,n=r]),o<t&&(t=o),o>i&&(i=o)}function linePoint(o,a){var s=d3_geo_cartesian([o*N,a*N]);if(l){var c=d3_geo_cartesianCross(l,s),u=[c[1],-c[0],0],d=d3_geo_cartesianCross(u,c);d3_geo_cartesianNormalize(d),d=d3_geo_spherical(d);var h=o-r,m=h>0?1:-1,p=d[0]*H*m,g=f(h)>180;if(g^(m*r<p&&p<m*o)){var v=d[1]*H;v>i&&(i=v)}else if(p=(p+360)%360-180,g^(m*r<p&&p<m*o)){var v=-d[1]*H;v<t&&(t=v)}else a<t&&(t=a),a>i&&(i=a);g?o<r?angle(e,o)>angle(e,n)&&(n=o):angle(o,n)>angle(e,n)&&(e=o):n>=e?(o<e&&(e=o),o>n&&(n=o)):o>r?angle(e,o)>angle(e,n)&&(n=o):angle(o,n)>angle(e,n)&&(e=o)}else point(o,a);l=s,r=o}function lineStart(){h.point=linePoint}function lineEnd(){d[0]=e,d[1]=n,h.point=point,l=null}function ringPoint(e,t){if(l){var n=e-r;c+=f(n)>180?n+(n>0?360:-360):n}else a=e,s=t;we.point(e,t),linePoint(e,t)}function ringStart(){we.lineStart()}function ringEnd(){ringPoint(a,s),we.lineEnd(),f(c)>L&&(e=-(n=180)),d[0]=e,d[1]=n,l=null}function angle(e,t){return(t-=e)<0?t+360:t}function compareRanges(e,t){return e[0]-t[0]}function withinRange(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var e,t,n,i,r,a,s,l,c,u,d,h={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){h.point=ringPoint,h.lineStart=ringStart,h.lineEnd=ringEnd,c=0,we.polygonStart()},polygonEnd:function(){we.polygonEnd(),h.point=point,h.lineStart=lineStart,h.lineEnd=lineEnd,_e<0?(e=-(n=180),t=-(i=90)):c>L?i=90:c<-L&&(t=-90),d[0]=e,d[1]=n}};return function(r){i=n=-(e=t=1/0),u=[],o.geo.stream(r,h);var a=u.length;if(a){u.sort(compareRanges);for(var s,l=1,c=u[0],m=[c];l<a;++l)s=u[l],withinRange(s[0],c)||withinRange(s[1],c)?(angle(c[0],s[1])>angle(c[0],c[1])&&(c[1]=s[1]),angle(s[0],c[1])>angle(c[0],c[1])&&(c[0]=s[0])):m.push(c=s);for(var p,s,f=-(1/0),a=m.length-1,l=0,c=m[a];l<=a;c=s,++l)s=m[l],(p=angle(c[1],s[0]))>f&&(f=p,e=s[0],n=c[1])}return u=d=null,e===1/0||t===1/0?[[NaN,NaN],[NaN,NaN]]:[[e,t],[n,i]]}}(),o.geo.centroid=function(e){xe=Ce=Se=Ee=Te=Me=ke=Ae=$e=Pe=Le=0,o.geo.stream(e,De);var t=$e,n=Pe,i=Le,r=t*t+n*n+i*i;return r<D&&(t=Me,n=ke,i=Ae,Ce<L&&(t=Se,n=Ee,i=Te),r=t*t+n*n+i*i,r<D)?[NaN,NaN]:[Math.atan2(n,t)*H,d3_asin(i/Math.sqrt(r))*H]};var xe,Ce,Se,Ee,Te,Me,ke,Ae,$e,Pe,Le,De={sphere:d3_noop,point:d3_geo_centroidPoint,lineStart:d3_geo_centroidLineStart,lineEnd:d3_geo_centroidLineEnd,polygonStart:function(){De.lineStart=d3_geo_centroidRingStart},polygonEnd:function(){De.lineStart=d3_geo_centroidLineStart}},Re=d3_geo_clip(d3_true,d3_geo_clipAntimeridianLine,d3_geo_clipAntimeridianInterpolate,[-R,-R/2]),Ie=1e9;o.geo.clipExtent=function(){var e,t,n,i,r,o,a={stream:function(e){return r&&(r.valid=!1),r=o(e),r.valid=!0,r},extent:function(s){return arguments.length?(o=d3_geo_clipExtent(e=+s[0][0],t=+s[0][1],n=+s[1][0],i=+s[1][1]),r&&(r.valid=!1,r=null),a):[[e,t],[n,i]]}};return a.extent([[0,0],[960,500]])},(o.geo.conicEqualArea=function(){return d3_geo_conic(d3_geo_conicEqualArea)}).raw=d3_geo_conicEqualArea,o.geo.albers=function(){return o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},o.geo.albersUsa=function(){function albersUsa(r){var o=r[0],a=r[1];return e=null,t(o,a),e||(n(o,a),e)||i(o,a),e}var e,t,n,i,r=o.geo.albers(),a=o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return albersUsa.invert=function(e){var t=r.scale(),n=r.translate(),i=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&i>=-.425&&i<-.214?a:o>=.166&&o<.234&&i>=-.214&&i<-.115?s:r).invert(e)},albersUsa.stream=function(e){var t=r.stream(e),n=a.stream(e),i=s.stream(e);return{point:function(e,r){t.point(e,r),n.point(e,r),i.point(e,r)},sphere:function(){t.sphere(),n.sphere(),i.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},albersUsa.precision=function(e){return arguments.length?(r.precision(e),a.precision(e),s.precision(e),albersUsa):r.precision()},albersUsa.scale=function(e){return arguments.length?(r.scale(e),a.scale(.35*e),s.scale(e),albersUsa.translate(r.translate())):r.scale()},albersUsa.translate=function(e){if(!arguments.length)return r.translate();var o=r.scale(),c=+e[0],u=+e[1];return t=r.translate(e).clipExtent([[c-.455*o,u-.238*o],[c+.455*o,u+.238*o]]).stream(l).point,n=a.translate([c-.307*o,u+.201*o]).clipExtent([[c-.425*o+L,u+.12*o+L],[c-.214*o-L,u+.234*o-L]]).stream(l).point,i=s.translate([c-.205*o,u+.212*o]).clipExtent([[c-.214*o+L,u+.166*o+L],[c-.115*o-L,u+.234*o-L]]).stream(l).point,albersUsa},albersUsa.scale(1070)};var Oe,Fe,Ne,He,je,Be,Ve={point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){Fe=0,Ve.lineStart=d3_geo_pathAreaRingStart},polygonEnd:function(){Ve.lineStart=Ve.lineEnd=Ve.point=d3_noop,Oe+=f(Fe/2)}},ze={point:d3_geo_pathBoundsPoint,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop},Ye={point:d3_geo_pathCentroidPoint,lineStart:d3_geo_pathCentroidLineStart,lineEnd:d3_geo_pathCentroidLineEnd,polygonStart:function(){Ye.lineStart=d3_geo_pathCentroidRingStart},polygonEnd:function(){Ye.point=d3_geo_pathCentroidPoint,Ye.lineStart=d3_geo_pathCentroidLineStart,Ye.lineEnd=d3_geo_pathCentroidLineEnd}};o.geo.path=function(){function path(e){return e&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),r&&r.valid||(r=n(i)),o.geo.stream(e,r)),i.result()}function reset(){return r=null,path}var e,t,n,i,r,a=4.5;return path.area=function(e){return Oe=0,o.geo.stream(e,n(Ve)),Oe},path.centroid=function(e){return Se=Ee=Te=Me=ke=Ae=$e=Pe=Le=0,o.geo.stream(e,n(Ye)),Le?[$e/Le,Pe/Le]:Ae?[Me/Ae,ke/Ae]:Te?[Se/Te,Ee/Te]:[NaN,NaN]},path.bounds=function(e){return je=Be=-(Ne=He=1/0),o.geo.stream(e,n(ze)),[[Ne,He],[je,Be]]},path.projection=function(t){return arguments.length?(n=(e=t)?t.stream||d3_geo_pathProjectStream(t):d3_identity,reset()):e},path.context=function(e){return arguments.length?(i=null==(t=e)?new d3_geo_pathBuffer:new d3_geo_pathContext(e),"function"!=typeof a&&i.pointRadius(a),reset()):t},path.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(i.pointRadius(+e),+e),path):a},path.projection(o.geo.albersUsa()).context(null)},o.geo.transform=function(e){return{stream:function(t){var n=new d3_geo_transform(t);for(var i in e)n[i]=e[i];return n}}},d3_geo_transform.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},o.geo.projection=d3_geo_projection,o.geo.projectionMutator=d3_geo_projectionMutator,(o.geo.equirectangular=function(){return d3_geo_projection(d3_geo_equirectangular)}).raw=d3_geo_equirectangular.invert=d3_geo_equirectangular,o.geo.rotation=function(e){function forward(t){return t=e(t[0]*N,t[1]*N),t[0]*=H,t[1]*=H,t}return e=d3_geo_rotation(e[0]%360*N,e[1]*N,e.length>2?e[2]*N:0),forward.invert=function(t){return t=e.invert(t[0]*N,t[1]*N),t[0]*=H,t[1]*=H,t},forward},d3_geo_identityRotation.invert=d3_geo_equirectangular,o.geo.circle=function(){function circle(){var e="function"==typeof n?n.apply(this,arguments):n,i=d3_geo_rotation(-e[0]*N,-e[1]*N,0).invert,r=[];return t(null,null,1,{point:function(e,t){r.push(e=i(e,t)),e[0]*=H,e[1]*=H}}),{type:"Polygon",coordinates:[r]}}var e,t,n=[0,0],i=6;return circle.origin=function(e){return arguments.length?(n=e,circle):n},circle.angle=function(n){return arguments.length?(t=d3_geo_circleInterpolate((e=+n)*N,i*N),circle):e},circle.precision=function(n){return arguments.length?(t=d3_geo_circleInterpolate(e*N,(i=+n)*N),circle):i},circle.angle(90)},o.geo.distance=function(e,t){var n,i=(t[0]-e[0])*N,r=e[1]*N,o=t[1]*N,a=Math.sin(i),s=Math.cos(i),l=Math.sin(r),c=Math.cos(r),u=Math.sin(o),d=Math.cos(o);return Math.atan2(Math.sqrt((n=d*a)*n+(n=c*u-l*d*s)*n),l*u+c*d*s)},o.geo.graticule=function(){function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return o.range(Math.ceil(i/g)*g,n,g).map(d).concat(o.range(Math.ceil(l/v)*v,s,v).map(h)).concat(o.range(Math.ceil(t/m)*m,e,m).filter(function(e){return f(e%g)>L}).map(c)).concat(o.range(Math.ceil(a/p)*p,r,p).filter(function(e){return f(e%v)>L}).map(u))}var e,t,n,i,r,a,s,l,c,u,d,h,m=10,p=m,g=90,v=360,y=2.5;return graticule.lines=function(){return lines().map(function(e){return{type:"LineString",coordinates:e}})},graticule.outline=function(){return{type:"Polygon",coordinates:[d(i).concat(h(s).slice(1),d(n).reverse().slice(1),h(l).reverse().slice(1))]}},graticule.extent=function(e){return arguments.length?graticule.majorExtent(e).minorExtent(e):graticule.minorExtent()},graticule.majorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],l=+e[0][1],s=+e[1][1],i>n&&(e=i,i=n,n=e),l>s&&(e=l,l=s,s=e),graticule.precision(y)):[[i,l],[n,s]]},graticule.minorExtent=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],a=+n[0][1],r=+n[1][1],t>e&&(n=t,t=e,e=n),a>r&&(n=a,a=r,r=n),graticule.precision(y)):[[t,a],[e,r]]},graticule.step=function(e){return arguments.length?graticule.majorStep(e).minorStep(e):graticule.minorStep()},graticule.majorStep=function(e){return arguments.length?(g=+e[0],v=+e[1],graticule):[g,v]},graticule.minorStep=function(e){return arguments.length?(m=+e[0],p=+e[1],graticule):[m,p]},graticule.precision=function(o){return arguments.length?(y=+o,c=d3_geo_graticuleX(a,r,90),u=d3_geo_graticuleY(t,e,y),d=d3_geo_graticuleX(l,s,90),h=d3_geo_graticuleY(i,n,y),graticule):y},graticule.majorExtent([[-180,-90+L],[180,90-L]]).minorExtent([[-180,-80-L],[180,80+L]])},o.geo.greatArc=function(){function greatArc(){return{type:"LineString",coordinates:[e||n.apply(this,arguments),t||i.apply(this,arguments)]}}var e,t,n=d3_source,i=d3_target;return greatArc.distance=function(){return o.geo.distance(e||n.apply(this,arguments),t||i.apply(this,arguments))},greatArc.source=function(t){return arguments.length?(n=t,e="function"==typeof t?null:t,greatArc):n},greatArc.target=function(e){return arguments.length?(i=e,t="function"==typeof e?null:e,greatArc):i},greatArc.precision=function(){return arguments.length?greatArc:0},greatArc},o.geo.interpolate=function(e,t){return d3_geo_interpolate(e[0]*N,e[1]*N,t[0]*N,t[1]*N)},o.geo.length=function(e){return Ue=0,o.geo.stream(e,Ge),Ue};var Ue,Ge={sphere:d3_noop,point:d3_noop,lineStart:d3_geo_lengthLineStart,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop},qe=d3_geo_azimuthal(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(o.geo.azimuthalEqualArea=function(){return d3_geo_projection(qe)}).raw=qe;var We=d3_geo_azimuthal(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},d3_identity);(o.geo.azimuthalEquidistant=function(){return d3_geo_projection(We)}).raw=We,(o.geo.conicConformal=function(){return d3_geo_conic(d3_geo_conicConformal)}).raw=d3_geo_conicConformal,(o.geo.conicEquidistant=function(){return d3_geo_conic(d3_geo_conicEquidistant)}).raw=d3_geo_conicEquidistant;var Ke=d3_geo_azimuthal(function(e){return 1/e},Math.atan);(o.geo.gnomonic=function(){return d3_geo_projection(Ke)}).raw=Ke,d3_geo_mercator.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-F]},(o.geo.mercator=function(){return d3_geo_mercatorProjection(d3_geo_mercator)}).raw=d3_geo_mercator;var Xe=d3_geo_azimuthal(function(){return 1},Math.asin);(o.geo.orthographic=function(){return d3_geo_projection(Xe)}).raw=Xe;var Je=d3_geo_azimuthal(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(o.geo.stereographic=function(){return d3_geo_projection(Je)}).raw=Je,d3_geo_transverseMercator.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-F]},(o.geo.transverseMercator=function(){var e=d3_geo_mercatorProjection(d3_geo_transverseMercator),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=d3_geo_transverseMercator,o.geom={},o.geom.hull=function(e){function hull(e){if(e.length<3)return[];var i,r=d3_functor(t),o=d3_functor(n),a=e.length,s=[],l=[];for(i=0;i<a;i++)s.push([+r.call(this,e[i],i),+o.call(this,e[i],i),i]);for(s.sort(d3_geom_hullOrder),i=0;i<a;i++)l.push([s[i][0],-s[i][1]]);var c=d3_geom_hullUpper(s),u=d3_geom_hullUpper(l),d=u[0]===c[0],h=u[u.length-1]===c[c.length-1],m=[];for(i=c.length-1;i>=0;--i)m.push(e[s[c[i]][2]]);for(i=+d;i<u.length-h;++i)m.push(e[s[u[i]][2]]);return m}var t=d3_geom_pointX,n=d3_geom_pointY;return arguments.length?hull(e):(hull.x=function(e){return arguments.length?(t=e,hull):t},hull.y=function(e){return arguments.length?(n=e,hull):n},hull)},o.geom.polygon=function(e){return _(e,Ze),e};var Ze=o.geom.polygon.prototype=[];Ze.area=function(){for(var e,t=-1,n=this.length,i=this[n-1],r=0;++t<n;)e=i,i=this[t],r+=e[1]*i[0]-e[0]*i[1];return.5*r},Ze.centroid=function(e){var t,n,i=-1,r=this.length,o=0,a=0,s=this[r-1];for(arguments.length||(e=-1/(6*this.area()));++i<r;)t=s,s=this[i],n=t[0]*s[1]-s[0]*t[1],o+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[o*e,a*e]},Ze.clip=function(e){for(var t,n,i,r,o,a,s=d3_geom_polygonClosed(e),l=-1,c=this.length-d3_geom_polygonClosed(this),u=this[c-1];++l<c;){for(t=e.slice(),e.length=0,r=this[l],o=t[(i=t.length-s)-1],n=-1;++n<i;)a=t[n],d3_geom_polygonInside(a,u,r)?(d3_geom_polygonInside(o,u,r)||e.push(d3_geom_polygonIntersect(o,a,u,r)),e.push(a)):d3_geom_polygonInside(o,u,r)&&e.push(d3_geom_polygonIntersect(o,a,u,r)),o=a;s&&e.push(e[0]),u=r}return e};var Qe,et,tt,nt,it,rt=[],ot=[];d3_geom_voronoiCell.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(d3_geom_voronoiHalfEdgeOrder),t.length},d3_geom_voronoiHalfEdge.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},d3_geom_voronoiRedBlackTree.prototype={insert:function(e,t){var n,i,r;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=d3_geom_voronoiRedBlackFirst(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.R&&(d3_geom_voronoiRedBlackRotateLeft(this,n),e=n,n=e.U),n.C=!1,i.C=!0,d3_geom_voronoiRedBlackRotateRight(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.L&&(d3_geom_voronoiRedBlackRotateRight(this,n),e=n,n=e.U),n.C=!1,i.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,i))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,i,r=e.U,o=e.L,a=e.R;
if(n=o?a?d3_geom_voronoiRedBlackFirst(a):o:a,r?r.L===e?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(r=n.U,n.U=e.U,e=n.R,r.L=e,n.R=a,a.U=n):(n.U=r,r=n,e=n.R)):(i=e.C,e=n),e&&(e.U=r),!i){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===r.L){if(t=r.R,t.C&&(t.C=!1,r.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,r),t=r.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,d3_geom_voronoiRedBlackRotateRight(this,t),t=r.R),t.C=r.C,r.C=t.R.C=!1,d3_geom_voronoiRedBlackRotateLeft(this,r),e=this._;break}}else if(t=r.L,t.C&&(t.C=!1,r.C=!0,d3_geom_voronoiRedBlackRotateRight(this,r),t=r.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,t),t=r.L),t.C=r.C,r.C=t.L.C=!1,d3_geom_voronoiRedBlackRotateRight(this,r),e=this._;break}t.C=!0,e=r,r=r.U}while(!e.C);e&&(e.C=!1)}}},o.geom.voronoi=function(e){function voronoi(e){var t=new Array(e.length),n=o[0][0],i=o[0][1],r=o[1][0],a=o[1][1];return d3_geom_voronoi(sites(e),o).cells.forEach(function(o,s){var l=o.edges,c=o.site,u=t[s]=l.length?l.map(function(e){var t=e.start();return[t.x,t.y]}):c.x>=n&&c.x<=r&&c.y>=i&&c.y<=a?[[n,a],[r,a],[r,i],[n,i]]:[];u.point=e[s]}),t}function sites(e){return e.map(function(e,t){return{x:Math.round(i(e,t)/L)*L,y:Math.round(r(e,t)/L)*L,i:t}})}var t=d3_geom_pointX,n=d3_geom_pointY,i=t,r=n,o=at;return e?voronoi(e):(voronoi.links=function(e){return d3_geom_voronoi(sites(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},voronoi.triangles=function(e){var t=[];return d3_geom_voronoi(sites(e)).cells.forEach(function(n,i){for(var r,o,a=n.site,s=n.edges.sort(d3_geom_voronoiHalfEdgeOrder),l=-1,c=s.length,u=s[c-1].edge,d=u.l===a?u.r:u.l;++l<c;)r=u,o=d,u=s[l].edge,d=u.l===a?u.r:u.l,i<o.i&&i<d.i&&d3_geom_voronoiTriangleArea(a,o,d)<0&&t.push([e[i],e[o.i],e[d.i]])}),t},voronoi.x=function(e){return arguments.length?(i=d3_functor(t=e),voronoi):t},voronoi.y=function(e){return arguments.length?(r=d3_functor(n=e),voronoi):n},voronoi.clipExtent=function(e){return arguments.length?(o=null==e?at:e,voronoi):o===at?null:o},voronoi.size=function(e){return arguments.length?voronoi.clipExtent(e&&[[0,0],e]):o===at?null:o&&o[1]},voronoi)};var at=[[-1e6,-1e6],[1e6,1e6]];o.geom.delaunay=function(e){return o.geom.voronoi().triangles(e)},o.geom.quadtree=function(e,t,n,i,r){function quadtree(e){function insert(e,t,n,i,r,o,a,s){if(!isNaN(n)&&!isNaN(i))if(e.leaf){var l=e.x,c=e.y;if(null!=l)if(f(l-n)+f(c-i)<.01)insertChild(e,t,n,i,r,o,a,s);else{var u=e.point;e.x=e.y=e.point=null,insertChild(e,u,l,c,r,o,a,s),insertChild(e,t,n,i,r,o,a,s)}else e.x=n,e.y=i,e.point=t}else insertChild(e,t,n,i,r,o,a,s)}function insertChild(e,t,n,i,r,o,a,s){var l=.5*(r+a),c=.5*(o+s),u=n>=l,d=i>=c,h=d<<1|u;e.leaf=!1,e=e.nodes[h]||(e.nodes[h]=d3_geom_quadtreeNode()),u?r=l:a=l,d?o=c:s=c,insert(e,t,n,i,r,o,a,s)}var l,c,u,d,h,m,p,g,v,y=d3_functor(a),b=d3_functor(s);if(null!=t)m=t,p=n,g=i,v=r;else if(g=v=-(m=p=1/0),c=[],u=[],h=e.length,o)for(d=0;d<h;++d)l=e[d],l.x<m&&(m=l.x),l.y<p&&(p=l.y),l.x>g&&(g=l.x),l.y>v&&(v=l.y),c.push(l.x),u.push(l.y);else for(d=0;d<h;++d){var _=+y(l=e[d],d),w=+b(l,d);_<m&&(m=_),w<p&&(p=w),_>g&&(g=_),w>v&&(v=w),c.push(_),u.push(w)}var x=g-m,C=v-p;x>C?v=p+x:g=m+C;var S=d3_geom_quadtreeNode();if(S.add=function(e){insert(S,e,+y(e,++d),+b(e,d),m,p,g,v)},S.visit=function(e){d3_geom_quadtreeVisit(e,S,m,p,g,v)},S.find=function(e){return d3_geom_quadtreeFind(S,e[0],e[1],m,p,g,v)},d=-1,null==t){for(;++d<h;)insert(S,e[d],c[d],u[d],m,p,g,v);--d}else e.forEach(S.add);return c=u=e=l=null,S}var o,a=d3_geom_pointX,s=d3_geom_pointY;return(o=arguments.length)?(a=d3_geom_quadtreeCompatX,s=d3_geom_quadtreeCompatY,3===o&&(r=n,i=t,n=t=0),quadtree(e)):(quadtree.x=function(e){return arguments.length?(a=e,quadtree):a},quadtree.y=function(e){return arguments.length?(s=e,quadtree):s},quadtree.extent=function(e){return arguments.length?(null==e?t=n=i=r=null:(t=+e[0][0],n=+e[0][1],i=+e[1][0],r=+e[1][1]),quadtree):null==t?null:[[t,n],[i,r]]},quadtree.size=function(e){return arguments.length?(null==e?t=n=i=r=null:(t=n=0,i=+e[0],r=+e[1]),quadtree):null==t?null:[i-t,r-n]},quadtree)},o.interpolateRgb=d3_interpolateRgb,o.interpolateObject=d3_interpolateObject,o.interpolateNumber=d3_interpolateNumber,o.interpolateString=d3_interpolateString;var st=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lt=new RegExp(st.source,"g");o.interpolate=d3_interpolate,o.interpolators=[function(e,t){var n=typeof t;return("string"===n?ee.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?d3_interpolateRgb:d3_interpolateString:t instanceof d3_color?d3_interpolateRgb:Array.isArray(t)?d3_interpolateArray:"object"===n&&isNaN(t)?d3_interpolateObject:d3_interpolateNumber)(e,t)}],o.interpolateArray=d3_interpolateArray;var ct=function(){return d3_identity},ut=o.map({linear:ct,poly:d3_ease_poly,quad:function(){return d3_ease_quad},cubic:function(){return d3_ease_cubic},sin:function(){return d3_ease_sin},exp:function(){return d3_ease_exp},circle:function(){return d3_ease_circle},elastic:d3_ease_elastic,back:d3_ease_back,bounce:function(){return d3_ease_bounce}}),dt=o.map({in:d3_identity,out:d3_ease_reverse,"in-out":d3_ease_reflect,"out-in":function(e){return d3_ease_reflect(d3_ease_reverse(e))}});o.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,i=t>=0?e.slice(t+1):"in";return n=ut.get(n)||ct,i=dt.get(i)||d3_identity,d3_ease_clamp(i(n.apply(null,a.call(arguments,1))))},o.interpolateHcl=d3_interpolateHcl,o.interpolateHsl=d3_interpolateHsl,o.interpolateLab=d3_interpolateLab,o.interpolateRound=d3_interpolateRound,o.transform=function(e){var t=l.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new d3_transform(n?n.matrix:ht)})(e)},d3_transform.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ht={a:1,b:0,c:0,d:1,e:0,f:0};o.interpolateTransform=d3_interpolateTransform,o.layout={},o.layout.bundle=function(){return function(e){for(var t=[],n=-1,i=e.length;++n<i;)t.push(d3_layout_bundlePath(e[n]));return t}},o.layout.chord=function(){function relayout(){var l,u,d,h,m,p={},f=[],g=o.range(i),v=[];for(e=[],t=[],l=0,h=-1;++h<i;){for(u=0,m=-1;++m<i;)u+=n[h][m];f.push(u),v.push(o.range(i)),l+=u}for(r&&g.sort(function(e,t){return r(f[e],f[t])}),a&&v.forEach(function(e,t){e.sort(function(e,i){return a(n[t][e],n[t][i])})}),l=(I-c*i)/l,u=0,h=-1;++h<i;){for(d=u,m=-1;++m<i;){var y=g[h],b=v[y][m],_=n[y][b],w=u,x=u+=_*l;p[y+"-"+b]={index:y,subindex:b,startAngle:w,endAngle:x,value:_}}t[y]={index:y,startAngle:d,endAngle:u,value:f[y]},u+=c}for(h=-1;++h<i;)for(m=h-1;++m<i;){var C=p[h+"-"+m],S=p[m+"-"+h];(C.value||S.value)&&e.push(C.value<S.value?{source:S,target:C}:{source:C,target:S})}s&&resort()}function resort(){e.sort(function(e,t){return s((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var e,t,n,i,r,a,s,l={},c=0;return l.matrix=function(r){return arguments.length?(i=(n=r)&&n.length,e=t=null,l):n},l.padding=function(n){return arguments.length?(c=n,e=t=null,l):c},l.sortGroups=function(n){return arguments.length?(r=n,e=t=null,l):r},l.sortSubgroups=function(t){return arguments.length?(a=t,e=null,l):a},l.sortChords=function(t){return arguments.length?(s=t,e&&resort(),l):s},l.chords=function(){return e||relayout(),e},l.groups=function(){return t||relayout(),t},l},o.layout.force=function(){function repulse(e){return function(t,n,i,r){if(t.point!==e){var o=t.cx-e.x,a=t.cy-e.y,s=r-n,l=o*o+a*a;if(s*s/g<l){if(l<p){var c=t.charge/l;e.px-=o*c,e.py-=a*c}return!0}if(t.point&&l&&l<p){var c=t.pointCharge/l;e.px-=o*c,e.py-=a*c}}return!t.charge}}function dragmove(e){e.px=o.event.x,e.py=o.event.y,s.resume()}var e,t,n,i,r,a,s={},l=o.dispatch("start","tick","end"),c=[1,1],u=.9,d=mt,h=pt,m=-30,p=ft,f=.1,g=.64,v=[],y=[];return s.tick=function(){if((n*=.99)<.005)return e=null,l.end({type:"end",alpha:n=0}),!0;var t,s,d,h,p,g,b,_,w,x=v.length,C=y.length;for(s=0;s<C;++s)d=y[s],h=d.source,p=d.target,_=p.x-h.x,w=p.y-h.y,(g=_*_+w*w)&&(g=n*r[s]*((g=Math.sqrt(g))-i[s])/g,_*=g,w*=g,p.x-=_*(b=h.weight+p.weight?h.weight/(h.weight+p.weight):.5),p.y-=w*b,h.x+=_*(b=1-b),h.y+=w*b);if((b=n*f)&&(_=c[0]/2,w=c[1]/2,s=-1,b))for(;++s<x;)d=v[s],d.x+=(_-d.x)*b,d.y+=(w-d.y)*b;if(m)for(d3_layout_forceAccumulate(t=o.geom.quadtree(v),n,a),s=-1;++s<x;)(d=v[s]).fixed||t.visit(repulse(d));for(s=-1;++s<x;)d=v[s],d.fixed?(d.x=d.px,d.y=d.py):(d.x-=(d.px-(d.px=d.x))*u,d.y-=(d.py-(d.py=d.y))*u);l.tick({type:"tick",alpha:n})},s.nodes=function(e){return arguments.length?(v=e,s):v},s.links=function(e){return arguments.length?(y=e,s):y},s.size=function(e){return arguments.length?(c=e,s):c},s.linkDistance=function(e){return arguments.length?(d="function"==typeof e?e:+e,s):d},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(h="function"==typeof e?e:+e,s):h},s.friction=function(e){return arguments.length?(u=+e,s):u},s.charge=function(e){return arguments.length?(m="function"==typeof e?e:+e,s):m},s.chargeDistance=function(e){return arguments.length?(p=e*e,s):Math.sqrt(p)},s.gravity=function(e){return arguments.length?(f=+e,s):f},s.theta=function(e){return arguments.length?(g=e*e,s):Math.sqrt(g)},s.alpha=function(t){return arguments.length?(t=+t,n?t>0?n=t:(e.c=null,e.t=NaN,e=null,l.end({type:"end",alpha:n=0})):t>0&&(l.start({type:"start",alpha:n=t}),e=d3_timer(s.tick)),s):n},s.start=function(){function position(n,i){if(!t){for(t=new Array(o),c=0;c<o;++c)t[c]=[];for(c=0;c<l;++c){var r=y[c];t[r.source.index].push(r.target),t[r.target.index].push(r.source)}}for(var a,s=t[e],c=-1,u=s.length;++c<u;)if(!isNaN(a=s[c][n]))return a;return Math.random()*i}var e,t,n,o=v.length,l=y.length,u=c[0],p=c[1];for(e=0;e<o;++e)(n=v[e]).index=e,n.weight=0;for(e=0;e<l;++e)n=y[e],"number"==typeof n.source&&(n.source=v[n.source]),"number"==typeof n.target&&(n.target=v[n.target]),++n.source.weight,++n.target.weight;for(e=0;e<o;++e)n=v[e],isNaN(n.x)&&(n.x=position("x",u)),isNaN(n.y)&&(n.y=position("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(i=[],"function"==typeof d)for(e=0;e<l;++e)i[e]=+d.call(this,y[e],e);else for(e=0;e<l;++e)i[e]=d;if(r=[],"function"==typeof h)for(e=0;e<l;++e)r[e]=+h.call(this,y[e],e);else for(e=0;e<l;++e)r[e]=h;if(a=[],"function"==typeof m)for(e=0;e<o;++e)a[e]=+m.call(this,v[e],e);else for(e=0;e<o;++e)a[e]=m;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return t||(t=o.behavior.drag().origin(d3_identity).on("dragstart.force",d3_layout_forceDragstart).on("drag.force",dragmove).on("dragend.force",d3_layout_forceDragend)),arguments.length?void this.on("mouseover.force",d3_layout_forceMouseover).on("mouseout.force",d3_layout_forceMouseout).call(t):t},o.rebind(s,l,"on")};var mt=20,pt=1,ft=1/0;o.layout.hierarchy=function(){function hierarchy(i){var r,o=[i],a=[];for(i.depth=0;null!=(r=o.pop());)if(a.push(r),(l=t.call(hierarchy,r,r.depth))&&(s=l.length)){for(var s,l,c;--s>=0;)o.push(c=l[s]),c.parent=r,c.depth=r.depth+1;n&&(r.value=0),r.children=l}else n&&(r.value=+n.call(hierarchy,r,r.depth)||0),delete r.children;return d3_layout_hierarchyVisitAfter(i,function(t){var i,r;e&&(i=t.children)&&i.sort(e),n&&(r=t.parent)&&(r.value+=t.value)}),a}var e=d3_layout_hierarchySort,t=d3_layout_hierarchyChildren,n=d3_layout_hierarchyValue;return hierarchy.sort=function(t){return arguments.length?(e=t,hierarchy):e},hierarchy.children=function(e){return arguments.length?(t=e,hierarchy):t},hierarchy.value=function(e){return arguments.length?(n=e,hierarchy):n},hierarchy.revalue=function(e){return n&&(d3_layout_hierarchyVisitBefore(e,function(e){e.children&&(e.value=0)}),d3_layout_hierarchyVisitAfter(e,function(e){var t;e.children||(e.value=+n.call(hierarchy,e,e.depth)||0),(t=e.parent)&&(t.value+=e.value)})),e},hierarchy},o.layout.partition=function(){function position(e,t,n,i){var r=e.children;if(e.x=t,e.y=e.depth*i,e.dx=n,e.dy=i,r&&(o=r.length)){var o,a,s,l=-1;for(n=e.value?n/e.value:0;++l<o;)position(a=r[l],t,s=a.value*n,i),t+=s}}function depth(e){var t=e.children,n=0;if(t&&(i=t.length))for(var i,r=-1;++r<i;)n=Math.max(n,depth(t[r]));return 1+n}function partition(n,i){var r=e.call(this,n,i);return position(r[0],0,t[0],t[1]/depth(r[0])),r}var e=o.layout.hierarchy(),t=[1,1];return partition.size=function(e){return arguments.length?(t=e,partition):t},d3_layout_hierarchyRebind(partition,e)},o.layout.pie=function(){function pie(a){var s,l=a.length,c=a.map(function(t,n){return+e.call(pie,t,n)}),u=+("function"==typeof n?n.apply(this,arguments):n),d=("function"==typeof i?i.apply(this,arguments):i)-u,h=Math.min(Math.abs(d)/l,+("function"==typeof r?r.apply(this,arguments):r)),m=h*(d<0?-1:1),p=o.sum(c),f=p?(d-l*m)/p:0,g=o.range(l),v=[];return null!=t&&g.sort(t===gt?function(e,t){return c[t]-c[e]}:function(e,n){return t(a[e],a[n])}),g.forEach(function(e){v[e]={data:a[e],value:s=c[e],startAngle:u,endAngle:u+=s*f+m,padAngle:h}}),v}var e=Number,t=gt,n=0,i=I,r=0;return pie.value=function(t){return arguments.length?(e=t,pie):e},pie.sort=function(e){return arguments.length?(t=e,pie):t},pie.startAngle=function(e){return arguments.length?(n=e,pie):n},pie.endAngle=function(e){return arguments.length?(i=e,pie):i},pie.padAngle=function(e){return arguments.length?(r=e,pie):r},pie};var gt={};o.layout.stack=function(){function stack(s,l){if(!(h=s.length))return s;var c=s.map(function(t,n){return e.call(stack,t,n)}),u=c.map(function(e){return e.map(function(e,t){return[r.call(stack,e,t),a.call(stack,e,t)]})}),d=t.call(stack,u,l);c=o.permute(c,d),u=o.permute(u,d);var h,m,p,f,g=n.call(stack,u,l),v=c[0].length;for(p=0;p<v;++p)for(i.call(stack,c[0][p],f=g[p],u[0][p][1]),m=1;m<h;++m)i.call(stack,c[m][p],f+=u[m-1][p][1],u[m][p][1]);return s}var e=d3_identity,t=d3_layout_stackOrderDefault,n=d3_layout_stackOffsetZero,i=d3_layout_stackOut,r=d3_layout_stackX,a=d3_layout_stackY;return stack.values=function(t){return arguments.length?(e=t,stack):e},stack.order=function(e){return arguments.length?(t="function"==typeof e?e:vt.get(e)||d3_layout_stackOrderDefault,stack):t},stack.offset=function(e){return arguments.length?(n="function"==typeof e?e:yt.get(e)||d3_layout_stackOffsetZero,stack):n},stack.x=function(e){return arguments.length?(r=e,stack):r},stack.y=function(e){return arguments.length?(a=e,stack):a},stack.out=function(e){return arguments.length?(i=e,stack):i},stack};var vt=o.map({"inside-out":function(e){var t,n,i=e.length,r=e.map(d3_layout_stackMaxIndex),a=e.map(d3_layout_stackReduceSum),s=o.range(i).sort(function(e,t){return r[e]-r[t]}),l=0,c=0,u=[],d=[];for(t=0;t<i;++t)n=s[t],l<c?(l+=a[n],u.push(n)):(c+=a[n],d.push(n));return d.reverse().concat(u)},reverse:function(e){return o.range(e.length).reverse()},default:d3_layout_stackOrderDefault}),yt=o.map({silhouette:function(e){var t,n,i,r=e.length,o=e[0].length,a=[],s=0,l=[];for(n=0;n<o;++n){for(t=0,i=0;t<r;t++)i+=e[t][n][1];i>s&&(s=i),a.push(i)}for(n=0;n<o;++n)l[n]=(s-a[n])/2;return l},wiggle:function(e){var t,n,i,r,o,a,s,l,c,u=e.length,d=e[0],h=d.length,m=[];for(m[0]=l=c=0,n=1;n<h;++n){for(t=0,r=0;t<u;++t)r+=e[t][n][1];for(t=0,o=0,s=d[n][0]-d[n-1][0];t<u;++t){for(i=0,a=(e[t][n][1]-e[t][n-1][1])/(2*s);i<t;++i)a+=(e[i][n][1]-e[i][n-1][1])/s;o+=a*e[t][n][1]}m[n]=l-=r?o/r*s:0,l<c&&(c=l)}for(n=0;n<h;++n)m[n]-=c;return m},expand:function(e){var t,n,i,r=e.length,o=e[0].length,a=1/r,s=[];for(n=0;n<o;++n){for(t=0,i=0;t<r;t++)i+=e[t][n][1];if(i)for(t=0;t<r;t++)e[t][n][1]/=i;else for(t=0;t<r;t++)e[t][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:d3_layout_stackOffsetZero});o.layout.histogram=function(){function histogram(r,a){for(var s,l,c=[],u=r.map(t,this),d=n.call(this,u,a),h=i.call(this,d,u,a),a=-1,m=u.length,p=h.length-1,f=e?1:1/m;++a<p;)s=c[a]=[],s.dx=h[a+1]-(s.x=h[a]),s.y=0;if(p>0)for(a=-1;++a<m;)l=u[a],l>=d[0]&&l<=d[1]&&(s=c[o.bisect(h,l,1,p)-1],s.y+=f,s.push(r[a]));return c}var e=!0,t=Number,n=d3_layout_histogramRange,i=d3_layout_histogramBinSturges;return histogram.value=function(e){return arguments.length?(t=e,histogram):t},histogram.range=function(e){return arguments.length?(n=d3_functor(e),histogram):n},histogram.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return d3_layout_histogramBinFixed(t,e)}:d3_functor(e),histogram):i},histogram.frequency=function(t){return arguments.length?(e=!!t,histogram):e},histogram},o.layout.pack=function(){function pack(r,o){var a=t.call(this,r,o),s=a[0],l=i[0],c=i[1],u=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,d3_layout_hierarchyVisitAfter(s,function(e){e.r=+u(e.value)}),d3_layout_hierarchyVisitAfter(s,d3_layout_packSiblings),n){var d=n*(e?1:Math.max(2*s.r/l,2*s.r/c))/2;d3_layout_hierarchyVisitAfter(s,function(e){e.r+=d}),d3_layout_hierarchyVisitAfter(s,d3_layout_packSiblings),d3_layout_hierarchyVisitAfter(s,function(e){e.r-=d})}return d3_layout_packTransform(s,l/2,c/2,e?1:1/Math.max(2*s.r/l,2*s.r/c)),a}var e,t=o.layout.hierarchy().sort(d3_layout_packSort),n=0,i=[1,1];return pack.size=function(e){return arguments.length?(i=e,pack):i},pack.radius=function(t){return arguments.length?(e=null==t||"function"==typeof t?t:+t,pack):e},pack.padding=function(e){return arguments.length?(n=+e,pack):n},d3_layout_hierarchyRebind(pack,t)},o.layout.tree=function(){function tree(r,o){var a=e.call(this,r,o),s=a[0],l=wrapTree(s);if(d3_layout_hierarchyVisitAfter(l,firstWalk),l.parent.m=-l.z,d3_layout_hierarchyVisitBefore(l,secondWalk),i)d3_layout_hierarchyVisitBefore(s,sizeNode);else{var c=s,u=s,d=s;d3_layout_hierarchyVisitBefore(s,function(e){e.x<c.x&&(c=e),e.x>u.x&&(u=e),e.depth>d.depth&&(d=e)});var h=t(c,u)/2-c.x,m=n[0]/(u.x+t(u,c)/2+h),p=n[1]/(d.depth||1);d3_layout_hierarchyVisitBefore(s,function(e){e.x=(e.x+h)*m,e.y=e.depth*p})}return a}function wrapTree(e){for(var t,n={A:null,children:[e]},i=[n];null!=(t=i.pop());)for(var r,o=t.children,a=0,s=o.length;a<s;++a)i.push((o[a]=r={_:o[a],parent:t,children:(r=o[a].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=r);return n.children[0]}function firstWalk(e){var n=e.children,i=e.parent.children,r=e.i?i[e.i-1]:null;if(n.length){d3_layout_treeShift(e);var o=(n[0].z+n[n.length-1].z)/2;r?(e.z=r.z+t(e._,r._),e.m=e.z-o):e.z=o}else r&&(e.z=r.z+t(e._,r._));e.parent.A=apportion(e,r,e.parent.A||i[0])}function secondWalk(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function apportion(e,n,i){if(n){for(var r,o=e,a=e,s=n,l=o.parent.children[0],c=o.m,u=a.m,d=s.m,h=l.m;s=d3_layout_treeRight(s),o=d3_layout_treeLeft(o),s&&o;)l=d3_layout_treeLeft(l),a=d3_layout_treeRight(a),a.a=e,r=s.z+d-o.z-c+t(s._,o._),r>0&&(d3_layout_treeMove(d3_layout_treeAncestor(s,e,i),e,r),c+=r,u+=r),d+=s.m,c+=o.m,h+=l.m,u+=a.m;s&&!d3_layout_treeRight(a)&&(a.t=s,a.m+=d-u),o&&!d3_layout_treeLeft(l)&&(l.t=o,l.m+=c-h,i=e)}return i}function sizeNode(e){e.x*=n[0],e.y=e.depth*n[1]}var e=o.layout.hierarchy().sort(null).value(null),t=d3_layout_treeSeparation,n=[1,1],i=null;return tree.separation=function(e){return arguments.length?(t=e,tree):t},tree.size=function(e){return arguments.length?(i=null==(n=e)?sizeNode:null,tree):i?null:n},tree.nodeSize=function(e){return arguments.length?(i=null==(n=e)?null:sizeNode,tree):i?n:null},d3_layout_hierarchyRebind(tree,e)},o.layout.cluster=function(){function cluster(r,o){var a,s=e.call(this,r,o),l=s[0],c=0;d3_layout_hierarchyVisitAfter(l,function(e){var n=e.children;n&&n.length?(e.x=d3_layout_clusterX(n),e.y=d3_layout_clusterY(n)):(e.x=a?c+=t(e,a):0,e.y=0,a=e)});var u=d3_layout_clusterLeft(l),d=d3_layout_clusterRight(l),h=u.x-t(u,d)/2,m=d.x+t(d,u)/2;return d3_layout_hierarchyVisitAfter(l,i?function(e){e.x=(e.x-l.x)*n[0],e.y=(l.y-e.y)*n[1]}:function(e){e.x=(e.x-h)/(m-h)*n[0],e.y=(1-(l.y?e.y/l.y:1))*n[1]}),s}var e=o.layout.hierarchy().sort(null).value(null),t=d3_layout_treeSeparation,n=[1,1],i=!1;return cluster.separation=function(e){return arguments.length?(t=e,cluster):t},cluster.size=function(e){return arguments.length?(i=null==(n=e),cluster):i?null:n},cluster.nodeSize=function(e){return arguments.length?(i=null!=(n=e),cluster):i?n:null},d3_layout_hierarchyRebind(cluster,e)},o.layout.treemap=function(){function scale(e,t){for(var n,i,r=-1,o=e.length;++r<o;)i=(n=e[r]).value*(t<0?0:t),n.area=isNaN(i)||i<=0?0:i}function squarify(e){var t=e.children;if(t&&t.length){var n,i,r,o=a(e),s=[],c=t.slice(),u=1/0,d="slice"===l?o.dx:"dice"===l?o.dy:"slice-dice"===l?1&e.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(scale(c,o.dx*o.dy/e.value),s.area=0;(r=c.length)>0;)s.push(n=c[r-1]),s.area+=n.area,"squarify"!==l||(i=worst(s,d))<=u?(c.pop(),u=i):(s.area-=s.pop().area,position(s,d,o,!1),d=Math.min(o.dx,o.dy),s.length=s.area=0,u=1/0);s.length&&(position(s,d,o,!0),s.length=s.area=0),t.forEach(squarify)}}function stickify(e){var t=e.children;if(t&&t.length){var n,i=a(e),r=t.slice(),o=[];for(scale(r,i.dx*i.dy/e.value),o.area=0;n=r.pop();)o.push(n),o.area+=n.area,null!=n.z&&(position(o,n.z?i.dx:i.dy,i,!r.length),o.length=o.area=0);t.forEach(stickify)}}function worst(e,t){for(var n,i=e.area,r=0,o=1/0,a=-1,s=e.length;++a<s;)(n=e[a].area)&&(n<o&&(o=n),n>r&&(r=n));return i*=i,t*=t,i?Math.max(t*r*c/i,i/(t*o*c)):1/0}function position(e,t,i,r){var o,a=-1,s=e.length,l=i.x,c=i.y,u=t?n(e.area/t):0;if(t==i.dx){for((r||u>i.dy)&&(u=i.dy);++a<s;)o=e[a],o.x=l,o.y=c,o.dy=u,l+=o.dx=Math.min(i.x+i.dx-l,u?n(o.area/u):0);o.z=!0,o.dx+=i.x+i.dx-l,i.y+=u,i.dy-=u}else{for((r||u>i.dx)&&(u=i.dx);++a<s;)o=e[a],o.x=l,o.y=c,o.dx=u,c+=o.dy=Math.min(i.y+i.dy-c,u?n(o.area/u):0);o.z=!1,o.dy+=i.y+i.dy-c,i.x+=u,i.dx-=u}}function treemap(n){var r=e||t(n),o=r[0];return o.x=o.y=0,o.value?(o.dx=i[0],o.dy=i[1]):o.dx=o.dy=0,e&&t.revalue(o),scale([o],o.dx*o.dy/o.value),(e?stickify:squarify)(o),s&&(e=r),r}var e,t=o.layout.hierarchy(),n=Math.round,i=[1,1],r=null,a=d3_layout_treemapPadNull,s=!1,l="squarify",c=.5*(1+Math.sqrt(5));return treemap.size=function(e){return arguments.length?(i=e,treemap):i},treemap.padding=function(e){function padFunction(t){var n=e.call(treemap,t,t.depth);return null==n?d3_layout_treemapPadNull(t):d3_layout_treemapPad(t,"number"==typeof n?[n,n,n,n]:n)}function padConstant(t){return d3_layout_treemapPad(t,e)}if(!arguments.length)return r;var t;return a=null==(r=e)?d3_layout_treemapPadNull:"function"==(t=typeof e)?padFunction:"number"===t?(e=[e,e,e,e],padConstant):padConstant,treemap},treemap.round=function(e){return arguments.length?(n=e?Math.round:Number,treemap):n!=Number},treemap.sticky=function(t){return arguments.length?(s=t,e=null,treemap):s},treemap.ratio=function(e){return arguments.length?(c=e,treemap):c},treemap.mode=function(e){return arguments.length?(l=e+"",treemap):l},d3_layout_hierarchyRebind(treemap,t)},o.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,i,r;do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return e+t*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var e=o.random.normal.apply(o,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=o.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},o.scale={};var bt={floor:d3_identity,ceil:d3_identity};o.scale.linear=function(){return d3_scale_linear([0,1],[0,1],d3_interpolate,!1)};var _t={s:1,g:1,p:1,r:1,e:1};o.scale.log=function(){return d3_scale_log(o.scale.linear().domain([0,1]),10,!0,[1,10])};var wt=o.format(".0e"),xt={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};o.scale.pow=function(){return d3_scale_pow(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return d3_scale_ordinal([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(Ct)},o.scale.category20=function(){return o.scale.ordinal().range(St)},o.scale.category20b=function(){return o.scale.ordinal().range(Et)},o.scale.category20c=function(){return o.scale.ordinal().range(Tt)};var Ct=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(d3_rgbString),St=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(d3_rgbString),Et=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(d3_rgbString),Tt=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(d3_rgbString);o.scale.quantile=function(){return d3_scale_quantile([],[])},o.scale.quantize=function(){return d3_scale_quantize(0,1,[0,1])},o.scale.threshold=function(){return d3_scale_threshold([.5],[0,1])},o.scale.identity=function(){return d3_scale_identity([0,1])},o.svg={},o.svg.arc=function(){function arc(){var s=Math.max(0,+e.apply(this,arguments)),l=Math.max(0,+t.apply(this,arguments)),c=r.apply(this,arguments)-F,u=o.apply(this,arguments)-F,d=Math.abs(u-c),h=c>u?0:1;if(l<s&&(m=l,l=s,s=m),d>=O)return circleSegment(l,h)+(s?circleSegment(s,1-h):"")+"Z";var m,p,f,g,v,y,b,_,w,x,C,S,E=0,T=0,M=[];if((g=(+a.apply(this,arguments)||0)/2)&&(f=i===Mt?Math.sqrt(s*s+l*l):+i.apply(this,arguments),h||(T*=-1),l&&(T=d3_asin(f/l*Math.sin(g))),s&&(E=d3_asin(f/s*Math.sin(g)))),l){v=l*Math.cos(c+T),y=l*Math.sin(c+T),b=l*Math.cos(u-T),_=l*Math.sin(u-T);var k=Math.abs(u-c-2*T)<=R?0:1;if(T&&d3_svg_arcSweep(v,y,b,_)===h^k){var A=(c+u)/2;v=l*Math.cos(A),y=l*Math.sin(A),b=_=null}}else v=y=0;if(s){w=s*Math.cos(u-E),x=s*Math.sin(u-E),C=s*Math.cos(c+E),S=s*Math.sin(c+E);var $=Math.abs(c-u+2*E)<=R?0:1;if(E&&d3_svg_arcSweep(w,x,C,S)===1-h^$){var P=(c+u)/2;w=s*Math.cos(P),x=s*Math.sin(P),C=S=null}}else w=x=0;if(d>L&&(m=Math.min(Math.abs(l-s)/2,+n.apply(this,arguments)))>.001){p=s<l^h?0:1;var D=m,I=m;if(d<R){var N=null==C?[w,x]:null==b?[v,y]:d3_geom_polygonIntersect([v,y],[C,S],[b,_],[w,x]),H=v-N[0],j=y-N[1],B=b-N[0],V=_-N[1],z=1/Math.sin(Math.acos((H*B+j*V)/(Math.sqrt(H*H+j*j)*Math.sqrt(B*B+V*V)))/2),Y=Math.sqrt(N[0]*N[0]+N[1]*N[1]);I=Math.min(m,(s-Y)/(z-1)),D=Math.min(m,(l-Y)/(z+1))}if(null!=b){var U=d3_svg_arcCornerTangents(null==C?[w,x]:[C,S],[v,y],l,D,h),G=d3_svg_arcCornerTangents([b,_],[w,x],l,D,h);m===D?M.push("M",U[0],"A",D,",",D," 0 0,",p," ",U[1],"A",l,",",l," 0 ",1-h^d3_svg_arcSweep(U[1][0],U[1][1],G[1][0],G[1][1]),",",h," ",G[1],"A",D,",",D," 0 0,",p," ",G[0]):M.push("M",U[0],"A",D,",",D," 0 1,",p," ",G[0])}else M.push("M",v,",",y);if(null!=C){var q=d3_svg_arcCornerTangents([v,y],[C,S],s,-I,h),W=d3_svg_arcCornerTangents([w,x],null==b?[v,y]:[b,_],s,-I,h);m===I?M.push("L",W[0],"A",I,",",I," 0 0,",p," ",W[1],"A",s,",",s," 0 ",h^d3_svg_arcSweep(W[1][0],W[1][1],q[1][0],q[1][1]),",",1-h," ",q[1],"A",I,",",I," 0 0,",p," ",q[0]):M.push("L",W[0],"A",I,",",I," 0 0,",p," ",q[0])}else M.push("L",w,",",x)}else M.push("M",v,",",y),null!=b&&M.push("A",l,",",l," 0 ",k,",",h," ",b,",",_),M.push("L",w,",",x),null!=C&&M.push("A",s,",",s," 0 ",$,",",1-h," ",C,",",S);return M.push("Z"),M.join("")}function circleSegment(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var e=d3_svg_arcInnerRadius,t=d3_svg_arcOuterRadius,n=d3_zero,i=Mt,r=d3_svg_arcStartAngle,o=d3_svg_arcEndAngle,a=d3_svg_arcPadAngle;return arc.innerRadius=function(t){return arguments.length?(e=d3_functor(t),arc):e},arc.outerRadius=function(e){return arguments.length?(t=d3_functor(e),arc):t},arc.cornerRadius=function(e){return arguments.length?(n=d3_functor(e),arc):n},arc.padRadius=function(e){return arguments.length?(i=e==Mt?Mt:d3_functor(e),arc):i},arc.startAngle=function(e){return arguments.length?(r=d3_functor(e),arc):r},arc.endAngle=function(e){return arguments.length?(o=d3_functor(e),arc):o},arc.padAngle=function(e){return arguments.length?(a=d3_functor(e),arc):a},arc.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-F;return[Math.cos(i)*n,Math.sin(i)*n]},arc};var Mt="auto";o.svg.line=function(){return d3_svg_line(d3_identity)};var kt=o.map({linear:d3_svg_lineLinear,"linear-closed":d3_svg_lineLinearClosed,step:d3_svg_lineStep,"step-before":d3_svg_lineStepBefore,"step-after":d3_svg_lineStepAfter,basis:d3_svg_lineBasis,"basis-open":d3_svg_lineBasisOpen,"basis-closed":d3_svg_lineBasisClosed,bundle:d3_svg_lineBundle,cardinal:d3_svg_lineCardinal,"cardinal-open":d3_svg_lineCardinalOpen,"cardinal-closed":d3_svg_lineCardinalClosed,monotone:d3_svg_lineMonotone});kt.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var At=[0,2/3,1/3,0],$t=[0,1/3,2/3,0],Pt=[0,1/6,2/3,1/6];o.svg.line.radial=function(){var e=d3_svg_line(d3_svg_lineRadial);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},d3_svg_lineStepBefore.reverse=d3_svg_lineStepAfter,d3_svg_lineStepAfter.reverse=d3_svg_lineStepBefore,o.svg.area=function(){return d3_svg_area(d3_identity)},o.svg.area.radial=function(){var e=d3_svg_area(d3_svg_lineRadial);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},o.svg.chord=function(){function chord(n,i){var r=subgroup(this,e,n,i),o=subgroup(this,t,n,i);return"M"+r.p0+arc(r.r,r.p1,r.a1-r.a0)+(equals(r,o)?curve(r.r,r.p1,r.r,r.p0):curve(r.r,r.p1,o.r,o.p0)+arc(o.r,o.p1,o.a1-o.a0)+curve(o.r,o.p1,r.r,r.p0))+"Z"}function subgroup(e,t,o,a){var s=t.call(e,o,a),l=n.call(e,s,a),c=i.call(e,s,a)-F,u=r.call(e,s,a)-F;return{r:l,a0:c,a1:u,p0:[l*Math.cos(c),l*Math.sin(c)],p1:[l*Math.cos(u),l*Math.sin(u)]}}function equals(e,t){return e.a0==t.a0&&e.a1==t.a1}function arc(e,t,n){return"A"+e+","+e+" 0 "+ +(n>R)+",1 "+t}function curve(e,t,n,i){return"Q 0,0 "+i}var e=d3_source,t=d3_target,n=d3_svg_chordRadius,i=d3_svg_arcStartAngle,r=d3_svg_arcEndAngle;return chord.radius=function(e){return arguments.length?(n=d3_functor(e),chord):n},chord.source=function(t){return arguments.length?(e=d3_functor(t),chord):e},chord.target=function(e){return arguments.length?(t=d3_functor(e),chord):t},chord.startAngle=function(e){return arguments.length?(i=d3_functor(e),chord):i},chord.endAngle=function(e){return arguments.length?(r=d3_functor(e),chord):r},chord},o.svg.diagonal=function(){function diagonal(i,r){var o=e.call(this,i,r),a=t.call(this,i,r),s=(o.y+a.y)/2,l=[o,{x:o.x,y:s},{x:a.x,y:s},a];return l=l.map(n),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=d3_source,t=d3_target,n=d3_svg_diagonalProjection;return diagonal.source=function(t){return arguments.length?(e=d3_functor(t),diagonal):e},diagonal.target=function(e){return arguments.length?(t=d3_functor(e),diagonal):t},diagonal.projection=function(e){return arguments.length?(n=e,diagonal):n},diagonal},o.svg.diagonal.radial=function(){var e=o.svg.diagonal(),t=d3_svg_diagonalProjection,n=e.projection;return e.projection=function(e){return arguments.length?n(d3_svg_diagonalRadialProjection(t=e)):t},e},o.svg.symbol=function(){function symbol(n,i){return(Lt.get(e.call(this,n,i))||d3_svg_symbolCircle)(t.call(this,n,i))}var e=d3_svg_symbolType,t=d3_svg_symbolSize;return symbol.type=function(t){return arguments.length?(e=d3_functor(t),symbol):e},symbol.size=function(e){return arguments.length?(t=d3_functor(e),symbol):t},symbol};var Lt=o.map({circle:d3_svg_symbolCircle,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Rt)),n=t*Rt;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Dt),n=t*Dt/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){
var t=Math.sqrt(e/Dt),n=t*Dt/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});o.svg.symbolTypes=Lt.keys();var Dt=Math.sqrt(3),Rt=Math.tan(30*N);S.transition=function(e){for(var t,n,i=It||++Ht,r=d3_transitionNamespace(e),o=[],a=Ot||{time:Date.now(),ease:d3_ease_cubicInOut,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(t=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(n=c[u])&&d3_transitionNode(n,u,r,i,a),t.push(n)}return d3_transition(o,r,i)},S.interrupt=function(e){return this.each(null==e?Ft:d3_selection_interruptNS(d3_transitionNamespace(e)))};var It,Ot,Ft=d3_selection_interruptNS(d3_transitionNamespace()),Nt=[],Ht=0;Nt.call=S.call,Nt.empty=S.empty,Nt.node=S.node,Nt.size=S.size,o.transition=function(e,t){return e&&e.transition?It?e.transition(t):e:o.selection().transition(e)},o.transition.prototype=Nt,Nt.select=function(e){var t,n,i,r=this.id,o=this.namespace,a=[];e=d3_selection_selector(e);for(var s=-1,l=this.length;++s<l;){a.push(t=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(i=c[u])&&(n=e.call(i,i.__data__,u,s))?("__data__"in i&&(n.__data__=i.__data__),d3_transitionNode(n,u,o,r,i[o][r]),t.push(n)):t.push(null)}return d3_transition(a,o,r)},Nt.selectAll=function(e){var t,n,i,r,o,a=this.id,s=this.namespace,l=[];e=d3_selection_selectorAll(e);for(var c=-1,u=this.length;++c<u;)for(var d=this[c],h=-1,m=d.length;++h<m;)if(i=d[h]){o=i[s][a],n=e.call(i,i.__data__,h,c),l.push(t=[]);for(var p=-1,f=n.length;++p<f;)(r=n[p])&&d3_transitionNode(r,p,s,a,o),t.push(r)}return d3_transition(l,s,a)},Nt.filter=function(e){var t,n,i,r=[];"function"!=typeof e&&(e=d3_selection_filter(e));for(var o=0,a=this.length;o<a;o++){r.push(t=[]);for(var n=this[o],s=0,l=n.length;s<l;s++)(i=n[s])&&e.call(i,i.__data__,s,o)&&t.push(i)}return d3_transition(r,this.namespace,this.id)},Nt.tween=function(e,t){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(e):d3_selection_each(this,null==t?function(t){t[i][n].tween.remove(e)}:function(r){r[i][n].tween.set(e,t)})},Nt.attr=function(e,t){function attrNull(){this.removeAttribute(i)}function attrNullNS(){this.removeAttributeNS(i.space,i.local)}function attrTween(e){return null==e?attrNull:(e+="",function(){var t,r=this.getAttribute(i);return r!==e&&(t=n(r,e),function(e){this.setAttribute(i,t(e))})})}function attrTweenNS(e){return null==e?attrNullNS:(e+="",function(){var t,r=this.getAttributeNS(i.space,i.local);return r!==e&&(t=n(r,e),function(e){this.setAttributeNS(i.space,i.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var n="transform"==e?d3_interpolateTransform:d3_interpolate,i=o.ns.qualify(e);return d3_transition_tween(this,"attr."+e,t,i.local?attrTweenNS:attrTween)},Nt.attrTween=function(e,t){function attrTween(e,i){var r=t.call(this,e,i,this.getAttribute(n));return r&&function(e){this.setAttribute(n,r(e))}}function attrTweenNS(e,i){var r=t.call(this,e,i,this.getAttributeNS(n.space,n.local));return r&&function(e){this.setAttributeNS(n.space,n.local,r(e))}}var n=o.ns.qualify(e);return this.tween("attr."+e,n.local?attrTweenNS:attrTween)},Nt.style=function(e,t,n){function styleNull(){this.style.removeProperty(e)}function styleString(t){return null==t?styleNull:(t+="",function(){var i,r=d3_window(this).getComputedStyle(this,null).getPropertyValue(e);return r!==t&&(i=d3_interpolate(r,t),function(t){this.style.setProperty(e,i(t),n)})})}var i=arguments.length;if(i<3){if("string"!=typeof e){i<2&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return d3_transition_tween(this,"style."+e,t,styleString)},Nt.styleTween=function(e,t,n){function styleTween(i,r){var o=t.call(this,i,r,d3_window(this).getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,styleTween)},Nt.text=function(e){return d3_transition_tween(this,"text",e,d3_transition_text)},Nt.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Nt.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=o.ease.apply(o,arguments)),d3_selection_each(this,function(i){i[n][t].ease=e}))},Nt.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:d3_selection_each(this,"function"==typeof e?function(i,r,o){i[n][t].delay=+e.call(i,i.__data__,r,o)}:(e=+e,function(i){i[n][t].delay=e}))},Nt.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:d3_selection_each(this,"function"==typeof e?function(i,r,o){i[n][t].duration=Math.max(1,e.call(i,i.__data__,r,o))}:(e=Math.max(1,e),function(i){i[n][t].duration=e}))},Nt.each=function(e,t){var n=this.id,i=this.namespace;if(arguments.length<2){var r=Ot,a=It;try{It=n,d3_selection_each(this,function(t,r,o){Ot=t[i][n],e.call(t,t.__data__,r,o)})}finally{Ot=r,It=a}}else d3_selection_each(this,function(r){var a=r[i][n];(a.event||(a.event=o.dispatch("start","end","interrupt"))).on(e,t)});return this},Nt.transition=function(){for(var e,t,n,i,r=this.id,o=++Ht,a=this.namespace,s=[],l=0,c=this.length;l<c;l++){s.push(e=[]);for(var t=this[l],u=0,d=t.length;u<d;u++)(n=t[u])&&(i=n[a][r],d3_transitionNode(n,u,a,o,{time:i.time,ease:i.ease,delay:i.delay+i.duration,duration:i.duration})),e.push(n)}return d3_transition(s,a,o)},o.svg.axis=function(){function axis(s){s.each(function(){var s,u=o.select(this),d=this.__chart__||t,h=this.__chart__=t.copy(),m=null==c?h.ticks?h.ticks.apply(h,l):h.domain():c,p=null==e?h.tickFormat?h.tickFormat.apply(h,l):d3_identity:e,f=u.selectAll(".tick").data(m,h),g=f.enter().insert("g",".domain").attr("class","tick").style("opacity",L),v=o.transition(f.exit()).style("opacity",L).remove(),y=o.transition(f.order()).style("opacity",1),b=Math.max(i,0)+a,_=d3_scaleRange(h),w=u.selectAll(".domain").data([0]),x=(w.enter().append("path").attr("class","domain"),o.transition(w));g.append("line"),g.append("text");var C,S,E,T,M=g.select("line"),k=y.select("line"),A=f.select("text").text(p),$=g.select("text"),P=y.select("text"),D="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(s=d3_svg_axisX,C="x",E="y",S="x2",T="y2",A.attr("dy",D<0?"0em":".71em").style("text-anchor","middle"),x.attr("d","M"+_[0]+","+D*r+"V0H"+_[1]+"V"+D*r)):(s=d3_svg_axisY,C="y",E="x",S="y2",T="x2",A.attr("dy",".32em").style("text-anchor",D<0?"end":"start"),x.attr("d","M"+D*r+","+_[0]+"H0V"+_[1]+"H"+D*r)),M.attr(T,D*i),$.attr(E,D*b),k.attr(S,0).attr(T,D*i),P.attr(C,0).attr(E,D*b),h.rangeBand){var R=h,I=R.rangeBand()/2;d=h=function(e){return R(e)+I}}else d.rangeBand?d=h:v.call(s,h,d);g.call(s,d,h),y.call(s,h,h)})}var e,t=o.scale.linear(),n=jt,i=6,r=6,a=3,l=[10],c=null;return axis.scale=function(e){return arguments.length?(t=e,axis):t},axis.orient=function(e){return arguments.length?(n=e in Bt?e+"":jt,axis):n},axis.ticks=function(){return arguments.length?(l=s(arguments),axis):l},axis.tickValues=function(e){return arguments.length?(c=e,axis):c},axis.tickFormat=function(t){return arguments.length?(e=t,axis):e},axis.tickSize=function(e){var t=arguments.length;return t?(i=+e,r=+arguments[t-1],axis):i},axis.innerTickSize=function(e){return arguments.length?(i=+e,axis):i},axis.outerTickSize=function(e){return arguments.length?(r=+e,axis):r},axis.tickPadding=function(e){return arguments.length?(a=+e,axis):a},axis.tickSubdivide=function(){return arguments.length&&axis},axis};var jt="bottom",Bt={top:1,right:1,bottom:1,left:1};o.svg.brush=function(){function brush(e){e.each(function(){var e=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",brushstart).on("touchstart.brush",brushstart),t=e.selectAll(".background").data([0]);t.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=e.selectAll(".resize").data(u,d3_identity);n.exit().remove(),n.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Vt[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",brush.empty()?"none":null);var a,s=o.transition(e),l=o.transition(t);i&&(a=d3_scaleRange(i),l.attr("x",a[0]).attr("width",a[1]-a[0]),redrawX(s)),r&&(a=d3_scaleRange(r),l.attr("y",a[0]).attr("height",a[1]-a[0]),redrawY(s)),redraw(s)})}function redraw(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+a[+/e$/.test(e)]+","+s[+/^s/.test(e)]+")"})}function redrawX(e){e.select(".extent").attr("x",a[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",a[1]-a[0])}function redrawY(e){e.select(".extent").attr("y",s[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1]-s[0])}function brushstart(){function keydown(){32==o.event.keyCode&&(b||(u=null,w[0]-=a[1],w[1]-=s[1],b=2),d3_eventPreventDefault())}function keyup(){32==o.event.keyCode&&2==b&&(w[0]+=a[1],w[1]+=s[1],b=0,d3_eventPreventDefault())}function brushmove(){var e=o.mouse(h),t=!1;d&&(e[0]+=d[0],e[1]+=d[1]),b||(o.event.altKey?(u||(u=[(a[0]+a[1])/2,(s[0]+s[1])/2]),w[0]=a[+(e[0]<u[0])],w[1]=s[+(e[1]<u[1])]):u=null),v&&move1(e,i,0)&&(redrawX(f),t=!0),y&&move1(e,r,1)&&(redrawY(f),t=!0),t&&(redraw(f),p({type:"brush",mode:b?"move":"resize"}))}function move1(n,i,r){var o,d,h=d3_scaleRange(i),m=h[0],p=h[1],f=w[r],g=r?s:a,v=g[1]-g[0];if(b&&(m-=f,p-=v+f),o=(r?c:l)?Math.max(m,Math.min(p,n[r])):n[r],b?d=(o+=f)+v:(u&&(f=Math.max(m,Math.min(p,2*u[r]-o))),f<o?(d=o,o=f):d=f),g[0]!=o||g[1]!=d)return r?t=null:e=null,g[0]=o,g[1]=d,!0}function brushend(){brushmove(),f.style("pointer-events","all").selectAll(".resize").style("display",brush.empty()?"none":null),o.select("body").style("cursor",null),x.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),_(),p({type:"brushend"})}var u,d,h=this,m=o.select(o.event.target),p=n.of(h,arguments),f=o.select(h),g=m.datum(),v=!/^(n|s)$/.test(g)&&i,y=!/^(e|w)$/.test(g)&&r,b=m.classed("extent"),_=d3_event_dragSuppress(h),w=o.mouse(h),x=o.select(d3_window(h)).on("keydown.brush",keydown).on("keyup.brush",keyup);if(o.event.changedTouches?x.on("touchmove.brush",brushmove).on("touchend.brush",brushend):x.on("mousemove.brush",brushmove).on("mouseup.brush",brushend),f.interrupt().selectAll("*").interrupt(),b)w[0]=a[0]-w[0],w[1]=s[0]-w[1];else if(g){var C=+/w$/.test(g),S=+/^n/.test(g);d=[a[1-C]-w[0],s[1-S]-w[1]],w[0]=a[C],w[1]=s[S]}else o.event.altKey&&(u=w.slice());f.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",m.style("cursor")),p({type:"brushstart"}),brushmove()}var e,t,n=d3_eventDispatch(brush,"brushstart","brush","brushend"),i=null,r=null,a=[0,0],s=[0,0],l=!0,c=!0,u=zt[0];return brush.event=function(i){i.each(function(){var i=n.of(this,arguments),r={x:a,y:s,i:e,j:t},l=this.__chart__||r;this.__chart__=r,It?o.select(this).transition().each("start.brush",function(){e=l.i,t=l.j,a=l.x,s=l.y,i({type:"brushstart"})}).tween("brush:brush",function(){var n=d3_interpolateArray(a,r.x),o=d3_interpolateArray(s,r.y);return e=t=null,function(e){a=r.x=n(e),s=r.y=o(e),i({type:"brush",mode:"resize"})}}).each("end.brush",function(){e=r.i,t=r.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})}):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))})},brush.x=function(e){return arguments.length?(i=e,u=zt[!i<<1|!r],brush):i},brush.y=function(e){return arguments.length?(r=e,u=zt[!i<<1|!r],brush):r},brush.clamp=function(e){return arguments.length?(i&&r?(l=!!e[0],c=!!e[1]):i?l=!!e:r&&(c=!!e),brush):i&&r?[l,c]:i?l:r?c:null},brush.extent=function(n){var o,l,c,u,d;return arguments.length?(i&&(o=n[0],l=n[1],r&&(o=o[0],l=l[0]),e=[o,l],i.invert&&(o=i(o),l=i(l)),l<o&&(d=o,o=l,l=d),o==a[0]&&l==a[1]||(a=[o,l])),r&&(c=n[0],u=n[1],i&&(c=c[1],u=u[1]),t=[c,u],r.invert&&(c=r(c),u=r(u)),u<c&&(d=c,c=u,u=d),c==s[0]&&u==s[1]||(s=[c,u])),brush):(i&&(e?(o=e[0],l=e[1]):(o=a[0],l=a[1],i.invert&&(o=i.invert(o),l=i.invert(l)),l<o&&(d=o,o=l,l=d))),r&&(t?(c=t[0],u=t[1]):(c=s[0],u=s[1],r.invert&&(c=r.invert(c),u=r.invert(u)),u<c&&(d=c,c=u,u=d))),i&&r?[[o,c],[l,u]]:i?[o,l]:r&&[c,u])},brush.clear=function(){return brush.empty()||(a=[0,0],s=[0,0],e=t=null),brush},brush.empty=function(){return!!i&&a[0]==a[1]||!!r&&s[0]==s[1]},o.rebind(brush,n,"on")};var Vt={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},zt=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Yt=ce.format=fe.timeFormat,Ut=Yt.utc,Gt=Ut("%Y-%m-%dT%H:%M:%S.%LZ");Yt.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?d3_time_formatIsoNative:Gt,d3_time_formatIsoNative.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},d3_time_formatIsoNative.toString=Gt.toString,ce.second=d3_time_interval(function(e){return new ue(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),ce.seconds=ce.second.range,ce.seconds.utc=ce.second.utc.range,ce.minute=d3_time_interval(function(e){return new ue(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),ce.minutes=ce.minute.range,ce.minutes.utc=ce.minute.utc.range,ce.hour=d3_time_interval(function(e){var t=e.getTimezoneOffset()/60;return new ue(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),ce.hours=ce.hour.range,ce.hours.utc=ce.hour.utc.range,ce.month=d3_time_interval(function(e){return e=ce.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),ce.months=ce.month.range,ce.months.utc=ce.month.utc.range;var qt=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Wt=[[ce.second,1],[ce.second,5],[ce.second,15],[ce.second,30],[ce.minute,1],[ce.minute,5],[ce.minute,15],[ce.minute,30],[ce.hour,1],[ce.hour,3],[ce.hour,6],[ce.hour,12],[ce.day,1],[ce.day,2],[ce.week,1],[ce.month,1],[ce.month,3],[ce.year,1]],Kt=Yt.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",d3_true]]),Xt={range:function(e,t,n){return o.range(Math.ceil(e/n)*n,+t,n).map(d3_time_scaleDate)},floor:d3_identity,ceil:d3_identity};Wt.year=ce.year,ce.scale=function(){return d3_time_scale(o.scale.linear(),Wt,Kt)};var Jt=Wt.map(function(e){return[e[0].utc,e[1]]}),Zt=Ut.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",d3_true]]);Jt.year=ce.year.utc,ce.scale.utc=function(){return d3_time_scale(o.scale.linear(),Jt,Zt)},o.text=d3_xhrType(function(e){return e.responseText}),o.json=function(e,t){return d3_xhr(e,"application/json",d3_json,t)},o.html=function(e,t){return d3_xhr(e,"text/html",d3_html,t)},o.xml=d3_xhrType(function(e){return e.responseXML}),this.d3=o,i=o,r="function"==typeof i?i.call(t,n,t,e):i,!(void 0!==r&&(e.exports=r))}()},function(e,t){var n=e.exports={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return r[this.type]||r.element}},i={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},r={element:1,text:3,cdata:4,comment:8};Object.keys(i).forEach(function(e){var t=i[e];Object.defineProperty(n,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})})},function(e,t,n){function decodeCodePoint(e){if(e>=55296&&e<=57343||e>1114111)return"";e in i&&(e=i[e]);var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)}var i=n(377);e.exports=decodeCodePoint},function(e,t){e.exports={Aacute:"",aacute:"",Acirc:"",acirc:"",acute:"",AElig:"",aelig:"",Agrave:"",agrave:"",amp:"&",AMP:"&",Aring:"",aring:"",Atilde:"",atilde:"",Auml:"",auml:"",brvbar:"",Ccedil:"",ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",Eacute:"",eacute:"",Ecirc:"",ecirc:"",Egrave:"",egrave:"",ETH:"",eth:"",Euml:"",euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",Iacute:"",iacute:"",Icirc:"",icirc:"",iexcl:"",Igrave:"",igrave:"",iquest:"",Iuml:"",iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",Ntilde:"",ntilde:"",Oacute:"",oacute:"",Ocirc:"",ocirc:"",Ograve:"",ograve:"",ordf:"",ordm:"",Oslash:"",oslash:"",Otilde:"",otilde:"",Ouml:"",ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",THORN:"",thorn:"",times:"",Uacute:"",uacute:"",Ucirc:"",ucirc:"",Ugrave:"",ugrave:"",uml:"",Uuml:"",uuml:"",Yacute:"",yacute:"",yen:"",yuml:""}},function(e,t,n){!function(t,n){e.exports=n()}(this,function(){return function(e){function __webpack_require__(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,__webpack_require__),i.loaded=!0,i.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="",__webpack_require__(0)}([function(e,t,n){"use strict";function create(){var e=g();return e.compile=function(t,n){return c.compile(t,n,e)},e.precompile=function(t,n){return c.precompile(t,n,e)},e.AST=s.default,e.Compiler=c.Compiler,e.JavaScriptCompiler=d.default,e.Parser=l.parser,e.parse=l.parse,e}var i=n(1).default;t.__esModule=!0;var r=n(2),o=i(r),a=n(24),s=i(a),l=n(25),c=n(30),u=n(31),d=i(u),h=n(28),m=i(h),p=n(23),f=i(p),g=o.default.create,v=create();v.create=create,f.default(v),v.Visitor=m.default,v.default=v,t.default=v,e.exports=t.default},function(e,t){"use strict";t.default=function(e){return e&&e.__esModule?e:{default:e}},t.__esModule=!0},function(e,t,n){"use strict";function create(){var e=new a.HandlebarsEnvironment;return h.extend(e,a),e.SafeString=l.default,e.Exception=u.default,e.Utils=h,e.escapeExpression=h.escapeExpression,e.VM=p,e.template=function(t){return p.template(t,e)},e}var i=n(3).default,r=n(1).default;t.__esModule=!0;var o=n(4),a=i(o),s=n(21),l=r(s),c=n(6),u=r(c),d=n(5),h=i(d),m=n(22),p=i(m),f=n(23),g=r(f),v=create();v.create=create,g.default(v),v.default=v,t.default=v,e.exports=t.default},function(e,t){"use strict";t.default=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},t.__esModule=!0},function(e,t,n){"use strict";function HandlebarsEnvironment(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},s.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}var i=n(1).default;t.__esModule=!0,t.HandlebarsEnvironment=HandlebarsEnvironment;var r=n(5),o=n(6),a=i(o),s=n(10),l=n(18),c=n(20),u=i(c),d="4.0.5";t.VERSION=d;var h=7;t.COMPILER_REVISION=h;var m={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=m;var p="[object Object]";HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:u.default,log:u.default.log,registerHelper:function(e,t){if(r.toString.call(e)===p){if(t)throw new a.default("Arg not supported with multiple helpers");r.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(r.toString.call(e)===p)r.extend(this.partials,e);else{if("undefined"==typeof t)throw new a.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(r.toString.call(e)===p){if(t)throw new a.default("Arg not supported with multiple decorators");r.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var f=u.default.log;t.log=f,t.createFrame=r.createFrame,t.logger=u.default},function(e,t){"use strict";function escapeChar(e){return n[e]}function extend(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function indexOf(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}function escapeExpression(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return r.test(e)?e.replace(i,escapeChar):e}function isEmpty(e){return!e&&0!==e||!(!s(e)||0!==e.length)}function createFrame(e){var t=extend({},e);return t._parent=e,t}function blockParams(e,t){return e.path=t,e}function appendContextPath(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=extend,t.indexOf=indexOf,t.escapeExpression=escapeExpression,t.isEmpty=isEmpty,t.createFrame=createFrame,t.blockParams=blockParams,t.appendContextPath=appendContextPath;var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},i=/[&<>"'`=]/g,r=/[&<>"'`=]/,o=Object.prototype.toString;t.toString=o;var a=function(e){return"function"==typeof e};a(/x/)&&(t.isFunction=a=function(e){return"function"==typeof e&&"[object Function]"===o.call(e)}),t.isFunction=a;var s=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===o.call(e)};t.isArray=s},function(e,t,n){"use strict";function Exception(e,t){var n=t&&t.loc,o=void 0,a=void 0;n&&(o=n.start.line,a=n.start.column,e+=" - "+o+":"+a);for(var s=Error.prototype.constructor.call(this,e),l=0;l<r.length;l++)this[r[l]]=s[r[l]];Error.captureStackTrace&&Error.captureStackTrace(this,Exception);try{n&&(this.lineNumber=o,i?Object.defineProperty(this,"column",{value:a}):this.column=a)}catch(e){}}var i=n(7).default;t.__esModule=!0;var r=["description","fileName","lineNumber","message","name","number","stack"];Exception.prototype=new Error,t.default=Exception,e.exports=t.default},function(e,t,n){e.exports={default:n(8),__esModule:!0}},function(e,t,n){var i=n(9);e.exports=function(e,t,n){return i.setDesc(e,t,n)}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){"use strict";function registerDefaultHelpers(e){o.default(e),s.default(e),c.default(e),d.default(e),m.default(e),f.default(e),v.default(e)}var i=n(1).default;t.__esModule=!0,t.registerDefaultHelpers=registerDefaultHelpers;var r=n(11),o=i(r),a=n(12),s=i(a),l=n(13),c=i(l),u=n(14),d=i(u),h=n(15),m=i(h),p=n(16),f=i(p),g=n(17),v=i(g)},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(e){e.registerHelper("blockHelperMissing",function(t,n){var r=n.inverse,o=n.fn;if(t===!0)return o(this);if(t===!1||null==t)return r(this);if(i.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):r(this);if(n.data&&n.ids){var a=i.createFrame(n.data);a.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:a}}return o(t,n)})},e.exports=t.default},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0;var r=n(5),o=n(6),a=i(o);t.default=function(e){e.registerHelper("each",function(e,t){function execIteration(t,i,o){l&&(l.key=t,l.index=i,l.first=0===i,l.last=!!o,c&&(l.contextPath=c+t)),s+=n(e[t],{data:l,blockParams:r.blockParams([e[t],t],[c+t,null])})}if(!t)throw new a.default("Must pass iterator to #each");var n=t.fn,i=t.inverse,o=0,s="",l=void 0,c=void 0;if(t.data&&t.ids&&(c=r.appendContextPath(t.data.contextPath,t.ids[0])+"."),r.isFunction(e)&&(e=e.call(this)),t.data&&(l=r.createFrame(t.data)),e&&"object"==typeof e)if(r.isArray(e))for(var u=e.length;o<u;o++)o in e&&execIteration(o,o,o===e.length-1);else{var d=void 0;for(var h in e)e.hasOwnProperty(h)&&(void 0!==d&&execIteration(d,o-1),d=h,o++);void 0!==d&&execIteration(d,o-1,!0)}return 0===o&&(s=i(this)),s})},e.exports=t.default},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0;var r=n(6),o=i(r);t.default=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(e){e.registerHelper("if",function(e,t){return i.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||i.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);var r=1;null!=n.hash.level?r=n.hash.level:n.data&&null!=n.data.level&&(r=n.data.level),t[0]=r,e.log.apply(e,t)})},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(e){e.registerHelper("with",function(e,t){i.isFunction(e)&&(e=e.call(this));var n=t.fn;if(i.isEmpty(e))return t.inverse(this);var r=t.data;return t.data&&t.ids&&(r=i.createFrame(t.data),r.contextPath=i.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:r,blockParams:i.blockParams([e],[r&&r.contextPath])})})},e.exports=t.default},function(e,t,n){"use strict";function registerDefaultDecorators(e){o.default(e)}var i=n(1).default;t.__esModule=!0,t.registerDefaultDecorators=registerDefaultDecorators;var r=n(19),o=i(r)},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(e){e.registerDecorator("inline",function(e,t,n,r){var o=e;return t.partials||(t.partials={},o=function(r,o){var a=n.partials;n.partials=i.extend({},a,t.partials);var s=e(r,o);return n.partials=a,s}),t.partials[r.args[0]]=r.fn,o})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=i.indexOf(r.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=r.lookupLevel(e),"undefined"!=typeof console&&r.lookupLevel(r.level)<=e){var t=r.methodMap[e];console[t]||(t="log");for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];console[t].apply(console,i)}}};t.default=r,e.exports=t.default},function(e,t){"use strict";function SafeString(e){this.string=e}t.__esModule=!0,SafeString.prototype.toString=SafeString.prototype.toHTML=function(){return""+this.string},t.default=SafeString,e.exports=t.default},function(e,t,n){"use strict";function checkRevision(e){var t=e&&e[0]||1,n=c.COMPILER_REVISION;if(t!==n){if(t<n){var i=c.REVISION_CHANGES[n],r=c.REVISION_CHANGES[t];throw new l.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new l.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function template(e,t){function invokePartialWrapper(n,i,r){r.hash&&(i=a.extend({},i,r.hash),r.ids&&(r.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,i,r);var o=t.VM.invokePartial.call(this,n,i,r);if(null==o&&t.compile&&(r.partials[r.name]=t.compile(n,e.compilerOptions,t),o=r.partials[r.name](i,r)),null!=o){if(r.indent){for(var s=o.split("\n"),c=0,u=s.length;c<u&&(s[c]||c+1!==u);c++)s[c]=r.indent+s[c];o=s.join("\n")}return o}throw new l.default("The partial "+r.name+" could not be compiled when running in runtime-only mode")}function ret(t){function main(t){return""+e.main(n,t,n.helpers,n.partials,r,a,o)}var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=i.data;ret._setup(i),!i.partial&&e.useData&&(r=initData(t,r));var o=void 0,a=e.useBlockParams?[]:void 0;return e.useDepths&&(o=i.depths?t!=i.depths[0]?[t].concat(i.depths):i.depths:[t]),(main=executeDecorators(e.main,main,n,i.depths||[],r,a))(t,i)}if(!t)throw new l.default("No environment passed to template");if(!e||!e.main)throw new l.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n={strict:function(e,t){if(!(t in e))throw new l.default('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i]&&null!=e[i][t])return e[i][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:a.escapeExpression,invokePartial:invokePartialWrapper,fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,i,r){var o=this.programs[e],a=this.fn(e);return t||r||i||n?o=wrapProgram(this,e,a,t,n,i,r):o||(o=this.programs[e]=wrapProgram(this,e,a)),o},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=a.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler};return ret.isTop=!0,ret._setup=function(i){i.partial?(n.helpers=i.helpers,n.partials=i.partials,n.decorators=i.decorators):(n.helpers=n.merge(i.helpers,t.helpers),e.usePartial&&(n.partials=n.merge(i.partials,t.partials)),(e.usePartial||e.useDecorators)&&(n.decorators=n.merge(i.decorators,t.decorators)))},ret._child=function(t,i,r,o){if(e.useBlockParams&&!r)throw new l.default("must pass block params");if(e.useDepths&&!o)throw new l.default("must pass parent depths");return wrapProgram(n,t,e[t],i,0,r,o)},ret}function wrapProgram(e,t,n,i,r,o,a){function prog(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return a&&t!=a[0]&&(s=[t].concat(a)),n(e,t,e.helpers,e.partials,r.data||i,o&&[r.blockParams].concat(o),s)}return prog=executeDecorators(n,prog,e,a,i,o),prog.program=t,prog.depth=a?a.length:0,prog.blockParams=r||0,prog}function resolvePartial(e,t,n){if(e)e.call||n.name||(n.name=e,e=n.partials[e]);else if("@partial-block"===n.name){for(var i=n.data;i["partial-block"]===noop;)i=i._parent;e=i["partial-block"],i["partial-block"]=noop}else e=n.partials[n.name];return e}function invokePartial(e,t,n){n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var i=void 0;if(n.fn&&n.fn!==noop&&(n.data=c.createFrame(n.data),i=n.data["partial-block"]=n.fn,i.partials&&(n.partials=a.extend({},n.partials,i.partials))),void 0===e&&i&&(e=i),void 0===e)throw new l.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)}function noop(){return""}function initData(e,t){return t&&"root"in t||(t=t?c.createFrame(t):{},t.root=e),t}function executeDecorators(e,t,n,i,r,o){if(e.decorator){var s={};t=e.decorator(t,s,n,i&&i[0],r,o,i),a.extend(t,s)}return t}var i=n(3).default,r=n(1).default;t.__esModule=!0,t.checkRevision=checkRevision,t.template=template,t.wrapProgram=wrapProgram,t.resolvePartial=resolvePartial,t.invokePartial=invokePartial,t.noop=noop;var o=n(5),a=i(o),s=n(6),l=r(s),c=n(4)},function(e,t){
(function(n){"use strict";t.__esModule=!0,t.default=function(e){var t="undefined"!=typeof n?n:window,i=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=i),e}},e.exports=t.default}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=!0;var n={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!n.helpers.scopedId(e)&&!e.depth}}};t.default=n,e.exports=t.default},function(e,t,n){"use strict";function parse(e,t){if("Program"===e.type)return e;a.default.yy=h,h.locInfo=function(e){return new h.SourceLocation(t&&t.srcName,e)};var n=new l.default(t);return n.accept(a.default.parse(e))}var i=n(1).default,r=n(3).default;t.__esModule=!0,t.parse=parse;var o=n(26),a=i(o),s=n(27),l=i(s),c=n(29),u=r(c),d=n(5);t.parser=a.default;var h={};d.extend(h,u)},function(e,t){"use strict";var n=function(){function Parser(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(e,t,n,i,r,o,a){var s=o.length-1;switch(r){case 1:return o[s-1];case 2:this.$=i.prepareProgram(o[s]);break;case 3:this.$=o[s];break;case 4:this.$=o[s];break;case 5:this.$=o[s];break;case 6:this.$=o[s];break;case 7:this.$=o[s];break;case 8:this.$=o[s];break;case 9:this.$={type:"CommentStatement",value:i.stripComment(o[s]),strip:i.stripFlags(o[s],o[s]),loc:i.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[s],value:o[s],loc:i.locInfo(this._$)};break;case 11:this.$=i.prepareRawBlock(o[s-2],o[s-1],o[s],this._$);break;case 12:this.$={path:o[s-3],params:o[s-2],hash:o[s-1]};break;case 13:this.$=i.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!1,this._$);break;case 14:this.$=i.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!0,this._$);break;case 15:this.$={open:o[s-5],path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:i.stripFlags(o[s-5],o[s])};break;case 16:this.$={path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:i.stripFlags(o[s-5],o[s])};break;case 17:this.$={path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:i.stripFlags(o[s-5],o[s])};break;case 18:this.$={strip:i.stripFlags(o[s-1],o[s-1]),program:o[s]};break;case 19:var l=i.prepareBlock(o[s-2],o[s-1],o[s],o[s],!1,this._$),c=i.prepareProgram([l],o[s-1].loc);c.chained=!0,this.$={strip:o[s-2].strip,program:c,chain:!0};break;case 20:this.$=o[s];break;case 21:this.$={path:o[s-1],strip:i.stripFlags(o[s-2],o[s])};break;case 22:this.$=i.prepareMustache(o[s-3],o[s-2],o[s-1],o[s-4],i.stripFlags(o[s-4],o[s]),this._$);break;case 23:this.$=i.prepareMustache(o[s-3],o[s-2],o[s-1],o[s-4],i.stripFlags(o[s-4],o[s]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[s-3],params:o[s-2],hash:o[s-1],indent:"",strip:i.stripFlags(o[s-4],o[s]),loc:i.locInfo(this._$)};break;case 25:this.$=i.preparePartialBlock(o[s-2],o[s-1],o[s],this._$);break;case 26:this.$={path:o[s-3],params:o[s-2],hash:o[s-1],strip:i.stripFlags(o[s-4],o[s])};break;case 27:this.$=o[s];break;case 28:this.$=o[s];break;case 29:this.$={type:"SubExpression",path:o[s-3],params:o[s-2],hash:o[s-1],loc:i.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[s],loc:i.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:i.id(o[s-2]),value:o[s],loc:i.locInfo(this._$)};break;case 32:this.$=i.id(o[s-1]);break;case 33:this.$=o[s];break;case 34:this.$=o[s];break;case 35:this.$={type:"StringLiteral",value:o[s],original:o[s],loc:i.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[s]),original:Number(o[s]),loc:i.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[s],original:"true"===o[s],loc:i.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:i.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:i.locInfo(this._$)};break;case 40:this.$=o[s];break;case 41:this.$=o[s];break;case 42:this.$=i.preparePath(!0,o[s],this._$);break;case 43:this.$=i.preparePath(!1,o[s],this._$);break;case 44:o[s-2].push({part:i.id(o[s]),original:o[s],separator:o[s-1]}),this.$=o[s-2];break;case 45:this.$=[{part:i.id(o[s]),original:o[s]}];break;case 46:this.$=[];break;case 47:o[s-1].push(o[s]);break;case 48:this.$=[o[s]];break;case 49:o[s-1].push(o[s]);break;case 50:this.$=[];break;case 51:o[s-1].push(o[s]);break;case 58:this.$=[];break;case 59:o[s-1].push(o[s]);break;case 64:this.$=[];break;case 65:o[s-1].push(o[s]);break;case 70:this.$=[];break;case 71:o[s-1].push(o[s]);break;case 78:this.$=[];break;case 79:o[s-1].push(o[s]);break;case 82:this.$=[];break;case 83:o[s-1].push(o[s]);break;case 86:this.$=[];break;case 87:o[s-1].push(o[s]);break;case 90:this.$=[];break;case 91:o[s-1].push(o[s]);break;case 94:this.$=[];break;case 95:o[s-1].push(o[s]);break;case 98:this.$=[o[s]];break;case 99:o[s-1].push(o[s]);break;case 100:this.$=[o[s]];break;case 101:o[s-1].push(o[s])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(e,t){throw new Error(e)},parse:function(e){function lex(){var e;return e=t.lexer.lex()||1,"number"!=typeof e&&(e=t.symbols_[e]||e),e}var t=this,n=[0],i=[null],r=[],o=this.table,a="",s=0,l=0,c=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;r.push(u);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var h,m,p,f,g,v,y,b,_,w={};;){if(p=n[n.length-1],this.defaultActions[p]?f=this.defaultActions[p]:(null!==h&&"undefined"!=typeof h||(h=lex()),f=o[p]&&o[p][h]),"undefined"==typeof f||!f.length||!f[0]){var x="";if(!c){_=[];for(v in o[p])this.terminals_[v]&&v>2&&_.push("'"+this.terminals_[v]+"'");x=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[h]||h)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==h?"end of input":"'"+(this.terminals_[h]||h)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[h]||h,line:this.lexer.yylineno,loc:u,expected:_})}}if(f[0]instanceof Array&&f.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+h);switch(f[0]){case 1:n.push(h),i.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(f[1]),h=null,m?(h=m,m=null):(l=this.lexer.yyleng,a=this.lexer.yytext,s=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--);break;case 2:if(y=this.productions_[f[1]][1],w.$=i[i.length-y],w._$={first_line:r[r.length-(y||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(y||1)].first_column,last_column:r[r.length-1].last_column},d&&(w._$.range=[r[r.length-(y||1)].range[0],r[r.length-1].range[1]]),g=this.performAction.call(w,a,l,s,this.yy,f[1],i,r),"undefined"!=typeof g)return g;y&&(n=n.slice(0,-1*y*2),i=i.slice(0,-1*y),r=r.slice(0,-1*y)),n.push(this.productions_[f[1]][0]),i.push(w.$),r.push(w._$),b=o[n[n.length-2]][n[n.length-1]],n.push(b);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,i,r;this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),a=0;a<o.length&&(n=this._input.match(this.rules[o[a]]),!n||t&&!(n[0].length>t[0].length)||(t=n,i=a,this.options.flex));a++);return t?(r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,n,i){function strip(e,n){return t.yytext=t.yytext.substr(e,t.yyleng-n)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(strip(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(strip(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(t.yytext=t.yytext.substr(5,t.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=strip(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=strip(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},e}();return e.lexer=t,Parser.prototype=e,e.Parser=Parser,new Parser}();t.__esModule=!0,t.default=n},function(e,t,n){"use strict";function WhitespaceControl(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}function isPrevWhitespace(e,t,n){void 0===t&&(t=e.length);var i=e[t-1],r=e[t-2];return i?"ContentStatement"===i.type?(r||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:n}function isNextWhitespace(e,t,n){void 0===t&&(t=-1);var i=e[t+1],r=e[t+2];return i?"ContentStatement"===i.type?(r||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:n}function omitRight(e,t,n){var i=e[null==t?0:t+1];if(i&&"ContentStatement"===i.type&&(n||!i.rightStripped)){var r=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==r}}function omitLeft(e,t,n){var i=e[null==t?e.length-1:t-1];if(i&&"ContentStatement"===i.type&&(n||!i.leftStripped)){var r=i.value;return i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==r,i.leftStripped}}var i=n(1).default;t.__esModule=!0;var r=n(28),o=i(r);WhitespaceControl.prototype=new o.default,WhitespaceControl.prototype.Program=function(e){var t=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var i=e.body,r=0,o=i.length;r<o;r++){var a=i[r],s=this.accept(a);if(s){var l=isPrevWhitespace(i,r,n),c=isNextWhitespace(i,r,n),u=s.openStandalone&&l,d=s.closeStandalone&&c,h=s.inlineStandalone&&l&&c;s.close&&omitRight(i,r,!0),s.open&&omitLeft(i,r,!0),t&&h&&(omitRight(i,r),omitLeft(i,r)&&"PartialStatement"===a.type&&(a.indent=/([ \t]+$)/.exec(i[r-1].original)[1])),t&&u&&(omitRight((a.program||a.inverse).body),omitLeft(i,r)),t&&d&&(omitRight(i,r),omitLeft((a.inverse||a.program).body))}}return e},WhitespaceControl.prototype.BlockStatement=WhitespaceControl.prototype.DecoratorBlock=WhitespaceControl.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,i=n,r=n;if(n&&n.chained)for(i=n.body[0].program;r.chained;)r=r.body[r.body.length-1].program;var o={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:isNextWhitespace(t.body),closeStandalone:isPrevWhitespace((i||t).body)};if(e.openStrip.close&&omitRight(t.body,null,!0),n){var a=e.inverseStrip;a.open&&omitLeft(t.body,null,!0),a.close&&omitRight(i.body,null,!0),e.closeStrip.open&&omitLeft(r.body,null,!0),!this.options.ignoreStandalone&&isPrevWhitespace(t.body)&&isNextWhitespace(i.body)&&(omitLeft(t.body),omitRight(i.body))}else e.closeStrip.open&&omitLeft(t.body,null,!0);return o},WhitespaceControl.prototype.Decorator=WhitespaceControl.prototype.MustacheStatement=function(e){return e.strip},WhitespaceControl.prototype.PartialStatement=WhitespaceControl.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},t.default=WhitespaceControl,e.exports=t.default},function(e,t,n){"use strict";function Visitor(){this.parents=[]}function visitSubExpression(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function visitBlock(e){visitSubExpression.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function visitPartial(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}var i=n(1).default;t.__esModule=!0;var r=n(6),o=i(r);Visitor.prototype={constructor:Visitor,mutating:!1,acceptKey:function(e,t){var n=this.accept(e[t]);if(this.mutating){if(n&&!Visitor.prototype[n.type])throw new o.default('Unexpected node type "'+n.type+'" found when accepting '+t+" on "+e.type);e[t]=n}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new o.default(e.type+" requires "+t)},acceptArray:function(e){for(var t=0,n=e.length;t<n;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,n--)},accept:function(e){if(e){if(!this[e.type])throw new o.default("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:t!==!1?e:void 0}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:visitSubExpression,Decorator:visitSubExpression,BlockStatement:visitBlock,DecoratorBlock:visitBlock,PartialStatement:visitPartial,PartialBlockStatement:function(e){visitPartial.call(this,e),this.acceptKey(e,"program");
},ContentStatement:function(){},CommentStatement:function(){},SubExpression:visitSubExpression,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},t.default=Visitor,e.exports=t.default},function(e,t,n){"use strict";function validateClose(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var n={loc:e.path.loc};throw new o.default(e.path.original+" doesn't match "+t,n)}}function SourceLocation(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}}function id(e){return/^\[.*\]$/.test(e)?e.substr(1,e.length-2):e}function stripFlags(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}}function stripComment(e){return e.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function preparePath(e,t,n){n=this.locInfo(n);for(var i=e?"@":"",r=[],a=0,s="",l=0,c=t.length;l<c;l++){var u=t[l].part,d=t[l].original!==u;if(i+=(t[l].separator||"")+u,d||".."!==u&&"."!==u&&"this"!==u)r.push(u);else{if(r.length>0)throw new o.default("Invalid path: "+i,{loc:n});".."===u&&(a++,s+="../")}}return{type:"PathExpression",data:e,depth:a,parts:r,original:i,loc:n}}function prepareMustache(e,t,n,i,r,o){var a=i.charAt(3)||i.charAt(2),s="{"!==a&&"&"!==a,l=/\*/.test(i);return{type:l?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:s,strip:r,loc:this.locInfo(o)}}function prepareRawBlock(e,t,n,i){validateClose(e,n),i=this.locInfo(i);var r={type:"Program",body:t,strip:{},loc:i};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:r,openStrip:{},inverseStrip:{},closeStrip:{},loc:i}}function prepareBlock(e,t,n,i,r,a){i&&i.path&&validateClose(e,i);var s=/\*/.test(e.open);t.blockParams=e.blockParams;var l=void 0,c=void 0;if(n){if(s)throw new o.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=i.strip),c=n.strip,l=n.program}return r&&(r=l,l=t,t=r),{type:s?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:l,openStrip:e.strip,inverseStrip:c,closeStrip:i&&i.strip,loc:this.locInfo(a)}}function prepareProgram(e,t){if(!t&&e.length){var n=e[0].loc,i=e[e.length-1].loc;n&&i&&(t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:i.end.line,column:i.end.column}})}return{type:"Program",body:e,strip:{},loc:t}}function preparePartialBlock(e,t,n,i){return validateClose(e,n),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(i)}}var i=n(1).default;t.__esModule=!0,t.SourceLocation=SourceLocation,t.id=id,t.stripFlags=stripFlags,t.stripComment=stripComment,t.preparePath=preparePath,t.prepareMustache=prepareMustache,t.prepareRawBlock=prepareRawBlock,t.prepareBlock=prepareBlock,t.prepareProgram=prepareProgram,t.preparePartialBlock=preparePartialBlock;var r=n(6),o=i(r)},function(e,t,n){"use strict";function Compiler(){}function precompile(e,t,n){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new o.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{},"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var i=n.parse(e,t),r=(new n.Compiler).compile(i,t);return(new n.JavaScriptCompiler).compile(r,t)}function compile(e,t,n){function compileInput(){var i=n.parse(e,t),r=(new n.Compiler).compile(i,t),o=(new n.JavaScriptCompiler).compile(r,t,void 0,!0);return n.template(o)}function ret(e,t){return i||(i=compileInput()),i.call(this,e,t)}if(void 0===t&&(t={}),null==e||"string"!=typeof e&&"Program"!==e.type)throw new o.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var i=void 0;return ret._setup=function(e){return i||(i=compileInput()),i._setup(e)},ret._child=function(e,t,n,r){return i||(i=compileInput()),i._child(e,t,n,r)},ret}function argEquals(e,t){if(e===t)return!0;if(a.isArray(e)&&a.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!argEquals(e[n],t[n]))return!1;return!0}}function transformLiteralToPath(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}var i=n(1).default;t.__esModule=!0,t.Compiler=Compiler,t.precompile=precompile,t.compile=compile;var r=n(6),o=i(r),a=n(5),s=n(24),l=i(s),c=[].slice;Compiler.prototype={compiler:Compiler,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;n<t;n++){var i=this.opcodes[n],r=e.opcodes[n];if(i.opcode!==r.opcode||!argEquals(i.args,r.args))return!1}t=this.children.length;for(var n=0;n<t;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[];var n=t.knownHelpers;if(t.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},n)for(var i in n)i in n&&(t.knownHelpers[i]=n[i]);return this.accept(e)},compileProgram:function(e){var t=new this.compiler,n=t.compile(e,this.options),i=this.guid++;return this.usePartial=this.usePartial||n.usePartial,this.children[i]=n,this.useDepths=this.useDepths||n.useDepths,i},accept:function(e){if(!this[e.type])throw new o.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,n=t.length,i=0;i<n;i++)this.accept(t[i]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){transformLiteralToPath(e);var t=e.program,n=e.inverse;t=t&&this.compileProgram(t),n=n&&this.compileProgram(n);var i=this.classifySexpr(e);"helper"===i?this.helperSexpr(e,t,n):"simple"===i?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,n),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,t,void 0),i=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,i.original)},PartialStatement:function(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var n=e.params;if(n.length>1)throw new o.default("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var i=e.name.original,r="SubExpression"===e.name.type;r&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);var a=e.indent||"";this.options.preventIndent&&a&&(this.opcode("appendContent",a),a=""),this.opcode("invokePartial",r,i,a),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){transformLiteralToPath(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,n){var i=e.path,r=i.parts[0],o=null!=t||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),i.strict=!0,this.accept(i),this.opcode("invokeAmbiguous",r,o)},simpleSexpr:function(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){var i=this.setupFullMustacheParams(e,t,n),r=e.path,a=r.parts[0];if(this.options.knownHelpers[a])this.opcode("invokeKnownHelper",i.length,a);else{if(this.options.knownHelpersOnly)throw new o.default("You specified knownHelpersOnly, but used the unknown helper "+a,e);r.strict=!0,r.falsy=!0,this.accept(r),this.opcode("invokeHelper",i.length,r.original,l.default.helpers.simpleId(r))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],n=l.default.helpers.scopedId(e),i=!e.depth&&!n&&this.blockParamIndex(t);i?this.opcode("lookupBlockParam",i,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,n=0,i=t.length;for(this.opcode("pushHash");n<i;n++)this.pushParam(t[n].value);for(;n--;)this.opcode("assignToHash",t[n].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:c.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=l.default.helpers.simpleId(e.path),n=t&&!!this.blockParamIndex(e.path.parts[0]),i=!n&&l.default.helpers.helperExpression(e),r=!n&&(i||t);if(r&&!i){var o=e.path.parts[0],a=this.options;a.knownHelpers[o]?i=!0:a.knownHelpersOnly&&(r=!1)}return i?"helper":r?"ambiguous":"simple"},pushParams:function(e){for(var t=0,n=e.length;t<n;t++)this.pushParam(e[t])},pushParam:function(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var n=void 0;if(!e.parts||l.default.helpers.scopedId(e)||e.depth||(n=this.blockParamIndex(e.parts[0])),n){var i=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else t=e.original||t,t.replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,n,i){var r=e.params;return this.pushParams(r),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",i),r},blockParamIndex:function(e){for(var t=0,n=this.options.blockParams.length;t<n;t++){var i=this.options.blockParams[t],r=i&&a.indexOf(i,e);if(i&&r>=0)return[t,r]}}}},function(e,t,n){"use strict";function Literal(e){this.value=e}function JavaScriptCompiler(){}function strictLookup(e,t,n,i){var r=t.popStack(),o=0,a=n.length;for(e&&a--;o<a;o++)r=t.nameLookup(r,n[o],i);return e?[t.aliasable("container.strict"),"(",r,", ",t.quotedString(n[o]),")"]:r}var i=n(1).default;t.__esModule=!0;var r=n(4),o=n(6),a=i(o),s=n(5),l=n(32),c=i(l);JavaScriptCompiler.prototype={nameLookup:function(e,t){return JavaScriptCompiler.isValidJavaScriptVariableName(t)?[e,".",t]:[e,"[",JSON.stringify(t),"]"]},depthedLookup:function(e){return[this.aliasable("container.lookup"),'(depths, "',e,'")']},compilerInfo:function(){var e=r.COMPILER_REVISION,t=r.REVISION_CHANGES[e];return[e,t]},appendToBuffer:function(e,t,n){return s.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:n?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},compile:function(e,t,n,i){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var r=e.opcodes,o=void 0,s=void 0,l=void 0,c=void 0;for(l=0,c=r.length;l<c;l++)o=r[l],this.source.currentLocation=o.loc,s=s||o.loc,this[o.opcode].apply(this,o.args);if(this.source.currentLocation=s,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new a.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),i?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var u=this.createFunctionContext(i);if(this.isChild)return u;var d={compiler:this.compilerInfo(),main:u};this.decorators&&(d.main_d=this.decorators,d.useDecorators=!0);var h=this.context,m=h.programs,p=h.decorators;for(l=0,c=m.length;l<c;l++)m[l]&&(d[l]=m[l],p[l]&&(d[l+"_d"]=p[l],d.useDecorators=!0));return this.environment.usePartial&&(d.usePartial=!0),this.options.data&&(d.useData=!0),this.useDepths&&(d.useDepths=!0),this.useBlockParams&&(d.useBlockParams=!0),this.options.compat&&(d.compat=!0),i?d.compilerOptions=this.options:(d.compiler=JSON.stringify(d.compiler),this.source.currentLocation={start:{line:1,column:0}},d=this.objectLiteral(d),t.srcName?(d=d.toStringWithSourceMap({file:t.destName}),d.map=d.map&&d.map.toString()):d=d.toString()),d},preamble:function(){this.lastContext=0,this.source=new c.default(this.options.srcName),this.decorators=new c.default(this.options.srcName)},createFunctionContext:function(e){var t="",n=this.stackVars.concat(this.registers.list);n.length>0&&(t+=", "+n.join(", "));var i=0;for(var r in this.aliases){var o=this.aliases[r];this.aliases.hasOwnProperty(r)&&o.children&&o.referenceCount>1&&(t+=", alias"+ ++i+"="+r,o.children[0]="alias"+i)}var a=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths");var s=this.mergeSource(t);return e?(a.push(s),Function.apply(this,a)):this.source.wrap(["function(",a.join(","),") {\n  ",s,"}"])},mergeSource:function(e){var t=this.environment.isSimple,n=!this.forceBuffer,i=void 0,r=void 0,o=void 0,a=void 0;return this.source.each(function(e){e.appendToBuffer?(o?e.prepend("  + "):o=e,a=e):(o&&(r?o.prepend("buffer += "):i=!0,a.add(";"),o=a=void 0),r=!0,t||(n=!1))}),n?o?(o.prepend("return "),a.add(";")):r||this.source.push('return "";'):(e+=", buffer = "+(i?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),a.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(i?"":";\n")),this.source.merge()},blockValue:function(e){var t=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(e,0,n);var i=this.popStack();n.splice(1,0,i),this.push(this.source.functionCall(t,"call",n))},ambiguousBlockValue:function(){var e=this.aliasable("helpers.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var n=this.topStack();t.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack(function(e){return[" != null ? ",e,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,n,i){var r=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[r++])),this.resolvePath("context",e,r,t,n)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t,n){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,n)},resolvePath:function(e,t,n,i,r){var o=this;if(this.options.strict||this.options.assumeObjects)return void this.push(strictLookup(this.options.strict&&r,this,t,e));for(var a=t.length;n<a;n++)this.replaceStack(function(r){var a=o.nameLookup(r,t[n],e);return i?[" && ",a]:[" != null ? ",a," : ",r]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function(e,t){var n=this.nameLookup("decorators",t,"decorator"),i=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",i])," || fn;"])},invokeHelper:function(e,t,n){var i=this.popStack(),r=this.setupHelper(e,t),o=n?[r.name," || "]:"",a=["("].concat(o,i);this.options.strict||a.push(" || ",this.aliasable("helpers.helperMissing")),a.push(")"),this.push(this.source.functionCall(a,"call",r.callParams))},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(e,t){this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,e,t),r=this.lastHelper=this.nameLookup("helpers",e,"helper"),o=["(","(helper = ",r," || ",n,")"];this.options.strict||(o[0]="(helper = ",o.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",o,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(e,t,n){var i=[],r=this.setupParams(t,1,i);e&&(t=this.popStack(),delete r.name),n&&(r.indent=JSON.stringify(n)),r.helpers="helpers",r.partials="partials",r.decorators="container.decorators",e?i.unshift(t):i.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),i.push(r),this.push(this.source.functionCall("container.invokePartial","",i))},assignToHash:function(e){var t=this.popStack(),n=void 0,i=void 0,r=void 0;this.trackIds&&(r=this.popStack()),this.stringParams&&(i=this.popStack(),n=this.popStack());var o=this.hash;n&&(o.contexts[e]=n),i&&(o.types[e]=i),r&&(o.ids[e]=r),o.values[e]=t},pushId:function(e,t,n){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:JavaScriptCompiler,compileChildren:function(e,t){for(var n=e.children,i=void 0,r=void 0,o=0,a=n.length;o<a;o++){i=n[o],r=new this.compiler;var s=this.matchExistingProgram(i);if(null==s){this.context.programs.push("");var l=this.context.programs.length;i.index=l,i.name="program"+l,this.context.programs[l]=r.compile(i,t,this.context,!this.precompile),this.context.decorators[l]=r.decorators,this.context.environments[l]=i,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams,i.useDepths=this.useDepths,i.useBlockParams=this.useBlockParams}else i.index=s.index,i.name="program"+s.index,this.useDepths=this.useDepths||s.useDepths,this.useBlockParams=this.useBlockParams||s.useBlockParams}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;t<n;t++){var i=this.context.environments[t];if(i&&i.equals(e))return i}},programExpression:function(e){var t=this.environment.children[e],n=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof Literal||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new Literal(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){var t=["("],n=void 0,i=void 0,r=void 0;if(!this.isInline())throw new a.default("replaceStack on non-inline");var o=this.popStack(!0);if(o instanceof Literal)n=[o.value],t=["(",n],r=!0;else{i=!0;var s=this.incrStack();t=["((",this.push(s)," = ",o,")"],n=this.topStack()}var l=e.call(this,n);r||this.popStack(),i&&this.stackSlot--,this.push(t.concat(l,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,n=e.length;t<n;t++){var i=e[t];if(i instanceof Literal)this.compileStack.push(i);else{var r=this.incrStack();this.pushSource([r," = ",i,";"]),this.compileStack.push(r)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof Literal)return n.value;if(!t){if(!this.stackSlot)throw new a.default("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof Literal?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var t=this.aliases[e];return t?(t.referenceCount++,t):(t=this.aliases[e]=this.source.wrap(e),t.aliasable=!0,t.referenceCount=1,t)},setupHelper:function(e,t,n){var i=[],r=this.setupHelperArgs(t,e,i,n),o=this.nameLookup("helpers",t,"helper"),a=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : {}");return{params:i,paramsInit:r,name:o,callParams:[a].concat(i)}},setupParams:function(e,t,n){var i={},r=[],o=[],a=[],s=!n,l=void 0;s&&(n=[]),i.name=this.quotedString(e),i.hash=this.popStack(),this.trackIds&&(i.hashIds=this.popStack()),this.stringParams&&(i.hashTypes=this.popStack(),i.hashContexts=this.popStack());var c=this.popStack(),u=this.popStack();(u||c)&&(i.fn=u||"container.noop",i.inverse=c||"container.noop");for(var d=t;d--;)l=this.popStack(),n[d]=l,this.trackIds&&(a[d]=this.popStack()),this.stringParams&&(o[d]=this.popStack(),r[d]=this.popStack());return s&&(i.args=this.source.generateArray(n)),this.trackIds&&(i.ids=this.source.generateArray(a)),this.stringParams&&(i.types=this.source.generateArray(o),i.contexts=this.source.generateArray(r)),this.options.data&&(i.data="data"),this.useBlockParams&&(i.blockParams="blockParams"),i},setupHelperArgs:function(e,t,n,i){var r=this.setupParams(e,t,n);return r=this.objectLiteral(r),i?(this.useRegister("options"),n.push("options"),["options=",r]):n?(n.push(r),""):r}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=JavaScriptCompiler.RESERVED_WORDS={},n=0,i=e.length;n<i;n++)t[e[n]]=!0}(),JavaScriptCompiler.isValidJavaScriptVariableName=function(e){return!JavaScriptCompiler.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t.default=JavaScriptCompiler,e.exports=t.default},function(e,t,n){"use strict";function castChunk(e,t,n){if(i.isArray(e)){for(var r=[],o=0,a=e.length;o<a;o++)r.push(t.wrap(e[o],n));return r}return"boolean"==typeof e||"number"==typeof e?e+"":e}function CodeGen(e){this.srcFile=e,this.source=[]}t.__esModule=!0;var i=n(5),r=void 0;try{}catch(e){}r||(r=function(e,t,n,i){this.src="",i&&this.add(i)},r.prototype={add:function(e){i.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function(e){i.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),CodeGen.prototype={isEmpty:function(){return!this.source.length},prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){var e=this.empty();return this.each(function(t){e.add(["  ",t,"\n"])}),e},each:function(e){for(var t=0,n=this.source.length;t<n;t++)e(this.source[t])},empty:function(){var e=this.currentLocation||{start:{}};return new r(e.start.line,e.start.column,this.srcFile)},wrap:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return e instanceof r?e:(e=castChunk(e,this,t),new r(t.start.line,t.start.column,this.srcFile,e))},functionCall:function(e,t,n){return n=this.generateList(n),this.wrap([e,t?"."+t+"(":"(",n,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var i=castChunk(e[n],this);"undefined"!==i&&t.push([this.quotedString(n),":",i])}var r=this.generateList(t);return r.prepend("{"),r.add("}"),r},generateList:function(e){for(var t=this.empty(),n=0,i=e.length;n<i;n++)n&&t.add(","),t.add(castChunk(e[n],this));return t},generateArray:function(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},t.default=CodeGen,e.exports=t.default}])})},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var i=n(23),r=i.Symbol;e.exports=r},function(e,t,n){function baseAssignValue(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var i=n(45);e.exports=baseAssignValue},function(e,t,n){var i=n(433),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(5))},function(e,t){function isIndex(e,t){return t=null==t?n:t,!!t&&("number"==typeof e||i.test(e))&&e>-1&&e%1==0&&e<t}var n=9007199254740991,i=/^(?:0|[1-9]\d*)$/;e.exports=isIndex},function(e,t){function eq(e,t){return e===t||e!==e&&t!==t}e.exports=eq},function(e,t){function identity(e){return e}e.exports=identity},function(e,t,n){function isArrayLike(e){return null!=e&&r(e.length)&&!i(e)}var i=n(51),r=n(52);e.exports=isArrayLike},function(e,t,n){function isFunction(e){if(!r(e))return!1;var t=i(e);return t==a||t==s||t==o||t==l}var i=n(22),r=n(17),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";e.exports=isFunction},function(e,t){function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}var n=9007199254740991;e.exports=isLength},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("ar-dz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},r=function(e){return function(t,r,o,a){var s=n(t),l=i[e][n(t)];return 2===s&&(l=l[r?0:1]),l.replace(/%d/i,t)}},o=["","","","","","","","","","","",""],a=e.defineLocale("ar-ly",{
months:o,monthsShort:o,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},preparse:function(e){return e.replace(/\u200f/g,"").replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}});return a})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=e.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:0,doy:6}});return i})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},o=function(e){return function(t,n,o,a){var s=i(t),l=r[e][i(t)];return 2===s&&(l=l[n?0:1]),l.replace(/%d/i,t)}},a=["  "," "," "," "," "," "," "," "," ","  ","  ","  "],s=e.defineLocale("ar",{months:a,monthsShort:a,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(e){return e.replace(/\u200f/g,"").replace(/[]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}});return s})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"},n=e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniyy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(e){return/^(gndz|axam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gec":e<12?"shr":e<17?"gndz":"axam"},ordinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(e){if(0===e)return e+"-nc";var n=e%10,i=e%100-n,r=e>=100?100:null;return e+(t[n]||t[i]||t[r])},week:{dow:1,doy:7}});return n})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";function plural(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function relativeTimeWithPlural(e,t,n){var i={mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===n?t?"":"":"h"===n?t?"":"":e+" "+plural(i[n],+e)}var t=e.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:relativeTimeWithPlural,mm:relativeTimeWithPlural,h:relativeTimeWithPlural,hh:relativeTimeWithPlural,d:"",dd:relativeTimeWithPlural,M:"",MM:relativeTimeWithPlural,y:"",yy:relativeTimeWithPlural},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},ordinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!==2&&e%10!==3||e%100===12||e%100===13?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=e.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return i})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=e.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return i})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";function relativeTimeWithMutation(e,t,n){var i={mm:"munutenn",MM:"miz",dd:"devezh"};return e+" "+mutation(i[n],e)}function specialMutationForYears(e){switch(lastNumber(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function lastNumber(e){return e>9?lastNumber(e%10):e}function mutation(e,t){return 2===t?softMutation(e):e}function softMutation(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}var t=e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",m:"ur vunutenn",mm:relativeTimeWithMutation,h:"un eur",hh:"%d eur",d:"un devezh",dd:relativeTimeWithMutation,M:"ur miz",MM:relativeTimeWithMutation,y:"ur bloaz",yy:specialMutationForYears},ordinalParse:/\d{1,2}(a|vet)/,ordinal:function(e){var t=1===e?"a":"vet";return e+t},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";function translate(e,t,n){var i=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return i+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return i+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return i+=1===e?"dan":"dana";case"MM":return i+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return i+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}var t=e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:translate,mm:translate,h:translate,hh:translate,d:"dan",dd:translate,M:"mjesec",MM:translate,y:"godinu",yy:translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("ca",{months:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd D MMMM YYYY H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";function plural(e){return e>1&&e<5&&1!==~~(e/10)}function translate(e,t,n,i){var r=e+" ";switch(n){case"s":return t||i?"pr sekund":"pr sekundami";case"m":return t?"minuta":i?"minutu":"minutou";case"mm":return t||i?r+(plural(e)?"minuty":"minut"):r+"minutami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?r+(plural(e)?"hodiny":"hodin"):r+"hodinami";case"d":return t||i?"den":"dnem";case"dd":return t||i?r+(plural(e)?"dny":"dn"):r+"dny";case"M":return t||i?"msc":"mscem";case"MM":return t||i?r+(plural(e)?"msce":"msc"):r+"msci";case"y":return t||i?"rok":"rokem";case"yy":return t||i?r+(plural(e)?"roky":"let"):r+"lety"}}var t="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),n="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),i=e.defineLocale("cs",{months:t,monthsShort:n,monthsParse:function(e,t){var n,i=[];for(n=0;n<12;n++)i[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return i}(t,n),shortMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(n),longMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(t),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:translate,m:translate,mm:translate,h:translate,hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){var t=/$/i.exec(e)?"":/$/i.exec(e)?"":"";return e+t},past:"%s ",s:"- ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,n="",i=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return t>20?n=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(n=i[t]),e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY HH:mm"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I gr kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";function processRelativeTime(e,t,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}var t=e.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:processRelativeTime,mm:"%d Minuten",h:processRelativeTime,hh:"%d Stunden",d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";function processRelativeTime(e,t,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}var t=e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:processRelativeTime,mm:"%d Minuten",h:processRelativeTime,hh:"%d Stunden",d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""],i=e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:7,doy:12}});return i})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";function isFunction(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}var t=e.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,n){return e>11?n?"":"":n?"":""},isPM:function(e){return""===(e+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var n=this._calendarEl[e],i=t&&t.hours();return isFunction(n)&&(n=n.apply(t)),n.replace("{}",i%12===1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"Dimano_Lundo_Mardo_Merkredo_ado_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_a_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_a_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-an de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"anta %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return/-MMM-/.test(i)?n[e.month()]:t[e.month()]},monthsParseExact:!0,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return i})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return/-MMM-/.test(i)?n[e.month()]:t[e.month()]},monthsParseExact:!0,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return i})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";function processRelativeTime(e,t,n,i){var r={s:["mne sekundi","mni sekund","paar sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?r[n][2]?r[n][2]:r[n][1]:i?r[n][0]:r[n][1]}var t=e.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:processRelativeTime,m:processRelativeTime,mm:processRelativeTime,h:processRelativeTime,hh:processRelativeTime,d:processRelativeTime,dd:"%d peva",M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(e){return/  /.test(e)},meridiem:function(e,t,n){return e<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}});return i})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";function translate(e,t,n,i){var r="";switch(n){case"s":return i?"muutaman sekunnin":"muutama sekunti";case"m":return i?"minuutin":"minuutti";case"mm":r=i?"minuutin":"minuuttia";break;case"h":return i?"tunnin":"tunti";case"hh":r=i?"tunnin":"tuntia";break;case"d":return i?"pivn":"piv";case"dd":r=i?"pivn":"piv";break;case"M":return i?"kuukauden":"kuukausi";case"MM":r=i?"kuukauden":"kuukautta";break;case"y":return i?"vuoden":"vuosi";case"yy":r=i?"vuoden":"vuotta"}return r=verbalNumber(e,i)+" "+r}function verbalNumber(e,i){return e<10?i?n[e]:t[e]:e}var t="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),n=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",t[7],t[8],t[9]],i=e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:translate,m:translate,mm:translate,h:translate,hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnai",MM:"%d mnair",y:"eitt r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|e)/,ordinal:function(e){return e+(1===e?"er":"e")}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|e)/,ordinal:function(e){return e+(1===e?"er":"e")},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(e){return e+(1===e?"er":"")},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),i=e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,i){return/-MMM-/.test(i)?n[e.month()]:t[e.month()]},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return i})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],n=["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],i=["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],r=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],o=["D","Lu","M","Ci","Ar","Ha","Sa"],a=e.defineLocale("gd",{months:t,monthsShort:n,monthsParseExact:!0,weekdays:i,weekdaysShort:r,weekdaysMin:o,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},ordinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){var t=1===e?"d":e%10===2?"na":"mh";return e+t},week:{dow:1,doy:4}});return a})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:function(e){return 2===e?"":e+" "},d:"",dd:function(e){return 2===e?"":e+" "},M:"",MM:function(e){return 2===e?"":e+" "},y:"",yy:function(e){return 2===e?"":e%10===0&&10!==e?e+" ":e+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(e){return/^("| |)$/.test(e)},meridiem:function(e,t,n){return e<5?" ":e<10?"":e<12?n?'"':" ":e<18?n?'"':" ":""}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=e.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return i})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";function translate(e,t,n){var i=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return i+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return i+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return i+=1===e?"dan":"dana";case"MM":return i+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return i+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}var t=e.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:translate,mm:translate,h:translate,hh:translate,d:"dan",dd:translate,M:"mjesec",MM:translate,y:"godinu",yy:translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";function translate(e,t,n,i){var r=e;switch(n){case"s":return i||t?"nhny msodperc":"nhny msodperce";case"m":return"egy"+(i||t?" perc":" perce");case"mm":return r+(i||t?" perc":" perce");case"h":return"egy"+(i||t?" ra":" rja");case"hh":return r+(i||t?" ra":" rja");case"d":return"egy"+(i||t?" nap":" napja");case"dd":return r+(i||t?" nap":" napja");case"M":return"egy"+(i||t?" hnap":" hnapja");case"MM":return r+(i||t?" hnap":" hnapja");case"y":return"egy"+(i||t?" v":" ve");case"yy":return r+(i||t?" v":" ve")}return""}function week(e){return(e?"":"[mlt] ")+"["+t[this.day()]+"] LT[-kor]"}var t="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" "),n=e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?n===!0?"de":"DE":n===!0?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return week.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return week.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:translate,m:translate,mm:translate,h:translate,hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return e<4?"":e<12?"":e<17?"":""},ordinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-":e+"-";default:return e}},week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){
t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";function plural(e){return e%100===11||e%10!==1}function translate(e,t,n,i){var r=e+" ";switch(n){case"s":return t||i?"nokkrar sekndur":"nokkrum sekndum";case"m":return t?"mnta":"mntu";case"mm":return plural(e)?r+(t||i?"mntur":"mntum"):t?r+"mnta":r+"mntu";case"hh":return plural(e)?r+(t||i?"klukkustundir":"klukkustundum"):r+"klukkustund";case"d":return t?"dagur":i?"dag":"degi";case"dd":return plural(e)?t?r+"dagar":r+(i?"daga":"dgum"):t?r+"dagur":r+(i?"dag":"degi");case"M":return t?"mnuur":i?"mnu":"mnui";case"MM":return plural(e)?t?r+"mnuir":r+(i?"mnui":"mnuum"):t?r+"mnuur":r+(i?"mnu":"mnui");case"y":return t||i?"r":"ri";case"yy":return plural(e)?r+(t||i?"r":"rum"):r+(t||i?"r":"ri")}}var t=e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:translate,m:translate,mm:translate,h:"klukkustund",hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Luned_Marted_Mercoled_Gioved_Venerd_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"Do_Lu_Ma_Me_Gi_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahm",LTS:"Ahms",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhm",LLLL:"YYYYMDAhm dddd"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},ordinalParse:/\d{1,2}/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("ka",{months:{standalone:"___________".split("_"),format:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return/(|||)/.test(e)?e.replace(/$/,""):e+""},past:function(e){return/(||||)/.test(e)?e.replace(/(|)$/," ")://.test(e)?e.replace(/$/," "):void 0},s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(e){return 0===e?e:1===e?e+"-":e<20||e<=100&&e%20===0||e%100===0?"-"+e:e+"-"},week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"},n=e.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}-(|)/,ordinal:function(e){var n=e%10,i=e>=100?100:null;return e+(t[e]||t[n]||t[i])},week:{dow:1,doy:7}});return n})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h m",LTS:"A h m s",L:"YYYY.MM.DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h m",LLLL:"YYYY MMMM D dddd A h m"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},ordinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"},n=e.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}-(|||)/,ordinal:function(e){var n=e%10,i=e>=100?100:null;return e+(t[e]||t[n]||t[i])},week:{dow:1,doy:7}});return n})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";function processRelativeTime(e,t,n,i){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?r[n][0]:r[n][1]}function processFutureTime(e){var t=e.substr(0,e.indexOf(" "));return eifelerRegelAppliesToNumber(t)?"a "+e:"an "+e}function processPastTime(e){var t=e.substr(0,e.indexOf(" "));return eifelerRegelAppliesToNumber(t)?"viru "+e:"virun "+e}function eifelerRegelAppliesToNumber(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10,n=e/10;return eifelerRegelAppliesToNumber(0===t?n:t)}if(e<1e4){for(;e>=10;)e/=10;return eifelerRegelAppliesToNumber(e)}return e/=1e3,eifelerRegelAppliesToNumber(e)}var t=e.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:processFutureTime,past:processPastTime,s:"e puer Sekonnen",m:processRelativeTime,mm:"%d Minutten",h:processRelativeTime,hh:"%d Stonnen",d:processRelativeTime,dd:"%d Deeg",M:processRelativeTime,MM:"%d Mint",y:processRelativeTime,yy:"%d Joer"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},ordinalParse:/()\d{1,2}/,ordinal:function(e){return""+e}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";function translateSeconds(e,t,n,i){return t?"kelios sekunds":i?"keli sekundi":"kelias sekundes"}function translateSingular(e,t,n,i){return t?forms(n)[0]:i?forms(n)[1]:forms(n)[2]}function special(e){return e%10===0||e>10&&e<20}function forms(e){return t[e].split("_")}function translate(e,t,n,i){var r=e+" ";return 1===e?r+translateSingular(e,t,n[0],i):t?r+(special(e)?forms(n)[1]:forms(n)[0]):i?r+forms(n)[1]:r+(special(e)?forms(n)[1]:forms(n)[2])}var t={m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"},n=e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:translateSeconds,m:translateSingular,mm:translate,h:translateSingular,hh:translate,d:translateSingular,dd:translate,M:translateSingular,MM:translate,y:translateSingular,yy:translate},ordinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}});return n})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";function format(e,t,n){return n?t%10===1&&t%100!==11?e[2]:e[3]:t%10===1&&t%100!==11?e[0]:e[1]}function relativeTimeWithPlural(e,n,i){return e+" "+format(t[i],e,n)}function relativeTimeWithSingular(e,n,i){return format(t[i],e,n)}function relativeSeconds(e,t){return t?"daas sekundes":"dam sekundm"}var t={m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")},n=e.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:relativeSeconds,m:relativeTimeWithSingular,mm:relativeTimeWithPlural,h:relativeTimeWithSingular,hh:relativeTimeWithPlural,d:relativeTimeWithSingular,dd:relativeTimeWithPlural,M:relativeTimeWithSingular,MM:relativeTimeWithPlural,y:relativeTimeWithSingular,yy:relativeTimeWithPlural},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t={words:{m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var r=t.words[i];return 1===i.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}},n=e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var e=["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||" "===t||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?" ":e<20?"":""}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";function relativeTimeMr(e,t,n,i){var r="";if(t)switch(n){case"s":r=" ";break;case"m":r=" ";break;case"mm":r="%d ";break;case"h":r=" ";break;case"hh":r="%d ";break;case"d":r=" ";break;case"dd":r="%d ";break;case"M":r=" ";break;case"MM":r="%d ";break;case"y":r=" ";break;case"yy":r="%d "}else switch(n){case"s":r=" ";break;case"m":r=" ";break;case"mm":r="%d ";break;case"h":r=" ";break;case"hh":r="%d ";break;case"d":r=" ";break;case"dd":r="%d ";break;case"M":r=" ";break;case"MM":r="%d ";break;case"y":r=" ";break;case"yy":r="%d "}return r.replace(/%d/i,e)}var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=e.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:relativeTimeMr,m:relativeTimeMr,mm:relativeTimeMr,h:relativeTimeMr,hh:relativeTimeMr,d:relativeTimeMr,dd:relativeTimeMr,M:relativeTimeMr,MM:relativeTimeMr,y:relativeTimeMr,yy:relativeTimeMr},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return i})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=e.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}});return i})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),
monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=e.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"":e<12?"":e<16?"":e<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}});return i})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,o=e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,i){return/-MMM-/.test(i)?n[e.month()]:t[e.month()]},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return o})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,o=e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,i){return/-MMM-/.test(i)?n[e.month()]:t[e.month()]},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return o})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=e.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return i})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";function plural(e){return e%10<5&&e%10>1&&~~(e/10)%10!==1}function translate(e,t,n){var i=e+" ";switch(n){case"m":return t?"minuta":"minut";case"mm":return i+(plural(e)?"minuty":"minut");case"h":return t?"godzina":"godzin";case"hh":return i+(plural(e)?"godziny":"godzin");case"MM":return i+(plural(e)?"miesice":"miesicy");case"yy":return i+(plural(e)?"lata":"lat")}}var t="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),i=e.defineLocale("pl",{months:function(e,i){return""===i?"("+n[e.month()]+"|"+t[e.month()]+")":/D MMMM/.test(i)?n[e.month()]:t[e.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:translate,mm:translate,h:translate,hh:translate,d:"1 dzie",dd:"%d dni",M:"miesic",MM:translate,y:"rok",yy:translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Dom_2_3_4_5_6_Sb".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrs",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d"});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("pt",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Tera-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Dom_2_3_4_5_6_Sb".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";function relativeTimeWithPlural(e,t,n){var i={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},r=" ";return(e%100>=20||e>=100&&e%100===0)&&(r=" de "),e+r+i[n]}var t=e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",m:"un minut",mm:relativeTimeWithPlural,h:"o or",hh:relativeTimeWithPlural,d:"o zi",dd:relativeTimeWithPlural,M:"o lun",MM:relativeTimeWithPlural,y:"un an",yy:relativeTimeWithPlural},week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";function plural(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function relativeTimeWithPlural(e,t,n){var i={mm:t?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"};return"m"===n?t?"":"":e+" "+plural(i[n],+e)}var t=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],n=e.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:t,longMonthsParse:t,shortMonthsParse:t,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:relativeTimeWithPlural,mm:relativeTimeWithPlural,h:"",hh:relativeTimeWithPlural,d:"",dd:relativeTimeWithPlural,M:"",MM:relativeTimeWithPlural,y:"",yy:relativeTimeWithPlural},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},ordinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:7}});return n})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},ordinalParse:/\d{1,2} /,ordinal:function(e){return e+" "},meridiemParse:/ | |.|../,isPM:function(e){return".."===e||" "===e},meridiem:function(e,t,n){return e>11?n?"..":" ":n?"..":" "}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";function plural(e){return e>1&&e<5}function translate(e,t,n,i){var r=e+" ";switch(n){case"s":return t||i?"pr seknd":"pr sekundami";case"m":return t?"minta":i?"mintu":"mintou";case"mm":return t||i?r+(plural(e)?"minty":"mint"):r+"mintami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?r+(plural(e)?"hodiny":"hodn"):r+"hodinami";case"d":return t||i?"de":"dom";case"dd":return t||i?r+(plural(e)?"dni":"dn"):r+"dami";case"M":return t||i?"mesiac":"mesiacom";case"MM":return t||i?r+(plural(e)?"mesiace":"mesiacov"):r+"mesiacmi";case"y":return t||i?"rok":"rokom";case"yy":return t||i?r+(plural(e)?"roky":"rokov"):r+"rokmi"}}var t="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),n="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_"),i=e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:translate,m:translate,mm:translate,h:translate,hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";function processRelativeTime(e,t,n,i){var r=e+" ";switch(n){case"s":return t||i?"nekaj sekund":"nekaj sekundami";case"m":return t?"ena minuta":"eno minuto";case"mm":return r+=1===e?t?"minuta":"minuto":2===e?t||i?"minuti":"minutama":e<5?t||i?"minute":"minutami":t||i?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return r+=1===e?t?"ura":"uro":2===e?t||i?"uri":"urama":e<5?t||i?"ure":"urami":t||i?"ur":"urami";case"d":return t||i?"en dan":"enim dnem";case"dd":return r+=1===e?t||i?"dan":"dnem":2===e?t||i?"dni":"dnevoma":t||i?"dni":"dnevi";case"M":return t||i?"en mesec":"enim mesecem";case"MM":return r+=1===e?t||i?"mesec":"mesecem":2===e?t||i?"meseca":"mesecema":e<5?t||i?"mesece":"meseci":t||i?"mesecev":"meseci";case"y":return t||i?"eno leto":"enim letom";case"yy":return r+=1===e?t||i?"leto":"letom":2===e?t||i?"leti":"letoma":e<5?t||i?"leta":"leti":t||i?"let":"leti"}}var t=e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:processRelativeTime,m:processRelativeTime,mm:processRelativeTime,h:processRelativeTime,hh:processRelativeTime,d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t={words:{m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var r=t.words[i];return 1===i.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}},n=e.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){var e=["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"",dd:t.translate,M:"",MM:t.translate,y:"",yy:t.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var r=t.words[i];return 1===i.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}},n=e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var e=["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"e":1===t?"a":2===t?"a":"e";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),
weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=e.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:function(e){return e+""},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||||/,meridiem:function(e,t,n){return e<2?" ":e<6?" ":e<10?" ":e<14?" ":e<18?" ":e<22?" ":" "},meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<2?e:e+12:""===t||""===t?e:""===t&&e>=10?e:e+12},week:{dow:0,doy:6}});return i})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juniu_Juliu_Augustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Aug_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sexta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sext_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Sex_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",m:"minutu ida",mm:"minutus %d",h:"horas ida",hh:"horas %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";function translateFuture(e){var t=e;return t=e.indexOf("jaj")!==-1?t.slice(0,-3)+"leS":e.indexOf("jar")!==-1?t.slice(0,-3)+"waQ":e.indexOf("DIS")!==-1?t.slice(0,-3)+"nem":t+" pIq"}function translatePast(e){var t=e;return t=e.indexOf("jaj")!==-1?t.slice(0,-3)+"Hu":e.indexOf("jar")!==-1?t.slice(0,-3)+"wen":e.indexOf("DIS")!==-1?t.slice(0,-3)+"ben":t+" ret"}function translate(e,t,n,i){var r=numberAsNoun(e);switch(n){case"mm":return r+" tup";case"hh":return r+" rep";case"dd":return r+" jaj";case"MM":return r+" jar";case"yy":return r+" DIS"}}function numberAsNoun(e){var n=Math.floor(e%1e3/100),i=Math.floor(e%100/10),r=e%10,o="";return n>0&&(o+=t[n]+"vatlh"),i>0&&(o+=(""!==o?" ":"")+t[i]+"maH"),r>0&&(o+=(""!==o?" ":"")+t[r]),""===o?"pagh":o}var t="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_"),n=e.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:translateFuture,past:translatePast,s:"puS lup",m:"wa tup",mm:translate,h:"wa rep",hh:translate,d:"wa jaj",dd:translate,M:"wa jar",MM:translate,y:"wa DIS",yy:translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"},n=e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinalParse:/\d{1,2}'(inci|nci|nc|nc|uncu|nc)/,ordinal:function(e){if(0===e)return e+"'nc";var n=e%10,i=e%100-n,r=e>=100?100:null;return e+(t[n]||t[i]||t[r])},week:{dow:1,doy:7}});return n})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";function processRelativeTime(e,t,n,i){var r={s:["viensas secunds","'iensas secunds"],m:["'n mut","'iens mut"],mm:[e+" muts",""+e+" muts"],h:["'n ora","'iensa ora"],hh:[e+" oras",""+e+" oras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",""+e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",""+e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",""+e+" ars"]};return i?r[n][0]:t?r[n][0]:r[n][1]}var t=e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:processRelativeTime,m:processRelativeTime,mm:processRelativeTime,h:processRelativeTime,hh:processRelativeTime,d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";function plural(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function relativeTimeWithPlural(e,t,n){var i={mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===n?t?"":"":"h"===n?t?"":"":e+" "+plural(i[n],+e)}function weekdaysCaseReplace(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")},i=/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative";return n[i][e.day()]}function processHoursFunction(e){return function(){return e+""+(11===this.hours()?"":"")+"] LT"}}var t=e.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:weekdaysCaseReplace,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:processHoursFunction("[ "),nextDay:processHoursFunction("[ "),lastDay:processHoursFunction("[ "),nextWeek:processHoursFunction("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return processHoursFunction("[] dddd [").call(this);case 1:case 2:case 4:return processHoursFunction("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:relativeTimeWithPlural,mm:relativeTimeWithPlural,h:"",hh:relativeTimeWithPlural,d:"",dd:relativeTimeWithPlural,M:"",MM:relativeTimeWithPlural,y:"",yy:relativeTimeWithPlural},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},ordinalParse:/\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},ordinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},ordinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYY-MM-DD",LL:"YYYYMMMD",LLL:"YYYYMMMDAhmm",LLLL:"YYYYMMMDddddAhmm",l:"YYYY-MM-DD",ll:"YYYYMMMD",lll:"YYYYMMMDAhmm",llll:"YYYYMMMDddddAhmm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var i=100*e+t;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},lastDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextWeek:function(){var t,n;return t=e().startOf("week"),n=this.diff(t,"days")>=7?"[]":"[]",0===this.minutes()?n+"dddAh":n+"dddAhmm"},lastWeek:function(){var t,n;return t=e().startOf("week"),n=this.unix()<t.unix()?"[]":"[]",0===this.minutes()?n+"dddAh":n+"dddAhmm"},sameElse:"LL"},ordinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMDAhmm",LLLL:"YYYYMMMDddddAhmm",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMDAhmm",llll:"YYYYMMMDddddAhmm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var i=100*e+t;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return t})},function(e,t,n){!function(e,t){t(n(0))}(this,function(e){"use strict";var t=e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMDAhmm",LLLL:"YYYYMMMDddddAhmm",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMDAhmm",llll:"YYYYMMMDddddAhmm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var i=100*e+t;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return t})},function(e,t,n){function Parser(e,t){this._options=t||{},this._cbs=e||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(i=this._options.Tokenizer),this._tokenizer=new i(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}var i=n(162),r={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},o={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:r,input:r,output:r,button:r,datalist:r,textarea:r,option:{option:!0},optgroup:{optgroup:!0}},a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,path:!0,circle:!0,ellipse:!0,line:!0,rect:!0,use:!0,stop:!0,polyline:!0,polygon:!0},s=/\s|\//;n(4)(Parser,n(13).EventEmitter),Parser.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},Parser.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},Parser.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&e in o)for(var t;(t=this._stack[this._stack.length-1])in o[e];this.onclosetag(t));!this._options.xmlMode&&e in a||this._stack.push(e),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},Parser.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in a&&this._cbs.onclosetag(this._tagname),this._tagname=""},Parser.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),!this._stack.length||e in a&&!this._options.xmlMode)this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(t!==-1)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},Parser.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing?this._closeCurrentTag():this.onopentagend()},Parser.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},Parser.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},Parser.prototype.onattribdata=function(e){this._attribvalue+=e},Parser.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},Parser.prototype._getInstructionName=function(e){var t=e.search(s),n=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},Parser.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},Parser.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},Parser.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},Parser.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},Parser.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},Parser.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;e>0;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},Parser.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},Parser.prototype.parseComplete=function(e){this.reset(),this.end(e)},Parser.prototype.write=function(e){this._tokenizer.write(e)},Parser.prototype.end=function(e){this._tokenizer.end(e)},Parser.prototype.pause=function(){this._tokenizer.pause()},Parser.prototype.resume=function(){this._tokenizer.resume()},Parser.prototype.parseChunk=Parser.prototype.write,Parser.prototype.done=Parser.prototype.end,e.exports=Parser},function(e,t,n){function whitespace(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function characterState(e,t){return function(n){n===e&&(this._state=t)}}function ifElseState(e,t,n){var i=e.toLowerCase();return e===i?function(e){e===i?this._state=t:(this._state=n,this._index--)}:function(r){r===i||r===e?this._state=t:(this._state=n,this._index--)}}function consumeSpecialNameChar(e,t){var n=e.toLowerCase();return function(i){i===n||i===e?this._state=t:(this._state=u,this._index--)}}function Tokenizer(e,t){this._state=l,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=l,this._special=ue,this._cbs=t,this._running=!0,this._ended=!1,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}e.exports=Tokenizer;var i=n(39),r=n(20),o=n(40),a=n(21),s=0,l=s++,c=s++,u=s++,d=s++,h=s++,m=s++,p=s++,f=s++,g=s++,v=s++,y=s++,b=s++,_=s++,w=s++,x=s++,C=s++,S=s++,E=s++,T=s++,M=s++,k=s++,A=s++,$=s++,P=s++,L=s++,D=s++,R=s++,I=s++,O=s++,F=s++,N=s++,H=s++,j=s++,B=s++,V=s++,z=s++,Y=s++,U=s++,G=s++,q=s++,W=s++,K=s++,X=s++,J=s++,Z=s++,Q=s++,ee=s++,te=s++,ne=s++,ie=s++,re=s++,oe=s++,ae=s++,se=s++,le=s++,ce=0,ue=ce++,de=ce++,he=ce++;
Tokenizer.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=c,this._sectionStart=this._index):this._decodeEntities&&this._special===ue&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=l,this._state=re,this._sectionStart=this._index)},Tokenizer.prototype._stateBeforeTagName=function(e){"/"===e?this._state=h:"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===e||this._special!==ue||whitespace(e)?this._state=l:"!"===e?(this._state=x,this._sectionStart=this._index+1):"?"===e?(this._state=S,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==e&&"S"!==e?u:N,this._sectionStart=this._index)},Tokenizer.prototype._stateInTagName=function(e){("/"===e||">"===e||whitespace(e))&&(this._emitToken("onopentagname"),this._state=f,this._index--)},Tokenizer.prototype._stateBeforeCloseingTagName=function(e){whitespace(e)||(">"===e?this._state=l:this._special!==ue?"s"===e||"S"===e?this._state=H:(this._state=l,this._index--):(this._state=m,this._sectionStart=this._index))},Tokenizer.prototype._stateInCloseingTagName=function(e){(">"===e||whitespace(e))&&(this._emitToken("onclosetag"),this._state=p,this._index--)},Tokenizer.prototype._stateAfterCloseingTagName=function(e){">"===e&&(this._state=l,this._sectionStart=this._index+1)},Tokenizer.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=l,this._sectionStart=this._index+1):"/"===e?this._state=d:whitespace(e)||(this._state=g,this._sectionStart=this._index)},Tokenizer.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=l,this._sectionStart=this._index+1):whitespace(e)||(this._state=f,this._index--)},Tokenizer.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||whitespace(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=v,this._index--)},Tokenizer.prototype._stateAfterAttributeName=function(e){"="===e?this._state=y:"/"===e||">"===e?(this._cbs.onattribend(),this._state=f,this._index--):whitespace(e)||(this._cbs.onattribend(),this._state=g,this._sectionStart=this._index)},Tokenizer.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=b,this._sectionStart=this._index+1):"'"===e?(this._state=_,this._sectionStart=this._index+1):whitespace(e)||(this._state=w,this._sectionStart=this._index,this._index--)},Tokenizer.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=f):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=re,this._sectionStart=this._index)},Tokenizer.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=f):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=re,this._sectionStart=this._index)},Tokenizer.prototype._stateInAttributeValueNoQuotes=function(e){whitespace(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=f,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=re,this._sectionStart=this._index)},Tokenizer.prototype._stateBeforeDeclaration=function(e){this._state="["===e?A:"-"===e?E:C},Tokenizer.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=l,this._sectionStart=this._index+1)},Tokenizer.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=l,this._sectionStart=this._index+1)},Tokenizer.prototype._stateBeforeComment=function(e){"-"===e?(this._state=T,this._sectionStart=this._index+1):this._state=C},Tokenizer.prototype._stateInComment=function(e){"-"===e&&(this._state=M)},Tokenizer.prototype._stateAfterComment1=function(e){"-"===e?this._state=k:this._state=T},Tokenizer.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"-"!==e&&(this._state=T)},Tokenizer.prototype._stateBeforeCdata1=ifElseState("C",$,C),Tokenizer.prototype._stateBeforeCdata2=ifElseState("D",P,C),Tokenizer.prototype._stateBeforeCdata3=ifElseState("A",L,C),Tokenizer.prototype._stateBeforeCdata4=ifElseState("T",D,C),Tokenizer.prototype._stateBeforeCdata5=ifElseState("A",R,C),Tokenizer.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=I,this._sectionStart=this._index+1):(this._state=C,this._index--)},Tokenizer.prototype._stateInCdata=function(e){"]"===e&&(this._state=O)},Tokenizer.prototype._stateAfterCdata1=characterState("]",F),Tokenizer.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"]"!==e&&(this._state=I)},Tokenizer.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=j:"t"===e||"T"===e?this._state=X:(this._state=u,this._index--)},Tokenizer.prototype._stateBeforeSpecialEnd=function(e){this._special!==de||"c"!==e&&"C"!==e?this._special!==he||"t"!==e&&"T"!==e?this._state=l:this._state=ee:this._state=U},Tokenizer.prototype._stateBeforeScript1=consumeSpecialNameChar("R",B),Tokenizer.prototype._stateBeforeScript2=consumeSpecialNameChar("I",V),Tokenizer.prototype._stateBeforeScript3=consumeSpecialNameChar("P",z),Tokenizer.prototype._stateBeforeScript4=consumeSpecialNameChar("T",Y),Tokenizer.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||whitespace(e))&&(this._special=de),this._state=u,this._index--},Tokenizer.prototype._stateAfterScript1=ifElseState("R",G,l),Tokenizer.prototype._stateAfterScript2=ifElseState("I",q,l),Tokenizer.prototype._stateAfterScript3=ifElseState("P",W,l),Tokenizer.prototype._stateAfterScript4=ifElseState("T",K,l),Tokenizer.prototype._stateAfterScript5=function(e){">"===e||whitespace(e)?(this._special=ue,this._state=m,this._sectionStart=this._index-6,this._index--):this._state=l},Tokenizer.prototype._stateBeforeStyle1=consumeSpecialNameChar("Y",J),Tokenizer.prototype._stateBeforeStyle2=consumeSpecialNameChar("L",Z),Tokenizer.prototype._stateBeforeStyle3=consumeSpecialNameChar("E",Q),Tokenizer.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||whitespace(e))&&(this._special=he),this._state=u,this._index--},Tokenizer.prototype._stateAfterStyle1=ifElseState("Y",te,l),Tokenizer.prototype._stateAfterStyle2=ifElseState("L",ne,l),Tokenizer.prototype._stateAfterStyle3=ifElseState("E",ie,l),Tokenizer.prototype._stateAfterStyle4=function(e){">"===e||whitespace(e)?(this._special=ue,this._state=m,this._sectionStart=this._index-5,this._index--):this._state=l},Tokenizer.prototype._stateBeforeEntity=ifElseState("#",oe,ae),Tokenizer.prototype._stateBeforeNumericEntity=ifElseState("X",le,se),Tokenizer.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?a:r;t.hasOwnProperty(e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},Tokenizer.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(t>6&&(t=6);t>=2;){var n=this._buffer.substr(e,t);if(o.hasOwnProperty(n))return this._emitPartial(o[n]),void(this._sectionStart+=t+1);t--}},Tokenizer.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||e>"z")&&(e<"A"||e>"Z")&&(e<"0"||e>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==l?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},Tokenizer.prototype._decodeNumericEntity=function(e,t){var n=this._sectionStart+e;if(n!==this._index){var r=this._buffer.substring(n,this._index),o=parseInt(r,t);this._emitPartial(i(o)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},Tokenizer.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},Tokenizer.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},Tokenizer.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===l?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},Tokenizer.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},Tokenizer.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);this._state===l?this._stateText(e):this._state===c?this._stateBeforeTagName(e):this._state===u?this._stateInTagName(e):this._state===h?this._stateBeforeCloseingTagName(e):this._state===m?this._stateInCloseingTagName(e):this._state===p?this._stateAfterCloseingTagName(e):this._state===d?this._stateInSelfClosingTag(e):this._state===f?this._stateBeforeAttributeName(e):this._state===g?this._stateInAttributeName(e):this._state===v?this._stateAfterAttributeName(e):this._state===y?this._stateBeforeAttributeValue(e):this._state===b?this._stateInAttributeValueDoubleQuotes(e):this._state===_?this._stateInAttributeValueSingleQuotes(e):this._state===w?this._stateInAttributeValueNoQuotes(e):this._state===x?this._stateBeforeDeclaration(e):this._state===C?this._stateInDeclaration(e):this._state===S?this._stateInProcessingInstruction(e):this._state===E?this._stateBeforeComment(e):this._state===T?this._stateInComment(e):this._state===M?this._stateAfterComment1(e):this._state===k?this._stateAfterComment2(e):this._state===A?this._stateBeforeCdata1(e):this._state===$?this._stateBeforeCdata2(e):this._state===P?this._stateBeforeCdata3(e):this._state===L?this._stateBeforeCdata4(e):this._state===D?this._stateBeforeCdata5(e):this._state===R?this._stateBeforeCdata6(e):this._state===I?this._stateInCdata(e):this._state===O?this._stateAfterCdata1(e):this._state===F?this._stateAfterCdata2(e):this._state===N?this._stateBeforeSpecial(e):this._state===H?this._stateBeforeSpecialEnd(e):this._state===j?this._stateBeforeScript1(e):this._state===B?this._stateBeforeScript2(e):this._state===V?this._stateBeforeScript3(e):this._state===z?this._stateBeforeScript4(e):this._state===Y?this._stateBeforeScript5(e):this._state===U?this._stateAfterScript1(e):this._state===G?this._stateAfterScript2(e):this._state===q?this._stateAfterScript3(e):this._state===W?this._stateAfterScript4(e):this._state===K?this._stateAfterScript5(e):this._state===X?this._stateBeforeStyle1(e):this._state===J?this._stateBeforeStyle2(e):this._state===Z?this._stateBeforeStyle3(e):this._state===Q?this._stateBeforeStyle4(e):this._state===ee?this._stateAfterStyle1(e):this._state===te?this._stateAfterStyle2(e):this._state===ne?this._stateAfterStyle3(e):this._state===ie?this._stateAfterStyle4(e):this._state===re?this._stateBeforeEntity(e):this._state===oe?this._stateBeforeNumericEntity(e):this._state===ae?this._stateInNamedEntity(e):this._state===se?this._stateInNumericEntity(e):this._state===le?this._stateInHexEntity(e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},Tokenizer.prototype.pause=function(){this._running=!1},Tokenizer.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},Tokenizer.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},Tokenizer.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},Tokenizer.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);this._state===I||this._state===O||this._state===F?this._cbs.oncdata(e):this._state===T||this._state===M||this._state===k?this._cbs.oncomment(e):this._state!==ae||this._xmlMode?this._state!==se||this._xmlMode?this._state!==le||this._xmlMode?this._state!==u&&this._state!==f&&this._state!==y&&this._state!==v&&this._state!==g&&this._state!==_&&this._state!==b&&this._state!==w&&this._state!==m&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},Tokenizer.prototype.reset=function(){Tokenizer.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},Tokenizer.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},Tokenizer.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},Tokenizer.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},Tokenizer.prototype._emitPartial=function(e){this._baseState!==l?this._cbs.onattribdata(e):this._cbs.ontext(e)}},function(e,t,n){function Stream(e,t){var n=this._parser=new i(e,t),a=this._decoder=new o;r.call(this,{decodeStrings:!1}),this.once("finish",function(){n.end(a.end())})}e.exports=Stream;var i=n(161),r=n(18).Writable||n(545).Writable,o=n(29).StringDecoder,a=n(6).Buffer;n(4)(Stream,r),r.prototype._write=function(e,t,n){e instanceof a&&(e=this._decoder.write(e)),this._parser.write(e),n()}},function(e,t,n){"use strict";function PassThrough(e){return this instanceof PassThrough?void i.call(this,e):new PassThrough(e)}e.exports=PassThrough;var i=n(27),r=n(11);r.inherits=n(4),r.inherits(PassThrough,i),PassThrough.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";(function(t){function prependListener(e,t,n){return"function"==typeof e.prependListener?e.prependListener(t,n):void(e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n))}function ReadableState(e,t){i=i||n(9),e=e||{},this.objectMode=!!e.objectMode,t instanceof i&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,o=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:o,this.highWaterMark=~~this.highWaterMark,this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(m||(m=n(29).StringDecoder),this.decoder=new m(e.encoding),this.encoding=e.encoding)}function Readable(e){return i=i||n(9),this instanceof Readable?(this._readableState=new ReadableState(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),void a.call(this)):new Readable(e)}function readableAddChunk(e,t,n,i,r){var o=chunkInvalid(t,n);if(o)e.emit("error",o);else if(null===n)t.reading=!1,onEofChunk(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!r){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&r){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else{var l;!t.decoder||r||i||(n=t.decoder.write(n),l=!t.objectMode&&0===n.length),r||(t.reading=!1),l||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&emitReadable(e))),maybeReadMore(e,t)}else r||(t.reading=!1);return needMoreData(t)}function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function computeNewHighWaterMark(e){return e>=f?e=f:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function howMuchToRead(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=computeNewHighWaterMark(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function chunkInvalid(e,t){var n=null;return l.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function onEofChunk(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,emitReadable(e)}}function emitReadable(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r(emitReadable_,e):emitReadable_(e))}function emitReadable_(e){h("emit readable"),e.emit("readable"),flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,r(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function pipeOnDrain(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,flow(e))}}function nReadingNextTick(e){h("readable nexttick read 0"),e.read(0)}function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r(resume_,e,t))}function resume_(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function fromList(e,t){if(0===t.length)return null;var n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=fromListPartial(e,t.buffer,t.decoder),n}function fromListPartial(e,t,n){var i;return e<t.head.data.length?(i=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):i=e===t.head.data.length?t.shift():n?copyFromBufferString(e,t):copyFromBuffer(e,t),i}function copyFromBufferString(e,t){var n=t.head,i=1,r=n.data;for(e-=r.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(r+=a===o.length?o:o.slice(0,e),e-=a,0===e){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}function copyFromBuffer(e,t){var n=c.allocUnsafe(e),i=t.head,r=1;for(i.data.copy(n),e-=i.data.length;i=i.next;){var o=i.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),e-=a,0===e){a===o.length?(++r,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=o.slice(a));break}++r}return t.length-=r,n}function endReadable(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r(endReadableNT,t,e))}function endReadableNT(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function forEach(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n],n)}function indexOf(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}e.exports=Readable;var i,r=n(26),o=n(42);Readable.ReadableState=ReadableState;var a,s=(n(13).EventEmitter,function(e,t){return e.listeners(t).length});!function(){try{a=n(18)}catch(e){}finally{a||(a=n(13).EventEmitter)}}();var l=n(6).Buffer,c=n(19),u=n(11);u.inherits=n(4);var d=n(546),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var m,p=n(534);u.inherits(Readable,a),Readable.prototype.push=function(e,t){var n=this._readableState;return n.objectMode||"string"!=typeof e||(t=t||n.defaultEncoding,t!==n.encoding&&(e=c.from(e,t),t="")),readableAddChunk(this,n,e,t,!1)},Readable.prototype.unshift=function(e){var t=this._readableState;return readableAddChunk(this,t,e,"",!0)},Readable.prototype.isPaused=function(){return this._readableState.flowing===!1},Readable.prototype.setEncoding=function(e){return m||(m=n(29).StringDecoder),this._readableState.decoder=new m(e),this._readableState.encoding=e,this};var f=8388608;Readable.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(e=howMuchToRead(e,t),0===e&&t.ended)return 0===t.length&&endReadable(this),null;var i=t.needReadable;h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,h("length less than watermark",i)),t.ended||t.reading?(i=!1,h("reading or ended",i)):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=howMuchToRead(n,t)));var r;return r=e>0?fromList(e,t):null,null===r?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&endReadable(this)),null!==r&&this.emit("data",r),r},Readable.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},Readable.prototype.pipe=function(e,n){function onunpipe(e){h("onunpipe"),e===i&&cleanup()}function onend(){h("onend"),e.end()}function cleanup(){h("cleanup"),e.removeListener("close",onclose),e.removeListener("finish",onfinish),e.removeListener("drain",c),e.removeListener("error",onerror),e.removeListener("unpipe",onunpipe),i.removeListener("end",onend),i.removeListener("end",cleanup),i.removeListener("data",ondata),u=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||c()}function ondata(t){h("ondata"),d=!1;var n=e.write(t);!1!==n||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&indexOf(o.pipes,e)!==-1)&&!u&&(h("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,d=!0),i.pause())}function onerror(t){h("onerror",t),unpipe(),e.removeListener("error",onerror),0===s(e,"error")&&e.emit("error",t)}function onclose(){e.removeListener("finish",onfinish),unpipe()}function onfinish(){h("onfinish"),e.removeListener("close",onclose),unpipe()}function unpipe(){h("unpipe"),i.unpipe(e)}var i=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,n);var a=(!n||n.end!==!1)&&e!==t.stdout&&e!==t.stderr,l=a?onend:cleanup;o.endEmitted?r(l):i.once("end",l),e.on("unpipe",onunpipe);var c=pipeOnDrain(i);e.on("drain",c);var u=!1,d=!1;return i.on("data",ondata),prependListener(e,"error",onerror),e.once("close",onclose),e.once("finish",onfinish),e.emit("pipe",i),o.flowing||(h("pipe resume"),i.resume()),e},Readable.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var r=0;r<i;r++)n[r].emit("unpipe",this);return this}var o=indexOf(t.pipes,e);return o===-1?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},Readable.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t);if("data"===e)this._readableState.flowing!==!1&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&emitReadable(this,i):r(nReadingNextTick,this))}return n},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,resume(this,e)),this},Readable.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(e){var t=this._readableState,n=!1,i=this;e.on("end",function(){if(h("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&i.push(e)}i.push(null)}),e.on("data",function(r){if(h("wrapped data"),t.decoder&&(r=t.decoder.write(r)),(!t.objectMode||null!==r&&void 0!==r)&&(t.objectMode||r&&r.length)){var o=i.push(r);o||(n=!0,e.pause())}});for(var r in e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));var o=["error","close","destroy","pause","resume"];return forEach(o,function(t){e.on(t,i.emit.bind(i,t))}),i._read=function(t){h("wrapped _read",t),n&&(n=!1,e.resume())},i},Readable._fromList=fromList}).call(t,n(8))},function(e,t,n){function Timeout(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new Timeout(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new Timeout(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(532),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t){function bytesToUuid(e,t){var i=t||0,r=n;return r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]}for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=bytesToUuid},function(e,t,n){(function(t){var n,i=t.crypto||t.msCrypto;if(i&&i.getRandomValues){var r=new Uint8Array(16);n=function(){return i.getRandomValues(r),r}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(t,n(5))},function(e,t,n){var i,r;!function(n,o){i=[],r=function(){return o()}.apply(t,i),!(void 0!==r&&(e.exports=r))}(this,function(){"use strict";return angular.module("tmh.dynamicLocale",[]).config(["$provide",function(e){function makeStateful(e){return e.$stateful=!0,e}e.decorator("dateFilter",["$delegate",makeStateful]),e.decorator("numberFilter",["$delegate",makeStateful]),e.decorator("currencyFilter",["$delegate",makeStateful])}]).constant("tmhDynamicLocale.STORAGE_KEY","tmhDynamicLocale.locale").provider("tmhDynamicLocale",["tmhDynamicLocale.STORAGE_KEY",function(e){function loadScript(e,t,i,r){var o=document.createElement("script"),a=n?n:document.getElementsByTagName("body")[0],s=!1;o.type="text/javascript",o.readyState?o.onreadystatechange=function(){"complete"!==o.readyState&&"loaded"!==o.readyState||(o.onreadystatechange=null,r(function(){s||(s=!0,a.removeChild(o),t())},30,!1))}:(o.onload=function(){s||(s=!0,a.removeChild(o),t())},o.onerror=function(){s||(s=!0,a.removeChild(o),i())}),o.src=e,o.async=!0,a.appendChild(o)}function loadLocale(e,t,n,o,a,c,u){function overrideValues(e,t){r===n&&(angular.forEach(e,function(n,i){t[i]?angular.isArray(t[i])&&(e[i].length=t[i].length):delete e[i]}),angular.forEach(t,function(n,i){angular.isArray(t[i])||angular.isObject(t[i])?(e[i]||(e[i]=angular.isArray(t[i])?[]:{}),overrideValues(e[i],t[i])):e[i]=t[i]}))}if(l[n])return r=n,l[n];var d,h=a.defer();return n===r?h.resolve(t):(d=c.get(n))?(r=n,o.$evalAsync(function(){overrideValues(t,d),i.put(s,n),o.$broadcast("$localeChangeSuccess",n,t),h.resolve(t)})):(r=n,l[n]=h.promise,loadScript(e,function(){var e=angular.injector(["ngLocale"]),r=e.get("$locale");overrideValues(t,r),c.put(n,r),delete l[n],o.$applyAsync(function(){i.put(s,n),o.$broadcast("$localeChangeSuccess",n,t),h.resolve(t)})},function(){delete l[n],o.$applyAsync(function(){r===n&&(r=t.id),o.$broadcast("$localeChangeError",n),h.reject(n)})},u)),h.promise}var t,n,i,r,o="angular/i18n/angular-locale_{{locale}}.js",a="tmhDynamicLocaleStorageCache",s=e,l={},c={};this.localeLocationPattern=function(e){return e?(o=e,this):o},this.appendScriptTo=function(e){n=e},this.useStorage=function(e){a=e},this.useCookieStorage=function(){this.useStorage("$cookieStore")},this.defaultLocale=function(e){t=e},this.storageKey=function(e){return e?(s=e,this):s},this.addLocalePatternValue=function(e,t){c[e]=t},this.$get=["$rootScope","$injector","$interpolate","$locale","$q","tmhDynamicLocaleCache","$timeout",function(e,n,l,u,d,h,m){function loadLocaleFn(t){var n={locale:t,angularVersion:angular.version.full};return loadLocale(p(angular.extend({},c,n)),u,t,e,d,h,m)}var p=l(o);return i=n.get(a),e.$evalAsync(function(){var e;(e=i.get(s)||t)&&loadLocaleFn(e)}),{set:loadLocaleFn,get:function(){return r}}}]}]).provider("tmhDynamicLocaleCache",function(){this.$get=["$cacheFactory",function(e){return e("tmh.dynamicLocales")}]}).provider("tmhDynamicLocaleStorageCache",function(){this.$get=["$cacheFactory",function(e){return e("tmh.dynamicLocales.store")}]}).run(["tmhDynamicLocale",angular.noop]),"tmh.dynamicLocale"})},function(e,t){angular.module("md5",[]).constant("md5",function(){function hex_md5(e){return rstr2hex(rstr_md5(str2rstr_utf8(e)))}function rstr_md5(e){return binl2rstr(binl_md5(rstr2binl(e),8*e.length))}function rstr2hex(t){try{}catch(t){e=0}for(var n,i=e?"0123456789ABCDEF":"0123456789abcdef",r="",o=0;o<t.length;o++)n=t.charCodeAt(o),r+=i.charAt(n>>>4&15)+i.charAt(15&n);return r}function str2rstr_utf8(e){for(var t,n,i="",r=-1;++r<e.length;)t=e.charCodeAt(r),n=r+1<e.length?e.charCodeAt(r+1):0,55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t=65536+((1023&t)<<10)+(1023&n),r++),t<=127?i+=String.fromCharCode(t):t<=2047?i+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?i+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(i+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return i}function rstr2binl(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(var n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}function binl2rstr(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}function binl_md5(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var n=1732584193,i=-271733879,r=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=n,l=i,c=r,u=o;n=md5_ff(n,i,r,o,e[a+0],7,-680876936),o=md5_ff(o,n,i,r,e[a+1],12,-389564586),r=md5_ff(r,o,n,i,e[a+2],17,606105819),i=md5_ff(i,r,o,n,e[a+3],22,-1044525330),n=md5_ff(n,i,r,o,e[a+4],7,-176418897),o=md5_ff(o,n,i,r,e[a+5],12,1200080426),r=md5_ff(r,o,n,i,e[a+6],17,-1473231341),i=md5_ff(i,r,o,n,e[a+7],22,-45705983),n=md5_ff(n,i,r,o,e[a+8],7,1770035416),o=md5_ff(o,n,i,r,e[a+9],12,-1958414417),r=md5_ff(r,o,n,i,e[a+10],17,-42063),i=md5_ff(i,r,o,n,e[a+11],22,-1990404162),n=md5_ff(n,i,r,o,e[a+12],7,1804603682),o=md5_ff(o,n,i,r,e[a+13],12,-40341101),r=md5_ff(r,o,n,i,e[a+14],17,-1502002290),i=md5_ff(i,r,o,n,e[a+15],22,1236535329),n=md5_gg(n,i,r,o,e[a+1],5,-165796510),o=md5_gg(o,n,i,r,e[a+6],9,-1069501632),r=md5_gg(r,o,n,i,e[a+11],14,643717713),
i=md5_gg(i,r,o,n,e[a+0],20,-373897302),n=md5_gg(n,i,r,o,e[a+5],5,-701558691),o=md5_gg(o,n,i,r,e[a+10],9,38016083),r=md5_gg(r,o,n,i,e[a+15],14,-660478335),i=md5_gg(i,r,o,n,e[a+4],20,-405537848),n=md5_gg(n,i,r,o,e[a+9],5,568446438),o=md5_gg(o,n,i,r,e[a+14],9,-1019803690),r=md5_gg(r,o,n,i,e[a+3],14,-187363961),i=md5_gg(i,r,o,n,e[a+8],20,1163531501),n=md5_gg(n,i,r,o,e[a+13],5,-1444681467),o=md5_gg(o,n,i,r,e[a+2],9,-51403784),r=md5_gg(r,o,n,i,e[a+7],14,1735328473),i=md5_gg(i,r,o,n,e[a+12],20,-1926607734),n=md5_hh(n,i,r,o,e[a+5],4,-378558),o=md5_hh(o,n,i,r,e[a+8],11,-2022574463),r=md5_hh(r,o,n,i,e[a+11],16,1839030562),i=md5_hh(i,r,o,n,e[a+14],23,-35309556),n=md5_hh(n,i,r,o,e[a+1],4,-1530992060),o=md5_hh(o,n,i,r,e[a+4],11,1272893353),r=md5_hh(r,o,n,i,e[a+7],16,-155497632),i=md5_hh(i,r,o,n,e[a+10],23,-1094730640),n=md5_hh(n,i,r,o,e[a+13],4,681279174),o=md5_hh(o,n,i,r,e[a+0],11,-358537222),r=md5_hh(r,o,n,i,e[a+3],16,-722521979),i=md5_hh(i,r,o,n,e[a+6],23,76029189),n=md5_hh(n,i,r,o,e[a+9],4,-640364487),o=md5_hh(o,n,i,r,e[a+12],11,-421815835),r=md5_hh(r,o,n,i,e[a+15],16,530742520),i=md5_hh(i,r,o,n,e[a+2],23,-995338651),n=md5_ii(n,i,r,o,e[a+0],6,-198630844),o=md5_ii(o,n,i,r,e[a+7],10,1126891415),r=md5_ii(r,o,n,i,e[a+14],15,-1416354905),i=md5_ii(i,r,o,n,e[a+5],21,-57434055),n=md5_ii(n,i,r,o,e[a+12],6,1700485571),o=md5_ii(o,n,i,r,e[a+3],10,-1894986606),r=md5_ii(r,o,n,i,e[a+10],15,-1051523),i=md5_ii(i,r,o,n,e[a+1],21,-2054922799),n=md5_ii(n,i,r,o,e[a+8],6,1873313359),o=md5_ii(o,n,i,r,e[a+15],10,-30611744),r=md5_ii(r,o,n,i,e[a+6],15,-1560198380),i=md5_ii(i,r,o,n,e[a+13],21,1309151649),n=md5_ii(n,i,r,o,e[a+4],6,-145523070),o=md5_ii(o,n,i,r,e[a+11],10,-1120210379),r=md5_ii(r,o,n,i,e[a+2],15,718787259),i=md5_ii(i,r,o,n,e[a+9],21,-343485551),n=safe_add(n,s),i=safe_add(i,l),r=safe_add(r,c),o=safe_add(o,u)}return Array(n,i,r,o)}function md5_cmn(e,t,n,i,r,o){return safe_add(bit_rol(safe_add(safe_add(t,e),safe_add(i,o)),r),n)}function md5_ff(e,t,n,i,r,o,a){return md5_cmn(t&n|~t&i,e,t,r,o,a)}function md5_gg(e,t,n,i,r,o,a){return md5_cmn(t&i|n&~i,e,t,r,o,a)}function md5_hh(e,t,n,i,r,o,a){return md5_cmn(t^n^i,e,t,r,o,a)}function md5_ii(e,t,n,i,r,o,a){return md5_cmn(n^(t|~i),e,t,r,o,a)}function safe_add(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n}function bit_rol(e,t){return e<<t|e>>>32-t}var e=0;return hex_md5}()),function(){var e;e=function(e){return["gravatarService",function(t){var n;return n=function(e,t){var n,i,r;i={};for(n in t)r=t[n],0===n.indexOf(e)&&(n=n.substr(e.length).toLowerCase(),n.length>0&&(i[n]=r));return i},{restrict:"A",link:function(i,r,o){var a,s,l,c;a=e?"gravatarSrcOnce":"gravatarSrc",s=o[a],delete o[a],l=n("gravatar",o),c=i.$watch(s,function(n){if(r.attr("src",t.url(n,l)),e){if(null==n)return;c()}})}}}]},angular.module("ui.gravatar",["md5"]).provider("gravatarService",["md5",function(e){var t,n,i;return n=this,t=/^[0-9a-f]{32}$/i,i=function(e){var t,n,i;n=[];for(t in e)i=e[t],n.push(""+t+"="+encodeURIComponent(i));return n.join("&")},this.defaults={},this.secure=!1,this.protocol=null,this.urlFunc=function(n){var r,o,a,s,l;return a=n.protocol?n.protocol+":":"",l=n.secure?"https://secure":a+"//www",s=t.test(n.src)?n.src:e(n.src),o=[l,".gravatar.com/avatar/",s],r=i(n.params),r.length>0&&o.push("?"+r),o.join("")},this.$get=[function(){return{url:function(e,t){return null==e&&(e=""),null==t&&(t={}),n.urlFunc({params:angular.extend(angular.copy(n.defaults),t),protocol:n.protocol,secure:n.secure,src:e})}}}],this}]).directive("gravatarSrc",e()).directive("gravatarSrcOnce",e(!0))}.call(this)},function(e,t,n){n(198),e.exports="angular-loading-bar"},function(e,t,n){n(32),n(199),e.exports="md.data.table"},function(e,t,n){n(201),e.exports="ngMessages"},function(e,t,n){n(1),n(202),e.exports="hj.modal"},function(e,t,n){var i,r,o;!function(){"use strict";function isUndefinedOrNull(e){return angular.isUndefined(e)||null===e}function requireMoment(){try{return n(0)}catch(e){throw new Error("Please install moment via npm. Please reference to: https://github.com/urish/angular-moment")}}function angularMoment(e,t){return"undefined"==typeof t&&(t=requireMoment()),e.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:null,format:null,statefulFilters:!0}).constant("moment",t).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null,fullDateThresholdUnit:"day"}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig",function(t,n,i,r){return function(o,a,s){function getNow(){var e;if(c)e=c;else if(r.serverTime){var t=(new Date).getTime(),i=t-g+r.serverTime;e=n(i)}else e=n();return e}function cancelTimer(){u&&(t.clearTimeout(u),u=null)}function updateTime(e){var n=getNow().diff(e,f),i=m&&n>=m;if(i?a.text(e.format(p)):a.text(e.from(getNow(),d)),h&&b&&a.attr("title",e.format(h)),!i){var r=Math.abs(getNow().diff(e,"minute")),o=3600;r<1?o=1:r<60?o=30:r<180&&(o=300),u=t.setTimeout(function(){updateTime(e)},1e3*o)}}function updateDateTimeAttr(e){y&&a.attr("datetime",e)}function updateMoment(){if(cancelTimer(),l){var e=i.preprocessDate(l);updateTime(e),updateDateTimeAttr(e.toISOString())}}var l,c,u=null,d=r.withoutSuffix,h=r.titleFormat,m=r.fullDateThreshold,p=r.fullDateFormat,f=r.fullDateThresholdUnit,g=(new Date).getTime(),v=s.amTimeAgo,y="TIME"===a[0].nodeName.toUpperCase(),b=!a.attr("title");o.$watch(v,function(e){return isUndefinedOrNull(e)||""===e?(cancelTimer(),void(l&&(a.text(""),updateDateTimeAttr(""),l=null))):(l=e,void updateMoment())}),e.isDefined(s.amFrom)&&o.$watch(s.amFrom,function(e){c=isUndefinedOrNull(e)||""===e?null:n(e),updateMoment()}),e.isDefined(s.amWithoutSuffix)&&o.$watch(s.amWithoutSuffix,function(e){"boolean"==typeof e?(d=e,updateMoment()):d=r.withoutSuffix}),s.$observe("amFullDateThreshold",function(e){m=e,updateMoment()}),s.$observe("amFullDateFormat",function(e){p=e,updateMoment()}),s.$observe("amFullDateThresholdUnit",function(e){f=e,updateMoment()}),o.$on("$destroy",function(){cancelTimer()}),o.$on("amMoment:localeChanged",function(){updateMoment()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(t,n,i,r){var o=null;this.changeLocale=function(i,r){var o=t.locale(i,r);return e.isDefined(i)&&n.$broadcast("amMoment:localeChanged"),o},this.changeTimezone=function(e){t.tz&&t.tz.setDefault?(t.tz.setDefault(e),n.$broadcast("amMoment:timezoneChanged")):i.warn("angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater."),r.timezone=e,o=e},this.preprocessDate=function(e){return o!==r.timezone&&this.changeTimezone(r.timezone),r.preprocess?r.preprocess(e):t(!isNaN(parseFloat(e))&&isFinite(e)?parseInt(e,10):e)}}]).filter("amParse",["moment",function(e){return function(t,n){return e(t,n)}}]).filter("amFromUnix",["moment",function(e){return function(t){return e.unix(t)}}]).filter("amUtc",["moment",function(e){return function(t){return e.utc(t)}}]).filter("amUtcOffset",["amMoment",function(e){function amUtcOffset(t,n){return e.preprocessDate(t).utcOffset(n)}return amUtcOffset}]).filter("amLocal",["moment",function(e){return function(t){return e.isMoment(t)?t.local():null}}]).filter("amTimezone",["amMoment","angularMomentConfig","$log",function(e,t,n){function amTimezone(t,i){var r=e.preprocessDate(t);return i?r.tz?r.tz(i):(n.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?"),r):r}return amTimezone}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(e,t,n){function amCalendarFilter(e,n,i){if(isUndefinedOrNull(e))return"";var r=t.preprocessDate(e);return r.isValid()?r.calendar(n,i):""}return amCalendarFilter.$stateful=n.statefulFilters,amCalendarFilter}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(e,t,n){function amDifferenceFilter(n,i,r,o){if(isUndefinedOrNull(n))return"";var a=t.preprocessDate(n),s=isUndefinedOrNull(i)?e():t.preprocessDate(i);return a.isValid()&&s.isValid()?a.diff(s,r,o):""}return amDifferenceFilter.$stateful=n.statefulFilters,amDifferenceFilter}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(e,t,n){function amDateFormatFilter(e,n){if(isUndefinedOrNull(e))return"";var i=t.preprocessDate(e);return i.isValid()?i.format(n):""}return amDateFormatFilter.$stateful=n.statefulFilters,amDateFormatFilter}]).filter("amDurationFormat",["moment","angularMomentConfig",function(e,t){function amDurationFormatFilter(t,n,i){return isUndefinedOrNull(t)?"":e.duration(t,n).humanize(i)}return amDurationFormatFilter.$stateful=t.statefulFilters,amDurationFormatFilter}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(e,t,n){function amTimeAgoFilter(n,i,r){var o,a;return isUndefinedOrNull(n)?"":(n=t.preprocessDate(n),o=e(n),o.isValid()?(a=e(r),!isUndefinedOrNull(r)&&a.isValid()?o.from(a,i):o.fromNow(i)):"")}return amTimeAgoFilter.$stateful=n.statefulFilters,amTimeAgoFilter}]).filter("amSubtract",["moment","angularMomentConfig",function(e,t){function amSubtractFilter(t,n,i){return isUndefinedOrNull(t)?"":e(t).subtract(parseInt(n,10),i)}return amSubtractFilter.$stateful=t.statefulFilters,amSubtractFilter}]).filter("amAdd",["moment","angularMomentConfig",function(e,t){function amAddFilter(t,n,i){return isUndefinedOrNull(t)?"":e(t).add(parseInt(n,10),i)}return amAddFilter.$stateful=t.statefulFilters,amAddFilter}]).filter("amStartOf",["moment","angularMomentConfig",function(e,t){function amStartOfFilter(t,n){return isUndefinedOrNull(t)?"":e(t).startOf(n)}return amStartOfFilter.$stateful=t.statefulFilters,amStartOfFilter}]).filter("amEndOf",["moment","angularMomentConfig",function(e,t){function amEndOfFilter(t,n){return isUndefinedOrNull(t)?"":e(t).endOf(n)}return amEndOfFilter.$stateful=t.statefulFilters,amEndOfFilter}]),"angularMoment"}window&&window.process&&window.process.type;r=[n(1),n(0)],i=angularMoment,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}()},function(e,t,n){n(203),e.exports="ngSanitize"},function(e,t){!function(){"use strict";function _slugify(e){if(!e)return"";for(var t,i,r=[],o=0;o<e.length;o++)(i=e.charCodeAt(o))<384&&(t=String.fromCharCode(i),r.push(n[t]||t));return e=r.join(""),e=e.replace(/[^\w\s-]/g,"").trim().toLowerCase(),e.replace(/[-\s]+/g,"-")}var t=angular.module("slugifier",[]),n={"":" ","":"!","":"c","":"lb","":"yen","":"|","":"SS","":'"',"":"(c)","":"a","":"<<","":"not","":"-","":"(R)","":"^0","":"+/-","":"^2","":"^3","":"'","":"u","":"P","":".","":",","":"^1","":"o","":">>","":" 1/4 ","":" 1/2 ","":" 3/4 ","":"?","":"`A","":"'A","":"^A","":"~A","":'"A',"":"A","":"AE","":"C","":"`E","":"'E","":"^E","":'"E',"":"`I","":"'I","":"^I","":'"I',"":"D","":"~N","":"`O","":"'O","":"^O","":"~O","":'"O',"":"x","":"O","":"`U","":"'U","":"^U","":'"U',"":"'Y","":"Th","":"ss","":"`a","":"'a","":"^a","":"~a","":'"a',"":"a","":"ae","":"c","":"`e","":"'e","":"^e","":'"e',"":"`i","":"'i","":"^i","":'"i',"":"d","":"~n","":"`o","":"'o","":"^o","":"~o","":'"o',"":":","":"o","":"`u","":"'u","":"^u","":'"u',"":"'y","":"th","":'"y',"":"A","":"a","":"A","":"a","":"A","":"a","":"'C","":"'c","":"^C","":"^c","":"C","":"c","":"C","":"c","":"D","":"d","":"D","":"d","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"^G","":"^g","":"G","":"g","":"G","":"g","":"G","":"g","":"^H","":"^h","":"H","":"h","":"~I","":"~i","":"I","":"i","":"I","":"i","":"I","":"i","":"I","":"i","":"IJ","":"ij","":"^J","":"^j","":"K","":"k","":"L","":"l","":"L","":"l","":"L","":"l","":"L","":"l","":"L","":"l","":"'N","":"'n","":"N","":"n","":"N","":"n","":"'n","":"O","":"o","":"O","":"o","":'"O',"":'"o',"":"OE","":"oe","":"'R","":"'r","":"R","":"r","":"R","":"r","":"'S","":"'s","":"^S","":"^s","":"S","":"s","":"S","":"s","":"T","":"t","":"T","":"t","":"T","":"t","":"~U","":"~u","":"U","":"u","":"U","":"u","":"U","":"u","":'"U',"":'"u',"":"U","":"u","":"^W","":"^w","":"^Y","":"^y","":'"Y',"":"'Z","":"'z","":"Z","":"z","":"Z","":"z","":"s"};t.factory("Slug",function(){return{slugify:_slugify}}),t.directive("slug",["Slug",function(e){return{restrict:"E",scope:{to:"="},transclude:!0,replace:!0,template:"<div ng-transclude></div>",link:function(t,n,i){if(!i.from)throw"must set attribute 'from'";t.$parent.$watch(i.from,function(n){t.to=e.slugify(n)})}}}]),t.filter("slugify",["Slug",function(e){return function(t){return e.slugify(t)}}]),e.exports=t}()},function(e,t,n){n(204),e.exports="ngTouch"},function(e,t,n){n(205),e.exports="ui.grid"},function(e,t,n){n(206),e.exports="ui.tree"},function(e,t,n){"use strict";var i=n(457),r=n.n(i),o=n(378),a=(n.n(o),function(){return{template:r.a,restrict:"E"}});t.a=a},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(1),a=n.n(o),s=n(229),l=n(226),c=n(227),u=n(225),d=n(224),h=[s.a.name,l.a.name,c.a.name];r.a.forEach(d,function(e){h.push(e.name)});var m=a.a.module("app.common",h).factory("BatchFactory",u.a);t.a=m},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(342),a=n(260),s=n(346),l=n(242),c=n(264),u=n(350),d=n(269),h=n(273),m=n(278),p=n(235),f=n(257),g=n(339),v=n(353),y=r.a.module("app.components",[o.a.name,a.a.name,s.a.name,l.a.name,c.a.name,u.a.name,d.a.name,h.a.name,m.a.name,p.a.name,f.a.name,g.a.name,v.a.name]);t.a=y},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){n(418),e.exports="iso-3166-country-codes"},function(e,t,n){!function(t,n){e.exports=n()}(this,function(){"use strict";function joinUrl(e,t){if(/^(?:[a-z]+:)?\/\//i.test(t))return t;var n=[e,t].join("/"),i=function(e){return e.replace(/[\/]+/g,"/").replace(/\/\?/g,"?").replace(/\/\#/g,"#").replace(/\:\//g,"://")};return i(n)}function getFullUrlPath(e){var t="https:"===e.protocol;return e.protocol+"//"+e.hostname+":"+(e.port||(t?"443":"80"))+(/^\//.test(e.pathname)?e.pathname:"/"+e.pathname)}function parseQueryString(e){var t,n,i={};return angular.forEach((e||"").split("&"),function(e){e&&(n=e.split("="),t=decodeURIComponent(n[0]),i[t]=!angular.isDefined(n[1])||decodeURIComponent(n[1]))}),i}function decodeBase64(t){var i;if("undefined"!=typeof e&&e.exports)try{i=n(6).Buffer}catch(e){}var r=String.fromCharCode,o=new RegExp(["[-][-]","[-][-]{2}","[-][-]{3}"].join("|"),"g"),a=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return r((n>>>10)+55296)+r((1023&n)+56320);case 3:return r((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return r((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},s=function(e){return e.replace(o,a)},l=i?function(e){return(e.constructor===i.constructor?e:new i(e,"base64")).toString()}:function(e){return s(atob(e))};return l(String(t).replace(/[-_]/g,function(e){return"-"===e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))}var t=function(){function Config(){this.baseUrl="/",this.loginUrl="/auth/login",this.signupUrl="/auth/signup",this.unlinkUrl="/auth/unlink/",this.tokenName="token",this.tokenPrefix="satellizer",this.tokenHeader="Authorization",this.tokenType="Bearer",this.storageType="localStorage",this.tokenRoot=null,this.withCredentials=!1,this.providers={facebook:{name:"facebook",url:"/auth/facebook",authorizationEndpoint:"https://www.facebook.com/v2.5/dialog/oauth",redirectUri:window.location.origin+"/",requiredUrlParams:["display","scope"],scope:["email"],scopeDelimiter:",",display:"popup",oauthType:"2.0",popupOptions:{width:580,height:400}},google:{name:"google",url:"/auth/google",authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",redirectUri:window.location.origin,requiredUrlParams:["scope"],optionalUrlParams:["display","state"],scope:["profile","email"],scopePrefix:"openid",scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:452,height:633},state:function(){return encodeURIComponent(Math.random().toString(36).substr(2))}},github:{name:"github",url:"/auth/github",authorizationEndpoint:"https://github.com/login/oauth/authorize",redirectUri:window.location.origin,optionalUrlParams:["scope"],scope:["user:email"],scopeDelimiter:" ",oauthType:"2.0",popupOptions:{width:1020,height:618}},instagram:{name:"instagram",url:"/auth/instagram",authorizationEndpoint:"https://api.instagram.com/oauth/authorize",redirectUri:window.location.origin,requiredUrlParams:["scope"],scope:["basic"],scopeDelimiter:"+",oauthType:"2.0"},linkedin:{name:"linkedin",url:"/auth/linkedin",authorizationEndpoint:"https://www.linkedin.com/uas/oauth2/authorization",redirectUri:window.location.origin,requiredUrlParams:["state"],scope:["r_emailaddress"],scopeDelimiter:" ",state:"STATE",oauthType:"2.0",popupOptions:{width:527,height:582}},twitter:{name:"twitter",url:"/auth/twitter",authorizationEndpoint:"https://api.twitter.com/oauth/authenticate",redirectUri:window.location.origin,oauthType:"1.0",popupOptions:{width:495,height:645}},twitch:{name:"twitch",url:"/auth/twitch",authorizationEndpoint:"https://api.twitch.tv/kraken/oauth2/authorize",redirectUri:window.location.origin,requiredUrlParams:["scope"],scope:["user_read"],scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:500,height:560}},live:{name:"live",url:"/auth/live",authorizationEndpoint:"https://login.live.com/oauth20_authorize.srf",redirectUri:window.location.origin,requiredUrlParams:["display","scope"],scope:["wl.emails"],scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:500,height:560}},yahoo:{name:"yahoo",url:"/auth/yahoo",authorizationEndpoint:"https://api.login.yahoo.com/oauth2/request_auth",redirectUri:window.location.origin,scope:[],scopeDelimiter:",",oauthType:"2.0",popupOptions:{width:559,height:519}},bitbucket:{name:"bitbucket",url:"/auth/bitbucket",authorizationEndpoint:"https://bitbucket.org/site/oauth2/authorize",redirectUri:window.location.origin+"/",requiredUrlParams:["scope"],scope:["email"],scopeDelimiter:" ",oauthType:"2.0",popupOptions:{width:1028,height:529}},spotify:{name:"spotify",url:"/auth/spotify",authorizationEndpoint:"https://accounts.spotify.com/authorize",redirectUri:window.location.origin,optionalUrlParams:["state"],requiredUrlParams:["scope"],scope:["user-read-email"],scopePrefix:"",scopeDelimiter:",",oauthType:"2.0",popupOptions:{width:500,height:530},state:function(){return encodeURIComponent(Math.random().toString(36).substr(2))}}},this.httpInterceptor=function(){return!0}}return Object.defineProperty(Config,"getConstant",{get:function(){return new Config},enumerable:!0,configurable:!0}),Config}(),i=function(){function AuthProvider(e){this.SatellizerConfig=e}return Object.defineProperty(AuthProvider.prototype,"baseUrl",{get:function(){return this.SatellizerConfig.baseUrl},set:function(e){this.SatellizerConfig.baseUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(AuthProvider.prototype,"loginUrl",{get:function(){return this.SatellizerConfig.loginUrl},set:function(e){this.SatellizerConfig.loginUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(AuthProvider.prototype,"signupUrl",{get:function(){return this.SatellizerConfig.signupUrl},set:function(e){this.SatellizerConfig.signupUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(AuthProvider.prototype,"unlinkUrl",{get:function(){return this.SatellizerConfig.unlinkUrl},set:function(e){this.SatellizerConfig.unlinkUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(AuthProvider.prototype,"tokenRoot",{get:function(){return this.SatellizerConfig.tokenRoot},set:function(e){this.SatellizerConfig.tokenRoot=e},enumerable:!0,configurable:!0}),Object.defineProperty(AuthProvider.prototype,"tokenName",{get:function(){return this.SatellizerConfig.tokenName},set:function(e){this.SatellizerConfig.tokenName=e},enumerable:!0,configurable:!0}),Object.defineProperty(AuthProvider.prototype,"tokenPrefix",{get:function(){return this.SatellizerConfig.tokenPrefix},set:function(e){this.SatellizerConfig.tokenPrefix=e},enumerable:!0,configurable:!0}),Object.defineProperty(AuthProvider.prototype,"tokenHeader",{get:function(){return this.SatellizerConfig.tokenHeader},set:function(e){this.SatellizerConfig.tokenHeader=e},enumerable:!0,configurable:!0}),Object.defineProperty(AuthProvider.prototype,"tokenType",{get:function(){return this.SatellizerConfig.tokenType},set:function(e){this.SatellizerConfig.tokenType=e},enumerable:!0,configurable:!0}),Object.defineProperty(AuthProvider.prototype,"withCredentials",{get:function(){return this.SatellizerConfig.withCredentials},set:function(e){this.SatellizerConfig.withCredentials=e},enumerable:!0,configurable:!0}),Object.defineProperty(AuthProvider.prototype,"storageType",{get:function(){return this.SatellizerConfig.storageType},set:function(e){this.SatellizerConfig.storageType=e},enumerable:!0,configurable:!0}),Object.defineProperty(AuthProvider.prototype,"httpInterceptor",{get:function(){return this.SatellizerConfig.httpInterceptor},set:function(e){"function"==typeof e?this.SatellizerConfig.httpInterceptor=e:this.SatellizerConfig.httpInterceptor=function(){return e}},enumerable:!0,configurable:!0}),AuthProvider.prototype.facebook=function(e){angular.extend(this.SatellizerConfig.providers.facebook,e)},AuthProvider.prototype.google=function(e){angular.extend(this.SatellizerConfig.providers.google,e)},AuthProvider.prototype.github=function(e){angular.extend(this.SatellizerConfig.providers.github,e)},AuthProvider.prototype.instagram=function(e){angular.extend(this.SatellizerConfig.providers.instagram,e)},AuthProvider.prototype.linkedin=function(e){angular.extend(this.SatellizerConfig.providers.linkedin,e)},AuthProvider.prototype.twitter=function(e){angular.extend(this.SatellizerConfig.providers.twitter,e)},AuthProvider.prototype.twitch=function(e){angular.extend(this.SatellizerConfig.providers.twitch,e)},AuthProvider.prototype.live=function(e){angular.extend(this.SatellizerConfig.providers.live,e)},AuthProvider.prototype.yahoo=function(e){angular.extend(this.SatellizerConfig.providers.yahoo,e)},AuthProvider.prototype.bitbucket=function(e){angular.extend(this.SatellizerConfig.providers.bitbucket,e)},AuthProvider.prototype.spotify=function(e){angular.extend(this.SatellizerConfig.providers.spotify,e)},AuthProvider.prototype.oauth1=function(e){this.SatellizerConfig.providers[e.name]=angular.extend(e,{oauthType:"1.0"})},AuthProvider.prototype.oauth2=function(e){this.SatellizerConfig.providers[e.name]=angular.extend(e,{oauthType:"2.0"})},AuthProvider.prototype.$get=function(e,t,n){return{login:function(e,n){return t.login(e,n)},signup:function(e,n){return t.signup(e,n)},logout:function(){return e.logout()},authenticate:function(e,t){return n.authenticate(e,t)},link:function(e,t){return n.authenticate(e,t)},unlink:function(e,t){return n.unlink(e,t)},isAuthenticated:function(){return e.isAuthenticated()},getPayload:function(){return e.getPayload()},getToken:function(){return e.getToken()},setToken:function(t){return e.setToken({access_token:t})},removeToken:function(){return e.removeToken()},setStorageType:function(t){return e.setStorageType(t)}}},AuthProvider.$inject=["SatellizerConfig"],AuthProvider}();i.prototype.$get.$inject=["SatellizerShared","SatellizerLocal","SatellizerOAuth"];var r=function(){function Shared(e,t,n,i){this.$q=e,this.$window=t,this.SatellizerConfig=n,this.SatellizerStorage=i;var r=this.SatellizerConfig,o=r.tokenName,a=r.tokenPrefix;this.prefixedTokenName=a?[a,o].join("_"):o}return Shared.prototype.getToken=function(){return this.SatellizerStorage.get(this.prefixedTokenName)},Shared.prototype.getPayload=function(){var e=this.SatellizerStorage.get(this.prefixedTokenName);if(e&&3===e.split(".").length)try{var t=e.split(".")[1],n=t.replace("-","+").replace("_","/");return JSON.parse(decodeBase64(n))}catch(e){}},Shared.prototype.setToken=function(e){var t,n=this.SatellizerConfig.tokenRoot,i=this.SatellizerConfig.tokenName,r=e&&e.access_token;if(r&&(angular.isObject(r)&&angular.isObject(r.data)?e=r:angular.isString(r)&&(t=r)),!t&&e){var o=n&&n.split(".").reduce(function(e,t){return e[t]},e.data);t=o?o[i]:e.data&&e.data[i]}t&&this.SatellizerStorage.set(this.prefixedTokenName,t)},Shared.prototype.removeToken=function(){this.SatellizerStorage.remove(this.prefixedTokenName)},Shared.prototype.isAuthenticated=function(){var e=this.SatellizerStorage.get(this.prefixedTokenName);if(e){if(3===e.split(".").length)try{var t=e.split(".")[1],n=t.replace("-","+").replace("_","/"),i=JSON.parse(this.$window.atob(n)).exp;if("number"==typeof i)return Math.round((new Date).getTime()/1e3)<i}catch(e){return!0}return!0}return!1},Shared.prototype.logout=function(){return this.SatellizerStorage.remove(this.prefixedTokenName),this.$q.when()},Shared.prototype.setStorageType=function(e){this.SatellizerConfig.storageType=e},Shared.$inject=["$q","$window","SatellizerConfig","SatellizerStorage"],Shared}(),o=function(){function Local(e,t,n){this.$http=e,this.SatellizerConfig=t,this.SatellizerShared=n}return Local.prototype.login=function(e,t){var n=this;return void 0===t&&(t={}),t.url=t.url?t.url:joinUrl(this.SatellizerConfig.baseUrl,this.SatellizerConfig.loginUrl),t.data=e||t.data,t.method=t.method||"POST",t.withCredentials=t.withCredentials||this.SatellizerConfig.withCredentials,this.$http(t).then(function(e){return n.SatellizerShared.setToken(e),e})},Local.prototype.signup=function(e,t){return void 0===t&&(t={}),t.url=t.url?t.url:joinUrl(this.SatellizerConfig.baseUrl,this.SatellizerConfig.signupUrl),t.data=e||t.data,t.method=t.method||"POST",t.withCredentials=t.withCredentials||this.SatellizerConfig.withCredentials,this.$http(t)},Local.$inject=["$http","SatellizerConfig","SatellizerShared"],Local}(),a=function(){function Popup(e,t,n){this.$interval=e,this.$window=t,this.$q=n,this.popup=null,this.defaults={redirectUri:null}}return Popup.prototype.stringifyOptions=function(e){var t=[];return angular.forEach(e,function(e,n){t.push(n+"="+e)}),t.join(",")},Popup.prototype.open=function(e,t,n,i,r){var o=n.width||500,a=n.height||500,s=this.stringifyOptions({width:o,height:a,top:this.$window.screenY+(this.$window.outerHeight-a)/2.5,left:this.$window.screenX+(this.$window.outerWidth-o)/2}),l=this.$window.cordova||this.$window.navigator.userAgent.indexOf("CriOS")>-1?"_blank":t;if(this.popup=this.$window.open(e,l,s),this.popup&&this.popup.focus&&this.popup.focus(),!r)return this.$window.cordova?this.eventListener(i):("about:blank"===e&&(this.popup.location=e),this.polling(i))},Popup.prototype.polling=function(e){var t=this;return this.$q(function(n,i){var r=document.createElement("a");r.href=e;var o=getFullUrlPath(r),a=t.$interval(function(){t.popup&&!t.popup.closed&&void 0!==t.popup.closed||(t.$interval.cancel(a),i(new Error("The popup window was closed")));try{var e=getFullUrlPath(t.popup.location);if(e===o){if(t.popup.location.search||t.popup.location.hash){var r=parseQueryString(t.popup.location.search.substring(1).replace(/\/$/,"")),s=parseQueryString(t.popup.location.hash.substring(1).replace(/[\/$]/,"")),l=angular.extend({},r,s);l.error?i(new Error(l.error)):n(l)}else i(new Error("OAuth redirect has occurred but no query or hash parameters were found. They were either not set during the redirect, or were removedtypically by a routing librarybefore Satellizer could read it."));t.$interval.cancel(a),t.popup.close()}}catch(e){}},500)})},Popup.prototype.eventListener=function(e){var t=this;return this.$q(function(n,i){t.popup.addEventListener("loadstart",function(r){if(0===r.url.indexOf(e)){var o=document.createElement("a");if(o.href=r.url,o.search||o.hash){var a=parseQueryString(o.search.substring(1).replace(/\/$/,"")),s=parseQueryString(o.hash.substring(1).replace(/[\/$]/,"")),l=angular.extend({},a,s);l.error?i(new Error(l.error)):n(l),t.popup.close()}}}),t.popup.addEventListener("loaderror",function(){i(new Error("Authorization failed"))}),t.popup.addEventListener("exit",function(){i(new Error("The popup window was closed"))})})},Popup.$inject=["$interval","$window","$q"],Popup}(),s=function(){function OAuth1(e,t,n,i){this.$http=e,this.$window=t,this.SatellizerConfig=n,this.SatellizerPopup=i,this.defaults={name:null,url:null,authorizationEndpoint:null,scope:null,scopePrefix:null,scopeDelimiter:null,redirectUri:null,requiredUrlParams:null,defaultUrlParams:null,oauthType:"1.0",popupOptions:{width:null,height:null}}}return OAuth1.prototype.init=function(e,t){var n=this;angular.extend(this.defaults,e);var i=e.name,r=e.popupOptions,o=this.defaults.redirectUri;return this.$window.cordova||this.SatellizerPopup.open("about:blank",i,r,o,!0),this.getRequestToken().then(function(i){return n.openPopup(e,i).then(function(e){return n.exchangeForToken(e,t)})})},OAuth1.prototype.openPopup=function(e,t){var n=[e.authorizationEndpoint,this.buildQueryString(t.data)].join("?"),i=this.defaults.redirectUri;return this.$window.cordova?this.SatellizerPopup.open(n,e.name,e.popupOptions,i):(this.SatellizerPopup.popup.location=n,this.SatellizerPopup.polling(i))},OAuth1.prototype.getRequestToken=function(){var e=this.SatellizerConfig.baseUrl?joinUrl(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(e,this.defaults)},OAuth1.prototype.exchangeForToken=function(e,t){var n=angular.extend({},t,e),i=this.SatellizerConfig.baseUrl?joinUrl(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(i,n,{withCredentials:this.SatellizerConfig.withCredentials})},OAuth1.prototype.buildQueryString=function(e){var t=[];return angular.forEach(e,function(e,n){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}),t.join("&")},OAuth1.$inject=["$http","$window","SatellizerConfig","SatellizerPopup"],OAuth1}(),l=function(){function OAuth2(e,t,n,i,r,o,a){this.$http=e,this.$window=t,this.$timeout=n,this.$q=i,this.SatellizerConfig=r,this.SatellizerPopup=o,this.SatellizerStorage=a,this.defaults={name:null,url:null,clientId:null,authorizationEndpoint:null,redirectUri:null,scope:null,scopePrefix:null,scopeDelimiter:null,state:null,requiredUrlParams:null,defaultUrlParams:["response_type","client_id","redirect_uri"],responseType:"code",responseParams:{code:"code",clientId:"clientId",redirectUri:"redirectUri"},oauthType:"2.0",popupOptions:{width:null,height:null}}}return OAuth2.camelCase=function(e){return e.replace(/([\:\-\_]+(.))/g,function(e,t,n,i){return i?n.toUpperCase():n})},OAuth2.prototype.init=function(e,t){var n=this;return this.$q(function(i,r){angular.extend(n.defaults,e);var o=n.defaults.name+"_state",a=n.defaults,s=a.name,l=a.state,c=a.popupOptions,u=a.redirectUri,d=a.responseType;"function"==typeof l?n.SatellizerStorage.set(o,l()):"string"==typeof l&&n.SatellizerStorage.set(o,l);var h=[n.defaults.authorizationEndpoint,n.buildQueryString()].join("?");n.SatellizerPopup.open(h,s,c,u).then(function(e){return"token"!==d&&h?e.state&&e.state!==n.SatellizerStorage.get(o)?r(new Error("The value returned in the state parameter does not match the state value from your original authorization code request.")):void i(n.exchangeForToken(e,t)):i(e)}).catch(function(e){return r(e)})})},OAuth2.prototype.exchangeForToken=function(e,t){var n=this,i=angular.extend({},t);angular.forEach(this.defaults.responseParams,function(t,r){switch(r){case"code":i[t]=e.code;break;case"clientId":i[t]=n.defaults.clientId;break;case"redirectUri":i[t]=n.defaults.redirectUri;break;default:i[t]=e[r]}}),e.state&&(i.state=e.state);var r=this.SatellizerConfig.baseUrl?joinUrl(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(r,i,{withCredentials:this.SatellizerConfig.withCredentials})},OAuth2.prototype.buildQueryString=function(){var e=this,t=[],n=["defaultUrlParams","requiredUrlParams","optionalUrlParams"];return angular.forEach(n,function(n){angular.forEach(e.defaults[n],function(n){
var i=OAuth2.camelCase(n),r=angular.isFunction(e.defaults[n])?e.defaults[n]():e.defaults[i];if("redirect_uri"!==n||r){if("state"===n){var o=e.defaults.name+"_state";r=encodeURIComponent(e.SatellizerStorage.get(o))}"scope"===n&&Array.isArray(r)&&(r=r.join(e.defaults.scopeDelimiter),e.defaults.scopePrefix&&(r=[e.defaults.scopePrefix,r].join(e.defaults.scopeDelimiter))),t.push([n,r])}})}),t.map(function(e){return e.join("=")}).join("&")},OAuth2.$inject=["$http","$window","$timeout","$q","SatellizerConfig","SatellizerPopup","SatellizerStorage"],OAuth2}(),c=function(){function OAuth(e,t,n,i,r,o,a,s,l,c){this.$http=e,this.$window=t,this.$timeout=n,this.$q=i,this.SatellizerConfig=r,this.SatellizerPopup=o,this.SatellizerStorage=a,this.SatellizerShared=s,this.SatellizerOAuth1=l,this.SatellizerOAuth2=c}return OAuth.prototype.authenticate=function(e,t){var n=this;return this.$q(function(i,r){var o=n.SatellizerConfig.providers[e],a=null;switch(o.oauthType){case"1.0":a=new s(n.$http,n.$window,n.SatellizerConfig,n.SatellizerPopup);break;case"2.0":a=new l(n.$http,n.$window,n.$timeout,n.$q,n.SatellizerConfig,n.SatellizerPopup,n.SatellizerStorage);break;default:return r(new Error("Invalid OAuth Type"))}return a.init(o,t).then(function(e){o.url&&n.SatellizerShared.setToken(e),i(e)}).catch(function(e){r(e)})})},OAuth.prototype.unlink=function(e,t){return void 0===t&&(t={}),t.url=t.url?t.url:joinUrl(this.SatellizerConfig.baseUrl,this.SatellizerConfig.unlinkUrl),t.data={provider:e}||t.data,t.method=t.method||"POST",t.withCredentials=t.withCredentials||this.SatellizerConfig.withCredentials,this.$http(t)},OAuth.$inject=["$http","$window","$timeout","$q","SatellizerConfig","SatellizerPopup","SatellizerStorage","SatellizerShared","SatellizerOAuth1","SatellizerOAuth2"],OAuth}(),u=function(){function Storage(e,t){this.$window=e,this.SatellizerConfig=t,this.memoryStore={}}return Storage.prototype.get=function(e){try{return this.$window[this.SatellizerConfig.storageType].getItem(e)}catch(t){return this.memoryStore[e]}},Storage.prototype.set=function(e,t){try{this.$window[this.SatellizerConfig.storageType].setItem(e,t)}catch(n){this.memoryStore[e]=t}},Storage.prototype.remove=function(e){try{this.$window[this.SatellizerConfig.storageType].removeItem(e)}catch(t){delete this.memoryStore[e]}},Storage.$inject=["$window","SatellizerConfig"],Storage}(),d=function(){function Interceptor(e,t,n){var i=this;this.SatellizerConfig=e,this.SatellizerShared=t,this.SatellizerStorage=n,this.request=function(e){if(e.skipAuthorization)return e;if(i.SatellizerShared.isAuthenticated()&&i.SatellizerConfig.httpInterceptor()){var t=i.SatellizerConfig.tokenPrefix?[i.SatellizerConfig.tokenPrefix,i.SatellizerConfig.tokenName].join("_"):i.SatellizerConfig.tokenName,n=i.SatellizerStorage.get(t);i.SatellizerConfig.tokenHeader&&i.SatellizerConfig.tokenType&&(n=i.SatellizerConfig.tokenType+" "+n),e.headers[i.SatellizerConfig.tokenHeader]=n}return e}}return Interceptor.Factory=function(e,t,n){return new Interceptor(e,t,n)},Interceptor.$inject=["SatellizerConfig","SatellizerShared","SatellizerStorage"],Interceptor}();d.Factory.$inject=["SatellizerConfig","SatellizerShared","SatellizerStorage"];var h=function(){function HttpProviderConfig(e){this.$httpProvider=e,e.interceptors.push(d.Factory)}return HttpProviderConfig.$inject=["$httpProvider"],HttpProviderConfig}();angular.module("satellizer",[]).provider("$auth",["SatellizerConfig",function(e){return new i(e)}]).constant("SatellizerConfig",t.getConstant).service("SatellizerShared",r).service("SatellizerLocal",o).service("SatellizerPopup",a).service("SatellizerOAuth",c).service("SatellizerOAuth2",l).service("SatellizerOAuth1",s).service("SatellizerStorage",u).service("SatellizerInterceptor",d).config(["$httpProvider",function(e){return new h(e)}]);var m="satellizer";return m})},function(e,t){!function(){"use strict";angular.module("ui.grid.draggable-rows",["ui.grid"]).constant("uiGridDraggableRowsConstants",{featureName:"draggableRows",ROW_TARGET_CLASS:"ui-grid-draggable-row-target",ROW_OVER_CLASS:"ui-grid-draggable-row-over",ROW_OVER_ABOVE_CLASS:"ui-grid-draggable-row-over--above",ROW_OVER_BELOW_CLASS:"ui-grid-draggable-row-over--below",ROW_HANDLE_CLASS:"ui-grid-draggable-row-handle",POSITION_ABOVE:"above",POSITION_BELOW:"below",publicEvents:{draggableRows:{rowDragged:function(e,t,n){},rowDropped:function(e,t,n){},rowOverRow:function(e,t,n){},rowEnterRow:function(e,t,n){},rowLeavesRow:function(e,t,n){},rowFinishDrag:function(e){},beforeRowMove:function(e,t,n,i){}}}}).factory("uiGridDraggableRowsCommon",[function(){return{draggedRow:null,draggedRowEntity:null,targetRow:null,targetRowEntity:null,position:null,fromIndex:null,toIndex:null,dragDisabled:!1}}]).factory("uiGridDraggableRowsSettings",[function(){return{dragDisabled:!1}}]).service("uiGridDraggableRowsService",["uiGridDraggableRowsConstants","uiGridDraggableRowsCommon","uiGridDraggableRowsSettings",function(e,t,n){var i={dragndrop:{setDragDisabled:function(e){n.dragDisabled=~~e}}};this.initializeGrid=function(t,n,r){t.api.registerEventsFromObject(e.publicEvents),t.api.registerMethodsFromObject(i),t.api.draggableRows.on.rowFinishDrag(n,function(){angular.forEach(r[0].querySelectorAll("."+e.ROW_OVER_CLASS),function(t){t.classList.remove(e.ROW_OVER_CLASS),t.classList.remove(e.ROW_OVER_ABOVE_CLASS),t.classList.remove(e.ROW_OVER_BELOW_CLASS)}),angular.forEach(r[0].querySelectorAll("."+e.ROW_TARGET_CLASS),function(t){t.classList.remove(e.ROW_TARGET_CLASS)})})}}]).service("uiGridDraggableRowService",["uiGridDraggableRowsConstants","uiGridDraggableRowsCommon","uiGridDraggableRowsSettings","$parse",function(e,t,n,i){var r=function(e,t,n){n.api.draggableRows.raise.beforeRowMove(e,t,this),this.splice(t,0,this.splice(e,1)[0])};this.prepareDraggableRow=function(o,a){var s=o.grid,l=a[0],c=o.grid.options.useUiGridDraggableRowsHandle,u=null,d=null,h=function(){return angular.isString(s.options.data)?i(s.options.data)(s.appScope):s.options.data};s.api.hasOwnProperty("edit")&&(s.api.edit.on.beginCellEdit(null,function(){l.setAttribute("draggable",!1)}),s.api.edit.on.afterCellEdit(null,function(){l.setAttribute("draggable",!0)}));var m={onMouseDownEventListener:function(t){u=angular.element(t.target),d=u.closest("."+e.ROW_HANDLE_CLASS,a)[0]},onMouseUpEventListener:function(e){u=null,d=null},onDragOverEventListener:function(n){n.preventDefault&&n.preventDefault();var i=n.dataTransfer||n.originalEvent.dataTransfer;i.effectAllowed="copyMove",i.dropEffect="move";var r=n.offsetY||n.layerY||(n.originalEvent?n.originalEvent.offsetY:0);a.addClass(e.ROW_OVER_CLASS),r<this.offsetHeight/2?(t.position=e.POSITION_ABOVE,a.removeClass(e.ROW_OVER_BELOW_CLASS),a.addClass(e.ROW_OVER_ABOVE_CLASS)):(t.position=e.POSITION_BELOW,a.removeClass(e.ROW_OVER_ABOVE_CLASS),a.addClass(e.ROW_OVER_BELOW_CLASS)),s.api.draggableRows.raise.rowOverRow(t,this)},onDragStartEventListener:function(i){return n.dragDisabled||c&&!d?(i.preventDefault(),i.stopPropagation(),!1):(this.classList.add(e.ROW_TARGET_CLASS),i.dataTransfer.setData("Text","move"),t.draggedRow=this,t.draggedRowEntity=o.$parent.$parent.row.entity,t.position=null,t.fromIndex=h().indexOf(t.draggedRowEntity),t.toIndex=null,void s.api.draggableRows.raise.rowDragged(t,this))},onDragLeaveEventListener:function(){this.classList.remove(e.ROW_TARGET_CLASS),this.classList.remove(e.ROW_OVER_CLASS),this.classList.remove(e.ROW_OVER_ABOVE_CLASS),this.classList.remove(e.ROW_OVER_BELOW_CLASS),s.api.draggableRows.raise.rowLeavesRow(t,this)},onDragEnterEventListener:function(){s.api.draggableRows.raise.rowEnterRow(t,this)},onDragEndEventListener:function(){s.api.draggableRows.raise.rowFinishDrag()},onDropEventListener:function(n){var i=t.draggedRow;return n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault(),i!==this&&(t.toIndex=h().indexOf(o.$parent.$parent.row.entity),t.targetRow=this,t.targetRowEntity=o.$parent.$parent.row.entity,t.position===e.POSITION_ABOVE?t.fromIndex<t.toIndex&&(t.toIndex-=1):t.fromIndex>=t.toIndex&&(t.toIndex+=1),o.$apply(function(){r.apply(h(),[t.fromIndex,t.toIndex,s])}),s.api.draggableRows.raise.rowDropped(t,this),void n.preventDefault())}};l.addEventListener("dragover",m.onDragOverEventListener,!1),l.addEventListener("dragstart",m.onDragStartEventListener,!1),l.addEventListener("dragleave",m.onDragLeaveEventListener,!1),l.addEventListener("dragenter",m.onDragEnterEventListener,!1),l.addEventListener("dragend",m.onDragEndEventListener,!1),l.addEventListener("drop",m.onDropEventListener),c&&(l.addEventListener("mousedown",m.onMouseDownEventListener,!1),l.addEventListener("mouseup",m.onMouseUpEventListener,!1))}}]).directive("uiGridDraggableRow",["uiGridDraggableRowService",function(e){return{restrict:"ACE",scope:{grid:"="},compile:function(){return{pre:function(t,n){e.prepareDraggableRow(t,n)}}}}}]).directive("uiGridDraggableRows",["uiGridDraggableRowsService",function(e){return{restrict:"A",replace:!0,priority:0,require:"uiGrid",scope:!1,compile:function(){return{pre:function(t,n,i,r){e.initializeGrid(r.grid,t,n)}}}}}])}()},function(e,t){!function(e,t){"use strict";function assertArg(e,t,n){if(!e)throw N("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function mergeClasses(e,t){return e||t?e?t?(y(e)&&(e=e.join(" ")),y(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function packageStyles(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function pendClasses(e,t,n){var i="";return e=y(e)?e:e&&C(e)&&e.length?e.split(/\s+/):[],v(e,function(e,r){e&&e.length>0&&(i+=r>0?" ":"",i+=n?t+e:e+t)}),i}function removeFromArray(e,t){var n=e.indexOf(t);t>=0&&e.splice(n,1)}function stripCommentsFromElement(e){if(e instanceof E)switch(e.length){case 0:return e;case 1:if(e[0].nodeType===a)return e;break;default:return E(extractElementNode(e))}if(e.nodeType===a)return E(e)}function extractElementNode(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===a)return n}}function $$addClass(e,t,n){v(t,function(t){e.addClass(t,n)})}function $$removeClass(e,t,n){v(t,function(t){e.removeClass(t,n)})}function applyAnimationClassesFactory(e){return function(t,n){n.addClass&&($$addClass(e,t,n.addClass),n.addClass=null),n.removeClass&&($$removeClass(e,t,n.removeClass),n.removeClass=null)}}function prepareAnimationOptions(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||T;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=T},e.$$prepared=!0}return e}function applyAnimationStyles(e,t){applyAnimationFromStyles(e,t),applyAnimationToStyles(e,t)}function applyAnimationFromStyles(e,t){t.from&&(e.css(t.from),t.from=null)}function applyAnimationToStyles(e,t){t.to&&(e.css(t.to),t.to=null)}function mergeAnimationDetails(e,t,n){var i=t.options||{},r=n.options||{},o=(i.addClass||"")+" "+(r.addClass||""),a=(i.removeClass||"")+" "+(r.removeClass||""),s=resolveElementClasses(e.attr("class"),o,a);r.preparationClasses&&(i.preparationClasses=concatWithSpace(r.preparationClasses,i.preparationClasses),delete r.preparationClasses);var l=i.domOperation!==T?i.domOperation:null;return g(i,r),l&&(i.domOperation=l),s.addClass?i.addClass=s.addClass:i.addClass=null,s.removeClass?i.removeClass=s.removeClass:i.removeClass=null,t.addClass=i.addClass,t.removeClass=i.removeClass,i}function resolveElementClasses(e,t,n){function splitClassesToLookup(e){C(e)&&(e=e.split(" "));var t={};return v(e,function(e){e.length&&(t[e]=!0)}),t}var i=1,r=-1,o={};e=splitClassesToLookup(e),t=splitClassesToLookup(t),v(t,function(e,t){o[t]=i}),n=splitClassesToLookup(n),v(n,function(e,t){o[t]=o[t]===i?null:r});var a={addClass:"",removeClass:""};return v(o,function(t,n){var o,c;t===i?(o="addClass",c=!e[n]||e[n+l]):t===r&&(o="removeClass",c=e[n]||e[n+s]),c&&(a[o].length&&(a[o]+=" "),a[o]+=n)}),a}function getDomNode(e){return e instanceof E?e[0]:e}function applyGeneratedPreparationClasses(e,t,n){var i="";t&&(i=pendClasses(t,c,!0)),n.addClass&&(i=concatWithSpace(i,pendClasses(n.addClass,s))),n.removeClass&&(i=concatWithSpace(i,pendClasses(n.removeClass,l))),i.length&&(n.preparationClasses=i,e.addClass(i))}function clearGeneratedClasses(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}function blockTransitions(e,t){var n=t?"-"+t+"s":"";return applyInlineStyle(e,[O,n]),[O,n]}function blockKeyframeAnimations(e,t){var n=t?"paused":"",i=r+L;return applyInlineStyle(e,[i,n]),[i,n]}function applyInlineStyle(e,t){var n=t[0],i=t[1];e.style[n]=i}function concatWithSpace(e,t){return e?t?e+" "+t:e:t}function getCssKeyframeDurationStyle(e){return[I,e+"s"]}function getCssDelayStyle(e,t){var n=t?R:O;return[n,e+"s"]}function computeCssStyles(e,t,n){var i=Object.create(null),r=e.getComputedStyle(t)||{};return v(n,function(e,t){var n=r[e];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=parseMaxTime(n)),0===n&&(n=null),i[t]=n}}),i}function parseMaxTime(e){var t=0,n=e.split(/\s*,\s*/);return v(n,function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function truthyTimingValue(e){return 0===e||null!=e}function getCssTransitionDurationStyle(e,t){var i=n,r=e+"s";return t?i+=M:r+=" linear all",[i,r]}function createLocalCacheLookup(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function registerRestorableStyles(e,t,n){v(n,function(n){e[n]=b(e[n])?e[n]:t.style.getPropertyValue(n)})}var n,i,r,o,a=1,s="-add",l="-remove",c="ng-",u="-active",d="-prepare",h="ng-animate",m="$$ngAnimateChildren",p="";void 0===e.ontransitionend&&void 0!==e.onwebkittransitionend?(p="-webkit-",n="WebkitTransition",i="webkitTransitionEnd transitionend"):(n="transition",i="transitionend"),void 0===e.onanimationend&&void 0!==e.onwebkitanimationend?(p="-webkit-",r="WebkitAnimation",o="webkitAnimationEnd animationend"):(r="animation",o="animationend");var f,g,v,y,b,_,w,x,C,S,E,T,M="Duration",k="Property",A="Delay",$="TimingFunction",P="IterationCount",L="PlayState",D=9999,R=r+A,I=r+M,O=n+A,F=n+M,N=t.$$minErr("ng"),H=["$$rAF",function(e){function scheduler(e){t=t.concat(e),nextTick()}function nextTick(){if(t.length){for(var i=t.shift(),r=0;r<i.length;r++)i[r]();n||e(function(){n||nextTick()})}}var t,n;return t=scheduler.queue=[],scheduler.waitUntilQuiet=function(t){n&&n(),n=e(function(){n=null,t(),nextTick()})},scheduler}],j=["$interpolate",function(e){return{link:function(t,n,i){function setData(e){e="on"===e||"true"===e,n.data(m,e)}var r=i.ngAnimateChildren;C(r)&&0===r.length?n.data(m,!0):(setData(e(r)(t)),i.$observe("ngAnimateChildren",setData))}}}],B="$$animateCss",V=1e3,z=3,Y=1.5,U={transitionDuration:F,transitionDelay:O,transitionProperty:n+k,animationDuration:I,animationDelay:R,animationIterationCount:r+P},G={transitionDuration:F,transitionDelay:O,animationDuration:I,animationDelay:R},q=["$animateProvider",function(e){var t=createLocalCacheLookup(),a=createLocalCacheLookup();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,d,h,m,p,g,b,_){function gcsHashFn(e,t){var n="$$ngAnimateParentKey",i=e.parentNode,r=i[n]||(i[n]=++x);return r+"-"+e.getAttribute("class")+"-"+t}function computeCachedCssStyles(n,i,r,o){var a=t.get(r);return a||(a=computeCssStyles(e,n,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),t.put(r,a),a}function computeCachedCssStaggerStyles(n,i,r,o){var s;if(t.count(r)>0&&(s=a.get(r),!s)){var l=pendClasses(i,"-stagger");d.addClass(n,l),s=computeCssStyles(e,n,o),s.animationDuration=Math.max(s.animationDuration,0),s.transitionDuration=Math.max(s.transitionDuration,0),d.removeClass(n,l),a.put(r,s)}return s||{}}function waitUntilQuiet(e){C.push(e),b.waitUntilQuiet(function(){t.flush(),a.flush();for(var e=p(),n=0;n<C.length;n++)C[n](e);C.length=0})}function computeTimings(e,t,n){var i=computeCachedCssStyles(e,t,n,U),r=i.animationDelay,o=i.transitionDelay;return i.maxDelay=r&&o?Math.max(r,o):r||o,i.maxDuration=Math.max(i.animationDuration*i.animationIterationCount,i.transitionDuration),i}var w=applyAnimationClassesFactory(d),x=0,C=[];return function(e,a){function endFn(){close()}function cancelFn(){close(!0)}function close(t){if(!(C||E&&S)){C=!0,S=!1,p.$$skipPreparationClasses||d.removeClass(e,X),d.removeClass(e,Z),blockKeyframeAnimations(x,!1),blockTransitions(x,!1),v(F,function(e){x.style[e[0]]=""}),w(e,p),applyAnimationStyles(e,p),Object.keys(b).length&&v(b,function(e,t){e?x.style.setProperty(t,e):x.style.removeProperty(t)}),p.onDone&&p.onDone(),j&&j.length&&e.off(j.join(" "),onAnimationProgress);var n=e.data(B);n&&(m.cancel(n[0].timer),e.removeData(B)),M&&M.complete(!t)}}function applyBlocking(e){he.blockTransition&&blockTransitions(x,e),he.blockKeyframeAnimation&&blockKeyframeAnimations(x,!!e)}function closeAndReturnNoopAnimator(){return M=new h({end:endFn,cancel:cancelFn}),waitUntilQuiet(T),close(),{$$willAnimate:!1,start:function(){return M},end:endFn}}function onAnimationProgress(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||Date.now(),i=parseFloat(t.elapsedTime.toFixed(z));Math.max(n-O,0)>=L&&i>=R&&(E=!0,close())}function start(){function triggerAnimationStart(){if(!C){if(applyBlocking(!1),v(F,function(e){var t=e[0],n=e[1];x.style[t]=n}),w(e,p),d.addClass(e,Z),he.recalculateTimingStyles){if(J=x.getAttribute("class")+" "+X,te=gcsHashFn(x,J),ue=computeTimings(x,J,te),de=ue.maxDelay,P=Math.max(de,0),R=ue.maxDuration,0===R)return void close();he.hasTransitions=ue.transitionDuration>0,he.hasAnimations=ue.animationDuration>0}if(he.applyAnimationDelay&&(de="boolean"!=typeof p.delay&&truthyTimingValue(p.delay)?parseFloat(p.delay):de,P=Math.max(de,0),ue.animationDelay=de,me=getCssDelayStyle(de,!0),F.push(me),x.style[me[0]]=me[1]),L=P*V,I=R*V,p.easing){var t,a=p.easing;he.hasTransitions&&(t=n+$,F.push([t,a]),x.style[t]=a),he.hasAnimations&&(t=r+$,F.push([t,a]),x.style[t]=a)}ue.transitionDuration&&j.push(i),ue.animationDuration&&j.push(o),O=Date.now();var s=L+Y*I,l=O+s,c=e.data(B)||[],u=!0;if(c.length){var h=c[0];u=l>h.expectedEndTime,u?m.cancel(h.timer):c.push(close)}if(u){var f=m(onAnimationExpired,s,!1);c[0]={timer:f,expectedEndTime:l},c.push(close),e.data(B,c)}j.length&&e.on(j.join(" "),onAnimationProgress),p.to&&(p.cleanupStyles&&registerRestorableStyles(b,x,Object.keys(p.to)),applyAnimationToStyles(e,p))}}function onAnimationExpired(){var t=e.data(B);if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData(B)}}if(!C){if(!x.parentNode)return void close();var t=function(e){if(E)S&&e&&(S=!1,close());else if(S=!e,ue.animationDuration){var t=blockKeyframeAnimations(x,S);S?F.push(t):removeFromArray(F,t)}},a=le>0&&(ue.transitionDuration&&0===ne.transitionDuration||ue.animationDuration&&0===ne.animationDuration)&&Math.max(ne.animationDelay,ne.transitionDelay);a?m(triggerAnimationStart,Math.floor(a*le*V),!1):triggerAnimationStart(),A.resume=function(){t(!0)},A.pause=function(){t(!1)}}}var p=a||{};p.$$prepared||(p=prepareAnimationOptions(f(p)));var b={},x=getDomNode(e);if(!x||!x.parentNode||!_.enabled())return closeAndReturnNoopAnimator();var C,S,E,M,A,P,L,R,I,O,F=[],N=e.attr("class"),H=packageStyles(p),j=[];if(0===p.duration||!g.animations&&!g.transitions)return closeAndReturnNoopAnimator();var U=p.event&&y(p.event)?p.event.join(" "):p.event,q=U&&p.structural,W="",K="";q?W=pendClasses(U,c,!0):U&&(W=U),p.addClass&&(K+=pendClasses(p.addClass,s)),p.removeClass&&(K.length&&(K+=" "),K+=pendClasses(p.removeClass,l)),p.applyClassesEarly&&K.length&&w(e,p);var X=[W,K].join(" ").trim(),J=N+" "+X,Z=pendClasses(X,u),Q=H.to&&Object.keys(H.to).length>0,ee=(p.keyframeStyle||"").length>0;if(!ee&&!Q&&!X)return closeAndReturnNoopAnimator();var te,ne;if(p.stagger>0){var ie=parseFloat(p.stagger);ne={transitionDelay:ie,animationDelay:ie,transitionDuration:0,animationDuration:0}}else te=gcsHashFn(x,J),ne=computeCachedCssStaggerStyles(x,X,te,G);p.$$skipPreparationClasses||d.addClass(e,X);var re;if(p.transitionStyle){var oe=[n,p.transitionStyle];applyInlineStyle(x,oe),F.push(oe)}if(p.duration>=0){re=x.style[n].length>0;var ae=getCssTransitionDurationStyle(p.duration,re);applyInlineStyle(x,ae),F.push(ae)}if(p.keyframeStyle){var se=[r,p.keyframeStyle];applyInlineStyle(x,se),F.push(se)}var le=ne?p.staggerIndex>=0?p.staggerIndex:t.count(te):0,ce=0===le;ce&&!p.skipBlocking&&blockTransitions(x,D);var ue=computeTimings(x,J,te),de=ue.maxDelay;P=Math.max(de,0),R=ue.maxDuration;var he={};if(he.hasTransitions=ue.transitionDuration>0,he.hasAnimations=ue.animationDuration>0,he.hasTransitionAll=he.hasTransitions&&"all"===ue.transitionProperty,he.applyTransitionDuration=Q&&(he.hasTransitions&&!he.hasTransitionAll||he.hasAnimations&&!he.hasTransitions),he.applyAnimationDuration=p.duration&&he.hasAnimations,he.applyTransitionDelay=truthyTimingValue(p.delay)&&(he.applyTransitionDuration||he.hasTransitions),he.applyAnimationDelay=truthyTimingValue(p.delay)&&he.hasAnimations,he.recalculateTimingStyles=K.length>0,(he.applyTransitionDuration||he.applyAnimationDuration)&&(R=p.duration?parseFloat(p.duration):R,he.applyTransitionDuration&&(he.hasTransitions=!0,ue.transitionDuration=R,re=x.style[n+k].length>0,F.push(getCssTransitionDurationStyle(R,re))),he.applyAnimationDuration&&(he.hasAnimations=!0,ue.animationDuration=R,F.push(getCssKeyframeDurationStyle(R)))),0===R&&!he.recalculateTimingStyles)return closeAndReturnNoopAnimator();if(null!=p.delay){var me;"boolean"!=typeof p.delay&&(me=parseFloat(p.delay),P=Math.max(me,0)),he.applyTransitionDelay&&F.push(getCssDelayStyle(me)),he.applyAnimationDelay&&F.push(getCssDelayStyle(me,!0))}return null==p.duration&&ue.transitionDuration>0&&(he.recalculateTimingStyles=he.recalculateTimingStyles||ce),L=P*V,I=R*V,p.skipBlocking||(he.blockTransition=ue.transitionDuration>0,he.blockKeyframeAnimation=ue.animationDuration>0&&ne.animationDelay>0&&0===ne.animationDuration),p.from&&(p.cleanupStyles&&registerRestorableStyles(b,x,Object.keys(p.from)),applyAnimationFromStyles(e,p)),he.blockTransition||he.blockKeyframeAnimation?applyBlocking(R):p.skipBlocking||blockTransitions(x,!1),{$$willAnimate:!0,end:endFn,start:function(){if(!C)return A={end:endFn,cancel:cancelFn,resume:null,pause:null},M=new h(A),waitUntilQuiet(start),M}}}}]}],W=["$$animationProvider",function(e){function isDocumentFragment(e){return e.parentNode&&11===e.parentNode.nodeType}e.drivers.push("$$animateCssDriver");var t="ng-animate-shim",n="ng-anchor",i="ng-anchor-out",r="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,o,a,s,l,c,u){function filterCssClasses(e){return e.replace(/\bng-\S+\b/g,"")}function getUniqueValues(e,t){return C(e)&&(e=e.split(" ")),C(t)&&(t=t.split(" ")),e.filter(function(e){return t.indexOf(e)===-1}).join(" ")}function prepareAnchoredAnimation(o,s,l){function calculateAnchorStyles(e){var t={},n=getDomNode(e).getBoundingClientRect();return v(["width","height","top","left"],function(e){var i=n[e];switch(e){case"top":i+=d.scrollTop;break;case"left":i+=d.scrollLeft}t[e]=Math.floor(i)+"px"}),t}function prepareOutAnimation(){var t=e(c,{addClass:i,delay:!0,from:calculateAnchorStyles(s)});return t.$$willAnimate?t:null}function getClassVal(e){return e.attr("class")||""}function prepareInAnimation(){var t=filterCssClasses(getClassVal(l)),n=getUniqueValues(t,u),o=getUniqueValues(u,t),a=e(c,{to:calculateAnchorStyles(l),addClass:r+" "+n,removeClass:i+" "+o,delay:!0});return a.$$willAnimate?a:null}function end(){c.remove(),s.removeClass(t),l.removeClass(t)}var c=E(getDomNode(s).cloneNode(!0)),u=filterCssClasses(getClassVal(c));s.addClass(t),l.addClass(t),c.addClass(n),m.append(c);var h,p=prepareOutAnimation();if(!p&&(h=prepareInAnimation(),!h))return end();var f=p||h;return{start:function(){function endFn(){t&&t.end()}var e,t=f.start();return t.done(function(){return t=null,!h&&(h=prepareInAnimation())?(t=h.start(),t.done(function(){t=null,end(),e.complete()}),t):(end(),void e.complete())}),e=new a({end:endFn,cancel:endFn})}}}function prepareFromToAnchorAnimation(e,t,n,i){var r=prepareRegularAnimation(e,T),o=prepareRegularAnimation(t,T),s=[];if(v(i,function(e){var t=e.out,i=e.in,r=prepareAnchoredAnimation(n,t,i);r&&s.push(r)}),r||o||0!==s.length)return{start:function(){function endFn(){v(e,function(e){e.end()})}var e=[];r&&e.push(r.start()),o&&e.push(o.start()),v(s,function(t){e.push(t.start())});var t=new a({end:endFn,cancel:endFn});return a.all(e,function(e){t.complete(e)}),t}}}function prepareRegularAnimation(t){var n=t.element,i=t.options||{};t.structural&&(i.event=t.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===t.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=concatWithSpace(i.event,i.preparationClasses));var r=e(n,i);return r.$$willAnimate?r:null}if(!l.animations&&!l.transitions)return T;var d=u[0].body,h=getDomNode(s),m=E(isDocumentFragment(h)||d.contains(h)?h:d);return function(e){return e.from&&e.to?prepareFromToAnchorAnimation(e.from,e.to,e.classes,e.anchors):prepareRegularAnimation(e)}}]}],K=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,i){function lookupAnimations(n){n=y(n)?n:n.split(" ");for(var i=[],r={},o=0;o<n.length;o++){var a=n[o],s=e.$$registeredAnimations[a];s&&!r[a]&&(i.push(t.get(s)),r[a]=!0)}return i}var r=applyAnimationClassesFactory(i);return function(e,t,i,o){function applyOptions(){o.domOperation(),r(e,o)}function close(){a=!0,applyOptions(),applyAnimationStyles(e,o)}function executeAnimationFn(e,t,i,r,o){var a;switch(i){case"animate":a=[t,r.from,r.to,o];break;case"setClass":a=[t,c,u,o];break;case"addClass":a=[t,c,o];break;case"removeClass":a=[t,u,o];break;default:a=[t,o]}a.push(r);var s=e.apply(e,a);if(s)if(w(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(w(s))return s;return T}function groupEventedAnimations(e,t,i,r,o){var a=[];return v(r,function(r){var s=r[o];s&&a.push(function(){var r,o,a=!1,l=function(e){a||(a=!0,(o||T)(e),r.complete(!e))};return r=new n({end:function(){l()},cancel:function(){l(!0)}}),o=executeAnimationFn(s,e,t,i,function(e){var t=e===!1;l(t)}),r})}),a}function packageAnimations(e,t,i,r,o){var a=groupEventedAnimations(e,t,i,r,o);if(0===a.length){var s,l;"beforeSetClass"===o?(s=groupEventedAnimations(e,"removeClass",i,r,"beforeRemoveClass"),l=groupEventedAnimations(e,"addClass",i,r,"beforeAddClass")):"setClass"===o&&(s=groupEventedAnimations(e,"removeClass",i,r,"removeClass"),l=groupEventedAnimations(e,"addClass",i,r,"addClass")),s&&(a=a.concat(s)),l&&(a=a.concat(l))}if(0!==a.length)return function(e){var t=[];return a.length&&v(a,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){v(t,function(t){e?t.cancel():t.end()})}}}var a=!1;3===arguments.length&&x(i)&&(o=i,i=null),o=prepareAnimationOptions(o),i||(i=e.attr("class")||"",o.addClass&&(i+=" "+o.addClass),o.removeClass&&(i+=" "+o.removeClass));var s,l,c=o.addClass,u=o.removeClass,d=lookupAnimations(i);if(d.length){var h,m;"leave"===t?(m="leave",h="afterLeave"):(m="before"+t.charAt(0).toUpperCase()+t.substr(1),h=t),"enter"!==t&&"move"!==t&&(s=packageAnimations(e,t,o,d,m)),l=packageAnimations(e,t,o,d,h)}if(s||l){var p;return{$$willAnimate:!0,end:function(){return p?p.end():(close(),p=new n,p.complete(!0)),p},start:function(){function onComplete(e){close(e),p.complete(e)}function endAnimations(t){a||((e||T)(t),onComplete(t))}if(p)return p;p=new n;var e,t=[];return s&&t.push(function(t){e=s(t)}),t.length?t.push(function(e){applyOptions(),e(!0)}):applyOptions(),l&&t.push(function(t){e=l(t)}),p.setHost({end:function(){endAnimations()},cancel:function(){endAnimations(!0)}}),n.chain(t,onComplete),p}}}}}]}],X=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function prepareAnimation(t){var n=t.element,i=t.event,r=t.options,o=t.classes;return e(n,i,o,r)}return function(e){if(e.from&&e.to){var n=prepareAnimation(e.from),i=prepareAnimation(e.to);if(!n&&!i)return;return{start:function(){function endFnFactory(){return function(){v(e,function(e){e.end()})}}function done(e){r.complete(e)}var e=[];n&&e.push(n.start()),i&&e.push(i.start()),t.all(e,done);var r=new t({end:endFnFactory(),cancel:endFnFactory()});return r}}}return prepareAnimation(e)}}]}],J="data-ng-animate",Z="$ngAnimatePin",Q=["$animateProvider",function(t){function makeTruthyCssClassMap(e){if(!e)return null;var t=e.split(r),n=Object.create(null);return v(t,function(e){n[e]=!0}),n}function hasMatchingClasses(e,t){if(e&&t){var n=makeTruthyCssClassMap(t);return e.split(r).some(function(e){return n[e]})}}function isAllowed(e,t,n){return o[e].some(function(e){return e(t,n)})}function hasAnimationClasses(e,t){var n=(e.addClass||"").length>0,i=(e.removeClass||"").length>0;return t?n&&i:n||i}var n=1,i=2,r=" ",o=this.rules={skip:[],cancel:[],join:[]};o.join.push(function(e,t){return!e.structural&&hasAnimationClasses(e)}),o.skip.push(function(e,t){return!e.structural&&!hasAnimationClasses(e)}),o.skip.push(function(e,t){return"leave"===t.event&&e.structural}),o.skip.push(function(e,t){return t.structural&&t.state===i&&!e.structural}),o.cancel.push(function(e,t){return t.structural&&e.structural}),o.cancel.push(function(e,t){return t.state===i&&e.structural}),o.cancel.push(function(e,t){if(t.structural)return!1;var n=e.addClass,i=e.removeClass,r=t.addClass,o=t.removeClass;return!(S(n)&&S(i)||S(r)&&S(o))&&(hasMatchingClasses(n,o)||hasMatchingClasses(i,r))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(r,o,s,l,c,u,d,h,p,w,T){function postDigestTaskFactory(){var e=!1;return function(t){e?t():o.$$postDigest(function(){e=!0,t()})}}function normalizeAnimationDetails(e,t){return mergeAnimationDetails(e,t,{})}function findCallbacks(e,t,n){var i=[],r=P[n];return r&&v(r,function(r){I.call(r.node,t)?i.push(r.callback):"leave"===n&&I.call(r.node,e)&&i.push(r.callback)}),i}function filterFromRegistry(e,t,n){var i=extractElementNode(t);return e.filter(function(e){var t=e.node===i&&(!n||e.callback===n);return!t})}function cleanupEventListeners(e,t){"close"!==e||t.parentNode||O.off(t)}function queueAnimation(e,t,a){function notifyProgress(e,t,n,i){p(function(){var e=findCallbacks(h,c,t);e.length?r(function(){v(e,function(e){e(l,n,i)}),cleanupEventListeners(n,c)}):cleanupEventListeners(n,c)}),e.progress(t,n,i)}function close(e){clearGeneratedClasses(l,s),R(l,s),applyAnimationStyles(l,s),s.domOperation(),m.complete(!e)}var s=f(a),l=stripCommentsFromElement(e),c=getDomNode(l),h=c&&c.parentNode;s=prepareAnimationOptions(s);var m=new d,p=postDigestTaskFactory();if(y(s.addClass)&&(s.addClass=s.addClass.join(" ")),s.addClass&&!C(s.addClass)&&(s.addClass=null),y(s.removeClass)&&(s.removeClass=s.removeClass.join(" ")),s.removeClass&&!C(s.removeClass)&&(s.removeClass=null),s.from&&!x(s.from)&&(s.from=null),s.to&&!x(s.to)&&(s.to=null),!c)return close(),m;var g=[c.getAttribute("class"),s.addClass,s.removeClass].join(" ");if(!D(g))return close(),m;var b=["enter","move","leave"].indexOf(t)>=0,_=T(),w=!A||_||k.get(c),S=!w&&M.get(c)||{},E=!!S.state;if(w||E&&S.state===n||(w=!areAnimationsAllowed(c,h,t)),w)return _&&notifyProgress(m,t,"start"),close(),_&&notifyProgress(m,t,"close"),m;b&&closeChildAnimations(c);var $={structural:b,element:l,event:t,addClass:s.addClass,removeClass:s.removeClass,close:close,options:s,runner:m};if(E){var P=isAllowed("skip",$,S);if(P)return S.state===i?(close(),m):(mergeAnimationDetails(l,S,$),S.runner);var L=isAllowed("cancel",$,S);if(L)if(S.state===i)S.runner.end();else{if(!S.structural)return mergeAnimationDetails(l,S,$),S.runner;S.close()}else{var I=isAllowed("join",$,S);if(I){if(S.state!==i)return applyGeneratedPreparationClasses(l,b?t:null,s),
t=$.event=S.event,s=mergeAnimationDetails(l,S,$),S.runner;normalizeAnimationDetails(l,$)}}}else normalizeAnimationDetails(l,$);var O=$.structural;if(O||(O="animate"===$.event&&Object.keys($.options.to||{}).length>0||hasAnimationClasses($)),!O)return close(),clearElementAnimationState(c),m;var F=(S.counter||0)+1;return $.counter=F,markElementAnimationState(c,n,$),o.$$postDigest(function(){l=stripCommentsFromElement(e);var n=M.get(c),r=!n;n=n||{};var o=l.parent()||[],a=o.length>0&&("animate"===n.event||n.structural||hasAnimationClasses(n));if(r||n.counter!==F||!a)return r&&(R(l,s),applyAnimationStyles(l,s)),(r||b&&n.event!==t)&&(s.domOperation(),m.end()),void(a||clearElementAnimationState(c));t=!n.structural&&hasAnimationClasses(n,!0)?"setClass":n.event,markElementAnimationState(c,i);var d=u(l,t,n.options);m.setHost(d),notifyProgress(m,t,"start",{}),d.done(function(e){close(!e);var n=M.get(c);n&&n.counter===F&&clearElementAnimationState(c),notifyProgress(m,t,"close",{})})}),m}function closeChildAnimations(e){var t=e.querySelectorAll("["+J+"]");v(t,function(e){var t=parseInt(e.getAttribute(J),10),r=M.get(e);if(r)switch(t){case i:r.runner.end();case n:M.delete(e)}})}function clearElementAnimationState(e){e.removeAttribute(J),M.delete(e)}function areAnimationsAllowed(e,t,n){var i,r=l[0].body,o=getDomNode(s),c=e===r||"HTML"===e.nodeName,u=e===o,d=!1,h=k.get(e),p=E.data(e,Z);for(p&&(t=getDomNode(p));t&&(u||(u=t===o),t.nodeType===a);){var f=M.get(t)||{};if(!d){var g=k.get(t);if(g===!0&&h!==!1){h=!0;break}g===!1&&(h=!1),d=f.structural}if(S(i)||i===!0){var v=E.data(t,m);b(v)&&(i=v)}if(d&&i===!1)break;if(c||(c=t===r),c&&u)break;t=u||!(p=E.data(t,Z))?t.parentNode:getDomNode(p)}var y=(!d||i)&&h!==!0;return y&&u&&c}function markElementAnimationState(e,t,n){n=n||{},n.state=t,e.setAttribute(J,t);var i=M.get(e),r=i?g(i,n):n;M.set(e,r)}var M=new c,k=new c,A=null,$=o.$watch(function(){return 0===h.totalPendingRequests},function(e){e&&($(),o.$$postDigest(function(){o.$$postDigest(function(){null===A&&(A=!0)})}))}),P=Object.create(null),L=t.classNameFilter(),D=L?function(e){return L.test(e)}:function(){return!0},R=applyAnimationClassesFactory(p),I=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},O={on:function(e,t,n){var i=extractElementNode(t);P[e]=P[e]||[],P[e].push({node:i,callback:n}),E(t).on("$destroy",function(){var r=M.get(i);r||O.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||C(arguments[0])){var i=P[e];i&&(P[e]=1===arguments.length?null:filterFromRegistry(i,t,n))}else{t=arguments[0];for(var r in P)P[r]=filterFromRegistry(P[r],t)}},pin:function(e,t){assertArg(_(e),"element","not an element"),assertArg(_(t),"parentElement","not an element"),e.data(Z,t)},push:function(e,t,n,i){return n=n||{},n.domOperation=i,queueAnimation(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!A;else{var i=_(e);if(i){var r=getDomNode(e);1===n?t=!k.get(r):k.set(r,!t)}else t=A=!!e}return t}};return O}]}],ee=["$animateProvider",function(e){function setRunner(e,t){e.data(i,t)}function removeRunner(e){e.removeData(i)}function getRunner(e){return e.data(i)}var t="ng-animate-ref",n=this.drivers=[],i="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(e,i,r,o,a,s){function sortAnimations(e){function processNode(e){if(e.processed)return e;e.processed=!0;var t=e.domNode,r=t.parentNode;i.set(t,e);for(var o;r;){if(o=i.get(r)){o.processed||(o=processNode(o));break}r=r.parentNode}return(o||n).children.push(e),e}function flatten(e){var t,n=[],i=[];for(t=0;t<e.children.length;t++)i.push(e.children[t]);var r=i.length,o=0,a=[];for(t=0;t<i.length;t++){var s=i[t];r<=0&&(r=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(e){o++,i.push(e)}),r--}return a.length&&n.push(a),n}var t,n={children:[]},i=new a;for(t=0;t<e.length;t++){var r=e[t];i.set(r.domNode,e[t]={domNode:r.domNode,fn:r.fn,children:[]})}for(t=0;t<e.length;t++)processNode(e[t]);return flatten(n)}var l=[],c=applyAnimationClassesFactory(e);return function(a,u,m){function getAnchorNodes(e){var n="["+t+"]",i=e.hasAttribute(t)?[e]:e.querySelectorAll(n),r=[];return v(i,function(e){var n=e.getAttribute(t);n&&n.length&&r.push(e)}),r}function groupAnimations(e){var n=[],i={};v(e,function(e,r){var o=e.element,a=getDomNode(o),s=e.event,l=["enter","move"].indexOf(s)>=0,c=e.structural?getAnchorNodes(a):[];if(c.length){var u=l?"to":"from";v(c,function(e){var n=e.getAttribute(t);i[n]=i[n]||{},i[n][u]={animationID:r,element:E(e)}})}else n.push(e)});var r={},o={};return v(i,function(t,i){var a=t.from,s=t.to;if(!a||!s){var l=a?a.animationID:s.animationID,c=l.toString();return void(r[c]||(r[c]=!0,n.push(e[l])))}var u=e[a.animationID],d=e[s.animationID],h=a.animationID.toString();if(!o[h]){var m=o[h]={structural:!0,beforeStart:function(){u.beforeStart(),d.beforeStart()},close:function(){u.close(),d.close()},classes:cssClassesIntersection(u.classes,d.classes),from:u,to:d,anchors:[]};m.classes.length?n.push(m):(n.push(u),n.push(d))}o[h].anchors.push({out:a.element,in:s.element})}),n}function cssClassesIntersection(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],i=0;i<e.length;i++){var r=e[i];if("ng-"!==r.substring(0,3))for(var o=0;o<t.length;o++)if(r===t[o]){n.push(r);break}}return n.join(" ")}function invokeFirstDriver(e){for(var t=n.length-1;t>=0;t--){var i=n[t],o=r.get(i),a=o(e);if(a)return a}}function beforeStart(){a.addClass(h),y&&e.addClass(a,y),b&&(e.removeClass(a,b),b=null)}function updateAnimationRunners(e,t){function update(e){var n=getRunner(e);n&&n.setHost(t)}e.from&&e.to?(update(e.from.element),update(e.to.element)):update(e.element)}function handleDestroyedElement(){var e=getRunner(a);!e||"leave"===u&&m.$$domOperationFired||e.end()}function close(t){a.off("$destroy",handleDestroyedElement),removeRunner(a),c(a,m),applyAnimationStyles(a,m),m.domOperation(),y&&e.removeClass(a,y),a.removeClass(h),f.complete(!t)}m=prepareAnimationOptions(m);var p=["enter","move","leave"].indexOf(u)>=0,f=new o({end:function(){close()},cancel:function(){close(!0)}});if(!n.length)return close(),f;setRunner(a,f);var g=mergeClasses(a.attr("class"),mergeClasses(m.addClass,m.removeClass)),y=m.tempClasses;y&&(g+=" "+y,m.tempClasses=null);var b;return p&&(b="ng-"+u+d,e.addClass(a,b)),l.push({element:a,classes:g,event:u,structural:p,options:m,beforeStart:beforeStart,close:close}),a.on("$destroy",handleDestroyedElement),l.length>1?f:(i.$$postDigest(function(){var e=[];v(l,function(t){getRunner(t.element)?e.push(t):t.close()}),l.length=0;var t=groupAnimations(e),n=[];v(t,function(e){n.push({domNode:getDomNode(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,n=e.close,i=e.anchors?e.from.element||e.to.element:e.element;if(getRunner(i)){var r=invokeFirstDriver(e);r&&(t=r.start)}if(t){var o=t();o.done(function(e){n(!e)}),updateAnimationRunners(e,o)}else n()}})}),s(sortAnimations(n))}),f)}}]}],te=["$animate","$rootScope",function(e,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,n,i,r,o){var a,s;t.$watchCollection(i.ngAnimateSwap||i.for,function(i){a&&e.leave(a),s&&(s.$destroy(),s=null),(i||0===i)&&(s=t.$new(),o(s,function(t){a=t,e.enter(t,null,n)}))})}}}];t.module("ngAnimate",[],function(){T=t.noop,f=t.copy,g=t.extend,E=t.element,v=t.forEach,y=t.isArray,C=t.isString,x=t.isObject,S=t.isUndefined,b=t.isDefined,w=t.isFunction,_=t.isElement}).directive("ngAnimateSwap",te).directive("ngAnimateChildren",j).factory("$$rAFScheduler",H).provider("$$animateQueue",Q).provider("$$animation",ee).provider("$animateCss",q).provider("$$animateCssDriver",W).provider("$$animateJs",K).provider("$$animateJsDriver",X)}(window,window.angular)},function(e,t){!function(e,t){"use strict";function $AriaProvider(){function watchExpr(t,n,i,o){return function(a,s,l){var c=l.$normalize(n);!e[c]||r(s,i)||l[c]||a.$watch(l[t],function(e){e=o?!e:!!e,s.attr(n,e)})}}var e={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeydown:!0,bindRoleForClick:!0};this.config=function(n){e=t.extend(e,n)},this.$get=function(){return{config:function(t){return e[t]},$$watchExpr:watchExpr}}}var n=t.module("ngAria",["ng"]).provider("$aria",$AriaProvider),i=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],r=function(e,t){if(t.indexOf(e[0].nodeName)!==-1)return!0};n.directive("ngShow",["$aria",function(e){return e.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(e){return e.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(e){return e.$$watchExpr("ngValue","aria-checked",i,!1)}]).directive("ngChecked",["$aria",function(e){return e.$$watchExpr("ngChecked","aria-checked",i,!1)}]).directive("ngReadonly",["$aria",function(e){return e.$$watchExpr("ngReadonly","aria-readonly",i,!1)}]).directive("ngRequired",["$aria",function(e){return e.$$watchExpr("ngRequired","aria-required",i,!1)}]).directive("ngModel",["$aria",function(e){function shouldAttachAttr(t,n,o,a){return e.config(n)&&!o.attr(t)&&(a||!r(o,i))}function shouldAttachRole(e,t){return!t.attr("role")&&t.attr("type")===e&&!r(t,i)}function getShape(e,t){var n=e.type,i=e.role;return"checkbox"===(n||i)||"menuitemcheckbox"===i?"checkbox":"radio"===(n||i)||"menuitemradio"===i?"radio":"range"===n||"progressbar"===i||"slider"===i?"range":""}return{restrict:"A",require:"ngModel",priority:200,compile:function(t,n){var i=getShape(n,t);return{post:function(t,n,r,o){function ngAriaWatchModelValue(){return o.$modelValue}function getRadioReaction(e){var t=r.value==o.$viewValue;n.attr("aria-checked",t)}function getCheckboxReaction(){n.attr("aria-checked",!o.$isEmpty(o.$viewValue))}var a=shouldAttachAttr("tabindex","tabindex",n,!1);switch(i){case"radio":case"checkbox":shouldAttachRole(i,n)&&n.attr("role",i),shouldAttachAttr("aria-checked","ariaChecked",n,!1)&&t.$watch(ngAriaWatchModelValue,"radio"===i?getRadioReaction:getCheckboxReaction),a&&n.attr("tabindex",0);break;case"range":if(shouldAttachRole(i,n)&&n.attr("role","slider"),e.config("ariaValue")){var s=!n.attr("aria-valuemin")&&(r.hasOwnProperty("min")||r.hasOwnProperty("ngMin")),l=!n.attr("aria-valuemax")&&(r.hasOwnProperty("max")||r.hasOwnProperty("ngMax")),c=!n.attr("aria-valuenow");s&&r.$observe("min",function(e){n.attr("aria-valuemin",e)}),l&&r.$observe("max",function(e){n.attr("aria-valuemax",e)}),c&&t.$watch(ngAriaWatchModelValue,function(e){n.attr("aria-valuenow",e)})}a&&n.attr("tabindex",0)}!r.hasOwnProperty("ngRequired")&&o.$validators.required&&shouldAttachAttr("aria-required","ariaRequired",n,!1)&&r.$observe("required",function(){n.attr("aria-required",!!r.required)}),shouldAttachAttr("aria-invalid","ariaInvalid",n,!0)&&t.$watch(function(){return o.$invalid},function(e){n.attr("aria-invalid",!!e)})}}}}}]).directive("ngDisabled",["$aria",function(e){return e.$$watchExpr("ngDisabled","aria-disabled",i,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(e,t,n,i){t.attr("aria-live")||t.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(e,t){return{restrict:"A",compile:function(n,o){var a=t(o.ngClick);return function(t,n,o){r(n,i)||(e.config("bindRoleForClick")&&!n.attr("role")&&n.attr("role","button"),e.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),!e.config("bindKeydown")||o.ngKeydown||o.ngKeypress||o.ngKeyup||n.on("keydown",function(e){function callback(){a(t,{$event:e})}var n=e.which||e.keyCode;32!==n&&13!==n||t.$apply(callback)}))}}}}]).directive("ngDblclick",["$aria",function(e){return function(t,n,o){!e.config("tabindex")||n.attr("tabindex")||r(n,i)||n.attr("tabindex",0)}}])}(window,window.angular)},function(e,t){!function(){"use strict";angular.module("hj.cropify",[]).directive("hjCropify",function(){return{restrict:"EA",transclude:!0,scope:{coords:"=",aspectRatio:"=",options:"=?"},bindToController:!0,template:function(e,t){var n=t.containerStyle||"block",i='<div class="hj-cropify"><div class="hj-cropify__container hj-cropify__container--'+n+'" ng-transclude></div><div class="hj-cropify__selection"><div class="hj-cropify__crop"></div><div class="hj-cropify__shade hj-cropify__shade--left"></div><div class="hj-cropify__shade hj-cropify__shade--right"></div><div class="hj-cropify__shade hj-cropify__shade--top"></div><div class="hj-cropify__shade hj-cropify__shade--bottom"></div></div></div>';return i},controllerAs:"ctrl",controller:["$scope","$element","$attrs","$window","$document","$timeout",function(e,t,n,i,r,o){var a=this,s={id:"hjCropify"+ +new Date,precision:3,selectBuffer:10};s=angular.extend(s,a.options||{});var l,c=angular.element(t[0].querySelector(".hj-cropify__container")),u=angular.element(t[0].querySelector(".hj-cropify__crop")),d=angular.element(t[0].querySelector(".hj-cropify__selection")),h=angular.element(t[0].querySelector(".hj-cropify__shade--left")),m=angular.element(t[0].querySelector(".hj-cropify__shade--right")),p=angular.element(t[0].querySelector(".hj-cropify__shade--top")),f=angular.element(t[0].querySelector(".hj-cropify__shade--bottom")),g=!0,v=!1,y=!1,b=!1;l=a.coords?a.coords:{left:0,right:0,top:0,bottom:0,height:0,width:0};var _={start:{x:0,y:0},end:{x:0,y:0},el:{left:0,right:0,top:0,bottom:0},select:{left:0,right:0,top:0,bottom:0,width:0,height:0}},w={top:0,left:0},x={top:0,left:0},C={left:0,right:0,top:0,bottom:0,height:0,width:0},S=function(){l={left:Number(((_.select.left-w.left)/C.width).toFixed(s.precision)),top:Number(((_.select.top-w.top)/C.height).toFixed(s.precision)),right:Number(((_.select.right-w.left)/C.width).toFixed(s.precision)),bottom:Number(((_.select.bottom-w.top)/C.height).toFixed(s.precision)),height:Number(((_.select.bottom-_.select.top)/C.height).toFixed(s.precision)),width:Number(((_.select.right-_.select.left)/C.width).toFixed(s.precision))},g=0!==l.width||0!==l.height,h.css({top:0,left:0,width:_.select.left-_.el.left+"px",height:"100%"}),m.css({top:0,right:0,width:_.el.right-_.select.right+"px",height:"100%"}),p.css({top:0,left:_.select.left-_.el.left+"px",width:_.select.right-_.select.left+"px",height:_.select.top-_.el.top+"px"}),f.css({bottom:0,left:_.select.left-_.el.left+"px",width:_.select.right-_.select.left+"px",height:_.el.bottom-_.select.bottom+"px"}),u.css({top:C.height*l.top+"px",left:C.width*l.left+"px",width:C.width*l.width+"px",height:C.height*l.height+"px"}),g?d.css("display","block"):d.css("display","none")},E=function(e){for(var t=e,n=0,o=0;e&&e.offsetParent||e&&e.parentNode;){var a=i.getComputedStyle(e);for("fixed"===a.position?(n+=parseInt(a.left,10)+r[0].body.scrollLeft,o+=parseInt(a.top,10)+r[0].body.scrollTop):(n+=e.offsetLeft-e.scrollLeft,o+=e.offsetTop-e.scrollTop),e=e.offsetParent,t=t.parentNode;t!==e&&"fixed"!==a.position;)n-=isNaN(t.scrollLeft)?0:t.scrollLeft,o-=isNaN(t.scrollTop)?0:t.scrollTop,t=t.parentNode}return[n,o]},T=function(){for(var e=!1,n=t[0];n&&n.offsetParent||n&&n.parentNode;){var r=i.getComputedStyle(n);"fixed"===r.position&&(e=!0),n=n.offsetParent}return e},M=function(e){b=T();var t,n;b?(t=e.pageX,n=e.pageY):(t=e.pageX-i.scrollX,n=e.pageY-i.scrollY),t>=_.el.left-s.selectBuffer&&t<=_.el.right+s.selectBuffer&&n>=_.el.top-s.selectBuffer&&n<=_.el.bottom+s.selectBuffer&&(t<_.el.left?t=_.el.left:t>_.el.right&&(t=_.el.right),n<_.el.top?n=_.el.top:n>_.el.bottom&&(n=_.el.bottom),_.start.x=t,_.start.y=n,v=!0)},k=function(e){if(v){var t,n;b?(t=e.pageX,n=e.pageY):(t=e.pageX-i.scrollX,n=e.pageY-i.scrollY),t>_.el.right?t=_.el.right:t<_.el.left&&(t=_.el.left),n>_.el.bottom?n=_.el.bottom:n<_.el.top&&(n=_.el.top),_.end.x=t,_.end.y=n;var r={};if(_.end.x<_.start.x?(r.left=_.end.x,r.right=_.start.x):(r.left=_.start.x,r.right=_.end.x),_.end.y<_.start.y?(r.top=_.end.y,r.bottom=_.start.y):(r.top=_.start.y,r.bottom=_.end.y),a.aspectRatio>0){var o=r.right-r.left,s=r.bottom-r.top,l=o/s;l>a.aspectRatio?_.end.x<_.start.x?r.left=r.right-s*a.aspectRatio:r.right=r.left+s*a.aspectRatio:_.end.y<_.start.y?r.top=r.bottom-o/a.aspectRatio:r.bottom=r.top+o/a.aspectRatio}_.select={top:r.top,left:r.left,bottom:r.bottom,right:r.right},_.select.width=r.right-r.left,_.select.height=r.bottom-r.top}},A=function(e){b=T(),y=!0,x.left=e.offsetX,x.top=e.offsetY,b?(x.left=e.offsetX,x.top=e.offsetY):(x.left=e.offsetX+i.scrollX,x.top=e.offsetY+i.scrollY)},$=function(e){if(y){var t=w.left+C.width-_.select.width,n=w.left,i=w.top+C.height-_.select.height,r=w.top,o=e.pageX-x.left,a=e.pageY-x.top;o=Math.min(o,t),o=Math.max(o,n),a=Math.min(a,i),a=Math.max(a,r),_.select.top=a,_.select.left=o,_.select.bottom=a+_.select.height,_.select.right=o+_.select.width}},P=function(e){k(e),(v||y)&&o(function(){a.coords=l}),v=!1,y=!1,S()},L=function(e){e=e||l;var n=c[0].getBoundingClientRect(),i=t[0].parentElement===r[0].body?t[0]:t[0].parentElement,o=E(i),a=o[0],s=o[1],u={left:a,right:a+n.width,top:s,bottom:s+n.height};_.el={left:u.left,right:u.right,top:u.top,bottom:u.bottom},w={top:u.top,left:u.left},C={left:0,top:0,right:u.right-u.left,bottom:u.bottom-u.top,height:u.bottom-u.top,width:u.right-u.left},0===Object.keys(e).length?_.select={left:u.left,right:u.left,top:u.top,bottom:u.top,width:0,height:0}:_.select={left:C.width*e.left+w.left,right:C.width*e.right+w.left,top:C.height*e.top+w.top,bottom:C.height*e.bottom+w.top,width:C.width*e.width,height:C.height*e.height}},D=function(){L(),S()};u.on("mousedown touchstart",function(e){e.stopPropagation(),A(e)}),u.on("mousemove touchmove",function(e){e.stopPropagation(),$(e),S()}),r.on("mousedown touchstart",function(e){L(),M(e)}),c.on("mousemove touchmove",function(e){k(e),S()}),r.on("mouseup touchend",function(e){P(e)});var R="onorientationchange"in i?"orientationchange":"resize";angular.element(i).on(R,D),e.$watch(function(){return a.coords},function(e){void 0!==e&&(l=e,o(D))}),e.$on("hjCropify:init",function(e,t){return(!t||!t.id||t.id===s.id)&&void D()}),e.$on("hjCropify:toggleSelection",function(e,t){return(!t||!t.id||t.id===s.id)&&(g=!g,void S())}),e.$on("hjCropify:showSelection",function(e,t){return(!t||!t.id||t.id===s.id)&&(g=!0,void S())}),e.$on("hjCropify:hideSelection",function(e,t){return(!t||!t.id||t.id===s.id)&&(g=!1,void S())})}]}})}()},function(e,t,n){n(1),n(196),n(411),e.exports="hj.cropify"},function(e,t){!function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(e){var t=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(t,n,i,r,o,a){function setComplete(){i.cancel(s),a.complete(),c=0,l=0}function isCached(t){var i,r=n.get("$http"),o=e.defaults;!t.cache&&!o.cache||t.cache===!1||"GET"!==t.method&&"JSONP"!==t.method||(i=angular.isObject(t.cache)?t.cache:angular.isObject(o.cache)?o.cache:r);var a=void 0!==i&&void 0!==i.get(t.url);return void 0!==t.cached&&a!==t.cached?t.cached:(t.cached=a,a)}var s,l=0,c=0,u=a.latencyThreshold;return{request:function(e){return e.ignoreLoadingBar||isCached(e)||(r.$broadcast("cfpLoadingBar:loading",{url:e.url}),0===l&&(s=i(function(){a.start()},u)),l++,a.set(c/l)),e},response:function(e){return e&&e.config?(e.config.ignoreLoadingBar||isCached(e.config)||(c++,r.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),c>=l?setComplete():a.set(c/l)),e):(o.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),e)},responseError:function(e){return e&&e.config?(e.config.ignoreLoadingBar||isCached(e.config)||(c++,r.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),c>=l?setComplete():a.set(c/l)),t.reject(e)):(o.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t.reject(e))}}}];e.interceptors.push(t)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.autoIncrement=!0,this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(e,t,n,i){function _start(){if(r||(r=e.get("$animate")),n.cancel(a),!d){var o=t[0],c=o.querySelector?o.querySelector(s):t.find(s)[0];c||(c=o.getElementsByTagName("body")[0]);var h=angular.element(c),m=c.lastChild&&angular.element(c.lastChild);i.$broadcast("cfpLoadingBar:started"),d=!0,f&&r.enter(l,h,m),p&&r.enter(u,h,l),_set(g)}}function _set(e){if(d){var t=100*e+"%";c.css("width",t),h=e,m&&(n.cancel(o),o=n(function(){_inc()},250))}}function _inc(){if(!(_status()>=1)){var e=0,t=_status();e=t>=0&&t<.25?(3*Math.random()+3)/100:t>=.25&&t<.65?3*Math.random()/100:t>=.65&&t<.9?2*Math.random()/100:t>=.9&&t<.99?.005:0;var n=_status()+e;_set(n)}}function _status(){return h}function _completeAnimation(){h=0,d=!1}function _complete(){r||(r=e.get("$animate")),i.$broadcast("cfpLoadingBar:completed"),_set(1),n.cancel(a),a=n(function(){var e=r.leave(l,_completeAnimation);e&&e.then&&e.then(_completeAnimation),r.leave(u)},500)}var r,o,a,s=this.parentSelector,l=angular.element(this.loadingBarTemplate),c=l.find("div").eq(0),u=angular.element(this.spinnerTemplate),d=!1,h=0,m=this.autoIncrement,p=this.includeSpinner,f=this.includeBar,g=this.startSize;return{start:_start,set:_set,status:_status,inc:_inc,complete:_complete,autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}()},function(e,t){!function(e,t,n){"use strict";function mdBody(){function compile(e){e.addClass("md-body")}return{compile:compile,restrict:"A"}}function mdCell(){function compile(e){var t=e.find("md-select");return t.length&&t.addClass("md-table-select").attr("md-container-class","md-table-select"),e.addClass("md-cell"),postLink}function Controller(){}function postLink(e,t,n,i){function getColumn(){return a.$$columns[getIndex()]}function getIndex(){return Array.prototype.indexOf.call(t.parent().children(),t[0])}var r=t.find("md-select"),o=i.shift(),a=i.shift();n.ngClick&&t.addClass("md-clickable"),r.length&&(r.on("click",function(e){e.stopPropagation()}),t.addClass("md-clickable").on("click",function(e){e.stopPropagation(),r[0].click()})),o.getTable=a.getElement,e.$watch(getColumn,function(e){e&&(e.numeric?t.addClass("md-numeric"):t.removeClass("md-numeric"))})}return{controller:Controller,compile:compile,require:["mdCell","^^mdTable"],restrict:"A"}}function mdColumn(e,n){function compile(e){return e.addClass("md-column"),postLink}function postLink(i,r,o,a){function attachSortIcon(){var n=t.element('<md-icon md-svg-icon="arrow-up.svg">');e(n.addClass("md-sort-icon").attr("ng-class","getDirection()"))(i),r.hasClass("md-numeric")?r.prepend(n):r.append(n)}function detachSortIcon(){Array.prototype.some.call(r.find("md-icon"),function(e){return e.classList.contains("md-sort-icon")&&r[0].removeChild(e)})}function disableSorting(){detachSortIcon(),r.removeClass("md-sort").off("click",setOrder)}function enableSorting(){attachSortIcon(),r.addClass("md-sort").on("click",setOrder)}function getIndex(){return Array.prototype.indexOf.call(r.parent().children(),r[0])}function isActive(){return i.orderBy&&(s.order===i.orderBy||s.order==="-"+i.orderBy)}function isNumeric(){return""===o.mdNumeric||i.numeric}function setOrder(){i.$applyAsync(function(){isActive()?s.order="md-asc"===i.getDirection()?"-"+i.orderBy:i.orderBy:s.order="md-asc"===i.getDirection()?i.orderBy:"-"+i.orderBy,t.isFunction(s.onReorder)&&n.nextTick(function(){s.onReorder(s.order)})})}function updateColumn(e,t){l.$$columns[e]=t,t.numeric?r.addClass("md-numeric"):r.removeClass("md-numeric")}var s=a.shift(),l=a.shift();i.getDirection=function(){return isActive()?"-"===s.order.charAt(0)?"md-desc":"md-asc":""===o.mdDesc||i.$eval(o.mdDesc)?"md-desc":"md-asc"},i.$watch(isActive,function(e){e?r.addClass("md-active"):r.removeClass("md-active")}),i.$watch(getIndex,function(e){updateColumn(e,{numeric:isNumeric()})}),i.$watch(isNumeric,function(e){updateColumn(getIndex(),{numeric:e})}),i.$watch("orderBy",function(e){e?r.hasClass("md-sort")||enableSorting():r.hasClass("md-sort")&&disableSorting()})}return{compile:compile,require:["^^mdHead","^^mdTable"],restrict:"A",scope:{numeric:"=?mdNumeric",orderBy:"@?mdOrderBy"}}}function controllerDecorator(e){return function(n,i,r,o){if(r&&"object"==typeof r){var a=e(n,i,!0,o);return t.extend(a.instance,r),a()}return e(n,i,r,o)}}function mdEditDialog(e,n,i,r,o,a,s,l,c){function build(n,i){var o,s=a.$new(),l=e(n)(s),c=r.createBackdrop(s,"md-edit-dialog-backdrop");return i.controller?o=getController(i,s,{$element:l,$scope:s}):t.extend(s,i.scope),i.disableScroll&&disableScroll(l),h.prepend(c).append(l.addClass("md-whiteframe-1dp")),positionDialog(l,i.target),i.focusOnOpen&&focusOnOpen(l),i.clickOutsideToClose&&c.on("click",function(){l.remove()}),i.escToClose&&escToClose(l),l.on("$destroy",function(){d=!1,c.remove()}),o}function disableScroll(e){var t=r.disableScrollAround(e,h);e.on("$destroy",function(){t()})}function getController(e,i,r){if(e.controller)return e.resolve&&t.extend(r,e.resolve),e.locals&&t.extend(r,e.locals),e.controllerAs?(i[e.controllerAs]={},e.bindToController?t.extend(i[e.controllerAs],e.scope):t.extend(i,e.scope)):t.extend(i,e.scope),e.bindToController?n(e.controller,r,i[e.controllerAs]):n(e.controller,r)}function getTemplate(e){return o(function(n,i){function illegalType(e){i("Unexpected template value. Expected a string; received a "+e+".")}var r=e.template;if(r)return t.isString(r)?n(r):illegalType(typeof r);if(e.templateUrl){if(r=s.get(e.templateUrl))return n(r);var o=function(e){return n(e)},a=function(){return i("Error retrieving template from URL.")};return l(e.templateUrl).then(o,a)}i("Template not provided.")})}function logError(e){d=!1,console.error(e)}function escToClose(e){var t=function(t){t.keyCode===u&&e.remove()};h.on("keyup",t),e.on("$destroy",function(){h.off("keyup",t)})}function focusOnOpen(e){r.nextTick(function(){var t=r.findFocusTarget(e);t&&t.focus()},!1)}function positionDialog(e,n){var i=t.element(n).controller("mdCell").getTable(),r=function(){return e.prop("clientHeight")},o=function(){return{width:l(),height:r()}},s=function(){var e=i.parent();return"MD-TABLE-CONTAINER"===e.prop("tagName")?e[0].getBoundingClientRect():i[0].getBoundingClientRect()},l=function(){return e.prop("clientWidth")},u=function(){var t=o(),i=n.getBoundingClientRect(),r=s();t.width>r.right-i.left?e.css("left",r.right-t.width+"px"):e.css("left",i.left+"px"),t.height>r.bottom-i.top?e.css("top",r.bottom-t.height+"px"):e.css("top",i.top+1+"px"),e.css("minWidth",i.width+"px")},d=a.$watch(l,u),h=a.$watch(r,u);c.addEventListener("resize",u),e.on("$destroy",function(){d(),h(),c.removeEventListener("resize",u)})}function preset(e,n){function getAttrs(){var e='type="'+(n.type||"text")+'"';for(var t in n.validators)e+=" "+t+'="'+n.validators[t]+'"';return e}return{controller:["$element","$q","save","$scope",function(e,n,i,r){function update(){return r.editDialog.$invalid?n.reject():t.isFunction(i)?n.when(i(r.editDialog.input)):n.resolve()}this.dismiss=function(){e.remove()},this.getInput=function(){return r.editDialog.input},r.dismiss=this.dismiss,r.submit=function(){update().then(function(){r.dismiss()})}}],locals:{save:n.save},scope:{cancel:n.cancel||"Cancel",messages:n.messages,model:n.modelValue,ok:n.ok||"Save",placeholder:n.placeholder,title:n.title,size:e},template:'<md-edit-dialog><div layout="column" class="md-content"><div ng-if="size === \'large\'" class="md-title">{{title || \'Edit\'}}</div><form name="editDialog" layout="column" ng-submit="submit(model)"><md-input-container md-no-float><input name="input" ng-model="model" md-autofocus placeholder="{{placeholder}} "'+getAttrs()+'><div ng-messages="editDialog.input.$error"><div ng-repeat="(key, message) in messages" ng-message="{{key}}">{{message}}</div></div></md-input-container></form></div><div ng-if="size === \'large\'" layout="row" layout-align="end" class="md-actions"><md-button class="md-primary" ng-click="dismiss()">{{cancel}}</md-button><md-button class="md-primary" ng-click="submit()">{{ok}}</md-button></div></md-edit-dialog>'}}var u=27,d=!1,h=t.element(i.prop("body")),m={clickOutsideToClose:!0,disableScroll:!0,escToClose:!0,focusOnOpen:!0};return this.show=function(e){if(d)return o.reject();if(d=!0,e=t.extend({},m,e),!e.targetEvent)return logError("options.targetEvent is required to align the dialog with the table cell.");if(!e.targetEvent.currentTarget.classList.contains("md-cell"))return logError("The event target must be a table cell.");if(e.bindToController&&!e.controllerAs)return logError("You must define options.controllerAs when options.bindToController is true.");e.target=e.targetEvent.currentTarget;var n=getTemplate(e),i=[n];for(var r in e.resolve)n=e.resolve[r],i.push(o.when(t.isFunction(n)?n():n));return n=o.all(i),n.catch(logError),n.then(function(t){var n=t.shift();for(var i in e.resolve)e.resolve[i]=t.shift();return build(n,e)})},this.small=function(e){return this.show(t.extend({},e,preset("small",e)))}.bind(this),this.large=function(e){return this.show(t.extend({},e,preset("large",e)))}.bind(this),this}function mdFoot(){function compile(e){e.addClass("md-foot")}return{compile:compile,restrict:"A"}}function mdHead(e){function compile(e){return e.addClass("md-head"),postLink}function Controller(){}function postLink(n,i,r,o){function addCheckboxColumn(){i.children().prepend('<th class="md-column md-checkbox-column">')}function attatchCheckbox(){i.prop("lastElementChild").firstElementChild.appendChild(e(createCheckBox())(n)[0])}function createCheckBox(){return t.element("<md-checkbox>").attr({"aria-label":"Select All","ng-click":"toggleAll()","ng-checked":"allSelected()","ng-disabled":"!getSelectableRows().length"})}function detachCheckbox(){var e=i.prop("lastElementChild").firstElementChild;e.classList.contains("md-checkbox-column")&&t.element(e).empty()}function enableRowSelection(){return o.$$rowSelect}function mdSelectCtrl(e){return t.element(e).controller("mdSelect")}function removeCheckboxColumn(){Array.prototype.some.call(i.find("th"),function(e){return e.classList.contains("md-checkbox-column")&&e.remove()})}var a=new Array(2);n.allSelected=function(){var e=n.getSelectableRows();return e.length&&e.every(function(e){return e.isSelected()})},n.getSelectableRows=function(){return o.getBodyRows().map(mdSelectCtrl).filter(function(e){return e&&!e.disabled})},n.selectAll=function(){o.getBodyRows().map(mdSelectCtrl).forEach(function(e){e&&!e.isSelected()&&e.select()})},n.toggleAll=function(){return n.allSelected()?n.unSelectAll():n.selectAll()},n.unSelectAll=function(){o.getBodyRows().map(mdSelectCtrl).forEach(function(e){e&&e.isSelected()&&e.deselect()})},n.$watchGroup([enableRowSelection,o.enableMultiSelect],function(e){e[0]!==a[0]?e[0]?(addCheckboxColumn(),e[1]&&attatchCheckbox()):removeCheckboxColumn():e[0]&&e[1]!==a[1]&&(e[1]?attatchCheckbox():detachCheckbox()),t.copy(e,a)})}return{bindToController:!0,compile:compile,controller:Controller,controllerAs:"$mdHead",require:"^^mdTable",restrict:"A",scope:{order:"=?mdOrder",onReorder:"=?mdOnReorder"}}}function mdRow(){function compile(e){return e.addClass("md-row"),postLink}function postLink(e,n,i,r){function enableRowSelection(){return r.$$rowSelect}function isBodyRow(){return r.getBodyRows().indexOf(n[0])!==-1}function isChild(e){return n[0].contains(e[0])}if(isBodyRow()){var o=t.element('<td class="md-cell">');e.$watch(enableRowSelection,function(e){return e&&!i.mdSelect?void(isChild(o)||n.prepend(o)):void(isChild(o)&&o.remove())})}}return{compile:compile,
require:"^^mdTable",restrict:"A"}}function mdSelect(e,n){function Controller(){}function postLink(i,r,o,a){function autoSelect(){return""===o.mdAutoSelect||s.autoSelect}function createCheckbox(){var n=t.element("<md-checkbox>").attr({"aria-label":"Select Row","ng-click":"$mdSelect.toggle($event)","ng-checked":"$mdSelect.isSelected()","ng-disabled":"$mdSelect.disabled"});return t.element('<td class="md-cell md-checkbox-cell">').append(e(n)(i))}function disableSelection(){Array.prototype.some.call(r.children(),function(e){return e.classList.contains("md-checkbox-cell")&&r[0].removeChild(e)}),autoSelect()&&r.off("click",toggle)}function enableSelection(){r.prepend(createCheckbox()),autoSelect()&&r.on("click",toggle)}function enableRowSelection(){return l.$$rowSelect}function onSelectChange(e){if(s.id)return l.$$hash.has(s.id)?void(e.indexOf(l.$$hash.get(s.id))===-1&&l.$$hash.purge(s.id)):void(e.indexOf(s.model)!==-1&&l.$$hash.update(s.id,s.model))}function toggle(e){i.$applyAsync(function(){s.toggle(e)})}var s=a.shift(),l=a.shift(),c=n(o.mdSelectId);if(s.id=c(s.model),l.$$rowSelect&&s.id)if(l.$$hash.has(s.id)){var u=l.selected.indexOf(l.$$hash.get(s.id));u===-1?l.$$hash.purge(s.id):l.$$hash.equals(s.id,s.model)||(l.$$hash.update(s.id,s.model),l.selected.splice(u,1,s.model))}else l.selected.some(function(e,t){if(c(e)===s.id)return l.$$hash.update(s.id,s.model),l.selected.splice(t,1,s.model),!0});s.isSelected=function(){return!!l.$$rowSelect&&(s.id?l.$$hash.has(s.id):l.selected.indexOf(s.model)!==-1)},s.select=function(){s.disabled||(l.enableMultiSelect()?l.selected.push(s.model):l.selected.splice(0,l.selected.length,s.model),t.isFunction(s.onSelect)&&s.onSelect(s.model))},s.deselect=function(){s.disabled||(l.selected.splice(l.selected.indexOf(s.model),1),t.isFunction(s.onDeselect)&&s.onDeselect(s.model))},s.toggle=function(e){return e&&e.stopPropagation&&e.stopPropagation(),s.isSelected()?s.deselect():s.select()},i.$watch(enableRowSelection,function(e){e?enableSelection():disableSelection()}),i.$watch(autoSelect,function(e,t){e!==t&&(l.$$rowSelect&&e?r.on("click",toggle):r.off("click",toggle))}),i.$watch(s.isSelected,function(e){return e?r.addClass("md-selected"):r.removeClass("md-selected")}),i.$watch(l.enableMultiSelect,function(e){l.$$rowSelect&&!e&&l.selected.splice(1)}),l.registerModelChangeListener(onSelectChange),r.on("$destroy",function(){l.removeModelChangeListener(onSelectChange)})}return{bindToController:!0,controller:Controller,controllerAs:"$mdSelect",link:postLink,require:["mdSelect","^^mdTable"],restrict:"A",scope:{model:"=mdSelect",disabled:"=ngDisabled",onSelect:"=?mdOnSelect",onDeselect:"=?mdOnDeselect",autoSelect:"=mdAutoSelect"}}}function Hash(){var e={};this.equals=function(t,n){return e[t]===n},this.get=function(t){return e[t]},this.has=function(t){return e.hasOwnProperty(t)},this.purge=function(t){delete e[t]},this.update=function(t,n){e[t]=n}}function mdTable(){function compile(e,n){if(e.addClass("md-table"),n.hasOwnProperty("mdProgress")){var i=e.find("tbody")[0],r=t.element('<thead class="md-table-progress" md-table-progress>');i&&e[0].insertBefore(r[0],i)}}function Controller(e,n,i,r){function enableRowSelection(){a.$$rowSelect=!0,o=r.$watchCollection("$mdTable.selected",function(e){l.forEach(function(t){t(e)})}),n.addClass("md-row-select")}function disableRowSelection(){a.$$rowSelect=!1,t.isFunction(o)&&o(),n.removeClass("md-row-select")}function resolvePromises(){return s.length?void s[0].finally(function(){s.shift(),resolvePromises()}):r.$applyAsync()}function rowSelect(){return""===e.mdRowSelect||a.rowSelect}function validateModel(){return a.selected?!!t.isArray(a.selected)||console.error("Row selection: Expected an array. Recived "+typeof a.selected+"."):console.error("Row selection: ngModel is not defined.")}var o,a=this,s=[],l=[];a.$$hash=new Hash,a.$$columns={},a.columnCount=function(){return a.getRows(n[0]).reduce(function(e,t){return t.cells.length>e?t.cells.length:e},0)},a.getRows=function(e){return Array.prototype.filter.call(e.rows,function(e){return!e.classList.contains("ng-leave")})},a.getBodyRows=function(){return Array.prototype.reduce.call(n.prop("tBodies"),function(e,t){return e.concat(a.getRows(t))},[])},a.getElement=function(){return n},a.getHeaderRows=function(){return a.getRows(n.prop("tHead"))},a.enableMultiSelect=function(){return""===e.multiple||r.$eval(e.multiple)},a.waitingOnPromise=function(){return!!s.length},a.queuePromise=function(e){e&&1===s.push(t.isArray(e)?i.all(e):i.when(e))&&resolvePromises()},a.registerModelChangeListener=function(e){l.push(e)},a.removeModelChangeListener=function(e){var t=l.indexOf(e);t!==-1&&l.splice(t,1)},e.hasOwnProperty("mdProgress")&&r.$watch("$mdTable.progress",a.queuePromise),r.$watch(rowSelect,function(e){e&&validateModel()?enableRowSelection():disableRowSelection()})}return Controller.$inject=["$attrs","$element","$q","$scope"],{bindToController:!0,compile:compile,controller:Controller,controllerAs:"$mdTable",restrict:"A",scope:{progress:"=?mdProgress",selected:"=ngModel",rowSelect:"=mdRowSelect"}}}function mdTablePagination(){function compile(e){e.addClass("md-table-pagination")}function Controller(e,n,i){function isPositive(e){return parseInt(e,10)>0}var r=this,o={page:"Page:",rowsPerPage:"Rows per page:",of:"of"};r.label=t.copy(o),r.eval=function(e){return i.$eval(e)},r.first=function(){r.page=1,r.onPaginationChange()},r.hasNext=function(){return r.page*r.limit<r.total},r.hasPrevious=function(){return r.page>1},r.last=function(){r.page=r.pages(),r.onPaginationChange()},r.max=function(){return r.hasNext()?r.page*r.limit:r.total},r.min=function(){return isPositive(r.total)?r.page*r.limit-r.limit+1:0},r.next=function(){r.page++,r.onPaginationChange()},r.onPaginationChange=function(){t.isFunction(r.onPaginate)&&n.nextTick(function(){r.onPaginate(r.page,r.limit)})},r.pages=function(){return isPositive(r.total)?Math.ceil(r.total/(isPositive(r.limit)?r.limit:1)):1},r.previous=function(){r.page--,r.onPaginationChange()},r.showBoundaryLinks=function(){return""===e.mdBoundaryLinks||r.boundaryLinks},r.showPageSelect=function(){return""===e.mdPageSelect||r.pageSelect},i.$watch("$pagination.limit",function(e,t){isNaN(e)||isNaN(t)||e===t||(r.page=Math.floor((r.page*t-t+e)/(isPositive(e)?e:1)),r.onPaginationChange())}),e.$observe("mdLabel",function(e){t.extend(r.label,o,i.$eval(e))}),i.$watch("$pagination.total",function(e,t){isNaN(e)||e===t||r.page>r.pages()&&r.last()})}return Controller.$inject=["$attrs","$mdUtil","$scope"],{bindToController:{boundaryLinks:"=?mdBoundaryLinks",disabled:"=ngDisabled",limit:"=mdLimit",page:"=mdPage",pageSelect:"=?mdPageSelect",onPaginate:"=?mdOnPaginate",limitOptions:"=?mdLimitOptions",total:"@mdTotal"},compile:compile,controller:Controller,controllerAs:"$pagination",restrict:"E",scope:{},templateUrl:"md-table-pagination.html"}}function mdTableProgress(){function postLink(e,t,n,i){e.columnCount=i.columnCount,e.deferred=i.waitingOnPromise}return{link:postLink,require:"^^mdTable",restrict:"A",scope:{},templateUrl:"md-table-progress.html"}}function virtualPageSelect(){function Controller(e,t){function getMin(e,t){return Math.min(e,isFinite(t)&&isPositive(t)?t:1)}function isPositive(e){return e>0}function setPages(e){if(n.pages.length>e)return n.pages.splice(e);for(var t=n.pages.length;t<e;t++)n.pages.push(t+1)}var n=this,i=e.find("md-content");n.pages=[],i.on("scroll",function(){i.prop("clientHeight")+i.prop("scrollTop")>=i.prop("scrollHeight")&&t.$applyAsync(function(){setPages(getMin(n.pages.length+10,n.total))})}),t.$watch("$pageSelect.total",function(e){setPages(getMin(Math.max(n.pages.length,10),e))}),t.$watch("$pagination.page",function(e){for(var t=n.pages.length;t<e;t++)n.pages.push(t+1)})}return Controller.$inject=["$element","$scope"],{bindToController:{total:"@"},controller:Controller,controllerAs:"$pageSelect"}}t.module("md.table.templates",["md-table-pagination.html","md-table-progress.html","arrow-up.svg","navigate-before.svg","navigate-first.svg","navigate-last.svg","navigate-next.svg"]),t.module("md-table-pagination.html",[]).run(["$templateCache",function(e){e.put("md-table-pagination.html",'<div class="page-select" ng-if="$pagination.showPageSelect()">\n  <div class="label">{{$pagination.label.page}}</div>\n\n  <md-select virtual-page-select total="{{$pagination.pages()}}" class="md-table-select" ng-model="$pagination.page" md-container-class="md-pagination-select" ng-change="$pagination.onPaginationChange()" ng-disabled="$pagination.disabled" aria-label="Page">\n    <md-content>\n      <md-option ng-repeat="page in $pageSelect.pages" ng-value="page">{{page}}</md-option>\n    </md-content>\n  </md-select>\n</div>\n\n<div class="limit-select" ng-if="$pagination.limitOptions">\n  <div class="label">{{$pagination.label.rowsPerPage}}</div>\n\n  <md-select class="md-table-select" ng-model="$pagination.limit" md-container-class="md-pagination-select" ng-disabled="$pagination.disabled" aria-label="Rows" placeholder="{{ $pagination.limitOptions[0] }}">\n    <md-option ng-repeat="option in $pagination.limitOptions" ng-value="option.value ? $pagination.eval(option.value) : option">{{::option.label ? option.label : option}}</md-option>\n  </md-select>\n</div>\n\n<div class="buttons">\n  <div class="label">{{$pagination.min()}} - {{$pagination.max()}} {{$pagination.label.of}} {{$pagination.total}}</div>\n\n  <md-button class="md-icon-button" type="button" ng-if="$pagination.showBoundaryLinks()" ng-click="$pagination.first()" ng-disabled="$pagination.disabled || !$pagination.hasPrevious()" aria-label="First">\n    <md-icon md-svg-icon="navigate-first.svg"></md-icon>\n  </md-button>\n\n  <md-button class="md-icon-button" type="button" ng-click="$pagination.previous()" ng-disabled="$pagination.disabled || !$pagination.hasPrevious()" aria-label="Previous">\n    <md-icon md-svg-icon="navigate-before.svg"></md-icon>\n  </md-button>\n\n  <md-button class="md-icon-button" type="button" ng-click="$pagination.next()" ng-disabled="$pagination.disabled || !$pagination.hasNext()" aria-label="Next">\n    <md-icon md-svg-icon="navigate-next.svg"></md-icon>\n  </md-button>\n\n  <md-button class="md-icon-button" type="button" ng-if="$pagination.showBoundaryLinks()" ng-click="$pagination.last()" ng-disabled="$pagination.disabled || !$pagination.hasNext()" aria-label="Last">\n    <md-icon md-svg-icon="navigate-last.svg"></md-icon>\n  </md-button>\n</div>')}]),t.module("md-table-progress.html",[]).run(["$templateCache",function(e){e.put("md-table-progress.html",'<tr>\n  <th colspan="{{columnCount()}}">\n    <md-progress-linear ng-show="deferred()" md-mode="indeterminate"></md-progress-linear>\n  </th>\n</tr>')}]),t.module("arrow-up.svg",[]).run(["$templateCache",function(e){e.put("arrow-up.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"/></svg>')}]),t.module("navigate-before.svg",[]).run(["$templateCache",function(e){e.put("navigate-before.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>')}]),t.module("navigate-first.svg",[]).run(["$templateCache",function(e){e.put("navigate-first.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 6 v12 h2 v-12 h-2z M17.41 7.41L16 6l-6 6 6 6 1.41-1.41L12.83 12z"/></svg>')}]),t.module("navigate-last.svg",[]).run(["$templateCache",function(e){e.put("navigate-last.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15 6 v12 h2 v-12 h-2z M8 6L6.59 7.41 11.17 12l-4.58 4.59L8 18l6-6z"/></svg>')}]),t.module("navigate-next.svg",[]).run(["$templateCache",function(e){e.put("navigate-next.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>')}]),t.module("md.data.table",["md.table.templates"]),t.module("md.data.table").directive("mdBody",mdBody),t.module("md.data.table").directive("mdCell",mdCell),t.module("md.data.table").directive("mdColumn",mdColumn),mdColumn.$inject=["$compile","$mdUtil"],t.module("md.data.table").decorator("$controller",controllerDecorator).factory("$mdEditDialog",mdEditDialog),controllerDecorator.$inject=["$delegate"],mdEditDialog.$inject=["$compile","$controller","$document","$mdUtil","$q","$rootScope","$templateCache","$templateRequest","$window"],t.module("md.data.table").directive("mdFoot",mdFoot),t.module("md.data.table").directive("mdHead",mdHead),mdHead.$inject=["$compile"],t.module("md.data.table").directive("mdRow",mdRow),t.module("md.data.table").directive("mdSelect",mdSelect),mdSelect.$inject=["$compile","$parse"],t.module("md.data.table").directive("mdTable",mdTable),t.module("md.data.table").directive("mdTablePagination",mdTablePagination),t.module("md.data.table").directive("mdTableProgress",mdTableProgress),t.module("md.data.table").directive("virtualPageSelect",virtualPageSelect)}(window,angular)},function(e,t){!function(e,t,n){"use strict";!function(){t.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.gestures","material.core.interaction","material.core.layout","material.core.meta","material.core.theming.palette","material.core.theming","material.core.animate","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.checkbox","material.components.chips","material.components.colors","material.components.content","material.components.datepicker","material.components.dialog","material.components.divider","material.components.fabActions","material.components.fabShared","material.components.fabSpeedDial","material.components.fabToolbar","material.components.gridList","material.components.icon","material.components.input","material.components.list","material.components.menu","material.components.menuBar","material.components.navBar","material.components.panel","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.showHide","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.truncate","material.components.virtualRepeat","material.components.whiteframe"])}(),function(){function DetectNgTouch(e,t){if(t.has("$swipe")){var n="You are using the ngTouch module. \nAngular Material already has mobile click, tap, and swipe support... \nngTouch is not supported with Angular Material!";e.warn(n)}}function MdCoreConfigure(e,t){e.decorator("$$rAF",["$delegate",rAFDecorator]),e.decorator("$q",["$delegate",qDecorator]),t.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("deep-orange").backgroundPalette("grey")}function rAFDecorator(e){return e.throttle=function(t){var n,i,r,o;return function(){n=arguments,o=this,r=t,i||(i=!0,e(function(){r.apply(o,Array.prototype.slice.call(n)),i=!1}))}},e}function qDecorator(e){return e.resolve||(e.resolve=e.when),e}DetectNgTouch.$inject=["$log","$injector"],MdCoreConfigure.$inject=["$provide","$mdThemingProvider"],rAFDecorator.$inject=["$delegate"],qDecorator.$inject=["$delegate"],t.module("material.core",["ngAnimate","material.core.animate","material.core.layout","material.core.interaction","material.core.gestures","material.core.theming"]).config(MdCoreConfigure).run(DetectNgTouch)}(),function(){function MdAutofocusDirective(e){function preLink(n,i,r){function updateExpression(e){t.isUndefined(e)&&(e=!0),i.toggleClass("md-autofocus",!!e)}var o=r.mdAutoFocus||r.mdAutofocus||r.mdSidenavFocus;updateExpression(e(o)(n)),o&&n.$watch(o,updateExpression)}return{restrict:"A",link:{pre:preLink}}}MdAutofocusDirective.$inject=["$parse"],t.module("material.core").directive("mdAutofocus",MdAutofocusDirective).directive("mdAutoFocus",MdAutofocusDirective).directive("mdSidenavFocus",MdAutofocusDirective)}(),function(){function ColorUtilFactory(){function hexToRgba(e){var t="#"===e[0]?e.substr(1):e,n=t.length/3,i=t.substr(0,n),r=t.substr(n,n),o=t.substr(2*n);return 1===n&&(i+=i,r+=r,o+=o),"rgba("+parseInt(i,16)+","+parseInt(r,16)+","+parseInt(o,16)+",0.1)"}function rgbaToHex(e){e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);var t=e&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):"";return t.toUpperCase()}function rgbToRgba(e){return e.replace(")",", 0.1)").replace("(","a(")}function rgbaToRgb(e){return e?e.replace("rgba","rgb").replace(/,[^\),]+\)/,")"):"rgb(0,0,0)"}return{rgbaToHex:rgbaToHex,hexToRgba:hexToRgba,rgbToRgba:rgbToRgba,rgbaToRgb:rgbaToRgb}}t.module("material.core").factory("$mdColorUtil",ColorUtilFactory)}(),function(){function MdConstantFactory(){function vendorProperty(t){var i=n+"-"+t,r=camelCase(i),o=r.charAt(0).toLowerCase()+r.substring(1);return hasStyleProperty(e,t)?t:hasStyleProperty(e,r)?r:hasStyleProperty(e,o)?o:t}function hasStyleProperty(e,n){return t.isDefined(e.style[n])}function camelCase(e){return e.replace(r,function(e,t,n,i){return i?n.toUpperCase():n})}function getVendorPrefix(e){var t,n,i=/^(Moz|webkit|ms)(?=[A-Z])/;for(t in e.style)if(n=i.exec(t))return n[0]}var e=document.createElement("div"),n=getVendorPrefix(e),i=/webkit/i.test(n),r=/([:\-_]+(.))/g,o={isInputKey:function(e){return e.keyCode>=31&&e.keyCode<=90},isNumPadKey:function(e){return 3===e.location&&e.keyCode>=97&&e.keyCode<=105},isNavigationKey:function(e){var t=o.KEY_CODE,n=[t.SPACE,t.ENTER,t.UP_ARROW,t.DOWN_ARROW];return n.indexOf(e.keyCode)!=-1},ELEMENT_MAX_PIXELS:1533917,BEFORE_NG_ARIA:210,KEY_CODE:{COMMA:188,SEMICOLON:186,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(i?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(i?" webkitAnimationEnd":""),TRANSFORM:vendorProperty("transform"),TRANSFORM_ORIGIN:vendorProperty("transformOrigin"),TRANSITION:vendorProperty("transition"),TRANSITION_DURATION:vendorProperty("transitionDuration"),ANIMATION_PLAY_STATE:vendorProperty("animationPlayState"),ANIMATION_DURATION:vendorProperty("animationDuration"),ANIMATION_NAME:vendorProperty("animationName"),ANIMATION_TIMING:vendorProperty("animationTimingFunction"),ANIMATION_DIRECTION:vendorProperty("animationDirection")},MEDIA:{xs:"(max-width: 599px)","gt-xs":"(min-width: 600px)",sm:"(min-width: 600px) and (max-width: 959px)","gt-sm":"(min-width: 960px)",md:"(min-width: 960px) and (max-width: 1279px)","gt-md":"(min-width: 1280px)",lg:"(min-width: 1280px) and (max-width: 1919px)","gt-lg":"(min-width: 1920px)",xl:"(min-width: 1920px)",landscape:"(orientation: landscape)",portrait:"(orientation: portrait)",print:"print"},MEDIA_PRIORITY:["xl","gt-lg","lg","gt-md","md","gt-sm","sm","gt-xs","xs","landscape","portrait","print"]};return o}t.module("material.core").factory("$mdConstant",MdConstantFactory)}(),function(){function MdIterator(e,n){function getItems(){return[].concat(r)}function count(){return r.length}function inRange(e){return r.length&&e>-1&&e<r.length}function hasNext(e){return!!e&&inRange(indexOf(e)+1)}function hasPrevious(e){return!!e&&inRange(indexOf(e)-1)}function itemAt(e){return inRange(e)?r[e]:null}function findBy(e,t){return r.filter(function(n){return n[e]===t})}function add(e,n){return e?(t.isNumber(n)||(n=r.length),r.splice(n,0,e),indexOf(e)):-1}function remove(e){contains(e)&&r.splice(indexOf(e),1)}function indexOf(e){return r.indexOf(e)}function contains(e){return e&&indexOf(e)>-1}function first(){return r.length?r[0]:null}function last(){return r.length?r[r.length-1]:null}function findSubsequentItem(e,o,a,s){a=a||i;for(var l=indexOf(o);;){if(!inRange(l))return null;var c=l+(e?-1:1),u=null;if(inRange(c)?u=r[c]:n&&(u=e?last():first(),c=indexOf(u)),null===u||c===s)return null;if(a(u))return u;t.isUndefined(s)&&(s=c),l=c}}var i=function(){return!0};e&&!t.isArray(e)&&(e=Array.prototype.slice.call(e)),n=!!n;var r=e||[];return{items:getItems,count:count,inRange:inRange,contains:contains,indexOf:indexOf,itemAt:itemAt,findBy:findBy,add:add,remove:remove,first:first,last:last,next:t.bind(null,findSubsequentItem,!1),previous:t.bind(null,findSubsequentItem,!0),hasPrevious:hasPrevious,hasNext:hasNext}}t.module("material.core").config(["$provide",function(e){e.decorator("$mdUtil",["$delegate",function(e){return e.iterator=MdIterator,e}])}])}(),function(){function mdMediaFactory(e,n,i){function $mdMedia(e){var n=r[e];t.isUndefined(n)&&(n=r[e]=validate(e));var i=a[n];return t.isUndefined(i)&&(i=add(n)),i}function validate(t){return e.MEDIA[t]||("("!==t.charAt(0)?"("+t+")":t)}function add(e){var t=o[e];return t||(t=o[e]=i.matchMedia(e)),t.addListener(onQueryChange),a[t.media]=!!t.matches}function onQueryChange(e){n.$evalAsync(function(){a[e.media]=!!e.matches})}function getQuery(e){return o[e]}function getResponsiveAttribute(t,n){for(var i=0;i<e.MEDIA_PRIORITY.length;i++){var a=e.MEDIA_PRIORITY[i];if(o[r[a]].matches){var s=getNormalizedName(t,n+"-"+a);if(t[s])return t[s]}}return t[getNormalizedName(t,n)]}function watchResponsiveAttributes(n,i,r){var o=[];return n.forEach(function(n){var a=getNormalizedName(i,n);t.isDefined(i[a])&&o.push(i.$observe(a,t.bind(void 0,r,null)));for(var s in e.MEDIA)a=getNormalizedName(i,n+"-"+s),t.isDefined(i[a])&&o.push(i.$observe(a,t.bind(void 0,r,s)))}),function(){o.forEach(function(e){e()})}}function getNormalizedName(e,t){return s[t]||(s[t]=e.$normalize(t))}var r={},o={},a={},s={};return $mdMedia.getResponsiveAttribute=getResponsiveAttribute,$mdMedia.getQuery=getQuery,$mdMedia.watchResponsiveAttributes=watchResponsiveAttributes,$mdMedia}mdMediaFactory.$inject=["$mdConstant","$rootScope","$window"],t.module("material.core").factory("$mdMedia",mdMediaFactory)}(),function(){function MdPrefixer(e,n){function _buildList(e){return e=t.isArray(e)?e:[e],e.forEach(function(t){i.forEach(function(n){e.push(n+"-"+t)})}),e}function _buildSelector(e){return e=t.isArray(e)?e:[e],_buildList(e).map(function(e){return"["+e+"]"}).join(",")}function _hasAttribute(e,t){if(e=_getNativeElement(e),!e)return!1;for(var n=_buildList(t),i=0;i<n.length;i++)if(e.hasAttribute(n[i]))return!0;return!1}function _removeAttribute(e,t){e=_getNativeElement(e),e&&_buildList(t).forEach(function(t){e.removeAttribute(t)})}function _getNativeElement(e){if(e=e[0]||e,e.nodeType)return e}var i=["data","x"];return e?n?_buildSelector(e):_buildList(e):{buildList:_buildList,buildSelector:_buildSelector,hasAttribute:_hasAttribute,removeAttribute:_removeAttribute}}t.module("material.core").config(["$provide",function(e){e.decorator("$mdUtil",["$delegate",function(e){return e.prefixer=MdPrefixer,e}])}])}(),function(){function UtilFactory(r,o,a,s,l,c,u,d,h,m){function validateCssValue(e){return e?hasPx(e)||hasPercent(e)?e:e+"px":"0"}function hasPx(e){return String(e).indexOf("px")>-1}function hasPercent(e){return String(e).indexOf("%")>-1}function getNode(e){return e[0]||e}var p=c.startSymbol(),f=c.endSymbol(),g="{{"===p&&"}}"===f,v=function(e,n,i){var r=!1;if(e&&e.length){var o=h.getComputedStyle(e[0]);r=t.isDefined(o[n])&&(!i||o[n]==i)}return r},y={dom:{},now:e.performance&&e.performance.now?t.bind(e.performance,e.performance.now):Date.now||function(){return(new Date).getTime()},getModelOption:function(e,t){if(e.$options){var n=e.$options;return n.getOption?n.getOption(t):n[t]}},bidi:function(e,n,i,o){var a=!("rtl"==r[0].dir||"rtl"==r[0].body.dir);if(0==arguments.length)return a?"ltr":"rtl";var s=t.element(e);a&&t.isDefined(i)?s.css(n,validateCssValue(i)):!a&&t.isDefined(o)&&s.css(n,validateCssValue(o))},bidiProperty:function(e,n,i,o){var a=!("rtl"==r[0].dir||"rtl"==r[0].body.dir),s=t.element(e);a&&t.isDefined(n)?(s.css(n,validateCssValue(o)),s.css(i,"")):!a&&t.isDefined(i)&&(s.css(i,validateCssValue(o)),s.css(n,""))},clientRect:function(e,t,n){var i=getNode(e);t=getNode(t||i.offsetParent||document.body);var r=i.getBoundingClientRect(),o=n?t.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:r.left-o.left,top:r.top-o.top,width:r.width,height:r.height}},offsetRect:function(e,t){return y.clientRect(e,t,!0)},nodesToArray:function(e){e=e||[];for(var t=[],n=0;n<e.length;++n)t.push(e.item(n));return t},getViewportTop:function(){return e.scrollY||e.pageYOffset||0},findFocusTarget:function(e,n){function scanForFocusable(e,n){var i,r=e[0].querySelectorAll(n);return r&&r.length&&r.length&&t.forEach(r,function(e){e=t.element(e);var n=e.hasClass("md-autofocus");n&&(i=e)}),i}var i,r=this.prefixer("md-autofocus",!0);return i=scanForFocusable(e,n||r),i||n==r||(i=scanForFocusable(e,this.prefixer("md-auto-focus",!0)),i||(i=scanForFocusable(e,r))),i},disableScrollAround:function(e,n,i){function disableElementScroll(e){function preventDefault(e){e.preventDefault()}e=t.element(e||o);var n;return i.disableScrollMask?n=e:(n=t.element('<div class="md-scroll-mask">  <div class="md-scroll-mask-bar"></div></div>'),e.append(n)),n.on("wheel",preventDefault),n.on("touchmove",preventDefault),function(){n.off("wheel"),n.off("touchmove"),i.disableScrollMask||n[0].parentNode.removeChild(n[0])}}function disableBodyScroll(){var e=r[0].documentElement,n=e.style.cssText||"",i=o.style.cssText||"",a=y.getViewportTop(),s=o.clientWidth,l=o.scrollHeight>o.clientHeight+1;return l&&t.element(o).css({position:"fixed",width:"100%",top:-a+"px"}),o.clientWidth<s&&(o.style.overflow="hidden"),l&&(e.style.overflowY="scroll"),function(){o.style.cssText=i,e.style.cssText=n,o.scrollTop=a}}if(i=i||{},y.disableScrollAround._count=Math.max(0,y.disableScrollAround._count||0),y.disableScrollAround._count++,y.disableScrollAround._restoreScroll)return y.disableScrollAround._restoreScroll;var o=r[0].body,a=disableBodyScroll(),s=disableElementScroll(n);return y.disableScrollAround._restoreScroll=function(){--y.disableScrollAround._count<=0&&(a(),s(),delete y.disableScrollAround._restoreScroll)}},enableScrolling:function(){var e=this.disableScrollAround._restoreScroll;e&&e()},floatingScrollbars:function(){if(this.floatingScrollbars.cached===n){var e=t.element("<div><div></div></div>").css({width:"100%","z-index":-1,position:"absolute",height:"35px","overflow-y":"scroll"});e.children().css("height","60px"),r[0].body.appendChild(e[0]),this.floatingScrollbars.cached=e[0].offsetWidth==e[0].childNodes[0].offsetWidth,e.remove()}return this.floatingScrollbars.cached},forceFocus:function(t){var n=t[0]||t;document.addEventListener("click",function focusOnClick(e){e.target===n&&e.$focus&&(n.focus(),e.stopImmediatePropagation(),e.preventDefault(),n.removeEventListener("click",focusOnClick))},!0);var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!1,!0,e,{},0,0,0,0,!1,!1,!1,!1,0,null),i.$material=!0,i.$focus=!0,n.dispatchEvent(i)},createBackdrop:function(e,t){return a(y.supplant('<md-backdrop class="{0}">',[t]))(e)},supplant:function(e,t,n){return n=n||/\{([^\{\}]*)\}/g,e.replace(n,function(e,n){var i=n.split("."),r=t;try{for(var o in i)i.hasOwnProperty(o)&&(r=r[i[o]])}catch(t){r=e}return"string"==typeof r||"number"==typeof r?r:e})},fakeNgModel:function(){return{$fake:!0,$setTouched:t.noop,$setViewValue:function(e){this.$viewValue=e,this.$render(e),this.$viewChangeListeners.forEach(function(e){e()})},$isEmpty:function(e){return 0===(""+e).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:t.noop}},debounce:function(e,t,i,r){var a;return function(){var s=i,l=Array.prototype.slice.call(arguments);o.cancel(a),a=o(function(){a=n,e.apply(s,l)},t||10,r)}},throttle:function(e,t){var n;return function(){var i=this,r=arguments,o=y.now();(!n||o-n>t)&&(e.apply(i,r),n=o)}},time:function(e){var t=y.now();return e(),y.now()-t},valueOnUse:function(e,t,n){var i=null,r=Array.prototype.slice.call(arguments),o=r.length>3?r.slice(3):[];Object.defineProperty(e,t,{get:function(){return null===i&&(i=n.apply(e,o)),i}})},nextUid:function(){return""+i++},disconnectScope:function(e){if(e&&e.$root!==e&&!e.$$destroyed){var t=e.$parent;e.$$disconnected=!0,t.$$childHead===e&&(t.$$childHead=e.$$nextSibling),t.$$childTail===e&&(t.$$childTail=e.$$prevSibling),e.$$prevSibling&&(e.$$prevSibling.$$nextSibling=e.$$nextSibling),e.$$nextSibling&&(e.$$nextSibling.$$prevSibling=e.$$prevSibling),e.$$nextSibling=e.$$prevSibling=null}},reconnectScope:function(e){if(e&&e.$root!==e&&e.$$disconnected){var t=e,n=t.$parent;t.$$disconnected=!1,t.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=t,n.$$childTail=t):n.$$childHead=n.$$childTail=t}},getClosest:function(e,n,i){if(t.isString(n)){var r=n.toUpperCase();n=function(e){return e.nodeName.toUpperCase()===r}}if(e instanceof t.element&&(e=e[0]),i&&(e=e.parentNode),!e)return null;do if(n(e))return e;while(e=e.parentNode);return null},elementContains:function(n,i){var r=e.Node&&e.Node.prototype&&Node.prototype.contains,o=r?t.bind(n,n.contains):t.bind(n,function(e){return n===i||!!(16&this.compareDocumentPosition(e))});return o(i)},extractElementByName:function(e,n,i,r){function scanTree(e){return scanLevel(e)||(i?scanChildren(e):null)}function scanLevel(e){if(e)for(var t=0,i=e.length;t<i;t++)if(e[t].nodeName.toLowerCase()===n)return e[t];return null}function scanChildren(e){var t;if(e)for(var n=0,i=e.length;n<i;n++){var r=e[n];if(!t)for(var o=0,a=r.childNodes.length;o<a;o++)t=t||scanTree([r.childNodes[o]])}return t}var o=scanTree(e);return!o&&r&&u.warn(y.supplant("Unable to find node '{0}' in element '{1}'.",[n,e[0].outerHTML])),t.element(o||e)},initOptionalProperties:function(e,n,i){i=i||{},t.forEach(e.$$isolateBindings,function(r,o){if(r.optional&&t.isUndefined(e[o])){var a=t.isDefined(n[r.attrName]);e[o]=t.isDefined(i[o])?i[o]:a}})},nextTick:function(e,t,n){function processQueue(){var e=i.queue,t=i.digest;i.queue=[],i.timeout=null,i.digest=!1,e.forEach(function(e){var t=e.scope&&e.scope.$$destroyed;t||e.callback()}),t&&s.$digest()}var i=y.nextTick,r=i.timeout,a=i.queue||[];return a.push({scope:n,callback:e}),null==t&&(t=!0),i.digest=i.digest||t,i.queue=a,r||(i.timeout=o(processQueue,0,!1))},processTemplate:function(e){return g?e:e&&t.isString(e)?e.replace(/\{\{/g,p).replace(/}}/g,f):e},getParentWithPointerEvents:function(e){for(var t=e.parent();v(t,"pointer-events","none");)t=t.parent();return t},getNearestContentElement:function(e){for(var t=e.parent()[0];t&&t!==d[0]&&t!==document.body&&"MD-CONTENT"!==t.nodeName.toUpperCase();)t=t.parentNode;return t},checkStickySupport:function(){var e,n=t.element("<div>");r[0].body.appendChild(n[0]);for(var i=["sticky","-webkit-sticky"],o=0;o<i.length;++o)if(n.css({position:i[o],top:0,"z-index":2}),n.css("position")==i[o]){e=i[o];break}return n.remove(),e},parseAttributeBoolean:function(e,t){return""===e||!!e&&(t===!1||"false"!==e&&"0"!==e)},hasComputedStyle:v,isParentFormSubmitted:function(e){var n=y.getClosest(e,"form"),i=n?t.element(n).controller("form"):null;return!!i&&i.$submitted},animateScrollTo:function(e,t,n){function scrollChunk(){var n=calculateNewPosition();e.scrollTop=n,(o?n<t:n>t)&&m(scrollChunk)}function calculateNewPosition(){var e=n||1e3,t=y.now()-a;return ease(t,i,r,e)}function ease(e,t,n,i){if(e>i)return t+n;var r=(e/=i)*e,o=r*e;return t+n*(-2*o+3*r)}var i=e.scrollTop,r=t-i,o=i<t,a=y.now();m(scrollChunk)},uniq:function(e){if(e)return e.filter(function(e,t,n){return n.indexOf(e)===t})}};return y.dom.animator=l(y),y}UtilFactory.$inject=["$document","$timeout","$compile","$rootScope","$$mdAnimate","$interpolate","$log","$rootElement","$window","$$rAF"];var i=0;t.module("material.core").factory("$mdUtil",UtilFactory),
t.element.prototype.focus=t.element.prototype.focus||function(){return this.length&&this[0].focus(),this},t.element.prototype.blur=t.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){function MdAriaProvider(){function disableWarnings(){e.showWarnings=!1}var e={showWarnings:!0};return{disableWarnings:disableWarnings,$get:["$$rAF","$log","$window","$interpolate",function(t,n,i,r){return MdAriaService.apply(e,arguments)}]}}function MdAriaService(e,n,i,r){function expect(e,i,r){var a=t.element(e)[0]||e;!a||a.hasAttribute(i)&&0!==a.getAttribute(i).length||childHasAttribute(a,i)||(r=t.isString(r)?r.trim():"",r.length?e.attr(i,r):o&&n.warn('ARIA: Attribute "',i,'", required for accessibility, is missing on node:',a))}function expectAsync(t,n,i){e(function(){expect(t,n,i())})}function expectWithText(e,t){var n=getText(e)||"",i=n.indexOf(r.startSymbol())>-1;i?expectAsync(e,t,function(){return getText(e)}):expect(e,t,n)}function expectWithoutText(e,t){var n=getText(e),i=n.indexOf(r.startSymbol())>-1;i||n||expect(e,t,n)}function getText(e){function isAriaHiddenNode(t){for(;t.parentNode&&(t=t.parentNode)!==e;)if(t.getAttribute&&"true"===t.getAttribute("aria-hidden"))return!0}e=e[0]||e;for(var t,n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),i="";t=n.nextNode();)isAriaHiddenNode(t)||(i+=t.textContent);return i.trim()||""}function childHasAttribute(e,t){function isHidden(e){var t=e.currentStyle?e.currentStyle:i.getComputedStyle(e);return"none"===t.display}var n=e.hasChildNodes(),r=!1;if(n)for(var o=e.childNodes,a=0;a<o.length;a++){var s=o[a];1===s.nodeType&&s.hasAttribute(t)&&(isHidden(s)||(r=!0))}return r}var o=this.showWarnings;return{expect:expect,expectAsync:expectAsync,expectWithText:expectWithText,expectWithoutText:expectWithoutText,getText:getText}}MdAriaService.$inject=["$$rAF","$log","$window","$interpolate"],t.module("material.core").provider("$mdAria",MdAriaProvider)}(),function(){function MdCompilerService(e,t,n,i,r){this.$q=e,this.$templateRequest=t,this.$injector=n,this.$compile=i,this.$controller=r}MdCompilerService.$inject=["$q","$templateRequest","$injector","$compile","$controller"],t.module("material.core").service("$mdCompiler",MdCompilerService),MdCompilerService.prototype.compile=function(e){return e.contentElement?this._prepareContentElement(e):this._compileTemplate(e)},MdCompilerService.prototype._prepareContentElement=function(e){var t=this._fetchContentElement(e);return this.$q.resolve({element:t.element,cleanup:t.restore,locals:{},link:function(){return t.element}})},MdCompilerService.prototype._compileTemplate=function(e){var n=this,i=e.templateUrl,r=e.template||"",o=t.extend({},e.resolve),a=t.extend({},e.locals),s=e.transformTemplate||t.identity;return t.forEach(o,function(e,i){t.isString(e)?o[i]=n.$injector.get(e):o[i]=n.$injector.invoke(e)}),t.extend(o,a),i?o.$$ngTemplate=this.$templateRequest(i):o.$$ngTemplate=this.$q.when(r),this.$q.all(o).then(function(i){var r=s(i.$$ngTemplate,e),o=e.element||t.element("<div>").html(r.trim()).contents();return n._compileElement(i,o,e)})},MdCompilerService.prototype._compileElement=function(e,n,i){function linkFn(s){if(e.$scope=s,i.controller){var l=t.extend(e,{$element:n}),c=r.$controller(i.controller,l,!0,i.controllerAs);i.bindToController&&t.extend(c.instance,e);var u=c();n.data("$ngControllerController",u),n.children().data("$ngControllerController",u),a.controller=u}return o(s)}var r=this,o=this.$compile(n),a={element:n,cleanup:n.remove.bind(n),locals:e,link:linkFn};return a},MdCompilerService.prototype._fetchContentElement=function(e){function createRestoreFn(e){var t=e.parentNode,n=e.nextElementSibling;return function(){n?t.insertBefore(e,n):t.appendChild(e)}}var n=e.contentElement,i=null;return t.isString(n)?(n=document.querySelector(n),i=createRestoreFn(n)):(n=n[0]||n,i=document.contains(n)?createRestoreFn(n):function(){n.parentNode&&n.parentNode.removeChild(n)}),{element:t.element(n),restore:i}}}(),function(){function MdGestureProvider(){}function MdGesture(n,i,a){function checkDistanceAndEmit(e){return function(t,n){n.distance<this.state.options.maxDistance&&this.dispatchEvent(t,e,n)}}function register(e,t,n){var i=r[t.replace(/^\$md./,"")];if(!i)throw new Error("Failed to register element with handler "+t+". Available handlers: "+Object.keys(r).join(", "));return i.registerElement(e,n)}function addHandler(e,i){var o=new n(e);return t.extend(o,i),r[e]=o,h}function getTouchAction(){for(var e=document.createElement("div"),n=["","webkit","Moz","MS","ms","o"],i=0;i<n.length;i++){var r=n[i],o=r?r+"TouchAction":"touchAction";if(t.isDefined(e.style[o]))return o}}var s=navigator.userAgent||navigator.vendor||e.opera,l=s.match(/ipad|iphone|ipod/i),c=s.match(/android/i),u=getTouchAction(),d="undefined"!=typeof e.jQuery&&t.element===e.jQuery,h={handler:addHandler,register:register,isHijackingClicks:(l||c)&&!d&&!o};if(h.isHijackingClicks){var m=6;h.handler("click",{options:{maxDistance:m},onEnd:checkDistanceAndEmit("click")}),h.handler("focus",{options:{maxDistance:m},onEnd:function(e,t){function canFocus(e){var t=["INPUT","SELECT","BUTTON","TEXTAREA","VIDEO","AUDIO"];return"-1"!=e.getAttribute("tabindex")&&!e.hasAttribute("DISABLED")&&(e.hasAttribute("tabindex")||e.hasAttribute("href")||e.isContentEditable||t.indexOf(e.nodeName)!=-1)}t.distance<this.state.options.maxDistance&&canFocus(e.target)&&(this.dispatchEvent(e,"focus",t),e.target.focus())}}),h.handler("mouseup",{options:{maxDistance:m},onEnd:checkDistanceAndEmit("mouseup")}),h.handler("mousedown",{onStart:function(e){this.dispatchEvent(e,"mousedown")}})}return h.handler("press",{onStart:function(e,t){this.dispatchEvent(e,"$md.pressdown")},onEnd:function(e,t){this.dispatchEvent(e,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){a.cancel(this.state.timeout)},onStart:function(e,n){return this.state.registeredParent?(this.state.pos={x:n.x,y:n.y},void(this.state.timeout=a(t.bind(this,function(){this.dispatchEvent(e,"$md.hold"),this.cancel()}),this.state.options.delay,!1))):this.cancel()},onMove:function(e,t){u||"touchmove"!==e.type||e.preventDefault();var n=this.state.pos.x-t.x,i=this.state.pos.y-t.y;Math.sqrt(n*n+i*i)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onSetup:function(e,t){u&&(this.oldTouchAction=e[0].style[u],e[0].style[u]=t.horizontal?"pan-y":"pan-x")},onCleanup:function(e){this.oldTouchAction&&(e[0].style[u]=this.oldTouchAction)},onStart:function(e){this.state.registeredParent||this.cancel()},onMove:function(e,t){var n,i;u||"touchmove"!==e.type||e.preventDefault(),this.state.dragPointer?this.dispatchDragMove(e):(this.state.options.horizontal?(n=Math.abs(t.distanceX)>this.state.options.minDistance,i=Math.abs(t.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier):(n=Math.abs(t.distanceY)>this.state.options.minDistance,i=Math.abs(t.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier),n?(this.state.dragPointer=makeStartPointer(e),updatePointerState(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragstart",this.state.dragPointer)):i&&this.cancel())},dispatchDragMove:i.throttle(function(e){this.state.isRunning&&(updatePointerState(e,this.state.dragPointer),this.dispatchEvent(e,"$md.drag",this.state.dragPointer))}),onEnd:function(e,t){this.state.dragPointer&&(updatePointerState(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(e,t){var n;Math.abs(t.velocityX)>this.state.options.minVelocity&&Math.abs(t.distanceX)>this.state.options.minDistance?(n="left"==t.directionX?"$md.swipeleft":"$md.swiperight",this.dispatchEvent(e,n)):Math.abs(t.velocityY)>this.state.options.minVelocity&&Math.abs(t.distanceY)>this.state.options.minDistance&&(n="up"==t.directionY?"$md.swipeup":"$md.swipedown",this.dispatchEvent(e,n))}})}function GestureHandler(e){this.name=e,this.state={}}function MdGestureHandler(){function jQueryDispatchEvent(e,i,r){r=r||n;var o=new t.element.Event(i);o.$material=!0,o.pointer=r,o.srcEvent=e,t.extend(o,{clientX:r.x,clientY:r.y,screenX:r.x,screenY:r.y,pageX:r.x,pageY:r.y,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey}),t.element(r.target).trigger(o)}function nativeDispatchEvent(t,i,r){r=r||n;var o;"click"===i||"mouseup"==i||"mousedown"==i?(o=document.createEvent("MouseEvents"),o.initMouseEvent(i,!0,!0,e,t.detail,r.x,r.y,r.x,r.y,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget||null)):(o=document.createEvent("CustomEvent"),o.initCustomEvent(i,!0,!0,{})),o.$material=!0,o.pointer=r,o.srcEvent=t,r.target.dispatchEvent(o)}var i="undefined"!=typeof e.jQuery&&t.element===e.jQuery;return GestureHandler.prototype={options:{},dispatchEvent:i?jQueryDispatchEvent:nativeDispatchEvent,onSetup:t.noop,onCleanup:t.noop,onStart:t.noop,onMove:t.noop,onEnd:t.noop,onCancel:t.noop,start:function(e,n){if(!this.state.isRunning){var i=this.getNearestParent(e.target),r=i&&i.$mdGesture[this.name]||{};this.state={isRunning:!0,options:t.extend({},this.options,r),registeredParent:i},this.onStart(e,n)}},move:function(e,t){this.state.isRunning&&this.onMove(e,t)},end:function(e,t){this.state.isRunning&&(this.onEnd(e,t),this.state.isRunning=!1)},cancel:function(e,t){this.onCancel(e,t),this.state={}},getNearestParent:function(e){for(var t=e;t;){if((t.$mdGesture||{})[this.name])return t;t=t.parentNode}return null},registerElement:function(e,t){function onDestroy(){delete e[0].$mdGesture[n.name],e.off("$destroy",onDestroy),n.onCleanup(e,t||{})}var n=this;return e[0].$mdGesture=e[0].$mdGesture||{},e[0].$mdGesture[this.name]=t||{},e.on("$destroy",onDestroy),n.onSetup(e,t||{}),onDestroy}},GestureHandler}function attachToDocument(e,o){function mouseInputHijacker(e){var t=!e.clientX&&!e.clientY;t||e.$material||e.isIonicTap||isInputEventFromLabelClick(e)||(e.preventDefault(),e.stopPropagation())}function clickHijacker(e){var t=0===e.clientX&&0===e.clientY;t||e.$material||e.isIonicTap||isInputEventFromLabelClick(e)?(a=null,"label"==e.target.tagName.toLowerCase()&&(a={x:e.x,y:e.y})):(e.preventDefault(),e.stopPropagation(),a=null)}function runHandlers(e,t){var i;for(var a in r)i=r[a],i instanceof o&&("start"===e&&i.cancel(),i[e](t,n))}function gestureStart(e){if(!n){var t=+Date.now();i&&!typesMatch(e,i)&&t-i.endTime<1500||(n=makeStartPointer(e),runHandlers("start",e))}}function gestureMove(e){n&&typesMatch(e,n)&&(updatePointerState(e,n),runHandlers("move",e))}function gestureEnd(e){n&&typesMatch(e,n)&&(updatePointerState(e,n),n.endTime=+Date.now(),runHandlers("end",e),i=n,n=null)}document.contains||(document.contains=function(e){return document.body.contains(e)}),!s&&e.isHijackingClicks&&(document.addEventListener("click",clickHijacker,!0),document.addEventListener("mouseup",mouseInputHijacker,!0),document.addEventListener("mousedown",mouseInputHijacker,!0),document.addEventListener("focus",mouseInputHijacker,!0),s=!0);var l="mousedown touchstart pointerdown",c="mousemove touchmove pointermove",u="mouseup mouseleave touchend touchcancel pointerup pointercancel";t.element(document).on(l,gestureStart).on(c,gestureMove).on(u,gestureEnd).on("$$mdGestureReset",function(){i=n=null})}function makeStartPointer(e){var t=getEventPoint(e),n={startTime:+Date.now(),target:e.target,type:e.type.charAt(0)};return n.startX=n.x=t.pageX,n.startY=n.y=t.pageY,n}function typesMatch(e,t){return e&&t&&e.type.charAt(0)===t.type}function isInputEventFromLabelClick(e){return a&&a.x==e.x&&a.y==e.y}function updatePointerState(e,t){var n=getEventPoint(e),i=t.x=n.pageX,r=t.y=n.pageY;t.distanceX=i-t.startX,t.distanceY=r-t.startY,t.distance=Math.sqrt(t.distanceX*t.distanceX+t.distanceY*t.distanceY),t.directionX=t.distanceX>0?"right":t.distanceX<0?"left":"",t.directionY=t.distanceY>0?"down":t.distanceY<0?"up":"",t.duration=+Date.now()-t.startTime,t.velocityX=t.distanceX/t.duration,t.velocityY=t.distanceY/t.duration}function getEventPoint(e){return e=e.originalEvent||e,e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0]||e}MdGesture.$inject=["$$MdGestureHandler","$$rAF","$timeout"],attachToDocument.$inject=["$mdGesture","$$MdGestureHandler"];var n,i,r={},o=!1,a=null,s=!1;t.module("material.core.gestures",[]).provider("$mdGesture",MdGestureProvider).factory("$$MdGestureHandler",MdGestureHandler).run(attachToDocument),MdGestureProvider.prototype={skipClickHijack:function(){return o=!0},$get:["$$MdGestureHandler","$$rAF","$timeout",function(e,t,n){return new MdGesture(e,t,n)}]}}(),function(){function MdInteractionService(e,n){this.$timeout=e,this.$mdUtil=n,this.bodyElement=t.element(document.body),this.isBuffering=!1,this.bufferTimeout=null,this.lastInteractionType=null,this.lastInteractionTime=null,this.inputEventMap={keydown:"keyboard",mousedown:"mouse",mouseenter:"mouse",touchstart:"touch",pointerdown:"pointer",MSPointerDown:"pointer"},this.iePointerMap={2:"touch",3:"touch",4:"mouse"},this.initializeEvents()}MdInteractionService.$inject=["$timeout","$mdUtil"],t.module("material.core.interaction",[]).service("$mdInteraction",MdInteractionService),MdInteractionService.prototype.initializeEvents=function(){var t="MSPointerEvent"in e?"MSPointerDown":"PointerEvent"in e?"pointerdown":null;this.bodyElement.on("keydown mousedown",this.onInputEvent.bind(this)),"ontouchstart"in document.documentElement&&this.bodyElement.on("touchstart",this.onBufferInputEvent.bind(this)),t&&this.bodyElement.on(t,this.onInputEvent.bind(this))},MdInteractionService.prototype.onInputEvent=function(e){if(!this.isBuffering){var t=this.inputEventMap[e.type];"pointer"===t&&(t=this.iePointerMap[e.pointerType]||e.pointerType),this.lastInteractionType=t,this.lastInteractionTime=this.$mdUtil.now()}},MdInteractionService.prototype.onBufferInputEvent=function(e){this.$timeout.cancel(this.bufferTimeout),this.onInputEvent(e),this.isBuffering=!0,this.bufferTimeout=this.$timeout(function(){this.isBuffering=!1}.bind(this),650,!1)},MdInteractionService.prototype.getLastInteractionType=function(){return this.lastInteractionType},MdInteractionService.prototype.isUserInvoked=function(e){var n=t.isNumber(e)?e:15;return this.lastInteractionTime>=this.$mdUtil.now()-n}}(),function(){function InterimElementProvider(){function createInterimElementProvider(e){function setDefaults(e){return r.optionsFactory=e.options,r.methods=(e.methods||[]).concat(n),o}function addMethod(e,t){return i[e]=t,o}function addPreset(t,i){if(i=i||{},i.methods=i.methods||[],i.options=i.options||function(){return{}},/^cancel|hide|show$/.test(t))throw new Error("Preset '"+t+"' in "+e+" is reserved!");if(i.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+e+" is reserved!");return r.presets[t]={methods:i.methods.concat(n),optionsFactory:i.options,argOption:i.argOption},o}function factory(n,o){function showInterimElement(e){return e=e||{},e._options&&(e=e._options),l.show(t.extend({},s,e))}function destroyInterimElement(e){return l.destroy(e)}function invokeFactory(t,n){var i={};return i[e]=c,o.invoke(t||function(){return n},{},i)}var a,s,l=n(),c={hide:l.hide,cancel:l.cancel,show:showInterimElement,destroy:destroyInterimElement};return a=r.methods||[],s=invokeFactory(r.optionsFactory,{}),t.forEach(i,function(e,t){c[t]=e}),t.forEach(r.presets,function(e,n){function Preset(e){this._options=t.extend({},i,e)}var i=invokeFactory(e.optionsFactory,{}),r=(e.methods||[]).concat(a);if(t.extend(i,{$type:n}),t.forEach(r,function(e){Preset.prototype[e]=function(t){return this._options[e]=t,this}}),e.argOption){var o="show"+n.charAt(0).toUpperCase()+n.slice(1);c[o]=function(e){var t=c[n](e);return c.show(t)}}c[n]=function(n){return arguments.length&&e.argOption&&!t.isObject(n)&&!t.isArray(n)?(new Preset)[e.argOption](n):new Preset(n)}}),c}factory.$inject=["$$interimElement","$injector"];var n=["onHide","onShow","onRemove"],i={},r={presets:{}},o={setDefaults:setDefaults,addPreset:addPreset,addMethod:addMethod,$get:factory};return o.addPreset("build",{methods:["controller","controllerAs","resolve","multiple","template","templateUrl","themable","transformTemplate","parent","contentElement"]}),o}function InterimElementFactory(e,i,r,o,a,s,l,c,u,d,h){return function(){function show(e){e=e||{};var t=new InterimElement(e||{}),n=e.multiple?i.resolve():i.all(f);e.multiple||(n=n.then(function(){var e=g.concat(v.map(m.cancel));return i.all(e)}));var r=n.then(function(){return t.show().catch(function(e){return e}).finally(function(){f.splice(f.indexOf(r),1),v.push(t)})});return f.push(r),t.deferred.promise.catch(function(e){return e instanceof Error&&h(e),e}),t.deferred.promise}function hide(e,t){function closeElement(n){var i=n.remove(e,!1,t||{}).catch(function(e){return e}).finally(function(){g.splice(g.indexOf(i),1)});return v.splice(v.indexOf(n),1),g.push(i),n.deferred.promise}return t=t||{},t.closeAll?i.all(v.slice().reverse().map(closeElement)):t.closeTo!==n?i.all(v.slice(t.closeTo).map(closeElement)):closeElement(v[v.length-1])}function cancel(e,n){var r=v.pop();if(!r)return i.when(e);var o=r.remove(e,!0,n||{}).catch(function(e){return e}).finally(function(){g.splice(g.indexOf(o),1)});return g.push(o),r.deferred.promise.catch(t.noop)}function waitForInterim(e){return function(){var t=arguments;return v.length?e.apply(m,t):f.length?f[0].finally(function(){return e.apply(m,t)}):i.when("No interim elements currently showing up.")}}function destroy(e){var n=e?null:v.shift(),r=t.element(e).length&&t.element(e)[0].parentNode;if(r){var o=v.filter(function(e){return e.options.element[0]===r});o.length&&(n=o[0],v.splice(v.indexOf(n),1))}return n?n.remove(p,!1,{$destroy:!0}):i.when(p)}function InterimElement(d){function createAndTransitionIn(){return i(function(e,t){function rejectAll(e){h.deferred.reject(e),t(e)}d.onCompiling&&d.onCompiling(d),compileElement(d).then(function(t){p=linkElement(t,d),d.cleanupElement=t.cleanup,f=showElement(p,d,t.controller).then(e,rejectAll)}).catch(rejectAll)})}function transitionOutAndRemove(e,n,r){function resolveAll(e){h.deferred.resolve(e)}function rejectAll(e){h.deferred.reject(e)}return p?(d=t.extend(d||{},r||{}),d.cancelAutoHide&&d.cancelAutoHide(),d.element.triggerHandler("$mdInterimElementRemove"),d.$destroy===!0?hideElement(d.element,d).then(function(){n&&rejectAll(e)||resolveAll(e)}):(i.when(f).finally(function(){hideElement(d.element,d).then(function(){n?rejectAll(e):resolveAll(e)},rejectAll)}),h.deferred.promise)):i.when(!1)}function configureScopeAndTransitions(e){return e=e||{},e.template&&(e.template=l.processTemplate(e.template)),t.extend({preserveScope:!1,cancelAutoHide:t.noop,scope:e.scope||r.$new(e.isolateScope),onShow:function(e,t,n){return s.enter(t,n.parent)},onRemove:function(e,t){return t&&s.leave(t)||i.when()}},e)}function compileElement(e){var t=e.skipCompile?null:c.compile(e);return t||i(function(t){t({locals:{},link:function(){return e.element}})})}function linkElement(e,n){t.extend(e.locals,n);var i=e.link(n.scope);return n.element=i,n.parent=findParent(i,n),n.themable&&u(i),i}function findParent(n,i){var r=i.parent;if(r=t.isFunction(r)?r(i.scope,n,i):t.isString(r)?t.element(e[0].querySelector(r)):t.element(r),!(r||{}).length){var o;return a[0]&&a[0].querySelector&&(o=a[0].querySelector(":not(svg) > body")),o||(o=a[0]),"#comment"==o.nodeName&&(o=e[0].body),t.element(o)}return r}function startAutoHide(){var e,i=t.noop;d.hideDelay&&(e=o(m.hide,d.hideDelay),i=function(){o.cancel(e)}),d.cancelAutoHide=function(){i(),d.cancelAutoHide=n}}function showElement(e,n,r){var o=n.onShowing||t.noop,a=n.onComplete||t.noop;try{o(n.scope,e,n,r)}catch(e){return i.reject(e)}return i(function(t,o){try{i.when(n.onShow(n.scope,e,n,r)).then(function(){a(n.scope,e,n),startAutoHide(),t(e)},o)}catch(e){o(e.message)}})}function hideElement(e,n){var r=n.onRemoving||t.noop;return i(function(t,o){try{var a=i.when(n.onRemove(n.scope,e,n)||!0);r(e,a),n.$destroy?(t(e),!n.preserveScope&&n.scope&&a.then(function(){n.scope.$destroy()})):a.then(function(){!n.preserveScope&&n.scope&&n.scope.$destroy(),t(e)},o)}catch(e){o(e.message)}})}var h,p,f=i.when(!0);return d=configureScopeAndTransitions(d),h={options:d,deferred:i.defer(),show:createAndTransitionIn,remove:transitionOutAndRemove}}var m,p=!1,f=[],g=[],v=[];return m={show:show,hide:waitForInterim(hide),cancel:waitForInterim(cancel),destroy:destroy,$injector_:d}}}return InterimElementFactory.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$mdUtil","$mdCompiler","$mdTheming","$injector","$exceptionHandler"],createInterimElementProvider.$get=InterimElementFactory,createInterimElementProvider}t.module("material.core").provider("$$interimElement",InterimElementProvider)}(),function(){!function(){function registerLayoutAPI(e){function directiveNormalize(e){return e.replace(n,"").replace(i,function(e,t,n,i){return i?n.toUpperCase():n})}var n=/^((?:x|data)[\:\-_])/i,i=/([\:\-\_]+(.))/g,r=["","xs","gt-xs","sm","gt-sm","md","gt-md","lg","gt-lg","xl","print"],o=["layout","flex","flex-order","flex-offset","layout-align"],a=["show","hide","layout-padding","layout-margin"];t.forEach(r,function(n){t.forEach(o,function(t){var i=n?t+"-"+n:t;e.directive(directiveNormalize(i),attributeWithObserve(i))}),t.forEach(a,function(t){var i=n?t+"-"+n:t;e.directive(directiveNormalize(i),attributeWithoutValue(i))})}),e.provider("$$mdLayout",function(){return{$get:t.noop,validateAttributeValue:validateAttributeValue,validateAttributeUsage:validateAttributeUsage,disableLayouts:function(e){u.enabled=e!==!0}}}).directive("mdLayoutCss",disableLayoutDirective).directive("ngCloak",buildCloakInterceptor("ng-cloak")).directive("layoutWrap",attributeWithoutValue("layout-wrap")).directive("layoutNowrap",attributeWithoutValue("layout-nowrap")).directive("layoutNoWrap",attributeWithoutValue("layout-no-wrap")).directive("layoutFill",attributeWithoutValue("layout-fill")).directive("layoutLtMd",warnAttrNotSupported("layout-lt-md",!0)).directive("layoutLtLg",warnAttrNotSupported("layout-lt-lg",!0)).directive("flexLtMd",warnAttrNotSupported("flex-lt-md",!0)).directive("flexLtLg",warnAttrNotSupported("flex-lt-lg",!0)).directive("layoutAlignLtMd",warnAttrNotSupported("layout-align-lt-md")).directive("layoutAlignLtLg",warnAttrNotSupported("layout-align-lt-lg")).directive("flexOrderLtMd",warnAttrNotSupported("flex-order-lt-md")).directive("flexOrderLtLg",warnAttrNotSupported("flex-order-lt-lg")).directive("offsetLtMd",warnAttrNotSupported("flex-offset-lt-md")).directive("offsetLtLg",warnAttrNotSupported("flex-offset-lt-lg")).directive("hideLtMd",warnAttrNotSupported("hide-lt-md")).directive("hideLtLg",warnAttrNotSupported("hide-lt-lg")).directive("showLtMd",warnAttrNotSupported("show-lt-md")).directive("showLtLg",warnAttrNotSupported("show-lt-lg")).config(detectDisabledLayouts)}function detectDisabledLayouts(){var e=!!document.querySelector("[md-layouts-disabled]");u.enabled=!e}function disableLayoutDirective(){return u.enabled=!1,{restrict:"A",priority:"900"}}function buildCloakInterceptor(e){return["$timeout",function(n){return{restrict:"A",priority:-10,compile:function(i){return u.enabled?(i.addClass(e),function(t,i){n(function(){i.removeClass(e)},10,!1)}):t.noop}}}]}function attributeWithObserve(r){function translateWithValueToCssClass(e,t,n){var i=updateClassWithValue(t,r,n),o=n.$observe(n.$normalize(r),i);i(getNormalizedAttrValue(r,n,"")),e.$on("$destroy",function(){o()})}return["$mdUtil","$interpolate","$log",function(o,a,s){return e=o,n=a,i=s,{restrict:"A",compile:function(e,n){var o;return u.enabled&&(validateAttributeUsage(r,n,e,i),validateAttributeValue(r,getNormalizedAttrValue(r,n,""),buildUpdateFn(e,r,n)),o=translateWithValueToCssClass),o||t.noop}}}]}function attributeWithoutValue(r){function translateToCssClass(e,t){t.addClass(r)}return["$mdUtil","$interpolate","$log",function(o,a,s){return e=o,n=a,i=s,{restrict:"A",compile:function(e,n){var i;return u.enabled&&(validateAttributeValue(r,getNormalizedAttrValue(r,n,""),buildUpdateFn(e,r,n)),translateToCssClass(null,e),i=translateToCssClass),i||t.noop}}}]}function updateClassWithValue(e,n){var i;return function(r){var a=validateAttributeValue(n,r||"");t.isDefined(a)&&(i&&e.removeClass(i),i=a?n+"-"+a.replace(o,"-"):n,e.addClass(i))}}function warnAttrNotSupported(e){var n=e.split("-");return["$log",function(i){return i.warn(e+"has been deprecated. Please use a `"+n[0]+"-gt-<xxx>` variant."),t.noop}]}function validateAttributeUsage(t,n,i,o){var a,s,l,c=i[0].nodeName.toLowerCase();switch(t.replace(r,"")){case"flex":"md-button"!=c&&"fieldset"!=c||(s="<"+c+" "+t+"></"+c+">",l="https://github.com/philipwalton/flexbugs#9-some-html-elements-cant-be-flex-containers",a="Markup '{0}' may not work as expected in IE Browsers. Consult '{1}' for details.",o.warn(e.supplant(a,[s,l])))}}function validateAttributeValue(n,i,o){var l=i;if(!needsInterpolation(i)){switch(n.replace(r,"")){case"layout":findIn(i,s)||(i=s[0]);break;case"flex":findIn(i,a)||isNaN(i)&&(i="");break;case"flex-offset":case"flex-order":i&&!isNaN(+i)||(i="0");break;case"layout-align":var c=extractAlignAxis(i);i=e.supplant("{main}-{cross}",c);break;case"layout-padding":case"layout-margin":case"layout-fill":case"layout-wrap":case"layout-nowrap":case"layout-nowrap":i=""}i!=l&&(o||t.noop)(i)}return i}function buildUpdateFn(e,t,n){return function(e){needsInterpolation(e)||(n[n.$normalize(t)]=e)}}function needsInterpolation(e){return(e||"").indexOf(n.startSymbol())>-1}function getNormalizedAttrValue(e,t,n){var i=t.$normalize(e);return t[i]?t[i].replace(o,"-"):n||null}function findIn(e,t,n){e=n&&e?e.replace(o,n):e;var i=!1;return e&&t.forEach(function(t){t=n?t.replace(o,n):t,i=i||t===e}),i}function extractAlignAxis(e){var t,n={main:"start",cross:"stretch"};return e=e||"",0!==e.indexOf("-")&&0!==e.indexOf(" ")||(e="none"+e),t=e.toLowerCase().trim().replace(o,"-").split("-"),t.length&&"space"===t[0]&&(t=[t[0]+"-"+t[1],t[2]]),t.length>0&&(n.main=t[0]||n.main),t.length>1&&(n.cross=t[1]||n.cross),l.indexOf(n.main)<0&&(n.main="start"),c.indexOf(n.cross)<0&&(n.cross="stretch"),n}var e,n,i,r=/(-gt)?-(sm|md|lg|print)/g,o=/\s+/g,a=["grow","initial","auto","none","noshrink","nogrow"],s=["row","column"],l=["","start","center","end","stretch","space-around","space-between"],c=["","start","center","end","stretch"],u={enabled:!0,breakpoints:[]};registerLayoutAPI(t.module("material.core.layout",["ng"]))}()}(),function(){function MdLiveAnnouncer(e){this._$timeout=e,this._liveElement=this._createLiveElement(),this._announceTimeout=100}MdLiveAnnouncer.$inject=["$timeout"],t.module("material.core").service("$mdLiveAnnouncer",MdLiveAnnouncer),MdLiveAnnouncer.prototype.announce=function(e,t){t||(t="polite");var n=this;n._liveElement.textContent="",n._liveElement.setAttribute("aria-live",t),n._$timeout(function(){n._liveElement.textContent=e},n._announceTimeout,!1)},MdLiveAnnouncer.prototype._createLiveElement=function(){var e=document.createElement("div");return e.classList.add("md-visually-hidden"),e.setAttribute("role","status"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),document.body.appendChild(e),e}}(),function(){t.module("material.core.meta",[]).provider("$$mdMeta",function(){function mapExistingElement(e){if(n[e])return!0;var i=document.getElementsByName(e)[0];return!!i&&(n[e]=t.element(i),!0)}function setMeta(i,r){if(mapExistingElement(i),n[i])n[i].attr("content",r);else{var o=t.element('<meta name="'+i+'" content="'+r+'"/>');e.append(o),n[i]=o}return function(){n[i].attr("content",""),n[i].remove(),delete n[i]}}function getMeta(e){if(!mapExistingElement(e))throw Error("$$mdMeta: could not find a meta tag with the name '"+e+"'");return n[e].attr("content")}var e=t.element(document.head),n={},i={setMeta:setMeta,getMeta:getMeta};return t.extend({},i,{$get:function(){return i}})})}(),function(){function ComponentRegistry(e,i){function isValidID(e){return e&&""!==e}var r,o=[],a={};return r={notFoundError:function(t,n){e.error((n||"")+"No instance found for handle",t)},getInstances:function(){return o},get:function(e){if(!isValidID(e))return null;var t,n,i;for(t=0,n=o.length;t<n;t++)if(i=o[t],i.$$mdHandle===e)return i;return null},register:function(e,n){function deregister(){var t=o.indexOf(e);t!==-1&&o.splice(t,1)}function resolveWhen(){var t=a[n];t&&(t.forEach(function(t){t.resolve(e)}),delete a[n])}return n?(e.$$mdHandle=n,o.push(e),resolveWhen(),deregister):t.noop},when:function(e){if(isValidID(e)){var t=i.defer(),o=r.get(e);return o?t.resolve(o):(a[e]===n&&(a[e]=[]),a[e].push(t)),t.promise}return i.reject("Invalid `md-component-id` value.")}}}ComponentRegistry.$inject=["$log","$q"],t.module("material.core").factory("$mdComponentRegistry",ComponentRegistry)}(),function(){!function(){function MdButtonInkRipple(e){function optionsForElement(e){return e.hasClass("md-icon-button")?{isMenuItem:e.hasClass("md-menu-item"),fitRipple:!0,center:!0}:{isMenuItem:e.hasClass("md-menu-item"),dimBackground:!0}}return{attach:function(n,i,r){return r=t.extend(optionsForElement(i),r),e.attach(n,i,r)}}}MdButtonInkRipple.$inject=["$mdInkRipple"],t.module("material.core").factory("$mdButtonInkRipple",MdButtonInkRipple)}()}(),function(){!function(){function MdCheckboxInkRipple(e){function attach(n,i,r){return e.attach(n,i,t.extend({center:!0,dimBackground:!1,fitRipple:!0},r))}return{attach:attach}}MdCheckboxInkRipple.$inject=["$mdInkRipple"],t.module("material.core").factory("$mdCheckboxInkRipple",MdCheckboxInkRipple)}()}(),function(){!function(){function MdListInkRipple(e){function attach(n,i,r){return e.attach(n,i,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},r))}return{attach:attach}}MdListInkRipple.$inject=["$mdInkRipple"],t.module("material.core").factory("$mdListInkRipple",MdListInkRipple)}()}(),function(){function InkRippleDirective(e,n){return{controller:t.noop,link:function(t,i,r){r.hasOwnProperty("mdInkRippleCheckbox")?n.attach(t,i):e.attach(t,i)}}}function InkRippleProvider(){function disableInkRipple(){e=!0}var e=!1;return{disableInkRipple:disableInkRipple,$get:["$injector",function(n){function attach(i,r,o){return e||r.controller("mdNoInk")?t.noop:n.instantiate(InkRippleCtrl,{$scope:i,$element:r,rippleOptions:o})}return{attach:attach}}]}}function InkRippleCtrl(e,n,i,r,o,a,s){this.$window=r,this.$timeout=o,this.$mdUtil=a,this.$mdColorUtil=s,this.$scope=e,this.$element=n,this.options=i,this.mousedown=!1,this.ripples=[],this.timeout=null,this.lastRipple=null,a.valueOnUse(this,"container",this.createContainer),this.$element.addClass("md-ink-ripple"),(n.controller("mdInkRipple")||{}).createRipple=t.bind(this,this.createRipple),(n.controller("mdInkRipple")||{}).setColor=t.bind(this,this.color),this.bindEvents()}function autoCleanup(e,n){(e.mousedown||e.lastRipple)&&(e.mousedown=!1,e.$mdUtil.nextTick(t.bind(e,n),!1))}function attrNoDirective(){return{controller:t.noop}}InkRippleCtrl.$inject=["$scope","$element","rippleOptions","$window","$timeout","$mdUtil","$mdColorUtil"],InkRippleDirective.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"],t.module("material.core").provider("$mdInkRipple",InkRippleProvider).directive("mdInkRipple",InkRippleDirective).directive("mdNoInk",attrNoDirective).directive("mdNoBar",attrNoDirective).directive("mdNoStretch",attrNoDirective);var e=450;InkRippleCtrl.prototype.color=function(e){function getElementColor(){var e=n.options&&n.options.colorElement?n.options.colorElement:[],t=e.length?e[0]:n.$element[0];return t?n.$window.getComputedStyle(t).color:"rgb(0,0,0)"}var n=this;return t.isDefined(e)&&(n._color=n._parseColor(e)),n._color||n._parseColor(n.inkRipple())||n._parseColor(getElementColor())},InkRippleCtrl.prototype.calculateColor=function(){return this.color()},InkRippleCtrl.prototype._parseColor=function(e,t){t=t||1;var n=this.$mdColorUtil;if(e)return 0===e.indexOf("rgba")?e.replace(/\d?\.?\d*\s*\)\s*$/,(.1*t).toString()+")"):0===e.indexOf("rgb")?n.rgbToRgba(e):0===e.indexOf("#")?n.hexToRgba(e):void 0;
},InkRippleCtrl.prototype.bindEvents=function(){this.$element.on("mousedown",t.bind(this,this.handleMousedown)),this.$element.on("mouseup touchend",t.bind(this,this.handleMouseup)),this.$element.on("mouseleave",t.bind(this,this.handleMouseup)),this.$element.on("touchmove",t.bind(this,this.handleTouchmove))},InkRippleCtrl.prototype.handleMousedown=function(e){if(!this.mousedown)if(e.hasOwnProperty("originalEvent")&&(e=e.originalEvent),this.mousedown=!0,this.options.center)this.createRipple(this.container.prop("clientWidth")/2,this.container.prop("clientWidth")/2);else if(e.srcElement!==this.$element[0]){var t=this.$element[0].getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top;this.createRipple(n,i)}else this.createRipple(e.offsetX,e.offsetY)},InkRippleCtrl.prototype.handleMouseup=function(){autoCleanup(this,this.clearRipples)},InkRippleCtrl.prototype.handleTouchmove=function(){autoCleanup(this,this.deleteRipples)},InkRippleCtrl.prototype.deleteRipples=function(){for(var e=0;e<this.ripples.length;e++)this.ripples[e].remove()},InkRippleCtrl.prototype.clearRipples=function(){for(var e=0;e<this.ripples.length;e++)this.fadeInComplete(this.ripples[e])},InkRippleCtrl.prototype.createContainer=function(){var e=t.element('<div class="md-ripple-container"></div>');return this.$element.append(e),e},InkRippleCtrl.prototype.clearTimeout=function(){this.timeout&&(this.$timeout.cancel(this.timeout),this.timeout=null)},InkRippleCtrl.prototype.isRippleAllowed=function(){var e=this.$element[0];do{if(!e.tagName||"BODY"===e.tagName)break;if(e&&t.isFunction(e.hasAttribute)){if(e.hasAttribute("disabled"))return!1;if("false"===this.inkRipple()||"0"===this.inkRipple())return!1}}while(e=e.parentNode);return!0},InkRippleCtrl.prototype.inkRipple=function(){return this.$element.attr("md-ink-ripple")},InkRippleCtrl.prototype.createRipple=function(n,i){function getSize(e,t,n){return e?Math.max(t,n):Math.sqrt(Math.pow(t,2)+Math.pow(n,2))}if(this.isRippleAllowed()){var r=this,o=r.$mdColorUtil,a=t.element('<div class="md-ripple"></div>'),s=this.$element.prop("clientWidth"),l=this.$element.prop("clientHeight"),c=2*Math.max(Math.abs(s-n),n),u=2*Math.max(Math.abs(l-i),i),d=getSize(this.options.fitRipple,c,u),h=this.calculateColor();a.css({left:n+"px",top:i+"px",background:"black",width:d+"px",height:d+"px",backgroundColor:o.rgbaToRgb(h),borderColor:o.rgbaToRgb(h)}),this.lastRipple=a,this.clearTimeout(),this.timeout=this.$timeout(function(){r.clearTimeout(),r.mousedown||r.fadeInComplete(a)},.35*e,!1),this.options.dimBackground&&this.container.css({backgroundColor:h}),this.container.append(a),this.ripples.push(a),a.addClass("md-ripple-placed"),this.$mdUtil.nextTick(function(){a.addClass("md-ripple-scaled md-ripple-active"),r.$timeout(function(){r.clearRipples()},e,!1)},!1)}},InkRippleCtrl.prototype.fadeInComplete=function(e){this.lastRipple===e?this.timeout||this.mousedown||this.removeRipple(e):this.removeRipple(e)},InkRippleCtrl.prototype.removeRipple=function(t){var n=this,i=this.ripples.indexOf(t);i<0||(this.ripples.splice(this.ripples.indexOf(t),1),t.removeClass("md-ripple-active"),t.addClass("md-ripple-remove"),0===this.ripples.length&&this.container.css({backgroundColor:""}),this.$timeout(function(){n.fadeOutComplete(t)},e,!1))},InkRippleCtrl.prototype.fadeOutComplete=function(e){e.remove(),this.lastRipple=null}}(),function(){!function(){function MdTabInkRipple(e){function attach(n,i,r){return e.attach(n,i,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},r))}return{attach:attach}}MdTabInkRipple.$inject=["$mdInkRipple"],t.module("material.core").factory("$mdTabInkRipple",MdTabInkRipple)}()}(),function(){t.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100",contrastStrongLightColors:"400 500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A700",contrastStrongLightColors:"600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100 A200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#ffffff",A200:"#000000",A400:"#303030",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A200 A400 A700"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200",contrastStrongLightColors:"400 500 700"}})}(),function(){!function(e){function detectDisabledThemes(e){var t=!!document.querySelector("[md-themes-disabled]");e.disableTheming(t)}function ThemingProvider(i,l){function definePalette(e,n){return n=n||{},t[e]=checkPaletteValid(e,n),c}function extendPalette(n,i){return checkPaletteValid(n,e.extend({},t[n]||{},i))}function checkPaletteValid(e,t){var n=f.filter(function(e){return!t[e]});if(n.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",e));return t}function registerTheme(t,n){if(u[t])return u[t];n=n||"default";var i="string"==typeof n?u[n]:n,r=new Theme(t);return i&&e.forEach(i.colors,function(t,n){r.colors[n]={name:t.name,hues:e.extend({},t.hues)}}),u[t]=r,r}function Theme(t){function setDark(t){if(t=0===arguments.length||!!t,t!==n.isDark){n.isDark=t,n.foregroundPalette=n.isDark?o:r,n.foregroundShadow=n.isDark?a:s;var i=n.isDark?p:m,l=n.isDark?m:p;return e.forEach(i,function(e,t){var i=n.colors[t],r=l[t];if(i)for(var o in i.hues)i.hues[o]===r[o]&&(i.hues[o]=e[o])}),n}}var n=this;n.name=t,n.colors={},n.dark=setDark,setDark(!1),d.forEach(function(t){var i=(n.isDark?p:m)[t];n[t+"Palette"]=function(r,o){var a=n.colors[t]={name:r,hues:e.extend({},i,o)};return Object.keys(a.hues).forEach(function(e){if(!i[e])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",e).replace("%2",n.name).replace("%3",r).replace("%4",Object.keys(i).join(", ")))}),Object.keys(a.hues).map(function(e){return a.hues[e]}).forEach(function(e){if(f.indexOf(e)==-1)throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",e).replace("%2",n.name).replace("%3",t).replace("%4",r).replace("%5",f.join(", ")))}),n},n[t+"Color"]=function(){var e=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+t+"Color() has been deprecated. Use $mdThemingProviderTheme."+t+"Palette() instead."),n[t+"Palette"].apply(n,e)}})}function ThemingService(i,r,o,a){function registered(e){return e===n||""===e||s.THEMES[e]!==n}function inheritTheme(e,t){function lookupThemeName(){return n&&n.$mdTheme||("default"==v?"":v)}function updateThemeClass(t){if(t){registered(t)||a.warn("Attempted to use unregistered theme '"+t+"'. Register it with $mdThemingProvider.theme().");var i=e.data("$mdThemeName");i&&e.removeClass("md-"+i+"-theme"),e.addClass("md-"+t+"-theme"),e.data("$mdThemeName",t),n&&e.data("$mdThemeController",n)}}var n=t.controller("mdTheme")||e.data("$mdThemeController");if(updateThemeClass(lookupThemeName()),n)var i=h||n.$shouldWatch||r.parseAttributeBoolean(e.attr("md-theme-watch")),o=n.registerChanges(function(t){updateThemeClass(t),i?e.on("$destroy",o):o()})}var s=function(e,t){t===n&&(t=e,e=n),e===n&&(e=i),s.inherit(t,t)};return Object.defineProperty(s,"THEMES",{get:function(){return e.extend({},u)}}),Object.defineProperty(s,"PALETTES",{get:function(){return e.extend({},t)}}),Object.defineProperty(s,"ALWAYS_WATCH",{get:function(){return h}}),s.inherit=inheritTheme,s.registered=registered,s.defaultTheme=function(){return v},s.generateTheme=function(e){generateTheme(u[e],e,g.nonce)},s.defineTheme=function(e,t){t=t||{};var n=registerTheme(e);return t.primary&&n.primaryPalette(t.primary),t.accent&&n.accentPalette(t.accent),t.warn&&n.warnPalette(t.warn),t.background&&n.backgroundPalette(t.background),t.dark&&n.dark(),this.generateTheme(e),o.resolve(e)},s.setBrowserColor=b,s}ThemingService.$inject=["$rootScope","$mdUtil","$q","$log"],t={};var c,u={},h=!1,v="default";e.extend(t,i);var y=function(e){var t=l.setMeta("theme-color",e),n=l.setMeta("msapplication-navbutton-color",e);return function(){t(),n()}},b=function(n){n=e.isObject(n)?n:{};var i=n.theme||"default",r=n.hue||"800",o=t[n.palette]||t[u[i].colors[n.palette||"primary"].name],a=e.isObject(o[r])?o[r].hex:o[r];return y(a)};return c={definePalette:definePalette,extendPalette:extendPalette,theme:registerTheme,configuration:function(){return e.extend({},g,{defaultTheme:v,alwaysWatchTheme:h,registeredStyles:[].concat(g.registeredStyles)})},disableTheming:function(t){g.disableTheming=e.isUndefined(t)||!!t},registerStyles:function(e){g.registeredStyles.push(e)},setNonce:function(e){g.nonce=e},generateThemesOnDemand:function(e){g.generateOnDemand=e},setDefaultTheme:function(e){v=e},alwaysWatchTheme:function(e){h=e},enableBrowserColor:b,$get:ThemingService,_LIGHT_DEFAULT_HUES:m,_DARK_DEFAULT_HUES:p,_PALETTES:t,_THEMES:u,_parseRules:parseRules,_rgba:rgba}}function ThemingDirective(t,n,i,r,o,a){return{priority:101,link:{pre:function(s,l,c){var u=[],d=n.startSymbol(),h=n.endSymbol(),m=c.mdTheme.trim(),p=m.substr(0,d.length)===d&&m.lastIndexOf(h)===m.length-h.length,f="::",g=c.mdTheme.split(d).join("").split(h).join("").trim().substr(0,f.length)===f,v={registerChanges:function(t,n){return n&&(t=e.bind(n,t)),u.push(t),function(){var e=u.indexOf(t);e>-1&&u.splice(e,1)}},$setTheme:function(e){t.registered(e)||a.warn("attempted to use unregistered theme '"+e+"'"),v.$mdTheme=e;for(var n=u.length;n--;)u[n](e)},$shouldWatch:r.parseAttributeBoolean(l.attr("md-theme-watch"))||t.ALWAYS_WATCH||p&&!g};l.data("$mdThemeController",v);var y=function(){var e=n(c.mdTheme)(s);return i(e)(s)||e},b=function(t){return"string"==typeof t?v.$setTheme(t):void o.when(e.isFunction(t)?t():t).then(function(e){v.$setTheme(e)})};b(y());var _=s.$watch(y,function(e){e&&(b(e),v.$shouldWatch||_())})}}}}function disableThemesDirective(){return g.disableTheming=!0,{restrict:"A",priority:"900"}}function ThemableDirective(e){return e}function parseRules(n,i,r){checkValidPalette(n,i),r=r.replace(/THEME_NAME/g,n.name);var o=[],a=n.colors[i],s=new RegExp("\\.md-"+n.name+"-theme","g"),l=new RegExp("('|\")?{{\\s*("+i+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),c=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow|default)-?(\d\.?\d*)?(contrast)?\s*\}\}'?"?/g,u=t[a.name];return r=r.replace(c,function(e,i,r,o,a){return"foreground"===i?"shadow"==r?n.foregroundShadow:n.foregroundPalette[r]||n.foregroundPalette[1]:(0!==r.indexOf("hue")&&"default"!==r||(r=n.colors[i].hues[r]),rgba((t[n.colors[i].name][r]||"")[a?"contrast":"value"],o))}),e.forEach(a.hues,function(e,t){var i=r.replace(l,function(t,n,i,r,o){return rgba(u[e]["color"===r?"value":"contrast"],o)});if("default"!==t&&(i=i.replace(s,".md-"+n.name+"-theme.md-"+t)),"default"==n.name){var a=/((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)\.md-default-theme((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)/g;i=i.replace(a,function(e,t,n){return e+", "+t+n})}o.push(i)}),o}function generateAllThemes(n,r){function sanitizePalette(t,n){var i=t.contrastDefaultColor,r=t.contrastLightColors||[],o=t.contrastStrongLightColors||[],a=t.contrastDarkColors||[];"string"==typeof r&&(r=r.split(" ")),"string"==typeof o&&(o=o.split(" ")),"string"==typeof a&&(a=a.split(" ")),delete t.contrastDefaultColor,delete t.contrastLightColors,delete t.contrastStrongLightColors,delete t.contrastDarkColors,e.forEach(t,function(n,s){function getContrastColor(){return"light"===i?a.indexOf(s)>-1?l:o.indexOf(s)>-1?u:c:r.indexOf(s)>-1?o.indexOf(s)>-1?u:c:l}if(!e.isObject(n)){var d=colorToRgbaArray(n);if(!d)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",n).replace("%2",t.name).replace("%3",s));t[s]={hex:t[s],value:d,contrast:getContrastColor()}}})}var o=document.head,a=o?o.firstElementChild:null,s=!g.disableTheming&&n.has("$MD_THEME_CSS")?n.get("$MD_THEME_CSS"):"";if(s+=g.registeredStyles.join(""),a&&0!==s.length){e.forEach(t,sanitizePalette);var m=s.split(/\}(?!(\}|'|"|;))/).filter(function(e){return e&&e.trim().length}).map(function(e){return e.trim()+"}"}),p=new RegExp("md-("+d.join("|")+")","g");d.forEach(function(e){v[e]=""}),m.forEach(function(e){for(var t,n=(e.match(p),0);t=d[n];n++)if(e.indexOf(".md-"+t)>-1)return v[t]+=e;for(n=0;t=d[n];n++)if(e.indexOf(t)>-1)return v[t]+=e;return v[h]+=e}),g.generateOnDemand||e.forEach(r.THEMES,function(e){i[e.name]||"default"!==r.defaultTheme()&&"default"===e.name||generateTheme(e,e.name,g.nonce)})}}function generateTheme(e,t,n){var r=document.head,o=r?r.firstElementChild:null;i[t]||(d.forEach(function(t){for(var i=parseRules(e,t,v[t]);i.length;){var a=i.shift();if(a){var s=document.createElement("style");s.setAttribute("md-theme-style",""),n&&s.setAttribute("nonce",n),s.appendChild(document.createTextNode(a)),r.insertBefore(s,o)}}}),i[e.name]=!0)}function checkValidPalette(e,n){if(!t[(e.colors[n]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",e.name).replace("%2",n).replace("%3",Object.keys(t).join(", ")))}function colorToRgbaArray(t){if(e.isArray(t)&&3==t.length)return t;if(/^rgb/.test(t))return t.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(e,t){return 3==t?parseFloat(e,10):parseInt(e,10)});if("#"==t.charAt(0)&&(t=t.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(t)){var n=t.length/3,i=t.substr(0,n),r=t.substr(n,n),o=t.substr(2*n);return 1===n&&(i+=i,r+=r,o+=o),[parseInt(i,16),parseInt(r,16),parseInt(o,16)]}}function rgba(t,n){return t?(4==t.length&&(t=e.copy(t),n?t.pop():n=t.pop()),n&&("number"==typeof n||"string"==typeof n&&n.length)?"rgba("+t.join(",")+","+n+")":"rgb("+t.join(",")+")"):"rgb('0,0,0')"}detectDisabledThemes.$inject=["$mdThemingProvider"],ThemingDirective.$inject=["$mdTheming","$interpolate","$parse","$mdUtil","$q","$log"],ThemableDirective.$inject=["$mdTheming"],ThemingProvider.$inject=["$mdColorPalette","$$mdMetaProvider"],generateAllThemes.$inject=["$injector","$mdTheming"],e.module("material.core.theming",["material.core.theming.palette","material.core.meta"]).directive("mdTheme",ThemingDirective).directive("mdThemable",ThemableDirective).directive("mdThemesDisabled",disableThemesDirective).provider("$mdTheming",ThemingProvider).config(detectDisabledThemes).run(generateAllThemes);var t,i={},r={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.38)",4:"rgba(0,0,0,0.12)"},o={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.5)",4:"rgba(255,255,255,0.12)"},a="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",s="",l=colorToRgbaArray("rgba(0,0,0,0.87)"),c=colorToRgbaArray("rgba(255,255,255,0.87)"),u=colorToRgbaArray("rgb(255,255,255)"),d=["primary","accent","warn","background"],h="primary",m={accent:{default:"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{default:"50","hue-1":"A100","hue-2":"100","hue-3":"300"}},p={background:{default:"A400","hue-1":"800","hue-2":"900","hue-3":"A200"}};d.forEach(function(e){var t={default:"500","hue-1":"300","hue-2":"800","hue-3":"A100"};m[e]||(m[e]=t),p[e]||(p[e]=t)});var f=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"],g={disableTheming:!1,generateOnDemand:!1,registeredStyles:[],nonce:null},v={}}(e.angular)}(),function(){function AnimateDomUtils(n,i,r,o,a){var s;return s={translate3d:function(e,t,n,i){function reverseTranslate(n){return a(e,{to:n||t,addClass:i.transitionOutClass,removeClass:i.transitionInClass,duration:i.duration}).start()}return a(e,{from:t,to:n,addClass:i.transitionInClass,removeClass:i.transitionOutClass,duration:i.duration}).start().then(function(){return reverseTranslate})},waitTransitionEnd:function(t,n){var a=3e3;return i(function(i,s){function finished(e){e&&e.target!==t[0]||(e&&r.cancel(l),t.off(o.CSS.TRANSITIONEND,finished),i())}function noTransitionFound(n){return n=n||e.getComputedStyle(t[0]),"0s"==n.transitionDuration||!n.transition&&!n.transitionProperty}n=n||{},noTransitionFound(n.cachedTransitionStyles)&&(a=0);var l=r(finished,n.timeout||a);t.on(o.CSS.TRANSITIONEND,finished)})},calculateTransformValues:function(e,t){function currentBounds(){var t=e?e.parent():null,n=t?t.parent():null;return n?s.clientRect(n):null}var n=t.element,i=t.bounds;if(n||i){var r=n?s.clientRect(n)||currentBounds():s.copyRect(i),o=s.copyRect(e[0].getBoundingClientRect()),a=s.centerPointFor(o),l=s.centerPointFor(r);return{centerX:l.x-a.x,centerY:l.y-a.y,scaleX:Math.round(100*Math.min(.5,r.width/o.width))/100,scaleY:Math.round(100*Math.min(.5,r.height/o.height))/100}}return{centerX:0,centerY:0,scaleX:.5,scaleY:.5}},calculateZoomToOrigin:function(e,i){var r="translate3d( {centerX}px, {centerY}px, 0 ) scale( {scaleX}, {scaleY} )",o=t.bind(null,n.supplant,r);return o(s.calculateTransformValues(e,i))},calculateSlideToOrigin:function(e,i){var r="translate3d( {centerX}px, {centerY}px, 0 )",o=t.bind(null,n.supplant,r);return o(s.calculateTransformValues(e,i))},toCss:function(e){function convertToVendor(e,i,r){t.forEach(i.split(" "),function(e){n[e]=r})}var n={},i="left top right bottom width height x y min-width min-height max-width max-height";return t.forEach(e,function(e,r){if(!t.isUndefined(e))if(i.indexOf(r)>=0)n[r]=e+"px";else switch(r){case"transition":convertToVendor(r,o.CSS.TRANSITION,e);break;case"transform":convertToVendor(r,o.CSS.TRANSFORM,e);break;case"transformOrigin":convertToVendor(r,o.CSS.TRANSFORM_ORIGIN,e);break;case"font-size":n["font-size"]=e}}),n},toTransformCss:function(e,n,i){var r={};return t.forEach(o.CSS.TRANSFORM.split(" "),function(t){r[t]=e}),n&&(i=i||"all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) !important",r.transition=i),r},copyRect:function(e,n){return e?(n=n||{},t.forEach("left top right bottom width height".split(" "),function(t){n[t]=Math.round(e[t])}),n.width=n.width||n.right-n.left,n.height=n.height||n.bottom-n.top,n):null},clientRect:function(e){var n=t.element(e)[0].getBoundingClientRect(),i=function(e){return e&&e.width>0&&e.height>0};return i(n)?s.copyRect(n):null},centerPointFor:function(e){return e?{x:Math.round(e.left+e.width/2),y:Math.round(e.top+e.height/2)}:{x:0,y:0}}}}t.module("material.core").factory("$$mdAnimate",["$q","$timeout","$mdConstant","$animateCss",function(e,t,n,i){return function(r){return AnimateDomUtils(r,e,t,n,i)}}])}(),function(){t.version.minor>=4?t.module("material.core.animate",[]):!function(){function camelCase(e){return e.replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()})}var e=t.forEach,n=t.isDefined(document.documentElement.style.WebkitAppearance),i=n?"-webkit-":"",r=(n?"webkitTransitionEnd ":"")+"transitionend",o=(n?"webkitAnimationEnd ":"")+"animationend",a=["$document",function(e){return function(){return e[0].body.clientWidth+1}}],s=["$$rAF",function(e){return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}],l=["$q","$$rAFMutex",function(n,i){function AnimateRunner(e){this.setHost(e),this._doneCallbacks=[],this._runInAnimationFrame=i(),this._state=0}var r=0,o=1,a=2;return AnimateRunner.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===a?e():this._doneCallbacks.push(e)},progress:t.noop,getPromise:function(){if(!this.promise){var e=this;this.promise=n(function(t,n){e.done(function(e){e===!1?n():t()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===r&&(t._state=o,t._runInAnimationFrame(function(){t._resolve(e)}))},_resolve:function(t){this._state!==a&&(e(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=a)}},AnimateRunner.all=function(t,n){function onProgress(e){r=r&&e,++i===t.length&&n(r)}var i=0,r=!0;e(t,function(e){e.done(onProgress)})},AnimateRunner}];t.module("material.core.animate",[]).factory("$$forceReflow",a).factory("$$AnimateRunner",l).factory("$$rAFMutex",s).factory("$animateCss",["$window","$$rAF","$$AnimateRunner","$$forceReflow","$$jqLite","$timeout","$animate",function(t,a,s,l,c,u,d){function init(n,a){var l=[],c=getDomNode(n),h=c&&d.enabled(),m=!1,p=!1;h&&(a.transitionStyle&&l.push([i+"transition",a.transitionStyle]),a.keyframeStyle&&l.push([i+"animation",a.keyframeStyle]),a.delay&&l.push([i+"transition-delay",a.delay+"s"]),a.duration&&l.push([i+"transition-duration",a.duration+"s"]),m=a.keyframeStyle||a.to&&(a.duration>0||a.transitionStyle),p=!!a.addClass||!!a.removeClass,blockTransition(n,!0));var f=h&&(m||p);applyAnimationFromStyles(n,a);var g,v,y=!1;return{close:t.close,start:function(){function close(){if(!y)return y=!0,g&&v&&n.off(g,v),applyClasses(n,a),applyAnimationStyles(n,a),e(l,function(e){c.style[camelCase(e[0])]=""}),t.complete(!0),t}var t=new s;return waitUntilQuiet(function(){if(blockTransition(n,!1),!f)return close();e(l,function(e){var t=e[0],n=e[1];c.style[camelCase(t)]=n}),applyClasses(n,a);var t=computeTimings(n);if(0===t.duration)return close();var s=[];a.easing&&(t.transitionDuration&&s.push([i+"transition-timing-function",a.easing]),t.animationDuration&&s.push([i+"animation-timing-function",a.easing])),a.delay&&t.animationDelay&&s.push([i+"animation-delay",a.delay+"s"]),a.duration&&t.animationDuration&&s.push([i+"animation-duration",a.duration+"s"]),e(s,function(e){var t=e[0],n=e[1];c.style[camelCase(t)]=n,l.push(e)});var d=t.delay,h=1e3*d,m=t.duration,p=1e3*m,y=Date.now();g=[],t.transitionDuration&&g.push(r),t.animationDuration&&g.push(o),g=g.join(" "),v=function(e){e.stopPropagation();var t=e.originalEvent||e,n=t.timeStamp||Date.now(),i=parseFloat(t.elapsedTime.toFixed(3));Math.max(n-y,0)>=h&&i>=m&&close()},n.on(g,v),applyAnimationToStyles(n,a),u(close,h+1.5*p,!1)}),t}}}function applyClasses(e,t){t.addClass&&(c.addClass(e,t.addClass),t.addClass=null),t.removeClass&&(c.removeClass(e,t.removeClass),t.removeClass=null)}function computeTimings(e){function prop(e){return n?"Webkit"+e.charAt(0).toUpperCase()+e.substr(1):e}var i=getDomNode(e),r=t.getComputedStyle(i),o=parseMaxTime(r[prop("transitionDuration")]),a=parseMaxTime(r[prop("animationDuration")]),s=parseMaxTime(r[prop("transitionDelay")]),l=parseMaxTime(r[prop("animationDelay")]);a*=parseInt(r[prop("animationIterationCount")],10)||1;var c=Math.max(a,o),u=Math.max(l,s);return{duration:c,delay:u,animationDuration:a,transitionDuration:o,animationDelay:l,transitionDelay:s}}function parseMaxTime(t){var n=0,i=(t||"").split(/\s*,\s*/);return e(i,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,n=n?Math.max(e,n):e}),n}function waitUntilQuiet(e){h&&h(),m.push(e),h=a(function(){h=null;for(var e=l(),t=0;t<m.length;t++)m[t](e);m.length=0})}function applyAnimationStyles(e,t){applyAnimationFromStyles(e,t),applyAnimationToStyles(e,t)}function applyAnimationFromStyles(e,t){t.from&&(e.css(t.from),t.from=null)}function applyAnimationToStyles(e,t){t.to&&(e.css(t.to),t.to=null)}function getDomNode(e){for(var t=0;t<e.length;t++)if(1===e[t].nodeType)return e[t]}function blockTransition(e,t){var n=getDomNode(e),r=camelCase(i+"transition-delay");n.style[r]=t?"-9999s":""}var h,m=[];return init}])}()}(),function(){t.module("material.components.autocomplete",["material.core","material.components.icon","material.components.virtualRepeat"])}(),function(){t.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",["$mdTheming","$mdUtil","$animate","$rootElement","$window","$log","$$rAF","$document",function(e,n,i,r,o,a,s,l){function postLink(u,d,h){function resize(){var e=parseInt(m.height,10)+Math.abs(parseInt(m.top,10));d.css("height",e+"px")}i.pin&&i.pin(d,r);var m;s(function(){if(m=o.getComputedStyle(l[0].body),"fixed"===m.position){var i=n.debounce(function(){m=o.getComputedStyle(l[0].body),resize()},60,null,!1);resize(),t.element(o).on("resize",i),u.$on("$destroy",function(){t.element(o).off("resize",i)})}var r=d.parent();if(r.length){"BODY"===r[0].nodeName&&d.css("position","fixed");var s=o.getComputedStyle(r[0]);"static"===s.position&&a.warn(c),e.inherit(d,r)}})}var c="<md-backdrop> may not work properly in a scrolled, static-positioned parent container.";return{restrict:"E",link:postLink}}])}(),function(){function MdBottomSheetDirective(e){return{restrict:"E",link:function(t,n){n.addClass("_md"),t.$on("$destroy",function(){e.destroy()})}}}function MdBottomSheetProvider(e){function bottomSheetDefaults(e,r,o,a,s,l,c,u){function onShow(n,i,c,h){if(i=o.extractElementByName(i,"md-bottom-sheet"),i.attr("tabindex","-1"),i.hasClass("ng-cloak")){var m="$mdBottomSheet: using `<md-bottom-sheet ng-cloak >` will affect the bottom-sheet opening animations.";u.warn(m,i[0])}c.disableBackdrop||(d=o.createBackdrop(n,"md-bottom-sheet-backdrop md-opaque"),d[0].tabIndex=-1,c.clickOutsideToClose&&d.on("click",function(){o.nextTick(s.cancel,!0)}),a.inherit(d,c.parent),e.enter(d,c.parent,null));var p=new BottomSheet(i,c.parent);return c.bottomSheet=p,a.inherit(p.element,c.parent),c.disableParentScroll&&(c.restoreScroll=o.disableScrollAround(p.element,c.parent)),e.enter(p.element,c.parent,d).then(function(){var e=o.findFocusTarget(i)||t.element(i[0].querySelector("button")||i[0].querySelector("a")||i[0].querySelector(o.prefixer("ng-click",!0)))||d;c.escapeToClose&&(c.rootElementKeyupCallback=function(e){e.keyCode===r.KEY_CODE.ESCAPE&&o.nextTick(s.cancel,!0)},l.on("keyup",c.rootElementKeyupCallback),e&&e.focus())})}function onRemove(t,n,i){var r=i.bottomSheet;return i.disableBackdrop||e.leave(d),e.leave(r.element).then(function(){i.disableParentScroll&&(i.restoreScroll(),delete i.restoreScroll),r.cleanup()})}function BottomSheet(e,t){function onDragStart(t){e.css(r.CSS.TRANSITION_DURATION,"0ms")}function onDrag(t){var n=t.pointer.distanceY;n<5&&(n=Math.max(-i,n/2)),e.css(r.CSS.TRANSFORM,"translate3d(0,"+(i+n)+"px,0)")}function onDragEnd(t){if(t.pointer.distanceY>0&&(t.pointer.distanceY>20||Math.abs(t.pointer.velocityY)>n)){var i=e.prop("offsetHeight")-t.pointer.distanceY,a=Math.min(i/t.pointer.velocityY*.75,500);e.css(r.CSS.TRANSITION_DURATION,a+"ms"),o.nextTick(s.cancel,!0)}else e.css(r.CSS.TRANSITION_DURATION,""),e.css(r.CSS.TRANSFORM,"")}var a=c.register(t,"drag",{horizontal:!1});return t.on("$md.dragstart",onDragStart).on("$md.drag",onDrag).on("$md.dragend",onDragEnd),{element:e,cleanup:function(){a(),t.off("$md.dragstart",onDragStart),t.off("$md.drag",onDrag),t.off("$md.dragend",onDragEnd)}}}var d;return{themable:!0,onShow:onShow,onRemove:onRemove,
disableBackdrop:!1,escapeToClose:!0,clickOutsideToClose:!0,disableParentScroll:!0}}bottomSheetDefaults.$inject=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture","$log"];var n=.5,i=80;return e("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","clickOutsideToClose"],options:bottomSheetDefaults})}MdBottomSheetDirective.$inject=["$mdBottomSheet"],MdBottomSheetProvider.$inject=["$$interimElementProvider"],t.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",MdBottomSheetDirective).provider("$mdBottomSheet",MdBottomSheetProvider)}(),function(){function MdAnchorDirective(e){return{restrict:"E",link:function(t,n){e(n)}}}function MdButtonDirective(e,n,i,r){function isAnchor(e){return t.isDefined(e.href)||t.isDefined(e.ngHref)||t.isDefined(e.ngLink)||t.isDefined(e.uiSref)}function getTemplate(e,t){if(isAnchor(t))return'<a class="md-button" ng-transclude></a>';var n="undefined"==typeof t.type?"button":t.type;return'<button class="md-button" type="'+n+'" ng-transclude></button>'}function postLink(o,a,s){n(a),e.attach(o,a),i.expectWithoutText(a,"aria-label"),isAnchor(s)&&t.isDefined(s.ngDisabled)&&o.$watch(s.ngDisabled,function(e){a.attr("tabindex",e?-1:0)}),a.on("click",function(e){s.disabled===!0&&(e.preventDefault(),e.stopImmediatePropagation())}),a.hasClass("md-no-focus")||(a.on("focus",function(){r.isUserInvoked()&&"keyboard"!==r.getLastInteractionType()||a.addClass("md-focused")}),a.on("blur",function(){a.removeClass("md-focused")}))}return{restrict:"EA",replace:!0,transclude:!0,template:getTemplate,link:postLink}}MdButtonDirective.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$mdInteraction"],MdAnchorDirective.$inject=["$mdTheming"],t.module("material.components.button",["material.core"]).directive("mdButton",MdButtonDirective).directive("a",MdAnchorDirective)}(),function(){function mdCardDirective(e){return{restrict:"E",link:function(t,n,i){n.addClass("_md"),e(n)}}}mdCardDirective.$inject=["$mdTheming"],t.module("material.components.card",["material.core"]).directive("mdCard",mdCardDirective)}(),function(){function MdCheckboxDirective(e,n,i,r,o,a){function compile(s,l){function postLink(s,l,c,u){function $$watchExpr(e,t,n){c[e]&&s.$watch(c[e],function(e){n[e]&&l.attr(t,n[e])})}function keypressHandler(e){var t=e.which||e.keyCode;t!==i.KEY_CODE.SPACE&&t!==i.KEY_CODE.ENTER||(e.preventDefault(),l.addClass("md-focused"),listener(e))}function listener(e){l[0].hasAttribute("disabled")||s.skipToggle||s.$apply(function(){var t=c.ngChecked?c.checked:!m.$viewValue;m.$setViewValue(t,e&&e.type),m.$render()})}function render(){l.toggleClass("md-checked",!!m.$viewValue&&!d)}function setIndeterminateState(e){d=e!==!1,d&&l.attr("aria-checked","mixed"),l.toggleClass("md-indeterminate",d)}var d,h=u[0],m=u[1]||o.fakeNgModel(),p=u[2];if(h){var f=h.isErrorGetter||function(){return m.$invalid&&(m.$touched||p&&p.$submitted)};h.input=l,s.$watch(f,h.setInvalid)}r(l),l.children().on("focus",function(){l.focus()}),o.parseAttributeBoolean(c.mdIndeterminate)&&(setIndeterminateState(),s.$watch(c.mdIndeterminate,setIndeterminateState)),c.ngChecked&&s.$watch(s.$eval.bind(s,c.ngChecked),function(e){m.$setViewValue(e),m.$render()}),$$watchExpr("ngDisabled","tabindex",{true:"-1",false:c.tabindex}),n.expectWithText(l,"aria-label"),e.link.pre(s,{on:t.noop,0:{}},c,[m]),l.on("click",listener).on("keypress",keypressHandler).on("focus",function(){"keyboard"===a.getLastInteractionType()&&l.addClass("md-focused")}).on("blur",function(){l.removeClass("md-focused")}),m.$render=render}return l.$set("tabindex",l.tabindex||"0"),l.$set("type","checkbox"),l.$set("role",l.type),{pre:function(e,t){t.on("click",function(e){this.hasAttribute("disabled")&&e.stopImmediatePropagation()})},post:postLink}}return e=e[0],{restrict:"E",transclude:!0,require:["^?mdInputContainer","?ngModel","?^form"],priority:i.BEFORE_NG_ARIA,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:compile}}MdCheckboxDirective.$inject=["inputDirective","$mdAria","$mdConstant","$mdTheming","$mdUtil","$mdInteraction"],t.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",MdCheckboxDirective)}(),function(){t.module("material.components.chips",["material.core","material.components.autocomplete"])}(),function(){!function(){function MdColorsService(e,i,r){function applyThemeColors(e,t){try{t&&e.css(interpolateColors(t))}catch(e){r.error(e.message)}}function getThemeColor(e){var t=extractColorOptions(e);return parseColor(t)}function parseColor(t,n){n=n||!1;var r=e.PALETTES[t.palette][t.hue];return r=n?r.contrast:r.value,i.supplant("rgba({0}, {1}, {2}, {3})",[r[0],r[1],r[2],r[3]||t.opacity])}function interpolateColors(e){var n={},i=e.hasOwnProperty("color");return t.forEach(e,function(e,t){var r=extractColorOptions(e),o=t.indexOf("background")>-1;n[t]=parseColor(r),o&&!i&&(n.color=parseColor(r,!0))}),n}function hasTheme(n){return t.isDefined(e.THEMES[n.split("-")[0]])}function extractColorOptions(n){var i=n.split("-"),r=t.isDefined(e.THEMES[i[0]]),o=r?i.splice(0,1)[0]:e.defaultTheme();return{theme:o,palette:extractPalette(i,o),hue:extractHue(i,o),opacity:i[2]||1}}function extractPalette(t,r){var o=t.length>1&&n.indexOf(t[1])!==-1,a=t[0].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(o&&(a=t[0]+"-"+t.splice(1,1)),n.indexOf(a)===-1){var s=e.THEMES[r].colors[a];if(!s)throw new Error(i.supplant("mdColors: couldn't find '{palette}' in the palettes.",{palette:a}));a=s.name}return a}function extractHue(t,n){var r=e.THEMES[n].colors;if("hue"===t[1]){var o=parseInt(t.splice(2,1)[0],10);if(o<1||o>3)throw new Error(i.supplant("mdColors: 'hue-{hueNumber}' is not a valid hue, can be only 'hue-1', 'hue-2' and 'hue-3'",{hueNumber:o}));if(t[1]="hue-"+o,!(t[0]in r))throw new Error(i.supplant("mdColors: 'hue-x' can only be used with [{availableThemes}], but was used with '{usedTheme}'",{availableThemes:Object.keys(r).join(", "),usedTheme:t[0]}));return r[t[0]].hues[t[1]]}return t[1]||r[t[0]in r?t[0]:"primary"].hues.default}return n=n||Object.keys(e.PALETTES),{applyThemeColors:applyThemeColors,getThemeColor:getThemeColor,hasTheme:hasTheme}}function MdColorsDirective(n,i,r,o){return{restrict:"A",require:["^?mdTheme"],compile:function(a,s){function shouldColorsWatch(){var n=s.mdColors,r=n.indexOf("::")>-1,o=!!r||e.test(s.mdColors);s.mdColors=n.replace("::","");var a=t.isDefined(s.mdColorsWatch);return!r&&!o&&(!a||i.parseAttributeBoolean(s.mdColorsWatch))}var l=shouldColorsWatch();return function(e,i,a,s){var c=s[0],u={},d=function(t){"string"!=typeof t&&(t=""),a.mdColors||(a.mdColors="{}");var i=o(a.mdColors)(e);return c&&Object.keys(i).forEach(function(e){var r=i[e];n.hasTheme(r)||(i[e]=(t||c.$mdTheme)+"-"+r)}),h(i),i},h=function(e){if(!t.equals(e,u)){var n=Object.keys(u);u.background&&!n.color&&n.push("color"),n.forEach(function(e){i.css(e,"")})}u=e},m=t.noop;c&&(m=c.registerChanges(function(e){n.applyThemeColors(i,d(e))})),e.$on("$destroy",function(){m()});try{l?e.$watch(d,t.bind(this,n.applyThemeColors,i),!0):n.applyThemeColors(i,d())}catch(e){r.error(e.message)}}}}}MdColorsDirective.$inject=["$mdColors","$mdUtil","$log","$parse"],MdColorsService.$inject=["$mdTheming","$mdUtil","$log"];var e=/^{((\s|,)*?["'a-zA-Z-]+?\s*?:\s*?('|")[a-zA-Z0-9-.]*('|"))+\s*}$/,n=null;t.module("material.components.colors",["material.core"]).directive("mdColors",MdColorsDirective).service("$mdColors",MdColorsService)}()}(),function(){function mdContentDirective(e){function ContentController(e,t){this.$scope=e,this.$element=t}return{restrict:"E",controller:["$scope","$element",ContentController],link:function(t,n){n.addClass("_md"),e(n),t.$broadcast("$mdContentLoaded",n),iosScrollFix(n[0])}}}function iosScrollFix(e){t.element(e).on("$md.pressdown",function(t){"t"===t.pointer.type&&(t.$materialScrollFixed||(t.$materialScrollFixed=!0,0===e.scrollTop?e.scrollTop=1:e.scrollHeight===e.scrollTop+e.offsetHeight&&(e.scrollTop-=1)))})}mdContentDirective.$inject=["$mdTheming"],t.module("material.components.content",["material.core"]).directive("mdContent",mdContentDirective)}(),function(){t.module("material.components.datepicker",["material.core","material.components.icon","material.components.virtualRepeat"])}(),function(){function MdDialogDirective(e,n,i){return{restrict:"E",link:function(r,o){o.addClass("_md"),n(o),e(function(){function addOverflowClass(){o.toggleClass("md-content-overflow",n.scrollHeight>n.clientHeight)}var e,n=o[0].querySelector("md-dialog-content");n&&(e=n.getElementsByTagName("img"),addOverflowClass(),t.element(e).on("load",addOverflowClass)),r.$on("$destroy",function(){i.destroy(o)})})}}}function MdDialogProvider(e){function advancedDialogOptions(e,t){return{template:['<md-dialog md-theme="{{ dialog.theme || dialog.defaultTheme }}" aria-label="{{ dialog.ariaLabel }}" ng-class="dialog.css">','  <md-dialog-content class="md-dialog-content" role="document" tabIndex="-1">','    <h2 class="md-title">{{ dialog.title }}</h2>','    <div ng-if="::dialog.mdHtmlContent" class="md-dialog-content-body" ','        ng-bind-html="::dialog.mdHtmlContent"></div>','    <div ng-if="::!dialog.mdHtmlContent" class="md-dialog-content-body">',"      <p>{{::dialog.mdTextContent}}</p>","    </div>",'    <md-input-container md-no-float ng-if="::dialog.$type == \'prompt\'" class="md-prompt-input-container">','      <input ng-keypress="dialog.keypress($event)" md-autofocus ng-model="dialog.result"              placeholder="{{::dialog.placeholder}}">',"    </md-input-container>","  </md-dialog-content>","  <md-dialog-actions>",'    <md-button ng-if="dialog.$type === \'confirm\' || dialog.$type === \'prompt\'"               ng-click="dialog.abort()" class="md-primary md-cancel-button">',"      {{ dialog.cancel }}","    </md-button>",'    <md-button ng-click="dialog.hide()" class="md-primary md-confirm-button" md-autofocus="dialog.$type===\'alert\'">',"      {{ dialog.ok }}","    </md-button>","  </md-dialog-actions>","</md-dialog>"].join("").replace(/\s\s+/g,""),controller:function(){var n="prompt"==this.$type;n&&this.initialValue&&(this.result=this.initialValue),this.hide=function(){e.hide(!n||this.result)},this.abort=function(){e.cancel()},this.keypress=function(n){n.keyCode===t.KEY_CODE.ENTER&&e.hide(this.result)}},controllerAs:"dialog",bindToController:!0}}function dialogDefaultOptions(e,o,a,s,l,c,u,d,h,m,p,f,g){function beforeCompile(e){e.defaultTheme=p.defaultTheme(),detectTheming(e)}function beforeShow(e,t,n,i){if(i){var r=i.htmlContent||n.htmlContent||"",o=i.textContent||n.textContent||i.content||n.content||"";if(r&&!m.has("$sanitize"))throw Error("The ngSanitize module must be loaded in order to use htmlContent.");if(r&&o)throw Error("md-dialog cannot have both `htmlContent` and `textContent`");i.mdHtmlContent=r,i.mdTextContent=o}}function onShow(e,n,i,r){function warnDeprecatedActions(){n[0].querySelector(".md-actions")&&h.warn("Using a class of md-actions is deprecated, please use <md-dialog-actions>.")}function focusOnOpen(){function findCloseButton(){return n[0].querySelector(".dialog-close, md-dialog-actions button:last-child")}if(i.focusOnOpen){var e=a.findFocusTarget(n)||findCloseButton()||o;e.focus()}}t.element(c[0].body).addClass("md-dialog-is-showing");var o=n.find("md-dialog");if(o.hasClass("ng-cloak")){var s="$mdDialog: using `<md-dialog ng-cloak>` will affect the dialog opening animations.";h.warn(s,n[0])}return captureParentAndFromToElements(i),configureAria(o,i),showBackdrop(e,n,i),activateListeners(n,i),dialogPopIn(n,i).then(function(){lockScreenReader(n,i),warnDeprecatedActions(),focusOnOpen()})}function onRemove(e,n,o){function animateRemoval(){return dialogPopOut(n,o)}function detachAndClean(){t.element(c[0].body).removeClass("md-dialog-is-showing"),o.contentElement&&o.reverseContainerStretch(),o.cleanupElement(),o.$destroy||"keyboard"!==o.originInteraction||o.origin.focus()}return o.deactivateListeners(),o.unlockScreenReader(),o.hideBackdrop(o.$destroy),i&&i.parentNode&&i.parentNode.removeChild(i),r&&r.parentNode&&r.parentNode.removeChild(r),o.$destroy?detachAndClean():animateRemoval().then(detachAndClean)}function detectTheming(e){var n;e.targetEvent&&e.targetEvent.target&&(n=t.element(e.targetEvent.target));var i=n&&n.controller("mdTheme");if(i){e.themeWatch=i.$shouldWatch;var r=e.theme||i.$mdTheme;r&&(e.scope.theme=r);var o=i.registerChanges(function(t){e.scope.theme=t,e.themeWatch||o()})}}function captureParentAndFromToElements(e){function getBoundingClientRect(e,i){var r=t.element(e||{});if(r&&r.length){var o={top:0,left:0,height:0,width:0},a=t.isFunction(r[0].getBoundingClientRect);return t.extend(i||{},{element:a?r:n,bounds:a?r[0].getBoundingClientRect():t.extend({},o,r[0]),focus:t.bind(r,r.focus)})}}function getDomElement(e,n){return t.isString(e)&&(e=c[0].querySelector(e)),t.element(e||n)}e.origin=t.extend({element:null,bounds:null,focus:t.noop},e.origin||{}),e.parent=getDomElement(e.parent,d),e.closeTo=getBoundingClientRect(getDomElement(e.closeTo)),e.openFrom=getBoundingClientRect(getDomElement(e.openFrom)),e.targetEvent&&(e.origin=getBoundingClientRect(e.targetEvent.target,e.origin),e.originInteraction=g.getLastInteractionType())}function activateListeners(n,i){var r=t.element(u),o=a.debounce(function(){stretchDialogContainerToViewport(n,i)},60),l=[],c=function(){var t="alert"==i.$type?e.hide:e.cancel;a.nextTick(t,!0)};if(i.escapeToClose){var d=i.parent,h=function(e){e.keyCode===s.KEY_CODE.ESCAPE&&(e.stopPropagation(),e.preventDefault(),c())};n.on("keydown",h),d.on("keydown",h),l.push(function(){n.off("keydown",h),d.off("keydown",h)})}if(r.on("resize",o),l.push(function(){r.off("resize",o)}),i.clickOutsideToClose){var m,p=n,f=function(e){m=e.target},g=function(e){m===p[0]&&e.target===p[0]&&(e.stopPropagation(),e.preventDefault(),c())};p.on("mousedown",f),p.on("mouseup",g),l.push(function(){p.off("mousedown",f),p.off("mouseup",g)})}i.deactivateListeners=function(){l.forEach(function(e){e()}),i.deactivateListeners=null}}function showBackdrop(e,t,n){n.disableParentScroll&&(n.restoreScroll=a.disableScrollAround(t,n.parent)),n.hasBackdrop&&(n.backdrop=a.createBackdrop(e,"md-dialog-backdrop md-opaque"),l.enter(n.backdrop,n.parent)),n.hideBackdrop=function(e){n.backdrop&&(e?n.backdrop.remove():l.leave(n.backdrop)),n.disableParentScroll&&(n.restoreScroll&&n.restoreScroll(),delete n.restoreScroll),n.hideBackdrop=null}}function configureAria(e,t){var n="alert"===t.$type?"alertdialog":"dialog",s=e.find("md-dialog-content"),l=e.attr("id"),c="dialogContent_"+(l||a.nextUid());e.attr({role:n,tabIndex:"-1"}),0===s.length&&(s=e,l&&(c=l)),s.attr("id",c),e.attr("aria-describedby",c),t.ariaLabel?o.expect(e,"aria-label",t.ariaLabel):o.expectAsync(e,"aria-label",function(){var e=s.text().split(/\s+/);return e.length>3&&(e=e.slice(0,3).concat("...")),e.join(" ")}),i=document.createElement("div"),i.classList.add("md-dialog-focus-trap"),i.tabIndex=0,r=i.cloneNode(!1);var u=function(){e.focus()};i.addEventListener("focus",u),r.addEventListener("focus",u),e[0].parentNode.insertBefore(i,e[0]),e.after(r)}function lockScreenReader(e,t){function walkDOM(e){for(;e.parentNode;){if(e===document.body)return;for(var t=e.parentNode.children,i=0;i<t.length;i++)e===t[i]||isNodeOneOf(t[i],["SCRIPT","STYLE"])||t[i].setAttribute("aria-hidden",n);walkDOM(e=e.parentNode)}}var n=!0;walkDOM(e[0]),t.unlockScreenReader=function(){n=!1,walkDOM(e[0]),t.unlockScreenReader=null}}function stretchDialogContainerToViewport(e,t){var n="fixed"==u.getComputedStyle(c[0].body).position,i=t.backdrop?u.getComputedStyle(t.backdrop[0]):null,r=i?Math.min(c[0].body.clientHeight,Math.ceil(Math.abs(parseInt(i.height,10)))):0,o={top:e.css("top"),height:e.css("height")},a=Math.abs(t.parent[0].getBoundingClientRect().top);return e.css({top:(n?a:0)+"px",height:r?r+"px":"100%"}),function(){e.css(o)}}function dialogPopIn(e,t){t.parent.append(e),t.reverseContainerStretch=stretchDialogContainerToViewport(e,t);var n=e.find("md-dialog"),i=a.dom.animator,r=i.calculateZoomToOrigin,o={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"},s=i.toTransformCss(r(n,t.openFrom||t.origin)),l=i.toTransformCss("");return n.toggleClass("md-dialog-fullscreen",!!t.fullscreen),i.translate3d(n,s,l,o).then(function(e){return t.reverseAnimate=function(){return delete t.reverseAnimate,t.closeTo?(o={transitionInClass:"md-transition-out",transitionOutClass:"md-transition-in"},s=l,l=i.toTransformCss(r(n,t.closeTo)),i.translate3d(n,s,l,o)):e(l=i.toTransformCss(r(n,t.origin)))},t.clearAnimate=function(){return delete t.clearAnimate,n.removeClass([o.transitionOutClass,o.transitionInClass].join(" ")),i.translate3d(n,l,i.toTransformCss(""),{})},!0})}function dialogPopOut(e,t){return t.reverseAnimate().then(function(){t.contentElement&&t.clearAnimate()})}function isNodeOneOf(e,t){if(t.indexOf(e.nodeName)!==-1)return!0}return{hasBackdrop:!0,isolateScope:!0,onCompiling:beforeCompile,onShow:onShow,onShowing:beforeShow,onRemove:onRemove,clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,closeTo:null,openFrom:null,focusOnOpen:!0,disableParentScroll:!0,autoWrap:!0,fullscreen:!1,transformTemplate:function(e,t){function validatedTemplate(e){return t.autoWrap&&!/<\/md-dialog>/g.test(e)?"<md-dialog>"+(e||"")+"</md-dialog>":e||""}var n=f.startSymbol(),i=f.endSymbol(),r=n+(t.themeWatch?"":"::")+"theme"+i;return'<div class="md-dialog-container" tabindex="-1" md-theme="'+r+'">'+validatedTemplate(e)+"</div>"}}}advancedDialogOptions.$inject=["$mdDialog","$mdConstant"],dialogDefaultOptions.$inject=["$mdDialog","$mdAria","$mdUtil","$mdConstant","$animate","$document","$window","$rootElement","$log","$injector","$mdTheming","$interpolate","$mdInteraction"];var i,r;return e("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","closeTo","openFrom","parent","fullscreen","multiple"],options:dialogDefaultOptions}).addPreset("alert",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","theme","css"],options:advancedDialogOptions}).addPreset("confirm",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","cancel","theme","css"],options:advancedDialogOptions}).addPreset("prompt",{methods:["title","htmlContent","textContent","initialValue","content","placeholder","ariaLabel","ok","cancel","theme","css"],options:advancedDialogOptions})}MdDialogDirective.$inject=["$$rAF","$mdTheming","$mdDialog"],MdDialogProvider.$inject=["$$interimElementProvider"],t.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",MdDialogDirective).provider("$mdDialog",MdDialogProvider)}(),function(){function MdDividerDirective(e){return{restrict:"E",link:e}}MdDividerDirective.$inject=["$mdTheming"],t.module("material.components.divider",["material.core"]).directive("mdDivider",MdDividerDirective)}(),function(){!function(){function MdFabActionsDirective(e){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],compile:function(t,n){var i=t.children(),r=e.prefixer().hasAttribute(i,"ng-repeat");r?i.addClass("md-fab-action-item"):i.wrap('<div class="md-fab-action-item">')}}}MdFabActionsDirective.$inject=["$mdUtil"],t.module("material.components.fabActions",["material.core"]).directive("mdFabActions",MdFabActionsDirective)}()}(),function(){!function(){function MdFabController(e,n,i,r,o,a){function setupDefaults(){s.direction=s.direction||"down",s.isOpen=s.isOpen||!1,resetActionIndex(),n.addClass("md-animations-waiting")}function setupListeners(){var i=["click","focusin","focusout"];t.forEach(i,function(e){n.on(e,parseEvents)}),e.$on("$destroy",function(){t.forEach(i,function(e){n.off(e,parseEvents)}),disableKeyboard()})}function parseEvents(e){"click"==e.type&&handleItemClick(e),"focusout"!=e.type||c||(c=a(function(){s.close()},100,!1)),"focusin"==e.type&&c&&(a.cancel(c),c=null)}function resetActionIndex(){s.currentActionIndex=-1}function setupWatchers(){e.$watch("vm.direction",function(e,t){i.removeClass(n,"md-"+t),i.addClass(n,"md-"+e),resetActionIndex()});var t,r;e.$watch("vm.isOpen",function(e){resetActionIndex(),t&&r||(t=getTriggerElement(),r=getActionsElement()),e?enableKeyboard():disableKeyboard();var o=e?"md-is-open":"",a=e?"":"md-is-open";t.attr("aria-haspopup",!0),t.attr("aria-expanded",e),r.attr("aria-hidden",!e),i.setClass(n,o,a)})}function fireInitialAnimations(){n[0].scrollHeight>0?i.addClass(n,"_md-animations-ready").then(function(){n.removeClass("md-animations-waiting")}):l<10&&(a(fireInitialAnimations,100),l+=1)}function enableKeyboard(){n.on("keydown",keyPressed),r.nextTick(function(){t.element(document).on("click touchend",checkForOutsideClick)})}function disableKeyboard(){n.off("keydown",keyPressed),t.element(document).off("click touchend",checkForOutsideClick)}function checkForOutsideClick(e){if(e.target){var t=r.getClosest(e.target,"md-fab-trigger"),n=r.getClosest(e.target,"md-fab-actions");t||n||s.close()}}function keyPressed(e){switch(e.which){case o.KEY_CODE.ESCAPE:return s.close(),e.preventDefault(),!1;case o.KEY_CODE.LEFT_ARROW:return doKeyLeft(e),!1;case o.KEY_CODE.UP_ARROW:return doKeyUp(e),!1;case o.KEY_CODE.RIGHT_ARROW:return doKeyRight(e),!1;case o.KEY_CODE.DOWN_ARROW:return doKeyDown(e),!1}}function doActionPrev(e){focusAction(e,-1)}function doActionNext(e){focusAction(e,1)}function focusAction(e,n){var i=resetActionTabIndexes();s.currentActionIndex=s.currentActionIndex+n,s.currentActionIndex=Math.min(i.length-1,s.currentActionIndex),s.currentActionIndex=Math.max(0,s.currentActionIndex);var r=t.element(i[s.currentActionIndex]).children()[0];t.element(r).attr("tabindex",0),r.focus(),e.preventDefault(),e.stopImmediatePropagation()}function resetActionTabIndexes(){var e=getActionsElement()[0].querySelectorAll(".md-fab-action-item");return t.forEach(e,function(e){t.element(t.element(e).children()[0]).attr("tabindex",-1)}),e}function doKeyLeft(e){"left"===s.direction?doActionNext(e):doActionPrev(e)}function doKeyUp(e){"down"===s.direction?doActionPrev(e):doActionNext(e)}function doKeyRight(e){"left"===s.direction?doActionPrev(e):doActionNext(e)}function doKeyDown(e){"up"===s.direction?doActionPrev(e):doActionNext(e)}function isTrigger(e){return r.getClosest(e,"md-fab-trigger")}function isAction(e){return r.getClosest(e,"md-fab-actions")}function handleItemClick(e){isTrigger(e.target)&&s.toggle(),isAction(e.target)&&s.close()}function getTriggerElement(){return n.find("md-fab-trigger")}function getActionsElement(){return n.find("md-fab-actions")}var s=this,l=0;s.open=function(){e.$evalAsync("vm.isOpen = true")},s.close=function(){e.$evalAsync("vm.isOpen = false"),n.find("md-fab-trigger")[0].focus()},s.toggle=function(){e.$evalAsync("vm.isOpen = !vm.isOpen")},s.$onInit=function(){setupDefaults(),setupListeners(),setupWatchers(),fireInitialAnimations()},1===t.version.major&&t.version.minor<=4&&this.$onInit();var c}MdFabController.$inject=["$scope","$element","$animate","$mdUtil","$mdConstant","$timeout"],t.module("material.components.fabShared",["material.core"]).controller("MdFabController",MdFabController)}()}(),function(){!function(){function MdFabSpeedDialDirective(){function FabSpeedDialLink(e,t){t.prepend('<div class="_md-css-variables"></div>')}return{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:FabSpeedDialLink}}function MdFabSpeedDialFlingAnimation(i){function delayDone(e){i(e,n,!1)}function runAnimation(n){if(!n.hasClass("md-animations-waiting")||n.hasClass("_md-animations-ready")){var i=n[0],r=n.controller("mdFabSpeedDial"),o=i.querySelectorAll(".md-fab-action-item"),a=i.querySelector("md-fab-trigger"),s=i.querySelector("._md-css-variables"),l=parseInt(e.getComputedStyle(s).zIndex);t.forEach(o,function(e,t){var n=e.style;n.transform=n.webkitTransform="",n.transitionDelay="",n.opacity=1,n.zIndex=o.length-t+l}),a.style.zIndex=l+o.length+1,r.isOpen||t.forEach(o,function(e,t){var n,i,o=e.style,s=(a.clientHeight-e.clientHeight)/2,l=(a.clientWidth-e.clientWidth)/2;switch(r.direction){case"up":n=e.scrollHeight*(t+1)+s,i="Y";break;case"down":n=-(e.scrollHeight*(t+1)+s),i="Y";break;case"left":n=e.scrollWidth*(t+1)+l,i="X";break;case"right":n=-(e.scrollWidth*(t+1)+l),i="X"}var c="translate"+i+"("+n+"px)";o.transform=o.webkitTransform=c})}}return{addClass:function(e,t,n){e.hasClass("md-fling")?(runAnimation(e),delayDone(n)):n()},removeClass:function(e,t,n){runAnimation(e),delayDone(n)}}}function MdFabSpeedDialScaleAnimation(i){function delayDone(e){i(e,n,!1)}function runAnimation(n){var i=n[0],o=n.controller("mdFabSpeedDial"),a=i.querySelectorAll(".md-fab-action-item"),s=i.querySelector("._md-css-variables"),l=parseInt(e.getComputedStyle(s).zIndex);t.forEach(a,function(e,t){var n=e.style,i=t*r;n.opacity=o.isOpen?1:0,n.transform=n.webkitTransform=o.isOpen?"scale(1)":"scale(0)",n.transitionDelay=(o.isOpen?i:a.length-i)+"ms",n.zIndex=a.length-t+l})}var r=65;return{addClass:function(e,t,n){runAnimation(e),delayDone(n)},removeClass:function(e,t,n){runAnimation(e),delayDone(n)}}}MdFabSpeedDialFlingAnimation.$inject=["$timeout"],MdFabSpeedDialScaleAnimation.$inject=["$timeout"];var n=300;t.module("material.components.fabSpeedDial",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabSpeedDial",MdFabSpeedDialDirective).animation(".md-fling",MdFabSpeedDialFlingAnimation).animation(".md-scale",MdFabSpeedDialScaleAnimation).service("mdFabSpeedDialFlingAnimation",MdFabSpeedDialFlingAnimation).service("mdFabSpeedDialScaleAnimation",MdFabSpeedDialScaleAnimation)}()}(),function(){!function(){function MdFabToolbarDirective(){function link(e,t,n){t.addClass("md-fab-toolbar"),t.find("md-fab-trigger").find("button").prepend('<div class="md-fab-toolbar-background"></div>')}return{restrict:"E",transclude:!0,template:'<div class="md-fab-toolbar-wrapper">  <div class="md-fab-toolbar-content" ng-transclude></div></div>',scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:link}}function MdFabToolbarAnimation(){function runAnimation(n,i,r){if(i){var o=n[0],a=n.controller("mdFabToolbar"),s=o.querySelector(".md-fab-toolbar-background"),l=o.querySelector("md-fab-trigger button"),c=o.querySelector("md-toolbar"),u=o.querySelector("md-fab-trigger button md-icon"),d=n.find("md-fab-actions").children();if(l&&s){var h=e.getComputedStyle(l).getPropertyValue("background-color"),m=o.offsetWidth,p=(o.offsetHeight,2*(m/l.offsetWidth));s.style.backgroundColor=h,s.style.borderRadius=m+"px",a.isOpen?(c.style.pointerEvents="inherit",s.style.width=l.offsetWidth+"px",s.style.height=l.offsetHeight+"px",s.style.transform="scale("+p+")",s.style.transitionDelay="0ms",u&&(u.style.transitionDelay=".3s"),t.forEach(d,function(e,t){e.style.transitionDelay=25*(d.length-t)+"ms"})):(c.style.pointerEvents="none",s.style.transform="scale(1)",s.style.top="0",n.hasClass("md-right")&&(s.style.left="0",s.style.right=null),n.hasClass("md-left")&&(s.style.right="0",s.style.left=null),s.style.transitionDelay="200ms",u&&(u.style.transitionDelay="0ms"),t.forEach(d,function(e,t){e.style.transitionDelay=200+25*t+"ms"}))}}}return{addClass:function(e,t,n){runAnimation(e,t,n),n()},removeClass:function(e,t,n){runAnimation(e,t,n),n()}}}t.module("material.components.fabToolbar",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabToolbar",MdFabToolbarDirective).animation(".md-fab-toolbar",MdFabToolbarAnimation).service("mdFabToolbarAnimation",MdFabToolbarAnimation)}()}(),function(){function GridListDirective(e,n,i,r){function postLink(o,a,s,l){function watchMedia(){for(var e in n.MEDIA)r(e),r.getQuery(n.MEDIA[e]).addListener(c);return r.watchResponsiveAttributes(["md-cols","md-row-height","md-gutter"],s,layoutIfMediaMatch)}function unwatchMedia(){l.layoutDelegate=t.noop,u();for(var e in n.MEDIA)r.getQuery(n.MEDIA[e]).removeListener(c)}function layoutIfMediaMatch(e){null==e?l.invalidateLayout():r(e)&&l.invalidateLayout()}function layoutDelegate(e){var n=getTileElements(),r={tileSpans:getTileSpans(n),colCount:getColumnCount(),rowMode:getRowMode(),rowHeight:getRowHeight(),gutter:getGutter()};if(e||!t.equals(r,d)){var s=i(r.colCount,r.tileSpans,n).map(function(e,i){return{grid:{element:a,style:getGridStyle(r.colCount,i,r.gutter,r.rowMode,r.rowHeight)},tiles:e.map(function(e,o){return{element:t.element(n[o]),style:getTileStyle(e.position,e.spans,r.colCount,i,r.gutter,r.rowMode,r.rowHeight)}})}}).reflow().performance();o.mdOnLayout({$event:{performance:s}}),d=r}}function expr(e){return h+e+m}function getTileStyle(e,t,n,i,r,o,a){var s=1/n*100,l=(n-1)/n,c=p({share:s,gutterShare:l,gutter:r}),u={left:f({unit:c,offset:e.col,gutter:r}),width:g({unit:c,span:t.col,gutter:r}),paddingTop:"",marginTop:"",top:"",height:""};switch(o){case"fixed":u.top=f({unit:a,offset:e.row,gutter:r}),u.height=g({unit:a,span:t.row,gutter:r});break;case"ratio":var d=s/a,h=p({share:d,gutterShare:l,gutter:r});u.paddingTop=g({unit:h,span:t.row,gutter:r}),u.marginTop=f({unit:h,offset:e.row,gutter:r});break;case"fit":var m=(i-1)/i,d=1/i*100,h=p({share:d,gutterShare:m,gutter:r});u.top=f({unit:h,offset:e.row,gutter:r}),u.height=g({unit:h,span:t.row,gutter:r})}return u}function getGridStyle(e,t,n,i,r){var o={};switch(i){case"fixed":o.height=g({unit:r,span:t,gutter:n}),o.paddingBottom="";break;case"ratio":var a=1===e?0:(e-1)/e,s=1/e*100,l=s*(1/r),c=p({share:l,gutterShare:a,gutter:n});o.height="",o.paddingBottom=g({unit:c,span:t,gutter:n});break;case"fit":}return o}function getTileElements(){return[].filter.call(a.children(),function(e){return"MD-GRID-TILE"==e.tagName&&!e.$$mdDestroyed})}function getTileSpans(e){return[].map.call(e,function(e){var n=t.element(e).controller("mdGridTile");return{row:parseInt(r.getResponsiveAttribute(n.$attrs,"md-rowspan"),10)||1,col:parseInt(r.getResponsiveAttribute(n.$attrs,"md-colspan"),10)||1}})}function getColumnCount(){var e=parseInt(r.getResponsiveAttribute(s,"md-cols"),10);if(isNaN(e))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return e}function getGutter(){return applyDefaultUnit(r.getResponsiveAttribute(s,"md-gutter")||1)}function getRowHeight(){var e=r.getResponsiveAttribute(s,"md-row-height");if(!e)throw"md-grid-list: md-row-height attribute was not found";switch(getRowMode()){case"fixed":return applyDefaultUnit(e);case"ratio":var t=e.split(":");return parseFloat(t[0])/parseFloat(t[1]);case"fit":return 0}}function getRowMode(){var e=r.getResponsiveAttribute(s,"md-row-height");if(!e)throw"md-grid-list: md-row-height attribute was not found";return"fit"==e?"fit":e.indexOf(":")!==-1?"ratio":"fixed"}function applyDefaultUnit(e){return/\D$/.test(e)?e:e+"px"}a.addClass("_md"),a.attr("role","list"),l.layoutDelegate=layoutDelegate;var c=t.bind(l,l.invalidateLayout),u=watchMedia();o.$on("$destroy",unwatchMedia);var d,h=e.startSymbol(),m=e.endSymbol(),p=e(expr("share")+"% - ("+expr("gutter")+" * "+expr("gutterShare")+")"),f=e("calc(("+expr("unit")+" + "+expr("gutter")+") * "+expr("offset")+")"),g=e("calc(("+expr("unit")+") * "+expr("span")+" + ("+expr("span")+" - 1) * "+expr("gutter")+")")}return{restrict:"E",controller:GridListController,scope:{mdOnLayout:"&"},link:postLink}}function GridListController(e){this.layoutInvalidated=!1,this.tilesInvalidated=!1,this.$timeout_=e.nextTick,this.layoutDelegate=t.noop}function GridLayoutFactory(e){function GridLayout(t,i){var r,o,a,s,l,c;return s=e.time(function(){o=calculateGridFor(t,i)}),r={layoutInfo:function(){return o},map:function(t){return l=e.time(function(){var e=r.layoutInfo();a=t(e.positioning,e.rowCount)}),r},reflow:function(t){return c=e.time(function(){var e=t||n;e(a.grid,a.tiles)}),r},performance:function(){
return{tileCount:i.length,layoutTime:s,mapTime:l,reflowTime:c,totalTime:s+l+c}}}}function GridTileAnimator(e,t){e.element.css(e.style),t.forEach(function(e){e.element.css(e.style)})}function calculateGridFor(e,t){function reserveSpace(t,o){if(t.col>e)throw"md-grid-list: Tile at position "+o+" has a colspan ("+t.col+") that exceeds the column count ("+e+")";for(var a=0,s=0;s-a<t.col;)n>=e?nextRow():(a=r.indexOf(0,n),a!==-1&&(s=findEnd(a+1))!==-1?n=s+1:(a=s=0,nextRow()));return adjustRow(a,t.col,t.row),n=a+t.col,{col:a,row:i}}function nextRow(){n=0,i++,adjustRow(0,e,-1)}function adjustRow(e,t,n){for(var i=e;i<e+t;i++)r[i]=Math.max(r[i]+n,0)}function findEnd(e){var t;for(t=e;t<r.length;t++)if(0!==r[t])return t;if(t===r.length)return t}function newSpaceTracker(){for(var t=[],n=0;n<e;n++)t.push(0);return t}var n=0,i=0,r=newSpaceTracker();return{positioning:t.map(function(e,t){return{spans:e,position:reserveSpace(e,t)}}),rowCount:i+Math.max.apply(Math,r)}}var n=GridTileAnimator;return GridLayout.animateWith=function(e){n=t.isFunction(e)?e:GridTileAnimator},GridLayout}function GridTileDirective(e){function postLink(n,i,r,o){i.attr("role","listitem");var a=e.watchResponsiveAttributes(["md-colspan","md-rowspan"],r,t.bind(o,o.invalidateLayout));o.invalidateTiles(),n.$on("$destroy",function(){i[0].$$mdDestroyed=!0,a(),o.invalidateLayout()}),t.isDefined(n.$parent.$index)&&n.$watch(function(){return n.$parent.$index},function(e,t){e!==t&&o.invalidateTiles()})}return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},controller:["$attrs",function(e){this.$attrs=e}],link:postLink}}function GridTileCaptionDirective(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}GridListController.$inject=["$mdUtil"],GridLayoutFactory.$inject=["$mdUtil"],GridListDirective.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"],GridTileDirective.$inject=["$mdMedia"],t.module("material.components.gridList",["material.core"]).directive("mdGridList",GridListDirective).directive("mdGridTile",GridTileDirective).directive("mdGridTileFooter",GridTileCaptionDirective).directive("mdGridTileHeader",GridTileCaptionDirective).factory("$mdGridLayout",GridLayoutFactory),GridListController.prototype={invalidateTiles:function(){this.tilesInvalidated=!0,this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(t.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=!1,this.tilesInvalidated=!1}}}}(),function(){t.module("material.components.icon",["material.core"])}(),function(){function mdInputContainerDirective(e,t){function compile(t){var n=t[0].querySelector(i),o=t[0].querySelector(r);return n&&t.addClass("md-icon-left"),o&&t.addClass("md-icon-right"),function(t,n){e(n)}}function ContainerCtrl(e,n,i,r){var o=this;o.isErrorGetter=i.mdIsError&&t(i.mdIsError),o.delegateClick=function(){o.input.focus()},o.element=n,o.setFocused=function(e){n.toggleClass("md-input-focused",!!e)},o.setHasValue=function(e){n.toggleClass("md-input-has-value",!!e)},o.setHasPlaceholder=function(e){n.toggleClass("md-input-has-placeholder",!!e)},o.setInvalid=function(e){e?r.addClass(n,"md-input-invalid"):r.removeClass(n,"md-input-invalid")},e.$watch(function(){return o.label&&o.input},function(e){e&&!o.label.attr("for")&&o.label.attr("for",o.input.attr("id"))})}ContainerCtrl.$inject=["$scope","$element","$attrs","$animate"];var n=["INPUT","TEXTAREA","SELECT","MD-SELECT"],i=n.reduce(function(e,t){return e.concat(["md-icon ~ "+t,".md-icon ~ "+t])},[]).join(","),r=n.reduce(function(e,t){return e.concat([t+" ~ md-icon",t+" ~ .md-icon"])},[]).join(",");return{restrict:"E",compile:compile,controller:ContainerCtrl}}function labelDirective(){return{restrict:"E",require:"^?mdInputContainer",link:function(e,t,n,i){!i||n.mdNoFloat||t.hasClass("md-container-ignore")||(i.label=t,e.$on("$destroy",function(){i.label=null}))}}}function inputTextareaDirective(e,n,i,r,o){function postLink(a,s,l,c){function ngModelPipelineCheckValue(e){return u.setHasValue(!h.$isEmpty(e)),e}function setupAttributeWatchers(){u.label&&l.$observe("required",function(e){u.label.toggleClass("md-required",e&&!f)})}function inputCheckValue(){u.setHasValue(s.val().length>0||(s[0].validity||{}).badInput)}function setupTextarea(){function growTextarea(){s.attr("rows",1).css("height","auto").addClass("md-no-flex");var e=getHeight();if(!f){var t=s[0].style.padding||"";f=s.css("padding",0).prop("offsetHeight"),s[0].style.padding=t}if(c&&f&&(e=Math.max(e,f*c)),m&&f){var n=f*m;n<e?(s.attr("md-no-autogrow",""),e=n):s.removeAttr("md-no-autogrow")}f&&s.attr("rows",Math.round(e/f)),s.css("height",e+"px").removeClass("md-no-flex")}function getHeight(){var e=g.offsetHeight,t=g.scrollHeight-e;return e+Math.max(t,0)}function formattersListener(t){return e.nextTick(growTextarea),t}function disableAutogrow(){if(i&&(i=!1,t.element(n).off("resize",growTextarea),p&&p(),s.attr("md-no-autogrow","").off("input",growTextarea),d)){var e=h.$formatters.indexOf(formattersListener);e>-1&&h.$formatters.splice(e,1)}}function attachResizeHandle(){function onMouseDown(e){e.preventDefault(),n=!0,i=e.clientY,r=parseFloat(s.css("height"))||s.prop("offsetHeight")}function onDragStart(e){n&&(e.preventDefault(),disableAutogrow(),c.addClass("md-input-resized"))}function onDrag(e){n&&s.css("height",r+e.pointer.distanceY+"px")}function onDragEnd(e){n&&(n=!1,c.removeClass("md-input-resized"))}if(!l.hasOwnProperty("mdNoResize")){var e=t.element('<div class="md-resize-handle"></div>'),n=!1,i=null,r=0,c=u.element,d=o.register(e,"drag",{horizontal:!1});s.wrap('<div class="md-resize-wrapper">').after(e),e.on("mousedown",onMouseDown),c.on("$md.dragstart",onDragStart).on("$md.drag",onDrag).on("$md.dragend",onDragEnd),a.$on("$destroy",function(){e.off("mousedown",onMouseDown).remove(),c.off("$md.dragstart",onDragStart).off("$md.drag",onDrag).off("$md.dragend",onDragEnd),d(),e=null,c=null,d=null})}}var i=!l.hasOwnProperty("mdNoAutogrow");if(attachResizeHandle(),i){var c=l.hasOwnProperty("rows")?parseInt(l.rows):NaN,m=l.hasOwnProperty("maxRows")?parseInt(l.maxRows):NaN,p=a.$on("md-resize-textarea",growTextarea),f=null,g=s[0];if(r(function(){e.nextTick(growTextarea)},10,!1),s.on("input",growTextarea),d&&h.$formatters.push(formattersListener),c||s.attr("rows",1),t.element(n).on("resize",growTextarea),a.$on("$destroy",disableAutogrow),l.hasOwnProperty("mdDetectHidden")){var v=function(){var e=!1;return function(){var t=0===g.offsetHeight;t===!1&&e===!0&&growTextarea(),e=t}}();a.$watch(function(){return e.nextTick(v,!1),!0})}}}var u=c[0],d=!!c[1],h=c[1]||e.fakeNgModel(),m=c[2],p=t.isDefined(l.readonly),f=e.parseAttributeBoolean(l.mdNoAsterisk),g=s[0].tagName.toLowerCase();if(u){if("hidden"===l.type)return void s.attr("aria-hidden","true");if(u.input){if(u.input[0].contains(s[0]))return;throw new Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!")}u.input=s,setupAttributeWatchers();var v=t.element('<div class="md-errors-spacer">');s.after(v),u.label||i.expect(s,"aria-label",l.placeholder),s.addClass("md-input"),s.attr("id")||s.attr("id","input_"+e.nextUid()),"input"===g&&"number"===l.type&&l.min&&l.max&&!l.step?s.attr("step","any"):"textarea"===g&&setupTextarea(),d||inputCheckValue();var y=u.isErrorGetter||function(){return h.$invalid&&(h.$touched||m&&m.$submitted)};a.$watch(y,u.setInvalid),l.ngValue&&l.$observe("value",inputCheckValue),h.$parsers.push(ngModelPipelineCheckValue),h.$formatters.push(ngModelPipelineCheckValue),s.on("input",inputCheckValue),p||s.on("focus",function(t){e.nextTick(function(){u.setFocused(!0)})}).on("blur",function(t){e.nextTick(function(){u.setFocused(!1),inputCheckValue()})}),a.$on("$destroy",function(){u.setFocused(!1),u.setHasValue(!1),u.input=null})}}return{restrict:"E",require:["^?mdInputContainer","?ngModel","?^form"],link:postLink}}function mdMaxlengthDirective(e,n){function postLink(i,r,o,a){function renderCharCount(e){return l.parent?(l.text(String(r.val()||e||"").length+" / "+s),e):e}var s,l,c,u=a[0],d=a[1];n.nextTick(function(){c=t.element(d.element[0].querySelector(".md-errors-spacer")),l=t.element('<div class="md-char-counter">'),c.append(l),o.$set("ngTrim","false"),i.$watch(o.mdMaxlength,function(n){s=n,t.isNumber(n)&&n>0?(l.parent().length||e.enter(l,c),renderCharCount()):e.leave(l)}),u.$validators["md-maxlength"]=function(e,n){return!t.isNumber(s)||s<0||(renderCharCount(),(e||r.val()||n||"").length<=s)}})}return{restrict:"A",require:["ngModel","^mdInputContainer"],link:postLink}}function placeholderDirective(e){function preLink(n,i,r,o){if(o){var a=o.element.find("label"),s=o.element.attr("md-no-float");if(a&&a.length||""===s||n.$eval(s))return void o.setHasPlaceholder(!0);if("MD-SELECT"!=i[0].nodeName){var l=t.element('<label ng-click="delegateClick()" tabindex="-1">'+r.placeholder+"</label>");r.$set("placeholder",null),o.element.addClass("md-icon-float").prepend(l),e(l)(n)}}}return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:{pre:preLink}}}function mdSelectOnFocusDirective(e){function postLink(t,n,i){function onFocus(){r=!0,e(function(){n[0].select(),r=!1},1,!1)}function onMouseUp(e){r&&e.preventDefault()}if("INPUT"===n[0].nodeName||"TEXTAREA"===n[0].nodeName){var r=!1;n.on("focus",onFocus).on("mouseup",onMouseUp),t.$on("$destroy",function(){n.off("focus",onFocus).off("mouseup",onMouseUp)})}}return{restrict:"A",link:postLink}}function ngMessagesDirective(){function postLink(e,t,n,i){i&&(t.toggleClass("md-input-messages-animation",!0),t.toggleClass("md-auto-hide",!0),("false"==n.mdAutoHide||hasVisibiltyDirective(n))&&t.toggleClass("md-auto-hide",!1))}function hasVisibiltyDirective(e){return s.some(function(t){return e[t]})}return{restrict:"EA",link:postLink,require:"^^?mdInputContainer"}}function ngMessageDirective(e){function compile(t){function isInsideFragment(){for(var e=t[0];e=e.parentNode;)if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)return!0;return!1}function isInsideInputContainer(t){return!!e.getClosest(t,"md-input-container")}function initMessageElement(e){e.toggleClass("md-input-message-animation",!0)}if(isInsideInputContainer(t))initMessageElement(t);else if(isInsideFragment())return function(e,n){isInsideInputContainer(n)&&initMessageElement(t)}}return{restrict:"EA",compile:compile,priority:100}}function mdInputInvalidMessagesAnimation(e,t,n,i){return saveSharedServices(e,t,n,i),{addClass:function(e,t,n){showInputMessages(e,n)}}}function ngMessagesAnimation(e,t,n,i){return saveSharedServices(e,t,n,i),{enter:function(e,t){showInputMessages(e,t)},leave:function(e,t){hideInputMessages(e,t)},addClass:function(e,t,n){"ng-hide"==t?hideInputMessages(e,n):n()},removeClass:function(e,t,n){"ng-hide"==t?showInputMessages(e,n):n()}}}function ngMessageAnimation(e,t,n,i){return saveSharedServices(e,t,n,i),{enter:function(e,t){var n=showMessage(e);n.start().done(t)},leave:function(e,t){var n=hideMessage(e);n.start().done(t)}}}function showInputMessages(e,n){var r,o=[],s=getMessagesElement(e),l=s.children();return 0==s.length||0==l.length?(a.warn("mdInput messages show animation called on invalid messages element: ",e),void n()):(t.forEach(l,function(e){r=showMessage(t.element(e)),o.push(r.start())}),void i.all(o,n))}function hideInputMessages(e,n){var r,o=[],s=getMessagesElement(e),l=s.children();return 0==s.length||0==l.length?(a.warn("mdInput messages hide animation called on invalid messages element: ",e),void n()):(t.forEach(l,function(e){r=hideMessage(t.element(e)),o.push(r.start())}),void i.all(o,n))}function showMessage(t){var n=parseInt(e.getComputedStyle(t[0]).height),i=parseInt(e.getComputedStyle(t[0]).marginTop),o=getMessagesElement(t),a=getInputElement(t),s=i>-n;return s||o.hasClass("md-auto-hide")&&!a.hasClass("md-input-invalid")?r(t,{}):r(t,{event:"enter",structural:!0,from:{opacity:0,"margin-top":-n+"px"},to:{opacity:1,"margin-top":"0"},duration:.3})}function hideMessage(t){var n=t[0].offsetHeight,i=e.getComputedStyle(t[0]);return 0===parseInt(i.opacity)?r(t,{}):r(t,{event:"leave",structural:!0,from:{opacity:1,"margin-top":0},to:{opacity:0,"margin-top":-n+"px"},duration:.3})}function getInputElement(e){var t=e.controller("mdInputContainer");return t.element}function getMessagesElement(e){return e.hasClass("md-input-messages-animation")?e:e.hasClass("md-input-message-animation")?t.element(o.getClosest(e,function(e){return e.classList.contains("md-input-messages-animation")})):t.element(e[0].querySelector(".md-input-messages-animation"))}function saveSharedServices(e,t,n,s){i=e,r=t,o=n,a=s}mdInputContainerDirective.$inject=["$mdTheming","$parse"],inputTextareaDirective.$inject=["$mdUtil","$window","$mdAria","$timeout","$mdGesture"],mdMaxlengthDirective.$inject=["$animate","$mdUtil"],placeholderDirective.$inject=["$compile"],ngMessageDirective.$inject=["$mdUtil"],mdSelectOnFocusDirective.$inject=["$timeout"],mdInputInvalidMessagesAnimation.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"],ngMessagesAnimation.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"],ngMessageAnimation.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"];var n=t.module("material.components.input",["material.core"]).directive("mdInputContainer",mdInputContainerDirective).directive("label",labelDirective).directive("input",inputTextareaDirective).directive("textarea",inputTextareaDirective).directive("mdMaxlength",mdMaxlengthDirective).directive("placeholder",placeholderDirective).directive("ngMessages",ngMessagesDirective).directive("ngMessage",ngMessageDirective).directive("ngMessageExp",ngMessageDirective).directive("mdSelectOnFocus",mdSelectOnFocusDirective).animation(".md-input-invalid",mdInputInvalidMessagesAnimation).animation(".md-input-messages-animation",ngMessagesAnimation).animation(".md-input-message-animation",ngMessageAnimation);e._mdMocksIncluded&&n.service("$$mdInput",function(){return{messages:{show:showInputMessages,hide:hideInputMessages,getElement:getMessagesElement}}}).service("mdInputInvalidAnimation",mdInputInvalidMessagesAnimation).service("mdInputMessagesAnimation",ngMessagesAnimation).service("mdInputMessageAnimation",ngMessageAnimation);var i,r,o,a,s=["ngIf","ngShow","ngHide","ngSwitchWhen","ngSwitchDefault"]}(),function(){function mdListDirective(e){return{restrict:"E",compile:function(t){return t[0].setAttribute("role","list"),e}}}function mdListItemDirective(e,n,i,r){var o=["md-checkbox","md-switch","md-menu"];return{restrict:"E",controller:"MdListController",compile:function(a,s){function setupToggleAria(){for(var e,t,n=["md-switch","md-checkbox"],i=0;t=n[i];++i)if((e=a.find(t)[0])&&!e.hasAttribute("aria-label")){var r=a.find("p")[0];if(!r)return;e.setAttribute("aria-label","Toggle "+r.textContent)}}function setupProxiedMenu(){var e=t.element(c),n=e.parent().hasClass("md-secondary-container")||c.parentNode.firstElementChild!==c,i="left";n&&(i="right"),e.attr("md-position-mode")||e.attr("md-position-mode",i+" target");var r=e.children().eq(0);hasClickEvent(r[0])||r.attr("ng-click","$mdMenu.open($event)"),r.attr("aria-label")||r.attr("aria-label","Open List Menu")}function wrapIn(n){if("div"==n)d=t.element('<div class="md-no-style md-list-item-inner">'),d.append(a.contents()),a.addClass("md-proxy-focus");else{d=t.element('<div class="md-button md-no-style">   <div class="md-list-item-inner"></div></div>');var i=t.element('<md-button class="md-no-style"></md-button>');copyAttributes(a[0],i[0]),i.attr("aria-label")||i.attr("aria-label",e.getText(a)),a.hasClass("md-no-focus")&&i.addClass("md-no-focus"),d.prepend(i),d.children().eq(1).append(a.contents()),a.addClass("_md-button-wrap")}a[0].setAttribute("tabindex","-1"),a.append(d)}function wrapSecondaryItems(){var e=t.element('<div class="md-secondary-container">');t.forEach(u,function(t){wrapSecondaryItem(t,e)}),d.append(e)}function wrapSecondaryItem(n,i){if(n&&!isButton(n)&&n.hasAttribute("ng-click")){e.expect(n,"aria-label");var r=t.element('<md-button class="md-secondary md-icon-button">');copyAttributes(n,r[0],["ng-if","ng-hide","ng-show"]),n.setAttribute("tabindex","-1"),r.append(n),n=r[0]}n&&(!hasClickEvent(n)||!s.ngClick&&isProxiedElement(n))&&t.element(n).removeClass("md-secondary"),a.addClass("md-with-secondary"),i.append(n)}function copyAttributes(e,n,r){var o=i.prefixer(["ng-if","ng-click","ng-dblclick","aria-label","ng-disabled","ui-sref","href","ng-href","target","ng-attr-ui-sref","ui-sref-opts"]);r&&(o=o.concat(i.prefixer(r))),t.forEach(o,function(t){e.hasAttribute(t)&&(n.setAttribute(t,e.getAttribute(t)),e.removeAttribute(t))})}function isProxiedElement(e){return o.indexOf(e.nodeName.toLowerCase())!=-1}function isButton(e){var t=e.nodeName.toUpperCase();return"MD-BUTTON"==t||"BUTTON"==t}function hasClickEvent(e){for(var t=e.attributes,n=0;n<t.length;n++)if("ngClick"===s.$normalize(t[n].name))return!0;return!1}function postLink(e,a,s,l){function computeProxies(){u&&u.children&&!m&&!p&&t.forEach(o,function(e){t.forEach(u.querySelectorAll(e+":not(.md-secondary)"),function(e){c.push(e)})})}function computeClickable(){(1==c.length||m)&&(a.addClass("md-clickable"),m||l.attachRipple(e,t.element(a[0].querySelector(".md-no-style"))))}function isEventFromControl(e){var t=["md-slider"];if(!e.path)return t.indexOf(e.target.tagName.toLowerCase())!==-1;for(var n=e.path.indexOf(a.children()[0]),i=0;i<n;i++)if(t.indexOf(e.path[i].tagName.toLowerCase())!==-1)return!0}a.addClass("_md");var c=[],u=a[0].firstElementChild,d=a.hasClass("_md-button-wrap"),h=d?u.firstElementChild:u,m=h&&hasClickEvent(h),p=a.hasClass("md-no-proxy");computeProxies(),computeClickable(),c.length&&t.forEach(c,function(n){n=t.element(n),e.mouseActive=!1,n.on("mousedown",function(){e.mouseActive=!0,r(function(){e.mouseActive=!1},100)}).on("focus",function(){e.mouseActive===!1&&a.addClass("md-focused"),n.on("blur",function proxyOnBlur(){a.removeClass("md-focused"),n.off("blur",proxyOnBlur)})})});var f=function(e){if("INPUT"!=e.target.nodeName&&"TEXTAREA"!=e.target.nodeName&&!e.target.isContentEditable){var t=e.which||e.keyCode;t==n.KEY_CODE.SPACE&&h&&(h.click(),e.preventDefault(),e.stopPropagation())}};m||c.length||h&&h.addEventListener("keypress",f),a.off("click"),a.off("keypress"),1==c.length&&h&&a.children().eq(0).on("click",function(e){if(!isEventFromControl(e)){var n=i.getClosest(e.target,"BUTTON");!n&&h.contains(e.target)&&t.forEach(c,function(n){e.target===n||n.contains(e.target)||("MD-MENU"===n.nodeName&&(n=n.children[0]),t.element(n).triggerHandler("click"))})}}),e.$on("$destroy",function(){h&&h.removeEventListener("keypress",f)})}var l,c,u=a[0].querySelectorAll(".md-secondary"),d=a;if(a[0].setAttribute("role","listitem"),s.ngClick||s.ngDblclick||s.ngHref||s.href||s.uiSref||s.ngAttrUiSref)wrapIn("button");else if(!a.hasClass("md-no-proxy")){for(var h,m=0;h=o[m];++m)if(c=a[0].querySelector(h)){l=!0;break}l?wrapIn("div"):a.addClass("md-no-proxy")}return wrapSecondaryItems(),setupToggleAria(),l&&"MD-MENU"===c.nodeName&&setupProxiedMenu(),postLink}}}function MdListController(e,t,n){function attachRipple(e,t){var i={};n.attach(e,t,i)}var i=this;i.attachRipple=attachRipple}MdListController.$inject=["$scope","$element","$mdListInkRipple"],mdListDirective.$inject=["$mdTheming"],mdListItemDirective.$inject=["$mdAria","$mdConstant","$mdUtil","$timeout"],t.module("material.components.list",["material.core"]).controller("MdListController",MdListController).directive("mdList",mdListDirective).directive("mdListItem",mdListItemDirective)}(),function(){t.module("material.components.menu",["material.core","material.components.backdrop"])}(),function(){t.module("material.components.menuBar",["material.core","material.components.icon","material.components.menu"])}(),function(){function MdNavBar(e,n){return{restrict:"E",transclude:!0,controller:MdNavBarController,controllerAs:"ctrl",bindToController:!0,scope:{mdSelectedNavItem:"=?",mdNoInkBar:"=?",navBarAriaLabel:"@?"},template:'<div class="md-nav-bar"><nav role="navigation"><ul class="_md-nav-bar-list" ng-transclude role="listbox"tabindex="0"ng-focus="ctrl.onFocus()"ng-keydown="ctrl.onKeydown($event)"aria-label="{{ctrl.navBarAriaLabel}}"></ul></nav><md-nav-ink-bar ng-hide="ctrl.mdNoInkBar"></md-nav-ink-bar></div>',link:function(i,r,o,a){n(r),a.navBarAriaLabel||e.expectAsync(r,"aria-label",t.noop)}}}function MdNavBarController(e,t,n,i){this._$timeout=n,this._$scope=t,this._$mdConstant=i,this.mdSelectedNavItem,this.navBarAriaLabel,this._navBarEl=e[0],this._inkbar;var r=this,o=this._$scope.$watch(function(){return r._navBarEl.querySelectorAll("._md-nav-button").length},function(e){e>0&&(r._initTabs(),o())})}function MdNavItem(e,n){return{restrict:"E",require:["mdNavItem","^mdNavBar"],controller:MdNavItemController,bindToController:!0,controllerAs:"ctrl",replace:!0,transclude:!0,template:function(e,t){var n,i,r,o=t.mdNavClick,a=t.mdNavHref,s=t.mdNavSref,l=t.srefOpts;if((o?1:0)+(a?1:0)+(s?1:0)>1)throw Error("Must not specify more than one of the md-nav-click, md-nav-href, or md-nav-sref attributes per nav-item directive.");return o?n='ng-click="ctrl.mdNavClick()"':a?n='ng-href="{{ctrl.mdNavHref}}"':s&&(n='ui-sref="{{ctrl.mdNavSref}}"'),i=l?'ui-sref-opts="{{ctrl.srefOpts}}" ':"",n&&(r='<md-button class="_md-nav-button md-accent" ng-class="ctrl.getNgClassMap()" ng-blur="ctrl.setFocused(false)" tabindex="-1" '+i+n+'><span ng-transclude class="_md-nav-button-text"></span></md-button>'),'<li class="md-nav-item" role="option" aria-selected="{{ctrl.isSelected()}}">'+(r||"")+"</li>"},scope:{mdNavClick:"&?",mdNavHref:"@?",mdNavSref:"@?",srefOpts:"=?",name:"@"},link:function(i,r,o,a){n(function(){var n=a[0],o=a[1],s=t.element(r[0].querySelector("._md-nav-button"));n.name||(n.name=t.element(r[0].querySelector("._md-nav-button-text")).text().trim()),s.on("click",function(){o.mdSelectedNavItem=n.name,i.$apply()}),e.expectWithText(r,"aria-label")})}}}function MdNavItemController(e){this._$element=e,this.mdNavClick,this.mdNavHref,this.mdNavSref,this.srefOpts,this.name,this._selected=!1,this._focused=!1}MdNavBarController.$inject=["$element","$scope","$timeout","$mdConstant"],MdNavItem.$inject=["$mdAria","$$rAF"],MdNavItemController.$inject=["$element"],MdNavBar.$inject=["$mdAria","$mdTheming"],t.module("material.components.navBar",["material.core"]).controller("MdNavBarController",MdNavBarController).directive("mdNavBar",MdNavBar).controller("MdNavItemController",MdNavItemController).directive("mdNavItem",MdNavItem),MdNavBarController.prototype._initTabs=function(){this._inkbar=t.element(this._navBarEl.querySelector("md-nav-ink-bar"));var e=this;this._$timeout(function(){e._updateTabs(e.mdSelectedNavItem,n)}),this._$scope.$watch("ctrl.mdSelectedNavItem",function(t,n){e._$timeout(function(){e._updateTabs(t,n)})})},MdNavBarController.prototype._updateTabs=function(e,t){var n=this,i=this._getTabs();if(i){var r=-1,o=-1,a=this._getTabByName(e),s=this._getTabByName(t);s&&(s.setSelected(!1),r=i.indexOf(s)),a&&(a.setSelected(!0),o=i.indexOf(a)),this._$timeout(function(){n._updateInkBarStyles(a,o,r)})}},MdNavBarController.prototype._updateInkBarStyles=function(e,t,n){if(this._inkbar.toggleClass("_md-left",t<n).toggleClass("_md-right",t>n),this._inkbar.css({display:t<0?"none":""}),e){var i=e.getButtonEl(),r=i.offsetLeft;this._inkbar.css({left:r+"px",width:i.offsetWidth+"px"})}},MdNavBarController.prototype._getTabs=function(){var e=Array.prototype.slice.call(this._navBarEl.querySelectorAll(".md-nav-item")).map(function(e){return t.element(e).controller("mdNavItem")});return e.indexOf(n)?e:null},MdNavBarController.prototype._getTabByName=function(e){return this._findTab(function(t){return t.getName()==e})},MdNavBarController.prototype._getSelectedTab=function(){return this._findTab(function(e){return e.isSelected()})},MdNavBarController.prototype.getFocusedTab=function(){return this._findTab(function(e){return e.hasFocus()})},MdNavBarController.prototype._findTab=function(e){for(var t=this._getTabs(),n=0;n<t.length;n++)if(e(t[n]))return t[n];return null},MdNavBarController.prototype.onFocus=function(){var e=this._getSelectedTab();e&&e.setFocused(!0)},MdNavBarController.prototype._moveFocus=function(e,t){e.setFocused(!1),t.setFocused(!0)},MdNavBarController.prototype.onKeydown=function(e){var t=this._$mdConstant.KEY_CODE,n=this._getTabs(),i=this.getFocusedTab();if(i){var r=n.indexOf(i);switch(e.keyCode){case t.UP_ARROW:case t.LEFT_ARROW:r>0&&this._moveFocus(i,n[r-1]);break;case t.DOWN_ARROW:case t.RIGHT_ARROW:r<n.length-1&&this._moveFocus(i,n[r+1]);break;case t.SPACE:case t.ENTER:this._$timeout(function(){i.getButtonEl().click()})}}},MdNavItemController.prototype.getNgClassMap=function(){return{"md-active":this._selected,"md-primary":this._selected,"md-unselected":!this._selected,"md-focused":this._focused}},MdNavItemController.prototype.getName=function(){return this.name},MdNavItemController.prototype.getButtonEl=function(){return this._$element[0].querySelector("._md-nav-button")},MdNavItemController.prototype.setSelected=function(e){this._selected=e},MdNavItemController.prototype.isSelected=function(){return this._selected},MdNavItemController.prototype.setFocused=function(e){this._focused=e,e&&this.getButtonEl().focus()},MdNavItemController.prototype.hasFocus=function(){return this._focused}}(),function(){function MdPanelProvider(){return{definePreset:definePreset,getAllPresets:getAllPresets,clearPresets:clearPresets,$get:$getProvider()}}function definePreset(e,t){if(!e||!t)throw new Error("mdPanelProvider: The panel preset definition is malformed. The name and preset object are required.");if(o.hasOwnProperty(e))throw new Error("mdPanelProvider: The panel preset you have requested has already been defined.");delete t.id,delete t.position,delete t.animation,o[e]=t}function getAllPresets(){return t.copy(o)}function clearPresets(){o={}}function $getProvider(){return["$rootElement","$rootScope","$injector","$window",function(e,t,n,i){return new MdPanelService(o,e,t,n,i)}]}function MdPanelService(n,i,r,o,a){this._defaultConfigOptions={bindToController:!0,clickOutsideToClose:!1,disableParentScroll:!1,escapeToClose:!1,focusOnOpen:!0,fullscreen:!1,hasBackdrop:!1,propagateContainerEvents:!1,transformTemplate:t.bind(this,this._wrapTemplate),trapFocus:!1,zIndex:e},this._config={},this._presets=n,this._$rootElement=i,this._$rootScope=r,this._$injector=o,this._$window=a,this._$mdUtil=this._$injector.get("$mdUtil"),this._trackedPanels={},this._groups=Object.create(null),this.animation=MdPanelAnimation.animation,this.xPosition=MdPanelPosition.xPosition,this.yPosition=MdPanelPosition.yPosition,this.interceptorTypes=MdPanelRef.interceptorTypes,this.closeReasons=MdPanelRef.closeReasons,this.absPosition=MdPanelPosition.absPosition}function MdPanelRef(e,t){this._$q=t.get("$q"),this._$mdCompiler=t.get("$mdCompiler"),this._$mdConstant=t.get("$mdConstant"),this._$mdUtil=t.get("$mdUtil"),this._$mdTheming=t.get("$mdTheming"),this._$rootScope=t.get("$rootScope"),this._$animate=t.get("$animate"),this._$mdPanel=t.get("$mdPanel"),this._$log=t.get("$log"),this._$window=t.get("$window"),this._$$rAF=t.get("$$rAF"),this.id=e.id,this.config=e,this.panelContainer,this.panelEl,this.isAttached=!1,this._removeListeners=[],this._topFocusTrap,this._bottomFocusTrap,this._backdropRef,this._restoreScroll=null,this._interceptors=Object.create(null),this._compilerCleanup=null,this._restoreCache={styles:"",classes:""}}function MdPanelPosition(e){this._$window=e.get("$window"),this._isRTL="rtl"===e.get("$mdUtil").bidi(),this._$mdConstant=e.get("$mdConstant"),this._absolute=!1,this._relativeToEl,this._top="",this._bottom="",this._left="",this._right="",this._translateX=[],this._translateY=[],this._positions=[],this._actualPosition}function MdPanelAnimation(e){this._$mdUtil=e.get("$mdUtil"),this._openFrom,this._closeTo,this._animationClass="",this._openDuration,this._closeDuration,this._rawDuration}function getElement(e){var n=t.isString(e)?document.querySelector(e):e;return t.element(n)}function getComputedTranslations(e,t){var n=getComputedStyle(e[0]||e)[t],i=n.indexOf("("),r=n.lastIndexOf(")"),o={x:0,y:0};if(i>-1&&r>-1){var a=n.substring(i+1,r).split(", ").slice(-2);o.x=parseInt(a[0]),o.y=parseInt(a[1])}return o}MdPanelService.$inject=["presets","$rootElement","$rootScope","$injector","$window"],t.module("material.components.panel",["material.core","material.components.backdrop"]).provider("$mdPanel",MdPanelProvider);var e=80,i="_md-panel-hidden",r=t.element('<div class="_md-panel-focus-trap" tabindex="0"></div>'),o={};MdPanelService.prototype.create=function(e,n){if("string"==typeof e?e=this._getPresetByName(e):"object"!=typeof e||!t.isUndefined(n)&&n||(n=e,e={}),e=e||{},n=n||{},t.isDefined(n.id)&&this._trackedPanels[n.id]){var i=this._trackedPanels[n.id];return t.extend(i.config,n),i}this._config=t.extend({id:n.id||"panel_"+this._$mdUtil.nextUid(),scope:this._$rootScope.$new(!0),attachTo:this._$rootElement},this._defaultConfigOptions,n,e);var r=new MdPanelRef(this._config,this._$injector);return this._trackedPanels[n.id]=r,this._config.groupName&&(t.isString(this._config.groupName)&&(this._config.groupName=[this._config.groupName]),t.forEach(this._config.groupName,function(e){r.addToGroup(e)})),this._config.scope.$on("$destroy",t.bind(r,r.detach)),r},MdPanelService.prototype.open=function(e,t){var n=this.create(e,t);return n.open().then(function(){return n})},MdPanelService.prototype._getPresetByName=function(e){if(!this._presets[e])throw new Error("mdPanel: The panel preset configuration that you requested does not exist. Use the $mdPanelProvider to create a preset before requesting one.");return this._presets[e]},MdPanelService.prototype.newPanelPosition=function(){return new MdPanelPosition(this._$injector)},MdPanelService.prototype.newPanelAnimation=function(){return new MdPanelAnimation(this._$injector)},MdPanelService.prototype.newPanelGroup=function(e,t){if(!this._groups[e]){t=t||{};var n={panels:[],openPanels:[],maxOpen:t.maxOpen>0?t.maxOpen:1/0};this._groups[e]=n}return this._groups[e]},MdPanelService.prototype.setGroupMaxOpen=function(e,t){if(!this._groups[e])throw new Error("mdPanel: Group does not exist yet. Call newPanelGroup().");this._groups[e].maxOpen=t},MdPanelService.prototype._openCountExceedsMaxOpen=function(e){if(this._groups[e]){var t=this._groups[e];return t.maxOpen>0&&t.openPanels.length>t.maxOpen}return!1},MdPanelService.prototype._closeFirstOpenedPanel=function(e){this._groups[e].openPanels[0].close()},MdPanelService.prototype._wrapTemplate=function(e){var t=e||"";return'<div class="md-panel-outer-wrapper">  <div class="md-panel" style="left: -9999px;">'+t+"</div></div>"},MdPanelService.prototype._wrapContentElement=function(e){var n=t.element('<div class="md-panel-outer-wrapper">');return e.addClass("md-panel").css("left","-9999px"),n.append(e),n},MdPanelRef.interceptorTypes={CLOSE:"onClose"},MdPanelRef.prototype.open=function(){var e=this;return this._$q(function(n,i){var r=e._done(n,e),o=e._simpleBind(e.show,e),a=function(){e.config.groupName&&t.forEach(e.config.groupName,function(t){e._$mdPanel._openCountExceedsMaxOpen(t)&&e._$mdPanel._closeFirstOpenedPanel(t)})};e.attach().then(o).then(a).then(r).catch(i)})},MdPanelRef.prototype.close=function(e){var n=this;return this._$q(function(i,r){n._callInterceptors(MdPanelRef.interceptorTypes.CLOSE).then(function(){var o=n._done(i,n),a=n._simpleBind(n.detach,n),s=n.config.onCloseSuccess||t.noop;s=t.bind(n,s,n,e),n.hide().then(a).then(o).then(s).catch(r)},r)})},MdPanelRef.prototype.attach=function(){if(this.isAttached&&this.panelEl)return this._$q.when(this);var e=this;return this._$q(function(n,i){var r=e._done(n,e),o=e.config.onDomAdded||t.noop,a=function(t){return e.isAttached=!0,e._addEventListeners(),t};e._$q.all([e._createBackdrop(),e._createPanel().then(a).catch(i)]).then(o).then(r).catch(i)})},MdPanelRef.prototype.detach=function(){if(!this.isAttached)return this._$q.when(this);
var e=this,n=e.config.onDomRemoved||t.noop,i=function(){return e._removeEventListeners(),e._topFocusTrap&&e._topFocusTrap.parentNode&&e._topFocusTrap.parentNode.removeChild(e._topFocusTrap),e._bottomFocusTrap&&e._bottomFocusTrap.parentNode&&e._bottomFocusTrap.parentNode.removeChild(e._bottomFocusTrap),e._restoreCache.classes&&(e.panelEl[0].className=e._restoreCache.classes),e.panelEl[0].style.cssText=e._restoreCache.styles||"",e._compilerCleanup(),e.panelContainer.remove(),e.isAttached=!1,e._$q.when(e)};return this._restoreScroll&&(this._restoreScroll(),this._restoreScroll=null),this._$q(function(t,r){var o=e._done(t,e);e._$q.all([i(),!e._backdropRef||e._backdropRef.detach()]).then(n).then(o).catch(r)})},MdPanelRef.prototype.destroy=function(){var e=this;this.config.groupName&&t.forEach(this.config.groupName,function(t){e.removeFromGroup(t)}),this.config.scope.$destroy(),this.config.locals=null,this._interceptors=null},MdPanelRef.prototype.show=function(){if(!this.panelContainer)return this._$q(function(e,t){t("mdPanel: Panel does not exist yet. Call open() or attach().")});if(!this.panelContainer.hasClass(i))return this._$q.when(this);var e=this,n=function(){return e.panelContainer.removeClass(i),e._animateOpen()};return this._$q(function(i,r){var o=e._done(i,e),a=e.config.onOpenComplete||t.noop,s=function(){e.config.groupName&&t.forEach(e.config.groupName,function(t){e._$mdPanel._groups[t].openPanels.push(e)})};e._$q.all([e._backdropRef?e._backdropRef.show():e,n().then(function(){e._focusOnOpen()},r)]).then(a).then(s).then(o).catch(r)})},MdPanelRef.prototype.hide=function(){if(!this.panelContainer)return this._$q(function(e,t){t("mdPanel: Panel does not exist yet. Call open() or attach().")});if(this.panelContainer.hasClass(i))return this._$q.when(this);var e=this;return this._$q(function(n,r){var o=e._done(n,e),a=e.config.onRemoving||t.noop,s=function(){e.panelContainer.addClass(i)},l=function(){if(e.config.groupName){var n;t.forEach(e.config.groupName,function(t){t=e._$mdPanel._groups[t],n=t.openPanels.indexOf(e),n>-1&&t.openPanels.splice(n,1)})}},c=function(){var t=e.config.origin;t&&getElement(t).focus()};e._$q.all([e._backdropRef?e._backdropRef.hide():e,e._animateClose().then(a).then(s).then(l).then(c).catch(r)]).then(o,r)})},MdPanelRef.prototype.addClass=function(e,t){if(this._$log.warn("mdPanel: The addClass method is in the process of being deprecated. Full deprecation is scheduled for the Angular Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");t||this.panelContainer.hasClass(e)?t&&!this.panelEl.hasClass(e)&&this.panelEl.addClass(e):this.panelContainer.addClass(e)},MdPanelRef.prototype.removeClass=function(e,t){if(this._$log.warn("mdPanel: The removeClass method is in the process of being deprecated. Full deprecation is scheduled for the Angular Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");!t&&this.panelContainer.hasClass(e)?this.panelContainer.removeClass(e):t&&this.panelEl.hasClass(e)&&this.panelEl.removeClass(e)},MdPanelRef.prototype.toggleClass=function(e,t){if(this._$log.warn("mdPanel: The toggleClass method is in the process of being deprecated. Full deprecation is scheduled for the Angular Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");t?this.panelEl.toggleClass(e):this.panelContainer.toggleClass(e)},MdPanelRef.prototype._compile=function(){var e=this;return e._$mdCompiler.compile(e.config).then(function(n){var i=e.config;if(i.contentElement){var r=n.element;e._restoreCache.styles=r[0].style.cssText,e._restoreCache.classes=r[0].className,e.panelContainer=e._$mdPanel._wrapContentElement(r),e.panelEl=r}else e.panelContainer=n.link(i.scope),e.panelEl=t.element(e.panelContainer[0].querySelector(".md-panel"));return e._compilerCleanup=n.cleanup,getElement(e.config.attachTo).append(e.panelContainer),e})},MdPanelRef.prototype._createPanel=function(){var e=this;return this._$q(function(t,n){e.config.locals||(e.config.locals={}),e.config.locals.mdPanelRef=e,e._compile().then(function(){e.config.disableParentScroll&&(e._restoreScroll=e._$mdUtil.disableScrollAround(null,e.panelContainer,{disableScrollMask:!0})),e.config.panelClass&&e.panelEl.addClass(e.config.panelClass),e.config.propagateContainerEvents&&e.panelContainer.css("pointer-events","none"),e._$animate.pin&&e._$animate.pin(e.panelContainer,getElement(e.config.attachTo)),e._configureTrapFocus(),e._addStyles().then(function(){t(e)},n)},n)})},MdPanelRef.prototype._addStyles=function(){var e=this;return this._$q(function(t){e.panelContainer.css("z-index",e.config.zIndex),e.panelEl.css("z-index",e.config.zIndex+1);var n=function(){e._setTheming(),e.panelEl.css("left",""),e.panelContainer.addClass(i),t(e)};if(e.config.fullscreen)return e.panelEl.addClass("_md-panel-fullscreen"),void n();var r=e.config.position;return r?void e._$rootScope.$$postDigest(function(){e._updatePosition(!0),e._setTheming(),t(e)}):void n()})},MdPanelRef.prototype._setTheming=function(){this._$mdTheming(this.panelEl),this._$mdTheming(this.panelContainer)},MdPanelRef.prototype.updatePosition=function(e){if(!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");this.config.position=e,this._updatePosition()},MdPanelRef.prototype._updatePosition=function(e){var t=this.config.position;t&&(t._setPanelPosition(this.panelEl),e&&this.panelContainer.addClass(i),this.panelEl.css(MdPanelPosition.absPosition.TOP,t.getTop()),this.panelEl.css(MdPanelPosition.absPosition.BOTTOM,t.getBottom()),this.panelEl.css(MdPanelPosition.absPosition.LEFT,t.getLeft()),this.panelEl.css(MdPanelPosition.absPosition.RIGHT,t.getRight()))},MdPanelRef.prototype._focusOnOpen=function(){if(this.config.focusOnOpen){var e=this;this._$rootScope.$$postDigest(function(){var t=e._$mdUtil.findFocusTarget(e.panelEl)||e.panelEl;t.focus()})}},MdPanelRef.prototype._createBackdrop=function(){if(this.config.hasBackdrop){if(!this._backdropRef){var e=this._$mdPanel.newPanelAnimation().openFrom(this.config.attachTo).withAnimation({open:"_md-opaque-enter",close:"_md-opaque-leave"});this.config.animation&&e.duration(this.config.animation._rawDuration);var t={animation:e,attachTo:this.config.attachTo,focusOnOpen:!1,panelClass:"_md-panel-backdrop",zIndex:this.config.zIndex-1};this._backdropRef=this._$mdPanel.create(t)}if(!this._backdropRef.isAttached)return this._backdropRef.attach()}},MdPanelRef.prototype._addEventListeners=function(){this._configureEscapeToClose(),this._configureClickOutsideToClose(),this._configureScrollListener()},MdPanelRef.prototype._removeEventListeners=function(){this._removeListeners&&this._removeListeners.forEach(function(e){e()}),this._removeListeners=[]},MdPanelRef.prototype._configureEscapeToClose=function(){if(this.config.escapeToClose){var e=getElement(this.config.attachTo),t=this,n=function(e){e.keyCode===t._$mdConstant.KEY_CODE.ESCAPE&&(e.stopPropagation(),e.preventDefault(),t.close(MdPanelRef.closeReasons.ESCAPE))};this.panelContainer.on("keydown",n),e.on("keydown",n),this._removeListeners.push(function(){t.panelContainer.off("keydown",n),e.off("keydown",n)})}},MdPanelRef.prototype._configureClickOutsideToClose=function(){if(this.config.clickOutsideToClose){var e,n=this.config.propagateContainerEvents?t.element(document.body):this.panelContainer,i=function(t){e=t.target},r=this,o=function(t){r.config.propagateContainerEvents?e===r.panelEl[0]||r.panelEl[0].contains(e)||r.close():e===n[0]&&t.target===n[0]&&(t.stopPropagation(),t.preventDefault(),r.close(MdPanelRef.closeReasons.CLICK_OUTSIDE))};n.on("mousedown",i),n.on("mouseup",o),this._removeListeners.push(function(){n.off("mousedown",i),n.off("mouseup",o)})}},MdPanelRef.prototype._configureScrollListener=function(){if(!this.config.disableParentScroll){var e=t.bind(this,this._updatePosition),n=this._$$rAF.throttle(e),i=this,r=function(){n()};this._$window.addEventListener("scroll",r,!0),this._removeListeners.push(function(){i._$window.removeEventListener("scroll",r,!0)})}},MdPanelRef.prototype._configureTrapFocus=function(){if(this.panelEl.attr("tabIndex","-1"),this.config.trapFocus){var e=this.panelEl;this._topFocusTrap=r.clone()[0],this._bottomFocusTrap=r.clone()[0];var t=function(){e.focus()};this._topFocusTrap.addEventListener("focus",t),this._bottomFocusTrap.addEventListener("focus",t),this._removeListeners.push(this._simpleBind(function(){this._topFocusTrap.removeEventListener("focus",t),this._bottomFocusTrap.removeEventListener("focus",t)},this)),e[0].parentNode.insertBefore(this._topFocusTrap,e[0]),e.after(this._bottomFocusTrap)}},MdPanelRef.prototype.updateAnimation=function(e){this.config.animation=e,this._backdropRef&&this._backdropRef.config.animation.duration(e._rawDuration)},MdPanelRef.prototype._animateOpen=function(){this.panelContainer.addClass("md-panel-is-showing");var e=this.config.animation;if(!e)return this.panelContainer.addClass("_md-panel-shown"),this._$q.when(this);var t=this;return this._$q(function(n){var i=t._done(n,t),r=function(){t._$log.warn("mdPanel: MdPanel Animations failed. Showing panel without animating."),i()};e.animateOpen(t.panelEl).then(i,r)})},MdPanelRef.prototype._animateClose=function(){var e=this.config.animation;if(!e)return this.panelContainer.removeClass("md-panel-is-showing"),this.panelContainer.removeClass("_md-panel-shown"),this._$q.when(this);var t=this;return this._$q(function(n){var i=function(){t.panelContainer.removeClass("md-panel-is-showing"),n(t)},r=function(){t._$log.warn("mdPanel: MdPanel Animations failed. Hiding panel without animating."),i()};e.animateClose(t.panelEl).then(i,r)})},MdPanelRef.prototype.registerInterceptor=function(e,n){var i=null;if(t.isString(e)?t.isFunction(n)||(i="Interceptor callback must be a function, instead got "+typeof n):i="Interceptor type must be a string, instead got "+typeof e,i)throw new Error("MdPanel: "+i);var r=this._interceptors[e]=this._interceptors[e]||[];return r.indexOf(n)===-1&&r.push(n),this},MdPanelRef.prototype.removeInterceptor=function(e,t){var n=this._interceptors[e]?this._interceptors[e].indexOf(t):-1;return n>-1&&this._interceptors[e].splice(n,1),this},MdPanelRef.prototype.removeAllInterceptors=function(e){return e?this._interceptors[e]=[]:this._interceptors=Object.create(null),this},MdPanelRef.prototype._callInterceptors=function(e){var n=this,i=n._$q,r=n._interceptors&&n._interceptors[e]||[];return r.reduceRight(function(e,r){var o=r&&t.isFunction(r.then),a=o?r:null;return e.then(function(){if(!a)try{a=r(n)}catch(e){a=i.reject(e)}return a})},i.resolve(n))},MdPanelRef.prototype._simpleBind=function(e,t){return function(n){return e.apply(t,n)}},MdPanelRef.prototype._done=function(e,t){return function(){e(t)}},MdPanelRef.prototype.addToGroup=function(e){this._$mdPanel._groups[e]||this._$mdPanel.newPanelGroup(e);var t=this._$mdPanel._groups[e],n=t.panels.indexOf(this);n<0&&t.panels.push(this)},MdPanelRef.prototype.removeFromGroup=function(e){if(!this._$mdPanel._groups[e])throw new Error("mdPanel: The group "+e+" does not exist.");var t=this._$mdPanel._groups[e],n=t.panels.indexOf(this);n>-1&&t.panels.splice(n,1)},MdPanelRef.closeReasons={CLICK_OUTSIDE:"clickOutsideToClose",ESCAPE:"escapeToClose"},MdPanelPosition.xPosition={CENTER:"center",ALIGN_START:"align-start",ALIGN_END:"align-end",OFFSET_START:"offset-start",OFFSET_END:"offset-end"},MdPanelPosition.yPosition={CENTER:"center",ALIGN_TOPS:"align-tops",ALIGN_BOTTOMS:"align-bottoms",ABOVE:"above",BELOW:"below"},MdPanelPosition.absPosition={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},MdPanelPosition.viewportMargin=8,MdPanelPosition.prototype.absolute=function(){return this._absolute=!0,this},MdPanelPosition.prototype._setPosition=function(e,n){if(e===MdPanelPosition.absPosition.RIGHT||e===MdPanelPosition.absPosition.LEFT)this._left=this._right="";else{if(e!==MdPanelPosition.absPosition.BOTTOM&&e!==MdPanelPosition.absPosition.TOP){var i=Object.keys(MdPanelPosition.absPosition).join().toLowerCase();throw new Error("mdPanel: Position must be one of "+i+".")}this._top=this._bottom=""}return this["_"+e]=t.isString(n)?n:"0",this},MdPanelPosition.prototype.top=function(e){return this._setPosition(MdPanelPosition.absPosition.TOP,e)},MdPanelPosition.prototype.bottom=function(e){return this._setPosition(MdPanelPosition.absPosition.BOTTOM,e)},MdPanelPosition.prototype.start=function(e){var t=this._isRTL?MdPanelPosition.absPosition.RIGHT:MdPanelPosition.absPosition.LEFT;return this._setPosition(t,e)},MdPanelPosition.prototype.end=function(e){var t=this._isRTL?MdPanelPosition.absPosition.LEFT:MdPanelPosition.absPosition.RIGHT;return this._setPosition(t,e)},MdPanelPosition.prototype.left=function(e){return this._setPosition(MdPanelPosition.absPosition.LEFT,e)},MdPanelPosition.prototype.right=function(e){return this._setPosition(MdPanelPosition.absPosition.RIGHT,e)},MdPanelPosition.prototype.centerHorizontally=function(){return this._left="50%",this._right="",this._translateX=["-50%"],this},MdPanelPosition.prototype.centerVertically=function(){return this._top="50%",this._bottom="",this._translateY=["-50%"],this},MdPanelPosition.prototype.center=function(){return this.centerHorizontally().centerVertically()},MdPanelPosition.prototype.relativeTo=function(e){return this._absolute=!1,this._relativeToEl=getElement(e),this},MdPanelPosition.prototype.addPanelPosition=function(e,t){if(!this._relativeToEl)throw new Error("mdPanel: addPanelPosition can only be used with relative positioning. Set relativeTo first.");return this._validateXPosition(e),this._validateYPosition(t),this._positions.push({x:e,y:t}),this},MdPanelPosition.prototype._validateYPosition=function(e){if(null!=e){for(var t,n=Object.keys(MdPanelPosition.yPosition),i=[],r=0;t=n[r];r++){var o=MdPanelPosition.yPosition[t];if(i.push(o),o===e)return}throw new Error("mdPanel: Panel y position only accepts the following values:\n"+i.join(" | "))}},MdPanelPosition.prototype._validateXPosition=function(e){if(null!=e){for(var t,n=Object.keys(MdPanelPosition.xPosition),i=[],r=0;t=n[r];r++){var o=MdPanelPosition.xPosition[t];if(i.push(o),o===e)return}throw new Error("mdPanel: Panel x Position only accepts the following values:\n"+i.join(" | "))}},MdPanelPosition.prototype.withOffsetX=function(e){return this._translateX.push(e),this},MdPanelPosition.prototype.withOffsetY=function(e){return this._translateY.push(e),this},MdPanelPosition.prototype.getTop=function(){return this._top},MdPanelPosition.prototype.getBottom=function(){return this._bottom},MdPanelPosition.prototype.getLeft=function(){return this._left},MdPanelPosition.prototype.getRight=function(){return this._right},MdPanelPosition.prototype.getTransform=function(){var e=this._reduceTranslateValues("translateX",this._translateX),t=this._reduceTranslateValues("translateY",this._translateY);return(e+" "+t).trim()},MdPanelPosition.prototype._setTransform=function(e){return e.css(this._$mdConstant.CSS.TRANSFORM,this.getTransform())},MdPanelPosition.prototype._isOnscreen=function(e){var t=parseInt(this.getLeft()),n=parseInt(this.getTop());if(this._translateX.length||this._translateY.length){var i=this._$mdConstant.CSS.TRANSFORM,r=getComputedTranslations(e,i);t+=r.x,n+=r.y}var o=t+e[0].offsetWidth,a=n+e[0].offsetHeight;return t>=0&&n>=0&&a<=this._$window.innerHeight&&o<=this._$window.innerWidth},MdPanelPosition.prototype.getActualPosition=function(){return this._actualPosition},MdPanelPosition.prototype._reduceTranslateValues=function(e,n){return n.map(function(n){var i=t.isFunction(n)?n(this):n;return e+"("+i+")"},this).join(" ")},MdPanelPosition.prototype._setPanelPosition=function(e){if(e.removeClass("_md-panel-position-adjusted"),this._absolute)return void this._setTransform(e);if(this._actualPosition)return this._calculatePanelPosition(e,this._actualPosition),this._setTransform(e),void this._constrainToViewport(e);for(var t=0;t<this._positions.length;t++)if(this._actualPosition=this._positions[t],this._calculatePanelPosition(e,this._actualPosition),this._setTransform(e),this._isOnscreen(e))return;this._constrainToViewport(e)},MdPanelPosition.prototype._constrainToViewport=function(e){var t=MdPanelPosition.viewportMargin,n=this._top,i=this._left;if(this.getTop()){var r=parseInt(this.getTop()),o=e[0].offsetHeight+r,a=this._$window.innerHeight;r<t?this._top=t+"px":o>a&&(this._top=r-(o-a+t)+"px")}if(this.getLeft()){var s=parseInt(this.getLeft()),l=e[0].offsetWidth+s,c=this._$window.innerWidth;s<t?this._left=t+"px":l>c&&(this._left=s-(l-c+t)+"px")}e.toggleClass("_md-panel-position-adjusted",this._top!==n||this._left!==i)},MdPanelPosition.prototype._reverseXPosition=function(e){if(e!==MdPanelPosition.xPosition.CENTER){var t="start",n="end";return e.indexOf(t)>-1?e.replace(t,n):e.replace(n,t)}},MdPanelPosition.prototype._bidi=function(e){return this._isRTL?this._reverseXPosition(e):e},MdPanelPosition.prototype._calculatePanelPosition=function(e,t){var n=e[0].getBoundingClientRect(),i=n.width,r=n.height,o=this._relativeToEl[0].getBoundingClientRect(),a=o.left,s=o.right,l=o.width;switch(this._bidi(t.x)){case MdPanelPosition.xPosition.OFFSET_START:this._left=a-i+"px";break;case MdPanelPosition.xPosition.ALIGN_END:this._left=s-i+"px";break;case MdPanelPosition.xPosition.CENTER:var c=a+.5*l-.5*i;this._left=c+"px";break;case MdPanelPosition.xPosition.ALIGN_START:this._left=a+"px";break;case MdPanelPosition.xPosition.OFFSET_END:this._left=s+"px"}var u=o.top,d=o.bottom,h=o.height;switch(t.y){case MdPanelPosition.yPosition.ABOVE:this._top=u-r+"px";break;case MdPanelPosition.yPosition.ALIGN_BOTTOMS:this._top=d-r+"px";break;case MdPanelPosition.yPosition.CENTER:var m=u+.5*h-.5*r;this._top=m+"px";break;case MdPanelPosition.yPosition.ALIGN_TOPS:this._top=u+"px";break;case MdPanelPosition.yPosition.BELOW:this._top=d+"px"}},MdPanelAnimation.animation={SLIDE:"md-panel-animate-slide",SCALE:"md-panel-animate-scale",FADE:"md-panel-animate-fade"},MdPanelAnimation.prototype.openFrom=function(e){return e=e.target?e.target:e,this._openFrom=this._getPanelAnimationTarget(e),this._closeTo||(this._closeTo=this._openFrom),this},MdPanelAnimation.prototype.closeTo=function(e){return this._closeTo=this._getPanelAnimationTarget(e),this},MdPanelAnimation.prototype.duration=function(e){function toSeconds(e){if(t.isNumber(e))return e/1e3}return e&&(t.isNumber(e)?this._openDuration=this._closeDuration=toSeconds(e):t.isObject(e)&&(this._openDuration=toSeconds(e.open),this._closeDuration=toSeconds(e.close))),this._rawDuration=e,this},MdPanelAnimation.prototype._getPanelAnimationTarget=function(e){return t.isDefined(e.top)||t.isDefined(e.left)?{element:n,bounds:{top:e.top||0,left:e.left||0}}:this._getBoundingClientRect(getElement(e))},MdPanelAnimation.prototype.withAnimation=function(e){return this._animationClass=e,this},MdPanelAnimation.prototype.animateOpen=function(e){var n=this._$mdUtil.dom.animator;this._fixBounds(e);var i={},r=e[0].style.transform||"",o=n.toTransformCss(r),a=n.toTransformCss(r);switch(this._animationClass){case MdPanelAnimation.animation.SLIDE:e.css("opacity","1"),i={transitionInClass:"_md-panel-animate-enter"};var s=n.calculateSlideToOrigin(e,this._openFrom)||"";o=n.toTransformCss(s+" "+r);break;case MdPanelAnimation.animation.SCALE:i={transitionInClass:"_md-panel-animate-enter"};var l=n.calculateZoomToOrigin(e,this._openFrom)||"";o=n.toTransformCss(l+" "+r);break;case MdPanelAnimation.animation.FADE:i={transitionInClass:"_md-panel-animate-enter"};break;default:i=t.isString(this._animationClass)?{transitionInClass:this._animationClass}:{transitionInClass:this._animationClass.open,transitionOutClass:this._animationClass.close}}return i.duration=this._openDuration,n.translate3d(e,o,a,i)},MdPanelAnimation.prototype.animateClose=function(e){var n=this._$mdUtil.dom.animator,i={},r=e[0].style.transform||"",o=n.toTransformCss(r),a=n.toTransformCss(r);switch(this._animationClass){case MdPanelAnimation.animation.SLIDE:e.css("opacity","1"),i={transitionInClass:"_md-panel-animate-leave"};var s=n.calculateSlideToOrigin(e,this._closeTo)||"";a=n.toTransformCss(s+" "+r);break;case MdPanelAnimation.animation.SCALE:i={transitionInClass:"_md-panel-animate-scale-out _md-panel-animate-leave"};var l=n.calculateZoomToOrigin(e,this._closeTo)||"";a=n.toTransformCss(l+" "+r);break;case MdPanelAnimation.animation.FADE:i={transitionInClass:"_md-panel-animate-fade-out _md-panel-animate-leave"};break;default:i=t.isString(this._animationClass)?{transitionOutClass:this._animationClass}:{transitionInClass:this._animationClass.close,transitionOutClass:this._animationClass.open}}return i.duration=this._closeDuration,n.translate3d(e,o,a,i)},MdPanelAnimation.prototype._fixBounds=function(e){var t=e[0].offsetWidth,n=e[0].offsetHeight;this._openFrom&&null==this._openFrom.bounds.height&&(this._openFrom.bounds.height=n),this._openFrom&&null==this._openFrom.bounds.width&&(this._openFrom.bounds.width=t),this._closeTo&&null==this._closeTo.bounds.height&&(this._closeTo.bounds.height=n),this._closeTo&&null==this._closeTo.bounds.width&&(this._closeTo.bounds.width=t)},MdPanelAnimation.prototype._getBoundingClientRect=function(e){if(e instanceof t.element)return{element:e,bounds:e[0].getBoundingClientRect()}}}(),function(){t.module("material.components.progressCircular",["material.core"])}(),function(){function MdProgressLinearDirective(e,n,i){function compile(e,t,n){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),postLink}function postLink(i,c,u){function watchAttributes(){u.$observe("value",function(e){var t=clamp(e);c.attr("aria-valuenow",t),mode()!=s&&animateIndicator(f,t)}),u.$observe("mdBufferValue",function(e){animateIndicator(p,clamp(e))}),u.$observe("disabled",function(e){h=e===!0||e===!1?!!e:t.isDefined(e),c.toggleClass(l,h),g.toggleClass(d,!h)}),u.$observe("mdMode",function(e){switch(d&&g.removeClass(d),e){case s:case a:case r:case o:g.addClass(d="md-mode-"+e);break;default:g.addClass(d="md-mode-"+o)}})}function validateMode(){if(t.isUndefined(u.mdMode)){var e=t.isDefined(u.value),n=e?r:o;c.attr("md-mode",n),u.mdMode=n}}function mode(){var e=(u.mdMode||"").trim();if(e)switch(e){case r:case o:case a:case s:break;default:e=o}return e}function animateIndicator(e,i){if(!h&&mode()){var r=n.supplant("translateX({0}%) scale({1},1)",[(i-100)/2,i/100]),o=m({transform:r});t.element(e).css(o)}}e(c);var d,h=u.hasOwnProperty("disabled"),m=n.dom.animator.toCss,p=t.element(c[0].querySelector(".md-bar1")),f=t.element(c[0].querySelector(".md-bar2")),g=t.element(c[0].querySelector(".md-container"));c.attr("md-mode",mode()).toggleClass(l,h),validateMode(),watchAttributes()}function clamp(e){return Math.max(0,Math.min(e||0,100))}var r="determinate",o="indeterminate",a="buffer",s="query",l="_md-progress-linear-disabled";return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:compile}}MdProgressLinearDirective.$inject=["$mdTheming","$mdUtil","$log"],t.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",MdProgressLinearDirective)}(),function(){function mdRadioGroupDirective(e,n,i,r){function linkRadioGroup(o,a,s,l){function setFocus(){a.hasClass("md-focused")||a.addClass("md-focused")}function keydownListener(i){var r=i.which||i.keyCode;if(r==n.KEY_CODE.ENTER||i.currentTarget==i.target)switch(r){case n.KEY_CODE.LEFT_ARROW:case n.KEY_CODE.UP_ARROW:i.preventDefault(),c.selectPrevious(),setFocus();break;case n.KEY_CODE.RIGHT_ARROW:case n.KEY_CODE.DOWN_ARROW:i.preventDefault(),c.selectNext(),setFocus();break;case n.KEY_CODE.ENTER:var o=t.element(e.getClosest(a[0],"form"));o.length>0&&o.triggerHandler("submit")}}a.addClass("_md"),i(a);var c=l[0],u=l[1]||e.fakeNgModel();c.init(u),o.mouseActive=!1,a.attr({role:"radiogroup",tabIndex:a.attr("tabindex")||"0"}).on("keydown",keydownListener).on("mousedown",function(e){o.mouseActive=!0,r(function(){o.mouseActive=!1},100)}).on("focus",function(){o.mouseActive===!1&&c.$element.addClass("md-focused")}).on("blur",function(){c.$element.removeClass("md-focused")})}function RadioGroupController(e){this._radioButtonRenderFns=[],this.$element=e}function createRadioGroupControllerProto(){return{init:function(e){this._ngModelCtrl=e,this._ngModelCtrl.$render=t.bind(this,this.render)},add:function(e){this._radioButtonRenderFns.push(e)},remove:function(e){var t=this._radioButtonRenderFns.indexOf(e);t!==-1&&this._radioButtonRenderFns.splice(t,1)},render:function(){this._radioButtonRenderFns.forEach(function(e){e()})},setViewValue:function(e,t){this._ngModelCtrl.$setViewValue(e,t),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return changeSelectedButton(this.$element,1)},selectPrevious:function(){return changeSelectedButton(this.$element,-1)},setActiveDescendant:function(e){this.$element.attr("aria-activedescendant",e)},isDisabled:function(){return this.$element[0].hasAttribute("disabled")}}}function changeSelectedButton(n,i){var r=e.iterator(n[0].querySelectorAll("md-radio-button"),!0);if(r.count()){var o=function(e){return!t.element(e).attr("disabled")},a=n[0].querySelector("md-radio-button.md-checked"),s=r[i<0?"previous":"next"](a,o)||r.first();t.element(s).triggerHandler("click")}}return RadioGroupController.prototype=createRadioGroupControllerProto(),{restrict:"E",controller:["$element",RadioGroupController],require:["mdRadioGroup","?ngModel"],link:{pre:linkRadioGroup}}}function mdRadioButtonDirective(e,t,n){function link(r,o,a,s){function initialize(){if(!s)throw"RadioButton: No RadioGroupController could be found.";s.add(render),a.$observe("value",render),o.on("click",listener).on("$destroy",function(){s.remove(render)})}function listener(e){o[0].hasAttribute("disabled")||s.isDisabled()||r.$apply(function(){s.setViewValue(a.value,e&&e.type)})}function render(){var e=s.getViewValue()==a.value;e!==l&&("md-radio-group"!==o[0].parentNode.nodeName.toLowerCase()&&o.parent().toggleClass(i,e),e&&s.setActiveDescendant(o.attr("id")),l=e,o.attr("aria-checked",e).toggleClass(i,e))}function configureAria(n,i){n.attr({id:a.id||"radio_"+t.nextUid(),role:"radio","aria-checked":"false"}),e.expectWithText(n,"aria-label")}var l;n(o),configureAria(o,r),a.ngValue?t.nextTick(initialize,!1):initialize()}var i="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:link}}mdRadioGroupDirective.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"],mdRadioButtonDirective.$inject=["$mdAria","$mdUtil","$mdTheming"],t.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",mdRadioGroupDirective).directive("mdRadioButton",mdRadioButtonDirective)}(),function(){function SelectDirective(e,i,r,o,a,s,l,c){function compile(c,u){var d=t.element("<md-select-value><span></span></md-select-value>");if(d.append('<span class="md-select-icon" aria-hidden="true"></span>'),d.addClass("md-select-value"),d[0].hasAttribute("id")||d.attr("id","select_value_label_"+i.nextUid()),c.find("md-content").length||c.append(t.element("<md-content>").append(c.contents())),u.mdOnOpen&&(c.find("md-content").prepend(t.element('<div> <md-progress-circular md-mode="indeterminate" ng-if="$$loadingAsyncDone === false" md-diameter="25px"></md-progress-circular></div>')),c.find("md-option").attr("ng-show","$$loadingAsyncDone")),u.name){var h=t.element('<select class="md-visually-hidden">');h.attr({name:u.name,"aria-hidden":"true",tabindex:"-1"});var m=c.find("md-option");t.forEach(m,function(e){var n=t.element("<option>"+e.innerHTML+"</option>");e.hasAttribute("ng-value")?n.attr("ng-value",e.getAttribute("ng-value")):e.hasAttribute("value")&&n.attr("value",e.getAttribute("value")),h.append(n)}),h.append('<option ng-value="'+u.ngModel+'" selected></option>'),c.parent().append(h)}var p=i.parseAttributeBoolean(u.multiple),f=p?"multiple":"",g='<div class="md-select-menu-container" aria-hidden="true"><md-select-menu {0}>{1}</md-select-menu></div>';return g=i.supplant(g,[f,c.html()]),c.empty().append(d),c.append(g),u.tabindex||u.$set("tabindex",0),function(c,u,d,h){function initAriaLabel(){var e=u.attr("aria-label")||u.attr("placeholder");!e&&v&&v.label&&(e=v.label.text()),f=e,a.expect(u,"aria-label",e)}function syncLabelText(){E&&(M=M||E.find("md-select-menu").controller("mdSelectMenu"),y.setLabelText(M.selectedLabels()))}function syncAriaLabel(){if(f){var e=M.selectedLabels({mode:"aria"});u.attr("aria-label",e.length?f+": "+e:f)}}function inputCheckValue(){v&&v.setHasValue(M.selectedLabels().length>0||(u[0].validity||{}).badInput)}function findSelectContainer(){if(E=t.element(u[0].querySelector(".md-select-menu-container")),T=c,d.mdContainerClass){var e=E[0].getAttribute("class")+" "+d.mdContainerClass;E[0].setAttribute("class",e)}M=E.find("md-select-menu").controller("mdSelectMenu"),M.init(b,d.ngModel),u.on("$destroy",function(){E.remove()})}function handleKeypress(e){if(r.isNavigationKey(e))e.preventDefault(),openSelect(e);else if(r.isInputKey(e)||r.isNumPadKey(e)){e.preventDefault();var n=M.optNodeForKeyboardSearch(e);if(!n||n.hasAttribute("disabled"))return;var i=t.element(n).controller("mdOption");M.isMultiple||M.deselect(Object.keys(M.selected)[0]),M.select(i.hashKey,i.value),M.refreshViewValue()}}function openSelect(){T._mdSelectIsOpen=!0,u.attr("aria-expanded","true"),e.show({scope:T,preserveScope:!0,skipCompile:!0,element:E,target:u[0],selectCtrl:y,preserveElement:!0,hasBackdrop:!0,loadingAsync:!!d.mdOnOpen&&(c.$eval(d.mdOnOpen)||!0)}).finally(function(){T._mdSelectIsOpen=!1,u.focus(),u.attr("aria-expanded","false"),b.$setTouched()})}var m,f,g=!0,v=h[0],y=h[1],b=h[2],_=h[3],w=u.find("md-select-value"),x=t.isDefined(d.readonly),C=i.parseAttributeBoolean(d.mdNoAsterisk);if(C&&u.addClass("md-no-asterisk"),v){var S=v.isErrorGetter||function(){return b.$invalid&&(b.$touched||_&&_.$submitted)};if(v.input&&u.find("md-select-header").find("input")[0]!==v.input[0])throw new Error("<md-input-container> can only have *one* child <input>, <textarea> or <select> element!");v.input=u,v.label||a.expect(u,"aria-label",u.attr("placeholder")),c.$watch(S,v.setInvalid)}var E,T,M;findSelectContainer(),o(u),_&&t.isDefined(d.multiple)&&i.nextTick(function(){var e=b.$modelValue||b.$viewValue;e&&_.$setPristine()});var k=b.$render;b.$render=function(){k(),syncLabelText(),syncAriaLabel(),inputCheckValue()},d.$observe("placeholder",b.$render),v&&v.label&&d.$observe("required",function(e){v.label.toggleClass("md-required",e&&!C)}),y.setLabelText=function(e){y.setIsPlaceholder(!e);var t=!1;if(d.mdSelectedText&&d.mdSelectedHtml)throw Error("md-select cannot have both `md-selected-text` and `md-selected-html`");if(d.mdSelectedText||d.mdSelectedHtml)e=s(d.mdSelectedText||d.mdSelectedHtml)(c),t=!0;else if(!e){var n=d.placeholder||(v&&v.label?v.label.text():"");e=n||"",t=!0}var i=w.children().eq(0);d.mdSelectedHtml?i.html(l.getTrustedHtml(e)):t?i.text(e):i.html(e)},y.setIsPlaceholder=function(e){e?(w.addClass("md-select-placeholder"),v&&v.label&&v.label.addClass("md-placeholder")):(w.removeClass("md-select-placeholder"),v&&v.label&&v.label.removeClass("md-placeholder"))},x||(u.on("focus",function(e){v&&v.setFocused(!0)}),u.on("blur",function(e){g&&(g=!1,T._mdSelectIsOpen&&e.stopImmediatePropagation()),T._mdSelectIsOpen||(v&&v.setFocused(!1),inputCheckValue());
})),y.triggerClose=function(){s(d.mdOnClose)(c)},c.$$postDigest(function(){initAriaLabel(),syncLabelText(),syncAriaLabel()}),c.$watch(function(){return M.selectedLabels()},syncLabelText);var A;d.$observe("ngMultiple",function(e){A&&A();var t=s(e);A=c.$watch(function(){return t(c)},function(e,t){e===n&&t===n||(e?u.attr("multiple","multiple"):u.removeAttr("multiple"),u.attr("aria-multiselectable",e?"true":"false"),E&&(M.setMultiple(e),k=b.$render,b.$render=function(){k(),syncLabelText(),syncAriaLabel(),inputCheckValue()},b.$render()))})}),d.$observe("disabled",function(e){t.isString(e)&&(e=!0),m!==n&&m===e||(m=e,e?u.attr({"aria-disabled":"true"}).removeAttr("tabindex").off("click",openSelect).off("keydown",handleKeypress):u.attr({tabindex:d.tabindex,"aria-disabled":"false"}).on("click",openSelect).on("keydown",handleKeypress))}),d.hasOwnProperty("disabled")||d.hasOwnProperty("ngDisabled")||(u.attr({"aria-disabled":"false"}),u.on("click",openSelect),u.on("keydown",handleKeypress));var $={role:"listbox","aria-expanded":"false","aria-multiselectable":p&&!d.ngMultiple?"true":"false"};u[0].hasAttribute("id")||($.id="select_"+i.nextUid());var P="select_container_"+i.nextUid();E.attr("id",P),$["aria-owns"]=P,u.attr($),c.$on("$destroy",function(){e.destroy().finally(function(){v&&(v.setFocused(!1),v.setHasValue(!1),v.input=null),b.$setTouched()})})}}var u=r.KEY_CODE;[u.SPACE,u.ENTER,u.UP_ARROW,u.DOWN_ARROW];return{restrict:"E",require:["^?mdInputContainer","mdSelect","ngModel","?^form"],compile:compile,controller:function(){}}}function SelectMenuDirective(e,i,o,a){function preLink(e,n,r,o){function keyListener(e){13!=e.keyCode&&32!=e.keyCode||clickListener(e)}function clickListener(n){var r=i.getClosest(n.target,"md-option"),o=r&&t.element(r).data("$mdOptionController");if(r&&o){if(r.hasAttribute("disabled"))return n.stopImmediatePropagation(),!1;var a=s.hashGetter(o.value),l=t.isDefined(s.selected[a]);e.$apply(function(){s.isMultiple?l?s.deselect(a):s.select(a,o.value):l||(s.deselect(Object.keys(s.selected)[0]),s.select(a,o.value)),s.refreshViewValue()})}}var s=o[0];n.addClass("_md"),a(n),n.on("click",clickListener),n.on("keypress",keyListener)}function SelectMenuController(a,s,l){function renderMultiple(){var e=c.ngModel.$modelValue||c.ngModel.$viewValue||[];if(t.isArray(e)){var n=Object.keys(c.selected),i=e.map(c.hashGetter),r=n.filter(function(e){return i.indexOf(e)===-1});r.forEach(c.deselect),i.forEach(function(t,n){c.select(t,e[n])})}}function renderSingular(){var e=c.ngModel.$viewValue||c.ngModel.$modelValue;Object.keys(c.selected).forEach(c.deselect),c.select(c.hashGetter(e),e)}var c=this;c.isMultiple=t.isDefined(s.multiple),c.selected={},c.options={},a.$watchCollection(function(){return c.options},function(){c.ngModel.$render()});var u,d;c.setMultiple=function(e){function validateArray(e,n){return t.isArray(e||n||[])}var n=c.ngModel;d=d||n.$isEmpty,c.isMultiple=e,u&&u(),c.isMultiple?(n.$validators["md-multiple"]=validateArray,n.$render=renderMultiple,a.$watchCollection(c.modelBinding,function(e){validateArray(e)&&renderMultiple(e),c.ngModel.$setPristine()}),n.$isEmpty=function(e){return!e||0===e.length}):(delete n.$validators["md-multiple"],n.$render=renderSingular)};var h,m,p,f="",g=300;c.optNodeForKeyboardSearch=function(e){h&&clearTimeout(h),h=setTimeout(function(){h=n,f="",p=n,m=n},g);var i=e.keyCode-(o.isNumPadKey(e)?48:0);f+=String.fromCharCode(i);var r=new RegExp("^"+f,"i");m||(m=l.find("md-option"),p=new Array(m.length),t.forEach(m,function(e,t){p[t]=e.textContent.trim()}));for(var a=0;a<p.length;++a)if(r.test(p[a]))return m[a]},c.init=function(n,o){c.ngModel=n,c.modelBinding=o,c.ngModel.$isEmpty=function(e){return!c.options[c.hashGetter(e)]};var s=i.getModelOption(n,"trackBy");if(s){var l={},u=e(s);c.hashGetter=function(e,t){return l.$value=e,u(t||a,l)}}else c.hashGetter=function(e){return t.isObject(e)?"object_"+(e.$$mdSelectId||(e.$$mdSelectId=++r)):e};c.setMultiple(c.isMultiple)},c.selectedLabels=function(e){e=e||{};var t=e.mode||"html",n=i.nodesToArray(l[0].querySelectorAll("md-option[selected]"));if(n.length){var r;return"html"==t?r=function(e){if(e.hasAttribute("md-option-empty"))return"";var t=e.innerHTML,n=e.querySelector(".md-ripple-container");n&&(t=t.replace(n.outerHTML,""));var i=e.querySelector(".md-container");return i&&(t=t.replace(i.outerHTML,"")),t}:"aria"==t&&(r=function(e){return e.hasAttribute("aria-label")?e.getAttribute("aria-label"):e.textContent}),i.uniq(n.map(r)).join(", ")}return""},c.select=function(e,t){var n=c.options[e];n&&n.setSelected(!0),c.selected[e]=t},c.deselect=function(e){var t=c.options[e];t&&t.setSelected(!1),delete c.selected[e]},c.addOption=function(e,n){if(t.isDefined(c.options[e]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+n.value+'" found.');c.options[e]=n,t.isDefined(c.selected[e])&&(c.select(e,n.value),t.isDefined(c.ngModel.$modelValue)&&c.hashGetter(c.ngModel.$modelValue)===e&&c.ngModel.$validate(),c.refreshViewValue())},c.removeOption=function(e){delete c.options[e]},c.refreshViewValue=function(){var e,n=[];for(var r in c.selected)(e=c.options[r])?n.push(e.value):n.push(c.selected[r]);var o=i.getModelOption(c.ngModel,"trackBy"),a=c.isMultiple?n:n[0],s=c.ngModel.$modelValue;(o?t.equals(s,a):s+""===a)||(c.ngModel.$setViewValue(a),c.ngModel.$render())}}return SelectMenuController.$inject=["$scope","$attrs","$element"],{restrict:"E",require:["mdSelectMenu"],scope:!1,controller:SelectMenuController,link:{pre:preLink}}}function OptionDirective(e,n){function compile(e,n){return e.append(t.element('<div class="md-text">').append(e.contents())),e.attr("tabindex",n.tabindex||"0"),hasDefinedValue(n)||e.attr("md-option-empty",""),postLink}function hasDefinedValue(e){var t=e.value,n=e.ngValue;return t||n}function postLink(i,r,a,s){function setOptionValue(e,t,n){if(!c.hashGetter)return void(n||i.$$postDigest(function(){setOptionValue(e,t,!0)}));var r=c.hashGetter(t,i),o=c.hashGetter(e,i);l.hashKey=o,l.value=e,c.removeOption(r,l),c.addOption(o,l)}function configureAria(){var e={role:"option","aria-selected":"false"};r[0].hasAttribute("id")||(e.id="select_option_"+n.nextUid()),r.attr(e)}var l=s[0],c=s[1];c.isMultiple&&(r.addClass("md-checkbox-enabled"),r.prepend(o.clone())),t.isDefined(a.ngValue)?i.$watch(a.ngValue,setOptionValue):t.isDefined(a.value)?setOptionValue(a.value):i.$watch(function(){return r.text().trim()},setOptionValue),a.$observe("disabled",function(e){e?r.attr("tabindex","-1"):r.attr("tabindex","0")}),i.$$postDigest(function(){a.$observe("selected",function(e){t.isDefined(e)&&("string"==typeof e&&(e=!0),e?(c.isMultiple||c.deselect(Object.keys(c.selected)[0]),c.select(l.hashKey,l.value)):c.deselect(l.hashKey),c.refreshViewValue())})}),e.attach(i,r),configureAria(),i.$on("$destroy",function(){c.removeOption(l.hashKey,l)})}function OptionController(e){this.selected=!1,this.setSelected=function(t){t&&!this.selected?e.attr({selected:"selected","aria-selected":"true"}):!t&&this.selected&&(e.removeAttr("selected"),e.attr("aria-selected","false")),this.selected=t}}return OptionController.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:OptionController,compile:compile}}function OptgroupDirective(){function compile(e,n){function hasSelectHeader(){return e.parent().find("md-select-header").length}function setupLabelElement(){var i=e.find("label");i.length||(i=t.element("<label>"),e.prepend(i)),i.addClass("md-container-ignore"),n.label&&i.text(n.label)}hasSelectHeader()||setupLabelElement()}return{restrict:"E",compile:compile}}function SelectHeaderDirective(){return{restrict:"E"}}function SelectProvider(r){function selectDefaultOptions(r,o,a,s,l,c,u,d,h){function onRemove(e,t,n){function animateRemoval(){return u(t,{addClass:"md-leave"}).start()}function cleanElement(){t.removeClass("md-active"),t.attr("aria-hidden","true"),t[0].style.display="none",announceClosed(n),!n.$destroy&&n.restoreFocus&&n.target.focus()}return n=n||{},n.cleanupInteraction(),n.cleanupResizing(),n.hideBackdrop(),n.$destroy===!0?cleanElement():animateRemoval().then(cleanElement)}function onShow(e,i,g){function showDropDown(e,t,n){return n.parent.append(t),l(function(e,n){try{u(t,{removeClass:"md-leave",duration:0}).start().then(positionAndFocusMenu).then(e)}catch(e){n(e)}})}function positionAndFocusMenu(){return l(function(t){if(g.isRemoved)return l.reject(!1);var n=calculateMenuPositions(e,i,g);n.container.element.css(p.toCss(n.container.styles)),n.dropDown.element.css(p.toCss(n.dropDown.styles)),c(function(){i.addClass("md-active"),n.dropDown.element.css(p.toCss({transform:""})),autoFocus(g.focusedNode),t()})})}function showBackdrop(e,t,n){return n.disableParentScroll&&!a.getClosest(n.target,"MD-DIALOG")?n.restoreScroll=a.disableScrollAround(n.element,n.parent):n.disableParentScroll=!1,n.hasBackdrop&&(n.backdrop=a.createBackdrop(e,"md-select-backdrop md-click-catcher"),d.enter(n.backdrop,h[0].body,null,{duration:0})),function(){n.backdrop&&n.backdrop.remove(),n.disableParentScroll&&n.restoreScroll(),delete n.restoreScroll}}function autoFocus(e){e&&!e.hasAttribute("disabled")&&e.focus()}function sanitizeAndConfigure(e,n){var r=i.find("md-select-menu");if(!n.target)throw new Error(a.supplant(m,[n.target]));t.extend(n,{isRemoved:!1,target:t.element(n.target),parent:t.element(n.parent),selectEl:r,contentEl:i.find("md-content"),optionNodes:r[0].getElementsByTagName("md-option")})}function activateResizing(){var n=function(e,t,n){return function(){if(!n.isRemoved){var i=calculateMenuPositions(e,t,n),r=i.container,o=i.dropDown;r.element.css(p.toCss(r.styles)),o.element.css(p.toCss(o.styles))}}}(e,i,g),r=t.element(s);return r.on("resize",n),r.on("orientationchange",n),function(){r.off("resize",n),r.off("orientationchange",n)}}function watchAsyncLoad(){g.loadingAsync&&!g.isRemoved&&(e.$$loadingAsyncDone=!1,l.when(g.loadingAsync).then(function(){e.$$loadingAsyncDone=!0,delete g.loadingAsync}).then(function(){c(positionAndFocusMenu)}))}function activateInteraction(){function onBackdropClick(e){e.preventDefault(),e.stopPropagation(),g.restoreFocus=!1,a.nextTick(r.hide,!0)}function onMenuKeyDown(t){switch(t.preventDefault(),t.stopPropagation(),t.keyCode){case f.UP_ARROW:return focusPrevOption();case f.DOWN_ARROW:return focusNextOption();case f.SPACE:case f.ENTER:var n=a.getClosest(t.target,"md-option");n&&(e.triggerHandler({type:"click",target:n}),t.preventDefault()),checkCloseMenu(t);break;case f.TAB:case f.ESCAPE:t.stopPropagation(),t.preventDefault(),g.restoreFocus=!0,a.nextTick(r.hide,!0);break;default:if(o.isInputKey(t)||o.isNumPadKey(t)){var i=e.controller("mdSelectMenu").optNodeForKeyboardSearch(t);g.focusedNode=i||g.focusedNode,i&&i.focus()}}}function focusOption(e){var t,i=a.nodesToArray(g.optionNodes),r=i.indexOf(g.focusedNode);do r===-1?r=0:"next"===e&&r<i.length-1?r++:"prev"===e&&r>0&&r--,t=i[r],t.hasAttribute("disabled")&&(t=n);while(!t&&r<i.length-1&&r>0);t&&t.focus(),g.focusedNode=t}function focusNextOption(){focusOption("next")}function focusPrevOption(){focusOption("prev")}function checkCloseMenu(n){function mouseOnScrollbar(){var e=!1;if(n&&n.currentTarget.children.length>0){var t=n.currentTarget.children[0],i=t.scrollHeight>t.clientHeight;if(i&&t.children.length>0){var r=n.pageX-n.currentTarget.getBoundingClientRect().left;r>t.querySelector("md-option").offsetWidth&&(e=!0)}}return e}if(!(n&&"click"==n.type&&n.currentTarget!=e[0]||mouseOnScrollbar())){var i=a.getClosest(n.target,"md-option");i&&i.hasAttribute&&!i.hasAttribute("disabled")&&(n.preventDefault(),n.stopPropagation(),t.isMultiple||(g.restoreFocus=!0,a.nextTick(function(){r.hide(t.ngModel.$viewValue)},!0)))}}if(!g.isRemoved){var e=g.selectEl,t=e.controller("mdSelectMenu")||{};return i.addClass("md-clickable"),g.backdrop&&g.backdrop.on("click",onBackdropClick),e.on("keydown",onMenuKeyDown),e.on("click",checkCloseMenu),function(){g.backdrop&&g.backdrop.off("click",onBackdropClick),e.off("keydown",onMenuKeyDown),e.off("click",checkCloseMenu),i.removeClass("md-clickable"),g.isRemoved=!0}}}return watchAsyncLoad(),sanitizeAndConfigure(e,g),g.hideBackdrop=showBackdrop(e,i,g),showDropDown(e,i,g).then(function(e){return i.attr("aria-hidden","false"),g.alreadyOpen=!0,g.cleanupInteraction=activateInteraction(),g.cleanupResizing=activateResizing(),e},g.hideBackdrop)}function announceClosed(e){var t=e.selectCtrl;if(t){var n=e.selectEl.controller("mdSelectMenu");t.setLabelText(n?n.selectedLabels():""),t.triggerClose()}}function calculateMenuPositions(n,r,o){var l,c=r[0],u=o.target[0].children[0],d=h[0].body,m=o.selectEl[0],p=o.contentEl[0],f=d.getBoundingClientRect(),g=u.getBoundingClientRect(),v=!1,y={left:f.left+i,top:i,bottom:f.height-i,right:f.width-i-(a.floatingScrollbars()?16:0)},b={top:g.top-y.top,left:g.left-y.left,right:y.right-(g.left+g.width),bottom:y.bottom-(g.top+g.height)},_=f.width-2*i,w=m.querySelector("md-option[selected]"),x=m.getElementsByTagName("md-option"),C=m.getElementsByTagName("md-optgroup"),S=calculateScrollable(r,p),E=isPromiseLike(o.loadingAsync);l=E?p.firstElementChild||p:w?w:C.length?C[0]:x.length?x[0]:p.firstElementChild||p,p.offsetWidth>_?p.style["max-width"]=_+"px":p.style.maxWidth=null,v&&(p.style["min-width"]=g.width+"px"),S&&m.classList.add("md-overflow");var T=l;"MD-OPTGROUP"===(T.tagName||"").toUpperCase()&&(T=x[0]||p.firstElementChild||p,l=T),o.focusedNode=T,c.style.display="block";var M=m.getBoundingClientRect(),k=getOffsetRect(l);if(l){var A=s.getComputedStyle(l);k.paddingLeft=parseInt(A.paddingLeft,10)||0,k.paddingRight=parseInt(A.paddingRight,10)||0}if(S){var $=p.offsetHeight/2;p.scrollTop=k.top+k.height/2-$,b.top<$?p.scrollTop=Math.min(k.top,p.scrollTop+$-b.top):b.bottom<$&&(p.scrollTop=Math.max(k.top+k.height-M.height,p.scrollTop-$+b.bottom))}var P,L,D,R,I;v?(P=g.left,L=g.top+g.height,D="50% 0",L+M.height>y.bottom&&(L=g.top-M.height,D="50% 100%")):(P=g.left+k.left-k.paddingLeft+2,L=Math.floor(g.top+g.height/2-k.height/2-k.top+p.scrollTop)+2,D=k.left+g.width/2+"px "+(k.top+k.height/2-p.scrollTop)+"px 0px",R=Math.min(g.width+k.paddingLeft+k.paddingRight,_),I=e.getComputedStyle(u)["font-size"]);var O=c.getBoundingClientRect(),F=Math.round(100*Math.min(g.width/M.width,1))/100,N=Math.round(100*Math.min(g.height/M.height,1))/100;return{container:{element:t.element(c),styles:{left:Math.floor(clamp(y.left,P,y.right-O.width)),top:Math.floor(clamp(y.top,L,y.bottom-O.height)),"min-width":R,"font-size":I}},dropDown:{element:t.element(m),styles:{transformOrigin:D,transform:o.alreadyOpen?"":a.supplant("scale({0},{1})",[F,N])}}}}var m="$mdSelect.show() expected a target element in options.target but got '{0}'!",p=a.dom.animator,f=o.KEY_CODE;return{parent:"body",themable:!0,onShow:onShow,onRemove:onRemove,hasBackdrop:!0,disableParentScroll:!0}}function isPromiseLike(e){return e&&t.isFunction(e.then)}function clamp(e,t,n){return Math.max(e,Math.min(t,n))}function getOffsetRect(e){return e?{left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}:{left:0,top:0,width:0,height:0}}function calculateScrollable(e,t){var n=!1;try{var i=e[0].style.display;e[0].style.display="block",n=t.scrollHeight>t.offsetHeight,e[0].style.display=i}finally{}return n}return selectDefaultOptions.$inject=["$mdSelect","$mdConstant","$mdUtil","$window","$q","$$rAF","$animateCss","$animate","$document"],r("$mdSelect").setDefaults({methods:["target"],options:selectDefaultOptions})}SelectDirective.$inject=["$mdSelect","$mdUtil","$mdConstant","$mdTheming","$mdAria","$parse","$sce","$injector"],SelectMenuDirective.$inject=["$parse","$mdUtil","$mdConstant","$mdTheming"],OptionDirective.$inject=["$mdButtonInkRipple","$mdUtil"],SelectProvider.$inject=["$$interimElementProvider"];var i=8,r=0,o=t.element('<div class="md-container"><div class="md-icon"></div></div>');t.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",SelectDirective).directive("mdSelectMenu",SelectMenuDirective).directive("mdOption",OptionDirective).directive("mdOptgroup",OptgroupDirective).directive("mdSelectHeader",SelectHeaderDirective).provider("$mdSelect",SelectProvider)}(),function(){function createDirective(e,t){return["$mdUtil","$window",function(n,i){return{restrict:"A",multiElement:!0,link:function(r,o,a){var s=r.$on("$md-resize-enable",function(){s();var l=o[0],c=l.nodeType===i.Node.ELEMENT_NODE?i.getComputedStyle(l):{};r.$watch(a[e],function(e){if(!!e===t){n.nextTick(function(){r.$broadcast("$md-resize")});var i={cachedTransitionStyles:c};n.dom.animator.waitTransitionEnd(o,i).then(function(){r.$broadcast("$md-resize")})}})})}}}]}t.module("material.components.showHide",["material.core"]).directive("ngShow",createDirective("ngShow",!0)).directive("ngHide",createDirective("ngHide",!1))}(),function(){function SidenavService(e,i,r,o){function addLegacyAPI(e,n){var o=function(){return!1},s=function(){return r.when(i.supplant(a,[n||""]))};return t.extend({isLockedOpen:o,isOpen:o,toggle:s,open:s,close:s,onClose:t.noop,then:function(e){return waitForInstance(n).then(e||t.noop)}},e)}function findInstance(t,r){var s=e.get(t);return s||r?s:(o.error(i.supplant(a,[t||""])),n)}function waitForInstance(t){return e.when(t).catch(o.error)}var a="SideNav '{0}' is not available! Did you use md-component-id='{0}'?",s={find:findInstance,waitFor:waitForInstance};return function(e,n){if(t.isUndefined(e))return s;var i=n===!0,r=s.find(e,i);return!r&&i?s.waitFor(e):!r&&t.isUndefined(n)?addLegacyAPI(s,e):r}}function SidenavFocusDirective(){return{restrict:"A",require:"^mdSidenav",link:function(e,t,n,i){}}}function SidenavDirective(e,i,r,o,a,s,l,c,u,d,h,m,p){function postLink(l,f,g,v){function updateIsLocked(e,t){l.isLockedOpen=e,e===t?f.toggleClass("md-locked-open",!!e):s[e?"addClass":"removeClass"](f,"md-locked-open"),b&&b.toggleClass("md-locked-open",!!e)}function updateIsOpen(e){var t=i.findFocusTarget(f)||i.findFocusTarget(f,"[md-sidenav-focus]")||f,n=f.parent();n[e?"on":"off"]("keydown",onKeyDown),b&&b[e?"on":"off"]("click",close);var r=updateContainerPositions(n,e);return e&&(C=h[0].activeElement,_=a.getLastInteractionType()),disableParentScroll(e),S=d.all([e&&b?s.enter(b,n):b?s.leave(b):d.when(!0),s[e?"removeClass":"addClass"](f,"md-closed")]).then(function(){l.isOpen&&(p(function(){T.triggerHandler("resize")}),t&&t.focus()),r&&r()})}function updateContainerPositions(e,t){var n=f[0],i=e[0].scrollTop;if(t&&i){w={top:n.style.top,bottom:n.style.bottom,height:n.style.height};var r={top:i+"px",bottom:"auto",height:e[0].clientHeight+"px"};f.css(r),b.css(r)}if(!t&&w)return function(){n.style.top=w.top,n.style.bottom=w.bottom,n.style.height=w.height,b[0].style.top=null,b[0].style.bottom=null,b[0].style.height=null,w=null}}function disableParentScroll(e){e&&!y?(y=x.css("overflow"),x.css("overflow","hidden")):t.isDefined(y)&&(x.css("overflow",y),y=n)}function toggleOpen(e){return l.isOpen==e?d.when(!0):(l.isOpen&&v.onCloseCb&&v.onCloseCb(),d(function(t){l.isOpen=e,i.nextTick(function(){S.then(function(e){!l.isOpen&&C&&"keyboard"===_&&(C.focus(),C=null),t(e)})})}))}function onKeyDown(e){var t=e.keyCode===r.KEY_CODE.ESCAPE;return t?close(e):d.when(!0)}function close(e){return e.preventDefault(),v.close()}var y,b,_,w,x=null,C=null,S=d.when(!0),E=c(g.mdIsLockedOpen),T=t.element(m),M=function(){return E(l.$parent,{$media:function(t){return u.warn("$media is deprecated for is-locked-open. Use $mdMedia instead."),e(t)},$mdMedia:e})};g.mdDisableScrollTarget&&(x=h[0].querySelector(g.mdDisableScrollTarget),x?x=t.element(x):u.warn(i.supplant('mdSidenav: couldn\'t find element matching selector "{selector}". Falling back to parent.',{selector:g.mdDisableScrollTarget}))),x||(x=f.parent()),g.hasOwnProperty("mdDisableBackdrop")||(b=i.createBackdrop(l,"md-sidenav-backdrop md-opaque ng-enter")),f.addClass("_md"),o(f),b&&o.inherit(b,f),f.on("$destroy",function(){b&&b.remove(),v.destroy()}),l.$on("$destroy",function(){b&&b.remove()}),l.$watch(M,updateIsLocked),l.$watch("isOpen",updateIsOpen),v.$toggleOpen=toggleOpen}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(e){return e.addClass("md-closed").attr("tabIndex","-1"),postLink}}}function SidenavController(e,t,n,i,r){var o=this;o.isOpen=function(){return!!e.isOpen},o.isLockedOpen=function(){return!!e.isLockedOpen},o.onClose=function(e){return o.onCloseCb=e,o},o.open=function(){return o.$toggleOpen(!0)},o.close=function(){return o.$toggleOpen(!1)},o.toggle=function(){return o.$toggleOpen(!e.isOpen)},o.$toggleOpen=function(t){return i.when(e.isOpen=t)};var a=t.mdComponentId,s=a&&a.indexOf(r.startSymbol())>-1,l=s?r(a)(e.$parent):a;o.destroy=n.register(o,l),s&&t.$observe("mdComponentId",function(e){e&&e!==o.$$mdHandle&&(o.destroy(),o.destroy=n.register(o,e))})}SidenavService.$inject=["$mdComponentRegistry","$mdUtil","$q","$log"],SidenavDirective.$inject=["$mdMedia","$mdUtil","$mdConstant","$mdTheming","$mdInteraction","$animate","$compile","$parse","$log","$q","$document","$window","$$rAF"],SidenavController.$inject=["$scope","$attrs","$mdComponentRegistry","$q","$interpolate"],t.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",SidenavService).directive("mdSidenav",SidenavDirective).directive("mdSidenavFocus",SidenavFocusDirective).controller("$mdSidenavController",SidenavController)}(),function(){function SliderContainerDirective(){return{controller:function(){},compile:function(e){var i=e.find("md-slider");if(i){var r=i.attr("md-vertical");return r!==n&&e.attr("md-vertical",""),i.attr("flex")||i.attr("flex",""),function(e,n,i,r){function setDisable(e){n.children().attr("disabled",e),n.find("input").attr("disabled",e)}n.addClass("_md");var o=t.noop;i.disabled?setDisable(!0):i.ngDisabled&&(o=e.$watch(i.ngDisabled,function(e){setDisable(e)})),e.$on("$destroy",function(){o()});var a;r.fitInputWidthToTextLength=function(e){var t=n[0].querySelector("md-input-container");if(t){var i=getComputedStyle(t),r=parseInt(i.minWidth),o=2*parseInt(i.padding);a=a||parseInt(i.maxWidth);var s=Math.max(a,r+o+r/2*e);t.style.maxWidth=s+"px"}}}}}}}function SliderDirective(e,n,i,r,o,a,s,l,c,u){function compile(e,n){var r=t.element(e[0].getElementsByClassName("md-slider-wrapper")),o=n.tabindex||0;return r.attr("tabindex",o),(n.disabled||n.ngDisabled)&&r.attr("tabindex",-1),r.attr("role","slider"),i.expect(e,"aria-label"),postLink}function postLink(i,d,h,m){function updateAll(){refreshSliderDimensions(),ngModelRender()}function updateMin(e){P=parseFloat(e),d.attr("aria-valuemin",e),updateAll()}function updateMax(e){L=parseFloat(e),d.attr("aria-valuemax",e),updateAll()}function updateStep(e){D=parseFloat(e)}function updateRound(e){R=minMaxValidator(parseInt(e),0,6)}function updateAriaDisabled(){d.attr("aria-disabled",!!g())}function redrawTicks(){if(M&&!g()&&!t.isUndefined(D)){if(D<=0){var e="Slider step value must be greater than zero when in discrete mode";throw c.error(e),new Error(e)}var i=Math.floor((L-P)/D);I||(I=t.element("<canvas>").css("position","absolute"),x.append(I),O=I[0].getContext("2d"));var r=getSliderDimensions();!r||r.height||r.width||(refreshSliderDimensions(),r=F),I[0].width=r.width,I[0].height=r.height;for(var o,a=0;a<=i;a++){var s=n.getComputedStyle(x[0]);O.fillStyle=s.color||"black",o=Math.floor((T?r.height:r.width)*(a/i)),O.fillRect(T?0:o-1,T?o-1:0,T?r.width:2,T?2:r.height)}}}function clearTicks(){if(I&&O){var e=getSliderDimensions();O.clearRect(0,0,e.width,e.height)}}function refreshSliderDimensions(){F=_[0].getBoundingClientRect()}function getSliderDimensions(){return S(),F}function keydownListener(e){if(!g()){var t;(T?e.keyCode===o.KEY_CODE.DOWN_ARROW:e.keyCode===o.KEY_CODE.LEFT_ARROW)?t=-D:(T?e.keyCode===o.KEY_CODE.UP_ARROW:e.keyCode===o.KEY_CODE.RIGHT_ARROW)&&(t=D),t=k?-t:t,t&&((e.metaKey||e.ctrlKey||e.altKey)&&(t*=4),e.preventDefault(),e.stopPropagation(),i.$evalAsync(function(){setModelValue(p.$viewValue+t)}))}}function mouseDownListener(){redrawTicks(),i.mouseActive=!0,C.removeClass("md-focused"),u(function(){i.mouseActive=!1},100)}function focusListener(){i.mouseActive===!1&&C.addClass("md-focused")}function blurListener(){C.removeClass("md-focused"),d.removeClass("md-active"),clearTicks()}function setModelValue(e){p.$setViewValue(minMaxValidator(stepValidator(e)))}function ngModelRender(){isNaN(p.$viewValue)&&(p.$viewValue=p.$modelValue),p.$viewValue=minMaxValidator(p.$viewValue);var e=valueToPercent(p.$viewValue);i.modelValue=p.$viewValue,d.attr("aria-valuenow",p.$viewValue),setSliderPercent(e),y.text(p.$viewValue)}function minMaxValidator(e,n,i){if(t.isNumber(e))return n=t.isNumber(n)?n:P,i=t.isNumber(i)?i:L,Math.max(n,Math.min(i,e))}function stepValidator(e){if(t.isNumber(e)){var n=Math.round((e-P)/D)*D+P;return n=Math.round(n*Math.pow(10,R))/Math.pow(10,R),f&&f.fitInputWidthToTextLength&&r.debounce(function(){f.fitInputWidthToTextLength(n.toString().length)},100)(),n}}function setSliderPercent(e){e=clamp(e);var t=100*e+"%",n=k?100*(1-e)+"%":t;T?b.css("bottom",t):r.bidiProperty(b,"left","right",t),w.css(T?"height":"width",n),d.toggleClass(k?"md-max":"md-min",0===e),d.toggleClass(k?"md-min":"md-max",1===e)}function onPressDown(e){if(!g()){d.addClass("md-active"),d[0].focus(),refreshSliderDimensions();var t=percentToValue(positionToPercent(T?e.pointer.y:e.pointer.x)),n=minMaxValidator(stepValidator(t));i.$apply(function(){setModelValue(n),setSliderPercent(valueToPercent(n))})}}function onPressUp(e){if(!g()){d.removeClass("md-dragging");var t=percentToValue(positionToPercent(T?e.pointer.y:e.pointer.x)),n=minMaxValidator(stepValidator(t));i.$apply(function(){setModelValue(n),ngModelRender()})}}function onDragStart(e){g()||(N=!0,e.stopPropagation(),d.addClass("md-dragging"),setSliderFromEvent(e))}function onDrag(e){N&&(e.stopPropagation(),setSliderFromEvent(e))}function onDragEnd(e){N&&(e.stopPropagation(),N=!1)}function setSliderFromEvent(e){M?adjustThumbPosition(T?e.pointer.y:e.pointer.x):doSlide(T?e.pointer.y:e.pointer.x)}function doSlide(e){i.$evalAsync(function(){setModelValue(percentToValue(positionToPercent(e)))})}function adjustThumbPosition(e){var t=percentToValue(positionToPercent(e)),n=minMaxValidator(stepValidator(t));setSliderPercent(positionToPercent(e)),y.text(n)}function clamp(e){return Math.max(0,Math.min(e||0,1))}function positionToPercent(e){var t=T?F.top:F.left,n=T?F.height:F.width,i=(e-t)/n;return T||"rtl"!==r.bidi()||(i=1-i),Math.max(0,Math.min(1,T?1-i:i))}function percentToValue(e){var t=k?1-e:e;return P+t*(L-P)}function valueToPercent(e){var t=(e-P)/(L-P);return k?1-t:t}a(d);var p=m[0]||{$setViewValue:function(e){this.$viewValue=e,this.$viewChangeListeners.forEach(function(e){e()})},$parsers:[],$formatters:[],$viewChangeListeners:[]},f=m[1],g=(t.element(r.getClosest(d,"_md-slider-container",!0)),h.ngDisabled?t.bind(null,l(h.ngDisabled),i.$parent):function(){return d[0].hasAttribute("disabled")}),v=t.element(d[0].querySelector(".md-thumb")),y=t.element(d[0].querySelector(".md-thumb-text")),b=v.parent(),_=t.element(d[0].querySelector(".md-track-container")),w=t.element(d[0].querySelector(".md-track-fill")),x=t.element(d[0].querySelector(".md-track-ticks")),C=t.element(d[0].getElementsByClassName("md-slider-wrapper")),S=(t.element(d[0].getElementsByClassName("md-slider-content")),r.throttle(refreshSliderDimensions,5e3)),E=3,T=t.isDefined(h.mdVertical),M=t.isDefined(h.mdDiscrete),k=t.isDefined(h.mdInvert);t.isDefined(h.min)?h.$observe("min",updateMin):updateMin(0),t.isDefined(h.max)?h.$observe("max",updateMax):updateMax(100),t.isDefined(h.step)?h.$observe("step",updateStep):updateStep(1),t.isDefined(h.round)?h.$observe("round",updateRound):updateRound(E);var A=t.noop;h.ngDisabled&&(A=i.$parent.$watch(h.ngDisabled,updateAriaDisabled)),s.register(C,"drag",{horizontal:!T}),i.mouseActive=!1,C.on("keydown",keydownListener).on("mousedown",mouseDownListener).on("focus",focusListener).on("blur",blurListener).on("$md.pressdown",onPressDown).on("$md.pressup",onPressUp).on("$md.dragstart",onDragStart).on("$md.drag",onDrag).on("$md.dragend",onDragEnd),setTimeout(updateAll,0);var $=e.throttle(updateAll);t.element(n).on("resize",$),i.$on("$destroy",function(){t.element(n).off("resize",$)}),p.$render=ngModelRender,p.$viewChangeListeners.push(ngModelRender),p.$formatters.push(minMaxValidator),p.$formatters.push(stepValidator);var P,L,D,R,I,O,F={};refreshSliderDimensions();var N=!1}return{scope:{},require:["?ngModel","?^mdSliderContainer"],template:'<div class="md-slider-wrapper"><div class="md-slider-content"><div class="md-track-container"><div class="md-track"></div><div class="md-track md-track-fill"></div><div class="md-track-ticks"></div></div><div class="md-thumb-container"><div class="md-thumb"></div><div class="md-focus-thumb"></div><div class="md-focus-ring"></div><div class="md-sign"><span class="md-thumb-text"></span></div><div class="md-disabled-thumb"></div></div></div></div>',compile:compile}}SliderDirective.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse","$log","$timeout"],t.module("material.components.slider",["material.core"]).directive("mdSlider",SliderDirective).directive("mdSliderContainer",SliderContainerDirective)}(),function(){function MdSticky(e,t,i,r){function setupSticky(r){function add(e,t){t.addClass("md-sticky-clone");var n={element:e,clone:t};return s.items.push(n),i.nextTick(function(){o.prepend(n.clone)}),a(),function(){s.items.forEach(function(t,n){t.element[0]===e[0]&&(s.items.splice(n,1),t.clone.remove())}),a()}}function refreshElements(){s.items.forEach(refreshPosition),s.items=s.items.sort(function(e,t){return e.top<t.top?-1:1});for(var e,t=o.prop("scrollTop"),n=s.items.length-1;n>=0;n--)if(t>s.items[n].top){e=s.items[n];break}setCurrentItem(e)}function refreshPosition(e){var t=e.element[0];for(e.top=0,e.left=0,e.right=0;t&&t!==o[0];)e.top+=t.offsetTop,e.left+=t.offsetLeft,t.offsetParent&&(e.right+=t.offsetParent.offsetWidth-t.offsetWidth-t.offsetLeft),t=t.offsetParent;e.height=e.element.prop("offsetHeight");var r=i.floatingScrollbars()?"0":n;i.bidi(e.clone,"margin-left",e.left,r),i.bidi(e.clone,"margin-right",r,e.right)}function onScroll(){var e=o.prop("scrollTop"),t=e>(onScroll.prevScrollTop||0);if(onScroll.prevScrollTop=e,0===e)return void setCurrentItem(null);if(t){if(s.next&&s.next.top<=e)return void setCurrentItem(s.next);if(s.current&&s.next&&s.next.top-e<=s.next.height)return void translate(s.current,e+(s.next.top-s.next.height-e))}if(!t){if(s.current&&s.prev&&e<s.current.top)return void setCurrentItem(s.prev);if(s.next&&s.current&&e>=s.next.top-s.current.height)return void translate(s.current,e+(s.next.top-e-s.current.height))}s.current&&translate(s.current,e)}function setCurrentItem(e){if(s.current!==e){s.current&&(translate(s.current,null),setStickyState(s.current,null)),e&&setStickyState(e,"active"),s.current=e;var t=s.items.indexOf(e);s.next=s.items[t+1],s.prev=s.items[t-1],setStickyState(s.next,"next"),setStickyState(s.prev,"prev")}}function setStickyState(e,t){e&&e.state!==t&&(e.state&&(e.clone.attr("sticky-prev-state",e.state),e.element.attr("sticky-prev-state",e.state)),e.clone.attr("sticky-state",t),e.element.attr("sticky-state",t),e.state=t)}function translate(t,r){t&&(null===r||r===n?t.translateY&&(t.translateY=null,t.clone.css(e.CSS.TRANSFORM,"")):(t.translateY=r,i.bidi(t.clone,e.CSS.TRANSFORM,"translate3d("+t.left+"px,"+r+"px,0)","translateY("+r+"px)")))}var o=r.$element,a=t.throttle(refreshElements);setupAugmentedScrollEvents(o),o.on("$scrollstart",a),o.on("$scroll",onScroll);var s;return s={prev:null,current:null,next:null,items:[],add:add,refreshElements:refreshElements}}function setupAugmentedScrollEvents(e){function loopScrollEvent(){+i.now()-r>o?(n=!1,e.triggerHandler("$scrollend")):(e.triggerHandler("$scroll"),t.throttle(loopScrollEvent))}var n,r,o=200;e.on("scroll touchmove",function(){n||(n=!0,t.throttle(loopScrollEvent),e.triggerHandler("$scrollstart")),
e.triggerHandler("$scroll"),r=+i.now()})}var o=i.checkStickySupport();return function(e,t,n){var i=t.controller("mdContent");if(i)if(o)t.css({position:o,top:0,"z-index":2});else{var a=i.$element.data("$$sticky");a||(a=setupSticky(i),i.$element.data("$$sticky",a));var s=n||r(t.clone())(e),l=a.add(t,s);e.$on("$destroy",l)}}}MdSticky.$inject=["$mdConstant","$$rAF","$mdUtil","$compile"],t.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",MdSticky)}(),function(){function MdSubheaderDirective(e,n,i,r,o){return{restrict:"E",replace:!0,transclude:!0,template:'<div class="md-subheader _md">  <div class="md-subheader-inner">    <div class="md-subheader-content"></div>  </div></div>',link:function(a,s,l,c,u){function getContent(e){return t.element(e[0].querySelector(".md-subheader-content"))}i(s),s.addClass("_md"),r.prefixer().removeAttribute(s,"ng-repeat");var d=s[0].outerHTML;l.$set("role","heading"),o.expect(s,"aria-level","2"),u(a,function(e){getContent(s).append(e)}),s.hasClass("md-no-sticky")||u(a,function(t){var i=n('<div class="md-subheader-wrapper" aria-hidden="true">'+d+"</div>")(a);r.nextTick(function(){getContent(i).append(t)}),e(a,s,i)})}}}MdSubheaderDirective.$inject=["$mdSticky","$compile","$mdTheming","$mdUtil","$mdAria"],t.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",MdSubheaderDirective)}(),function(){function getDirective(e){function DirectiveFactory(e){function postLink(i,r,o){r.css("touch-action","none");var a=e(o[t]);r.on(n,function(e){i.$applyAsync(function(){a(i,{$event:e})})})}return{restrict:"A",link:postLink}}DirectiveFactory.$inject=["$parse"];var t="md"+e,n="$md."+e.toLowerCase();return DirectiveFactory}t.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",getDirective("SwipeLeft")).directive("mdSwipeRight",getDirective("SwipeRight")).directive("mdSwipeUp",getDirective("SwipeUp")).directive("mdSwipeDown",getDirective("SwipeDown"))}(),function(){function MdSwitch(e,n,i,r,o,a,s){function mdSwitchCompile(e,c){var u=l.compile(e,c).post;return e.addClass("md-dragging"),function(e,l,c,d){function onDragStart(t){m&&m(e)||(t.stopPropagation(),l.addClass("md-dragging"),v={width:p.prop("offsetWidth")})}function onDrag(e){if(v){e.stopPropagation(),e.srcEvent&&e.srcEvent.preventDefault();var t=e.pointer.distanceX/v.width,n=h.$viewValue?1+t:t;n=Math.max(0,Math.min(1,n)),p.css(i.CSS.TRANSFORM,"translate3d("+100*n+"%,0,0)"),v.translate=n}}function onDragEnd(t){if(v){t.stopPropagation(),l.removeClass("md-dragging"),p.css(i.CSS.TRANSFORM,"");var n=h.$viewValue?v.translate<.5:v.translate>.5;n&&applyModelValue(!h.$viewValue),v=null,e.skipToggle=!0,s(function(){e.skipToggle=!1},1)}}function applyModelValue(t){e.$apply(function(){h.$setViewValue(t),h.$render()})}var h=(d[0],d[1]||n.fakeNgModel()),m=(d[2],null);null!=c.disabled?m=function(){return!0}:c.ngDisabled&&(m=r(c.ngDisabled));var p=t.element(l[0].querySelector(".md-thumb-container")),f=t.element(l[0].querySelector(".md-container")),g=t.element(l[0].querySelector(".md-label"));o(function(){l.removeClass("md-dragging")}),u(e,l,c,d),m&&e.$watch(m,function(e){l.attr("tabindex",e?-1:0)}),c.$observe("mdInvert",function(e){var t=n.parseAttributeBoolean(e);t?l.prepend(g):l.prepend(f),l.toggleClass("md-inverted",t)}),a.register(f,"drag"),f.on("$md.dragstart",onDragStart).on("$md.drag",onDrag).on("$md.dragend",onDragEnd);var v}}var l=e[0];return{restrict:"E",priority:i.BEFORE_NG_ARIA,transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:["^?mdInputContainer","?ngModel","?^form"],compile:mdSwitchCompile}}MdSwitch.$inject=["mdCheckboxDirective","$mdUtil","$mdConstant","$parse","$$rAF","$mdGesture","$timeout"],t.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",MdSwitch)}(),function(){t.module("material.components.tabs",["material.core","material.components.icon"])}(),function(){function MdToastDirective(e){return{restrict:"E",link:function(t,n){n.addClass("_md"),t.$on("$destroy",function(){e.destroy()})}}}function MdToastProvider(e){function updateTextContent(e){n=e}function toastDefaultOptions(e,i,r,o){function onShow(t,s,l){n=l.textContent||l.content;var c=!o("gt-sm");return s=r.extractElementByName(s,"md-toast",!0),l.element=s,l.onSwipe=function(e,t){var n=e.type.replace("$md.",""),o=n.replace("swipe","");"down"===o&&l.position.indexOf("top")!=-1&&!c||"up"===o&&(l.position.indexOf("bottom")!=-1||c)||("left"!==o&&"right"!==o||!c)&&(s.addClass("md-"+n),r.nextTick(i.cancel))},l.openClass=toastOpenClass(l.position),s.addClass(l.toastClass),l.parent.addClass(l.openClass),r.hasComputedStyle(l.parent,"position","static")&&l.parent.css("position","relative"),s.on(a,l.onSwipe),s.addClass(c?"md-bottom":l.position.split(" ").map(function(e){return"md-"+e}).join(" ")),l.parent&&l.parent.addClass("md-toast-animating"),e.enter(s,l.parent).then(function(){l.parent&&l.parent.removeClass("md-toast-animating")})}function onRemove(t,n,i){return n.off(a,i.onSwipe),i.parent&&i.parent.addClass("md-toast-animating"),i.openClass&&i.parent.removeClass(i.openClass),(1==i.$destroy?n.remove():e.leave(n)).then(function(){i.parent&&i.parent.removeClass("md-toast-animating"),r.hasComputedStyle(i.parent,"position","static")&&i.parent.css("position","")})}function toastOpenClass(e){return o("gt-xs")?"md-toast-open-"+(e.indexOf("top")>-1?"top":"bottom"):"md-toast-open-bottom"}var a="$md.swipeleft $md.swiperight $md.swipeup $md.swipedown";return{onShow:onShow,onRemove:onRemove,toastClass:"",position:"bottom left",themable:!0,hideDelay:3e3,autoWrap:!0,transformTemplate:function(e,n){var i=n.autoWrap&&e&&!/md-toast-content/g.test(e);if(i){var r=document.createElement("md-template");r.innerHTML=e;for(var o=0;o<r.children.length;o++)if("MD-TOAST"===r.children[o].nodeName){var a=t.element('<div class="md-toast-content">');a.append(t.element(r.children[o].childNodes)),r.children[o].appendChild(a[0])}return r.innerHTML}return e||""}}}toastDefaultOptions.$inject=["$animate","$mdToast","$mdUtil","$mdMedia"];var n,i="ok",r=e("$mdToast").setDefaults({methods:["position","hideDelay","capsule","parent","position","toastClass"],options:toastDefaultOptions}).addPreset("simple",{argOption:"textContent",methods:["textContent","content","action","highlightAction","highlightClass","theme","parent"],options:["$mdToast","$mdTheming",function(e,t){return{template:'<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">  <div class="md-toast-content">    <span class="md-toast-text" role="alert" aria-relevant="all" aria-atomic="true">      {{ toast.content }}    </span>    <md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()"         ng-class="highlightClasses">      {{ toast.action }}    </md-button>  </div></md-toast>',controller:["$scope",function(t){var r=this;r.highlightAction&&(t.highlightClasses=["md-highlight",r.highlightClass]),t.$watch(function(){return n},function(){r.content=n}),this.resolve=function(){e.hide(i)}}],theme:t.defaultTheme(),controllerAs:"toast",bindToController:!0}}]}).addMethod("updateTextContent",updateTextContent).addMethod("updateContent",updateTextContent);return r}MdToastDirective.$inject=["$mdToast"],MdToastProvider.$inject=["$$interimElementProvider"],t.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",MdToastDirective).provider("$mdToast",MdToastProvider)}(),function(){function mdToolbarDirective(e,n,i,r,o){var a=t.bind(null,i.supplant,"translate3d(0,{0}px,0)");return{template:"",restrict:"E",link:function(s,l,c){function setupScrollShrink(){function onChangeScrollShrink(e){var t=l.parent().find("md-content");!u&&t.length&&onMdContentLoad(null,t),e=s.$eval(e),e===!1?d():d=enableScrollShrink()}function onMdContentLoad(e,t){t&&l.parent()[0]===t.parent()[0]&&(u&&u.off("scroll",f),u=t,d=enableScrollShrink())}function onContentScroll(e){var t=e?e.target.scrollTop:m;g(),h=Math.min(r/p,Math.max(0,h+t-m)),l.css(n.CSS.TRANSFORM,a([-h*p])),u.css(n.CSS.TRANSFORM,a([(r-h)*p])),m=t,i.nextTick(function(){var e=l.hasClass("md-whiteframe-z1");e&&!h?o.removeClass(l,"md-whiteframe-z1"):!e&&h&&o.addClass(l,"md-whiteframe-z1")})}function enableScrollShrink(){return u?(u.on("scroll",f),u.attr("scroll-shrink","true"),i.nextTick(updateToolbarHeight,!1),function(){u.off("scroll",f),u.attr("scroll-shrink","false"),updateToolbarHeight()}):t.noop}function updateToolbarHeight(){r=l.prop("offsetHeight");var e=-r*p+"px";u.css({"margin-top":e,"margin-bottom":e}),onContentScroll()}var r,u,d=t.noop,h=0,m=0,p=c.mdShrinkSpeedFactor||.5,f=e.throttle(onContentScroll),g=i.debounce(updateToolbarHeight,5e3);s.$on("$mdContentLoaded",onMdContentLoad),c.$observe("mdScrollShrink",onChangeScrollShrink),c.ngShow&&s.$watch(c.ngShow,updateToolbarHeight),c.ngHide&&s.$watch(c.ngHide,updateToolbarHeight),s.$on("$destroy",d)}l.addClass("_md"),r(l),i.nextTick(function(){l.addClass("_md-toolbar-transitions")},!1),t.isDefined(c.mdScrollShrink)&&setupScrollShrink()}}}mdToolbarDirective.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate"],t.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",mdToolbarDirective)}(),function(){function MdTooltipDirective(e,n,i,r,o,a,s,l){function linkFunc(f,g,v){function setDefaults(){f.mdZIndex=f.mdZIndex||d,f.mdDelay=f.mdDelay||h,p[f.mdDirection]||(f.mdDirection=m)}function addAriaLabel(e){if(e||!S.attr("aria-label")){var t=e||o(g.text().trim())(f.$parent);S.attr("aria-label",t)}}function updatePosition(){setDefaults(),w&&w.panelEl&&w.panelEl.removeClass(y),y="md-origin-"+f.mdDirection,b=p[f.mdDirection],_=s.newPanelPosition().relativeTo(S).addPanelPosition(b.x,b.y),w&&w.panelEl&&(w.panelEl.addClass(y),w.updatePosition(_))}function bindEvents(){function isDisabledMutation(e){return e.some(function(e){return"disabled"===e.attributeName&&S[0].disabled}),!1}function windowScrollEventHandler(){setVisible(!1)}function windowBlurEventHandler(){M=document.activeElement===S[0]}function enterEventHandler(e){"focus"===e.type&&M?M=!1:f.mdVisible||(S.on(u,leaveEventHandler),setVisible(!0),"touchstart"===e.type&&S.one("touchend",function(){a.nextTick(function(){r.one("touchend",leaveEventHandler)},!1)}))}function leaveEventHandler(){x=f.hasOwnProperty("mdAutohide")?f.mdAutohide:v.hasOwnProperty("mdAutohide"),(x||T||r[0].activeElement!==S[0])&&(C&&(e.cancel(C),setVisible.queued=!1,C=null),S.off(u,leaveEventHandler),S.triggerHandler("blur"),setVisible(!1)),T=!1}function mousedownEventHandler(){T=!0}function onDestroy(){l.deregister("scroll",windowScrollEventHandler,!0),l.deregister("blur",windowBlurEventHandler),l.deregister("resize",E),S.off(c,enterEventHandler).off(u,leaveEventHandler).off("mousedown",mousedownEventHandler),leaveEventHandler(),t&&t.disconnect()}if(S[0]&&"MutationObserver"in n){var t=new MutationObserver(function(e){isDisabledMutation(e)&&a.nextTick(function(){setVisible(!1)})});t.observe(S[0],{attributes:!0})}M=!1,l.register("scroll",windowScrollEventHandler,!0),l.register("blur",windowBlurEventHandler),l.register("resize",E),f.$on("$destroy",onDestroy),S.on("mousedown",mousedownEventHandler),S.on(c,enterEventHandler)}function configureWatchers(){function onElementDestroy(){f.$destroy()}if(g[0]&&"MutationObserver"in n){var e=new MutationObserver(function(e){e.forEach(function(e){"md-visible"!==e.attributeName||f.visibleWatcher||(f.visibleWatcher=f.$watch("mdVisible",onVisibleChanged))})});e.observe(g[0],{attributes:!0}),v.hasOwnProperty("mdVisible")&&(f.visibleWatcher=f.$watch("mdVisible",onVisibleChanged))}else f.visibleWatcher=f.$watch("mdVisible",onVisibleChanged);f.$watch("mdDirection",updatePosition),g.one("$destroy",onElementDestroy),S.one("$destroy",onElementDestroy),f.$on("$destroy",function(){setVisible(!1),w&&w.destroy(),e&&e.disconnect(),g.remove()}),g.text().indexOf(o.startSymbol())>-1&&f.$watch(function(){return g.text().trim()},addAriaLabel)}function setVisible(t){setVisible.queued&&setVisible.value===!!t||!setVisible.queued&&f.mdVisible===!!t||(setVisible.value=!!t,setVisible.queued||(t?(setVisible.queued=!0,C=e(function(){f.mdVisible=setVisible.value,setVisible.queued=!1,C=null,f.visibleWatcher||onVisibleChanged(f.mdVisible)},f.mdDelay)):a.nextTick(function(){f.mdVisible=!1,f.visibleWatcher||onVisibleChanged(!1)})))}function onVisibleChanged(e){e?showTooltip():hideTooltip()}function showTooltip(){if(!g[0].textContent.trim())throw new Error("Text for the tooltip has not been provided. Please include text within the mdTooltip element.");if(!w){var e="tooltip-"+a.nextUid(),n=t.element(document.body),i=s.newPanelAnimation().openFrom(S).closeTo(S).withAnimation({open:"md-show",close:"md-hide"}),r={id:e,attachTo:n,contentElement:g,propagateContainerEvents:!0,panelClass:"md-tooltip "+y,animation:i,position:_,zIndex:f.mdZIndex,focusOnOpen:!1};w=s.create(r)}w.open().then(function(){w.panelEl.attr("role","tooltip")})}function hideTooltip(){w&&w.close()}var y,b,_,w,x,C,S=a.getParentWithPointerEvents(g),E=i.throttle(updatePosition),T=!1,M=null;setDefaults(),addAriaLabel(),g.detach(),updatePosition(),bindEvents(),configureWatchers()}var c="focus touchstart mouseenter",u="blur touchcancel mouseleave",d=100,h=0,m="bottom",p={top:{x:s.xPosition.CENTER,y:s.yPosition.ABOVE},right:{x:s.xPosition.OFFSET_END,y:s.yPosition.CENTER},bottom:{x:s.xPosition.CENTER,y:s.yPosition.BELOW},left:{x:s.xPosition.OFFSET_START,y:s.yPosition.CENTER}};return{restrict:"E",priority:210,scope:{mdZIndex:"=?mdZIndex",mdDelay:"=?mdDelay",mdVisible:"=?mdVisible",mdAutohide:"=?mdAutohide",mdDirection:"@?mdDirection"},link:linkFunc}}function MdTooltipRegistry(){function globalEventHandler(e){n[e.type]&&n[e.type].forEach(function(t){t.call(this,e)},this)}function register(t,r,o){var a=n[t]=n[t]||[];a.length||(o?e.addEventListener(t,globalEventHandler,!0):i.on(t,globalEventHandler)),a.indexOf(r)===-1&&a.push(r)}function deregister(t,r,o){var a=n[t],s=a?a.indexOf(r):-1;s>-1&&(a.splice(s,1),0===a.length&&(o?e.removeEventListener(t,globalEventHandler,!0):i.off(t,globalEventHandler)))}var n={},i=t.element(e);return{register:register,deregister:deregister}}MdTooltipDirective.$inject=["$timeout","$window","$$rAF","$document","$interpolate","$mdUtil","$mdPanel","$$mdTooltipRegistry"],t.module("material.components.tooltip",["material.core","material.components.panel"]).directive("mdTooltip",MdTooltipDirective).service("$$mdTooltipRegistry",MdTooltipRegistry)}(),function(){function MdTruncateDirective(){return{restrict:"AE",controller:MdTruncateController,controllerAs:"$ctrl",bindToController:!0}}function MdTruncateController(e){e.addClass("md-truncate")}MdTruncateController.$inject=["$element"],t.module("material.components.truncate",["material.core"]).directive("mdTruncate",MdTruncateDirective)}(),function(){function VirtualRepeatContainerDirective(){return{controller:VirtualRepeatContainerController,template:virtualRepeatContainerTemplate,compile:function(e,t){e.addClass("md-virtual-repeat-container").addClass(t.hasOwnProperty("mdOrientHorizontal")?"md-orient-horizontal":"md-orient-vertical")}}}function virtualRepeatContainerTemplate(e){return'<div class="md-virtual-repeat-scroller"><div class="md-virtual-repeat-sizer"></div><div class="md-virtual-repeat-offsetter">'+e[0].innerHTML+"</div></div>"}function VirtualRepeatContainerController(e,n,i,r,o,a,s,l,c){this.$rootScope=o,this.$scope=s,this.$element=l,this.$attrs=c,this.size=0,this.scrollSize=0,this.scrollOffset=0,this.horizontal=this.$attrs.hasOwnProperty("mdOrientHorizontal"),this.repeater=null,this.autoShrink=this.$attrs.hasOwnProperty("mdAutoShrink"),this.autoShrinkMin=parseInt(this.$attrs.mdAutoShrinkMin,10)||0,this.originalSize=null,this.offsetSize=parseInt(this.$attrs.mdOffsetSize,10)||0,this.oldElementSize=null,this.maxElementPixels=i.ELEMENT_MAX_PIXELS,this.$attrs.mdTopIndex?(this.bindTopIndex=r(this.$attrs.mdTopIndex),this.topIndex=this.bindTopIndex(this.$scope),t.isDefined(this.topIndex)||(this.topIndex=0,this.bindTopIndex.assign(this.$scope,0)),this.$scope.$watch(this.bindTopIndex,t.bind(this,function(e){e!==this.topIndex&&this.scrollToIndex(e)}))):this.topIndex=0,this.scroller=l[0].querySelector(".md-virtual-repeat-scroller"),this.sizer=this.scroller.querySelector(".md-virtual-repeat-sizer"),this.offsetter=this.scroller.querySelector(".md-virtual-repeat-offsetter");var u=t.bind(this,this.updateSize);e(t.bind(this,function(){u();var e=n.debounce(u,10,null,!1),i=t.element(a);this.size||e(),i.on("resize",e),s.$on("$destroy",function(){i.off("resize",e)}),s.$emit("$md-resize-enable"),s.$on("$md-resize",u)}))}function VirtualRepeatDirective(e){return{controller:VirtualRepeatController,priority:1e3,require:["mdVirtualRepeat","^^mdVirtualRepeatContainer"],restrict:"A",terminal:!0,transclude:"element",compile:function(t,n){var i=n.mdVirtualRepeat,r=i.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/),o=r[1],a=e(r[2]),s=n.mdExtraName&&e(n.mdExtraName);return function(e,t,n,i,r){i[0].link_(i[1],r,o,a,s)}}}}function VirtualRepeatController(e,n,i,r,o,a,s,l){this.$scope=e,this.$element=n,this.$attrs=i,this.$browser=r,this.$document=o,this.$rootScope=a,this.$$rAF=s,this.onDemand=l.parseAttributeBoolean(i.mdOnDemand),this.browserCheckUrlChange=r.$$checkUrlChange,this.newStartIndex=0,this.newEndIndex=0,this.newVisibleEnd=0,this.startIndex=0,this.endIndex=0,this.itemSize=e.$eval(i.mdItemSize)||null,this.isFirstRender=!0,this.isVirtualRepeatUpdating_=!1,this.itemsLength=0,this.unwatchItemSize_=t.noop,this.blocks={},this.pooledBlocks=[],e.$on("$destroy",t.bind(this,this.cleanupBlocks_))}function VirtualRepeatModelArrayLike(e){if(!t.isFunction(e.getItemAtIndex)||!t.isFunction(e.getLength))throw Error("When md-on-demand is enabled, the Object passed to md-virtual-repeat must implement functions getItemAtIndex() and getLength() ");this.model=e}VirtualRepeatContainerController.$inject=["$$rAF","$mdUtil","$mdConstant","$parse","$rootScope","$window","$scope","$element","$attrs"],VirtualRepeatController.$inject=["$scope","$element","$attrs","$browser","$document","$rootScope","$$rAF","$mdUtil"],VirtualRepeatDirective.$inject=["$parse"],t.module("material.components.virtualRepeat",["material.core","material.components.showHide"]).directive("mdVirtualRepeatContainer",VirtualRepeatContainerDirective).directive("mdVirtualRepeat",VirtualRepeatDirective);var e=3;VirtualRepeatContainerController.prototype.register=function(e){this.repeater=e,t.element(this.scroller).on("scroll wheel touchmove touchend",t.bind(this,this.handleScroll_))},VirtualRepeatContainerController.prototype.isHorizontal=function(){return this.horizontal},VirtualRepeatContainerController.prototype.getSize=function(){return this.size},VirtualRepeatContainerController.prototype.setSize_=function(e){var t=this.getDimensionName_();this.size=e,this.$element[0].style[t]=e+"px"},VirtualRepeatContainerController.prototype.unsetSize_=function(){this.$element[0].style[this.getDimensionName_()]=this.oldElementSize,this.oldElementSize=null},VirtualRepeatContainerController.prototype.updateSize=function(){this.originalSize||(this.size=this.isHorizontal()?this.$element[0].clientWidth:this.$element[0].clientHeight,this.handleScroll_(),this.repeater&&this.repeater.containerUpdated())},VirtualRepeatContainerController.prototype.getScrollSize=function(){return this.scrollSize},VirtualRepeatContainerController.prototype.getDimensionName_=function(){return this.isHorizontal()?"width":"height"},VirtualRepeatContainerController.prototype.sizeScroller_=function(e){var t=this.getDimensionName_(),n=this.isHorizontal()?"height":"width";if(this.sizer.innerHTML="",e<this.maxElementPixels)this.sizer.style[t]=e+"px";else{this.sizer.style[t]="auto",this.sizer.style[n]="auto";var i=Math.floor(e/this.maxElementPixels),r=document.createElement("div");r.style[t]=this.maxElementPixels+"px",r.style[n]="1px";for(var o=0;o<i;o++)this.sizer.appendChild(r.cloneNode(!1));r.style[t]=e-i*this.maxElementPixels+"px",this.sizer.appendChild(r)}},VirtualRepeatContainerController.prototype.autoShrink_=function(e){var t=Math.max(e,this.autoShrinkMin*this.repeater.getItemSize());if(this.autoShrink&&t!==this.size){null===this.oldElementSize&&(this.oldElementSize=this.$element[0].style[this.getDimensionName_()]);var n=this.originalSize||this.size;if(!n||t<n)this.originalSize||(this.originalSize=this.size),this.setSize_(t);else if(null!==this.originalSize){this.unsetSize_();var i=this.originalSize;this.originalSize=null,i||this.updateSize(),this.setSize_(i||this.size)}this.repeater.containerUpdated()}},VirtualRepeatContainerController.prototype.setScrollSize=function(e){var t=e+this.offsetSize;this.scrollSize!==t&&(this.sizeScroller_(t),this.autoShrink_(t),this.scrollSize=t)},VirtualRepeatContainerController.prototype.getScrollOffset=function(){return this.scrollOffset},VirtualRepeatContainerController.prototype.scrollTo=function(e){this.scroller[this.isHorizontal()?"scrollLeft":"scrollTop"]=e,this.handleScroll_()},VirtualRepeatContainerController.prototype.scrollToIndex=function(e){var t=this.repeater.getItemSize(),n=this.repeater.itemsLength;e>n&&(e=n-1),this.scrollTo(t*e)},VirtualRepeatContainerController.prototype.resetScroll=function(){this.scrollTo(0)},VirtualRepeatContainerController.prototype.handleScroll_=function(){var t="rtl"!=document.dir&&"rtl"!=document.body.dir;t||this.maxSize||(this.scroller.scrollLeft=this.scrollSize,this.maxSize=this.scroller.scrollLeft);var n=this.isHorizontal()?t?this.scroller.scrollLeft:this.maxSize-this.scroller.scrollLeft:this.scroller.scrollTop;if(!(n===this.scrollOffset||n>this.scrollSize-this.size)){var i=this.repeater.getItemSize();if(i){var r=Math.max(0,Math.floor(n/i)-e),o=(this.isHorizontal()?"translateX(":"translateY(")+(!this.isHorizontal()||t?r*i:-(r*i))+"px)";if(this.scrollOffset=n,this.offsetter.style.webkitTransform=o,this.offsetter.style.transform=o,this.bindTopIndex){var a=Math.floor(n/i);a!==this.topIndex&&a<this.repeater.getItemCount()&&(this.topIndex=a,this.bindTopIndex.assign(this.$scope,a),this.$rootScope.$$phase||this.$scope.$digest())}this.repeater.containerUpdated()}}},VirtualRepeatController.Block,VirtualRepeatController.prototype.link_=function(e,n,i,r,o){this.container=e,this.transclude=n,this.repeatName=i,this.rawRepeatListExpression=r,this.extraName=o,this.sized=!1,this.repeatListExpression=t.bind(this,this.repeatListExpression_),this.container.register(this)},VirtualRepeatController.prototype.cleanupBlocks_=function(){t.forEach(this.pooledBlocks,function(e){e.element.remove()})},VirtualRepeatController.prototype.readItemSize_=function(){if(!this.itemSize){this.items=this.repeatListExpression(this.$scope),this.parentNode=this.$element[0].parentNode;var e=this.getBlock_(0);e.element[0].parentNode||this.parentNode.appendChild(e.element[0]),this.itemSize=e.element[0][this.container.isHorizontal()?"offsetWidth":"offsetHeight"]||null,this.blocks[0]=e,this.poolBlock_(0),this.itemSize&&this.containerUpdated()}},VirtualRepeatController.prototype.repeatListExpression_=function(e){var t=this.rawRepeatListExpression(e);if(this.onDemand&&t){var n=new VirtualRepeatModelArrayLike(t);return n.$$includeIndexes(this.newStartIndex,this.newVisibleEnd),n}return t},VirtualRepeatController.prototype.containerUpdated=function(){return this.itemSize?(this.sized||(this.items=this.repeatListExpression(this.$scope)),this.sized||(this.unwatchItemSize_(),this.sized=!0,this.$scope.$watchCollection(this.repeatListExpression,t.bind(this,function(e,t){this.isVirtualRepeatUpdating_||this.virtualRepeatUpdate_(e,t)}))),this.updateIndexes_(),void((this.newStartIndex!==this.startIndex||this.newEndIndex!==this.endIndex||this.container.getScrollOffset()>this.container.getScrollSize())&&(this.items instanceof VirtualRepeatModelArrayLike&&this.items.$$includeIndexes(this.newStartIndex,this.newEndIndex),this.virtualRepeatUpdate_(this.items,this.items)))):(this.unwatchItemSize_&&this.unwatchItemSize_!==t.noop&&this.unwatchItemSize_(),this.unwatchItemSize_=this.$scope.$watchCollection(this.repeatListExpression,t.bind(this,function(e){e&&e.length&&this.readItemSize_()})),void(this.$rootScope.$$phase||this.$scope.$digest()))},VirtualRepeatController.prototype.getItemSize=function(){return this.itemSize},VirtualRepeatController.prototype.getItemCount=function(){return this.itemsLength},VirtualRepeatController.prototype.virtualRepeatUpdate_=function(e,n){this.isVirtualRepeatUpdating_=!0;var i=e&&e.length||0,r=!1;if(this.items&&i<this.items.length&&0!==this.container.getScrollOffset()){this.items=e;var o=this.container.getScrollOffset();this.container.resetScroll(),this.container.scrollTo(o)}if(i!==this.itemsLength&&(r=!0,this.itemsLength=i),this.items=e,(e!==n||r)&&this.updateIndexes_(),this.parentNode=this.$element[0].parentNode,r&&this.container.setScrollSize(i*this.itemSize),this.isFirstRender){this.isFirstRender=!1;var a=this.$attrs.mdStartIndex?this.$scope.$eval(this.$attrs.mdStartIndex):this.container.topIndex;this.container.scrollToIndex(a)}Object.keys(this.blocks).forEach(function(e){var t=parseInt(e,10);(t<this.newStartIndex||t>=this.newEndIndex)&&this.poolBlock_(t)},this),this.$browser.$$checkUrlChange=t.noop;var s,l,c=[],u=[];for(s=this.newStartIndex;s<this.newEndIndex&&null==this.blocks[s];s++)l=this.getBlock_(s),this.updateBlock_(l,s),c.push(l);for(;null!=this.blocks[s];s++)this.updateBlock_(this.blocks[s],s);for(var d=s-1;s<this.newEndIndex;s++)l=this.getBlock_(s),this.updateBlock_(l,s),u.push(l);c.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(c),this.$element[0].nextSibling),u.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(u),this.blocks[d]&&this.blocks[d].element[0].nextSibling),this.$browser.$$checkUrlChange=this.browserCheckUrlChange,this.startIndex=this.newStartIndex,this.endIndex=this.newEndIndex,this.isVirtualRepeatUpdating_=!1},VirtualRepeatController.prototype.getBlock_=function(e){if(this.pooledBlocks.length)return this.pooledBlocks.pop();var n;return this.transclude(t.bind(this,function(t,i){n={element:t,new:!0,scope:i},this.updateScope_(i,e),this.parentNode.appendChild(t[0])})),n},VirtualRepeatController.prototype.updateBlock_=function(e,t){this.blocks[t]=e,(e.new||e.scope.$index!==t||e.scope[this.repeatName]!==this.items[t])&&(e.new=!1,this.updateScope_(e.scope,t),this.$rootScope.$$phase||e.scope.$digest())},VirtualRepeatController.prototype.updateScope_=function(e,t){e.$index=t,e[this.repeatName]=this.items&&this.items[t],this.extraName&&(e[this.extraName(this.$scope)]=this.items[t])},VirtualRepeatController.prototype.poolBlock_=function(e){this.pooledBlocks.push(this.blocks[e]),this.parentNode.removeChild(this.blocks[e].element[0]),delete this.blocks[e]},VirtualRepeatController.prototype.domFragmentFromBlocks_=function(e){var t=this.$document[0].createDocumentFragment();return e.forEach(function(e){t.appendChild(e.element[0])}),t},VirtualRepeatController.prototype.updateIndexes_=function(){var t=this.items?this.items.length:0,n=Math.ceil(this.container.getSize()/this.itemSize);this.newStartIndex=Math.max(0,Math.min(t-n,Math.floor(this.container.getScrollOffset()/this.itemSize))),this.newVisibleEnd=this.newStartIndex+n+e,this.newEndIndex=Math.min(t,this.newVisibleEnd),this.newStartIndex=Math.max(0,this.newStartIndex-e)},VirtualRepeatModelArrayLike.prototype.$$includeIndexes=function(e,t){for(var n=e;n<t;n++)this.hasOwnProperty(n)||(this[n]=this.model.getItemAtIndex(n));this.length=this.model.getLength()}}(),function(){function MdWhiteframeDirective(e){function postLink(o,a,s){var l="";s.$observe("mdWhiteframe",function(o){o=parseInt(o,10)||r,o!=t&&(o>i||o<n)&&(e.warn("md-whiteframe attribute value is invalid. It should be a number between "+n+" and "+i,a[0]),o=r);var c=o==t?"":"md-whiteframe-"+o+"dp";s.$updateClass(c,l),l=c})}var t=-1,n=1,i=24,r=4;return{link:postLink}}MdWhiteframeDirective.$inject=["$log"],t.module("material.components.whiteframe",["material.core"]).directive("mdWhiteframe",MdWhiteframeDirective)}(),function(){function MdAutocompleteCtrl(a,s,l,c,u,d,h,m,p,f,g,v){function init(){l.initOptionalProperties(a,p,{searchText:"",selectedItem:null,clearButton:!1}),u(s),configureWatchers(),l.nextTick(function(){gatherElements(),moveDropdown(),a.autofocus&&s.on("focus",focusInputElement)})}function updateModelValidators(){a.requireMatch&&k&&k.$setValidity("md-require-match",!!a.selectedItem||!a.searchText)}function positionDropdown(){function getVerticalOffset(){var e=0,t=s.find("md-input-container");if(t.length){var n=t.find("input");e=t.prop("offsetHeight"),e-=n.prop("offsetTop"),e-=n.prop("offsetHeight"),e+=t.prop("offsetTop")}return e}function correctHorizontalAlignment(){var e=w.scrollContainer.getBoundingClientRect(),t={};e.right>d.right-r&&(t.left=c.right-e.width+"px"),w.$.scrollContainer.css(t)}if(!w)return l.nextTick(positionDropdown,!1,a);var t,n=(a.dropdownItems||i)*e,c=w.wrap.getBoundingClientRect(),u=w.snap.getBoundingClientRect(),d=w.root.getBoundingClientRect(),h=u.bottom-d.top,m=d.bottom-u.top,f=c.left-d.left,g=c.width,v=getVerticalOffset(),y=a.dropdownPosition;if(y||(y=h>m&&d.height-c.bottom-r<n?"top":"bottom"),p.mdFloatingLabel&&(f+=o,g-=2*o),t={left:f+"px",minWidth:g+"px",maxWidth:Math.max(c.right-d.left,d.right-c.left)-r+"px"},"top"===y)t.top="auto",t.bottom=m+"px",t.maxHeight=Math.min(n,c.top-d.top-r)+"px";else{var b=d.bottom-c.bottom-r+l.getViewportTop();t.top=h-v+"px",t.bottom="auto",t.maxHeight=Math.min(n,b)+"px"}w.$.scrollContainer.css(t),l.nextTick(correctHorizontalAlignment,!1)}function moveDropdown(){w.$.root.length&&(u(w.$.scrollContainer),w.$.scrollContainer.detach(),w.$.root.append(w.$.scrollContainer),h.pin&&h.pin(w.$.scrollContainer,m))}function focusInputElement(){w.input.focus()}function configureWatchers(){var e=parseInt(a.delay,10)||0;p.$observe("disabled",function(e){y.isDisabled=l.parseAttributeBoolean(e,!1)}),p.$observe("required",function(e){y.isRequired=l.parseAttributeBoolean(e,!1)}),p.$observe("readonly",function(e){y.isReadonly=l.parseAttributeBoolean(e,!1)}),a.$watch("searchText",e?l.debounce(handleSearchText,e):handleSearchText),a.$watch("selectedItem",selectedItemChange),t.element(d).on("resize",A),a.$on("$destroy",cleanup)}function cleanup(){if(y.hidden||l.enableScrolling(),t.element(d).off("resize",A),w){var e=["ul","scroller","scrollContainer","input"];t.forEach(e,function(e){w.$[e].remove()})}}function onWindowResize(){y.hidden||positionDropdown()}function gatherElements(){var e=gatherSnapWrap();w={main:s[0],scrollContainer:s[0].querySelector(".md-virtual-repeat-container"),scroller:s[0].querySelector(".md-virtual-repeat-scroller"),ul:s.find("ul")[0],input:s.find("input")[0],wrap:e.wrap,snap:e.snap,root:document.body},w.li=w.ul.getElementsByTagName("li"),w.$=getAngularElements(w),k=w.$.input.controller("ngModel")}function gatherSnapWrap(){var e,n;for(e=s;e.length&&(n=e.attr("md-autocomplete-snap"),!t.isDefined(n));e=e.parent());if(e.length)return{snap:e[0],wrap:"width"===n.toLowerCase()?e[0]:s.find("md-autocomplete-wrap")[0]};var i=s.find("md-autocomplete-wrap")[0];return{snap:i,wrap:i}}function getAngularElements(e){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=t.element(e[i]));return n}function handleHiddenChange(e,n){!e&&n?(positionDropdown(),reportMessages(!0,$.Count|$.Selected),w&&(l.disableScrollAround(w.ul),M=disableElementScrollEvents(t.element(w.wrap)))):e&&!n&&(l.enableScrolling(),M&&(M(),M=null))}function disableElementScrollEvents(e){function preventDefault(e){e.preventDefault()}return e.on("wheel",preventDefault),e.on("touchmove",preventDefault),function(){e.off("wheel",preventDefault),e.off("touchmove",preventDefault)}}function onListEnter(){C=!0}function onListLeave(){
E||y.hidden||w.input.focus(),C=!1,y.hidden=shouldHide()}function onMouseup(){w.input.focus()}function selectedItemChange(e,n){updateModelValidators(),e?getDisplayValue(e).then(function(t){a.searchText=t,handleSelectedItemChange(e,n)}):n&&a.searchText&&getDisplayValue(n).then(function(e){t.isString(a.searchText)&&e.toString().toLowerCase()===a.searchText.toLowerCase()&&(a.searchText="")}),e!==n&&announceItemChange()}function announceItemChange(){t.isFunction(a.itemChange)&&a.itemChange(getItemAsNameVal(a.selectedItem))}function announceTextChange(){t.isFunction(a.textChange)&&a.textChange()}function handleSelectedItemChange(e,t){S.forEach(function(n){n(e,t)})}function registerSelectedItemWatcher(e){S.indexOf(e)==-1&&S.push(e)}function unregisterSelectedItemWatcher(e){var t=S.indexOf(e);t!=-1&&S.splice(t,1)}function handleSearchText(e,t){y.index=getDefaultIndex(),e!==t&&(updateModelValidators(),getDisplayValue(a.selectedItem).then(function(n){e!==n&&(a.selectedItem=null,e!==t&&announceTextChange(),isMinLengthMet()?handleQuery():(y.matches=[],setLoading(!1),reportMessages(!1,$.Count)))}))}function blur(e){E=!1,C||(y.hidden=shouldHide(),evalAttr("ngBlur",{$event:e}))}function doBlur(e){e&&(C=!1,E=!1),w.input.blur()}function focus(e){E=!0,isSearchable()&&isMinLengthMet()&&handleQuery(),y.hidden=shouldHide(),evalAttr("ngFocus",{$event:e})}function keydown(e){switch(e.keyCode){case c.KEY_CODE.DOWN_ARROW:if(y.loading)return;e.stopPropagation(),e.preventDefault(),y.index=Math.min(y.index+1,y.matches.length-1),updateScroll(),reportMessages(!1,$.Selected);break;case c.KEY_CODE.UP_ARROW:if(y.loading)return;e.stopPropagation(),e.preventDefault(),y.index=y.index<0?y.matches.length-1:Math.max(0,y.index-1),updateScroll(),reportMessages(!1,$.Selected);break;case c.KEY_CODE.TAB:if(onListLeave(),y.hidden||y.loading||y.index<0||y.matches.length<1)return;select(y.index);break;case c.KEY_CODE.ENTER:if(y.hidden||y.loading||y.index<0||y.matches.length<1)return;if(hasSelection())return;e.stopPropagation(),e.preventDefault(),select(y.index);break;case c.KEY_CODE.ESCAPE:if(e.preventDefault(),!shouldProcessEscape())return;e.stopPropagation(),clearSelectedItem(),a.searchText&&hasEscapeOption("clear")&&clearSearchText(),y.hidden=!0,hasEscapeOption("blur")&&doBlur(!0)}}function getMinLength(){return t.isNumber(a.minLength)?a.minLength:1}function getDisplayValue(e){function getItemText(e){return e&&a.itemText?a.itemText(getItemAsNameVal(e)):null}return f.when(getItemText(e)||e).then(function(e){return e&&!t.isString(e)&&g.warn("md-autocomplete: Could not resolve display value to a string. Please check the `md-item-text` attribute."),e})}function getItemAsNameVal(e){if(!e)return n;var t={};return y.itemName&&(t[y.itemName]=e),t}function getDefaultIndex(){return a.autoselect?0:-1}function setLoading(e){y.loading!=e&&(y.loading=e),y.hidden=shouldHide()}function shouldHide(){return!isSearchable()||!shouldShow()}function isSearchable(){return!(y.loading&&!hasMatches())&&(!hasSelection()&&!!E)}function shouldProcessEscape(){return hasEscapeOption("blur")||!y.hidden||y.loading||hasEscapeOption("clear")&&a.searchText}function hasEscapeOption(e){return!a.escapeOptions||a.escapeOptions.toLowerCase().indexOf(e)!==-1}function shouldShow(){return isMinLengthMet()&&hasMatches()||notFoundVisible()}function hasMatches(){return!!y.matches.length}function hasSelection(){return!!y.scope.selectedItem}function loadingIsVisible(){return y.loading&&!hasSelection()}function getCurrentDisplayValue(){return getDisplayValue(y.matches[y.index])}function isMinLengthMet(){return(a.searchText||"").length>=getMinLength()}function defineProperty(e,t,n){Object.defineProperty(y,e,{get:function(){return n},set:function(e){var i=n;n=e,t(e,i)}})}function select(e){l.nextTick(function(){getDisplayValue(y.matches[e]).then(function(e){var t=w.$.input.controller("ngModel");t.$setViewValue(e),t.$render()}).finally(function(){a.selectedItem=y.matches[e],setLoading(!1)})},!1)}function clearValue(){clearSelectedItem(),clearSearchText()}function clearSelectedItem(){y.index=0,y.matches=[]}function clearSearchText(){setLoading(!0),a.searchText="";var e=document.createEvent("CustomEvent");e.initCustomEvent("change",!0,!0,{value:""}),w.input.dispatchEvent(e),w.input.blur(),a.searchText="",w.input.focus()}function fetchResults(e){function handleAsyncResults(e){e&&(e=f.when(e),T++,setLoading(!0),l.nextTick(function(){e.then(onResultsRetrieved).finally(function(){0===--T&&setLoading(!1)})},!0,a))}function onResultsRetrieved(t){x[i]=t,(e||"")===(a.searchText||"")&&handleResults(t)}var n=a.$parent.$eval(_),i=e.toLowerCase(),r=t.isArray(n),o=!!n.then;r?onResultsRetrieved(n):o&&handleAsyncResults(n)}function reportMessages(e,t){var n=e?"polite":"assertive",i=[];t&$.Selected&&y.index!==-1&&i.push(getCurrentDisplayValue()),t&$.Count&&i.push(f.resolve(getCountMessage())),f.all(i).then(function(e){v.announce(e.join(" "),n)})}function getCountMessage(){switch(y.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+y.matches.length+" matches available."}}function updateScroll(){if(w.li[0]){var e=w.li[0].offsetHeight,t=e*y.index,n=t+e,i=w.scroller.clientHeight,r=w.scroller.scrollTop;t<r?scrollTo(t):n>r+i&&scrollTo(n-i)}}function isPromiseFetching(){return 0!==T}function scrollTo(e){w.$.scrollContainer.controller("mdVirtualRepeatContainer").scrollTo(e)}function notFoundVisible(){var e=(y.scope.searchText||"").length;return y.hasNotFound&&!hasMatches()&&(!y.loading||isPromiseFetching())&&e>=getMinLength()&&(E||C)&&!hasSelection()}function handleQuery(){var e=a.searchText||"",t=e.toLowerCase();!a.noCache&&x[t]?handleResults(x[t]):fetchResults(e),y.hidden=shouldHide()}function handleResults(e){y.matches=e,y.hidden=shouldHide(),y.loading&&setLoading(!1),a.selectOnMatch&&selectItemOnMatch(),positionDropdown(),reportMessages(!0,$.Count)}function selectItemOnMatch(){var e=a.searchText,t=y.matches,n=t[0];1===t.length&&getDisplayValue(n).then(function(t){var n=e==t;a.matchInsensitive&&!n&&(n=e.toLowerCase()==t.toLowerCase()),n&&select(0)})}function evalAttr(e,t){p[e]&&a.$parent.$eval(p[e],t||{})}var y=this,b=a.itemsExpr.split(/ in /i),_=b[1],w=null,x={},C=!1,S=[],E=!1,T=0,M=null,k=null,A=l.debounce(onWindowResize);defineProperty("hidden",handleHiddenChange,!0),y.scope=a,y.parent=a.$parent,y.itemName=b[0],y.matches=[],y.loading=!1,y.hidden=!0,y.index=null,y.id=l.nextUid(),y.isDisabled=null,y.isRequired=null,y.isReadonly=null,y.hasNotFound=!1,y.keydown=keydown,y.blur=blur,y.focus=focus,y.clear=clearValue,y.select=select,y.listEnter=onListEnter,y.listLeave=onListLeave,y.mouseUp=onMouseup,y.getCurrentDisplayValue=getCurrentDisplayValue,y.registerSelectedItemWatcher=registerSelectedItemWatcher,y.unregisterSelectedItemWatcher=unregisterSelectedItemWatcher,y.notFoundVisible=notFoundVisible,y.loadingIsVisible=loadingIsVisible,y.positionDropdown=positionDropdown;var $={Count:1,Selected:2};return init()}MdAutocompleteCtrl.$inject=["$scope","$element","$mdUtil","$mdConstant","$mdTheming","$window","$animate","$rootElement","$attrs","$q","$log","$mdLiveAnnouncer"],t.module("material.components.autocomplete").controller("MdAutocompleteCtrl",MdAutocompleteCtrl);var e=48,i=5,r=8,o=2}(),function(){function MdAutocomplete(e){return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=?mdNoCache",requireMatch:"=?mdRequireMatch",selectOnMatch:"=?mdSelectOnMatch",matchInsensitive:"=?mdMatchCaseInsensitive",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass",inputId:"@?mdInputId",escapeOptions:"@?mdEscapeOptions",dropdownItems:"=?mdDropdownItems",dropdownPosition:"@?mdDropdownPosition",clearButton:"=?mdClearButton"},compile:function(e,n){var i=["md-select-on-focus","md-no-asterisk","ng-trim","ng-pattern"],r=e.find("input");return i.forEach(function(e){var t=n[n.$normalize(e)];null!==t&&r.attr(e,t)}),function(e,n,i,r){r.hasNotFound=!!n.attr("md-has-not-found"),t.isDefined(i.mdClearButton)||e.floatingLabel||(e.clearButton=!0)}},template:function(t,n){function getItemTemplate(){var e=t.find("md-item-template").detach(),n=e.length?e.html():t.html();return e.length||t.empty(),"<md-autocomplete-parent-scope md-autocomplete-replace>"+n+"</md-autocomplete-parent-scope>"}function getNoItemsTemplate(){var e=t.find("md-not-found").detach(),n=e.length?e.html():"";return n?'<li ng-if="$mdAutocompleteCtrl.notFoundVisible()"                         md-autocomplete-parent-scope>'+n+"</li>":""}function getInputElement(){return n.mdFloatingLabel?'            <md-input-container ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                  '+(null!=a?'tabindex="'+a+'"':"")+'                  id="{{ inputId || \'fl-input-\' + $mdAutocompleteCtrl.id }}"                  name="{{inputName}}"                  autocomplete="off"                  ng-required="$mdAutocompleteCtrl.isRequired"                  ng-readonly="$mdAutocompleteCtrl.isReadonly"                  ng-minlength="inputMinlength"                  ng-maxlength="inputMaxlength"                  ng-disabled="$mdAutocompleteCtrl.isDisabled"                  ng-model="$mdAutocompleteCtrl.scope.searchText"                  ng-model-options="{ allowInvalid: true }"                  ng-keydown="$mdAutocompleteCtrl.keydown($event)"                  ng-blur="$mdAutocompleteCtrl.blur($event)"                  ng-focus="$mdAutocompleteCtrl.focus($event)"                  aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                  aria-label="{{floatingLabel}}"                  aria-autocomplete="list"                  role="combobox"                  aria-haspopup="true"                  aria-activedescendant=""                  aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>              <div md-autocomplete-parent-scope md-autocomplete-replace>'+o+"</div>            </md-input-container>":'            <input type="search"                '+(null!=a?'tabindex="'+a+'"':"")+'                id="{{ inputId || \'input-\' + $mdAutocompleteCtrl.id }}"                name="{{inputName}}"                ng-if="!floatingLabel"                autocomplete="off"                ng-required="$mdAutocompleteCtrl.isRequired"                ng-disabled="$mdAutocompleteCtrl.isDisabled"                ng-readonly="$mdAutocompleteCtrl.isReadonly"                ng-minlength="inputMinlength"                ng-maxlength="inputMaxlength"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur($event)"                ng-focus="$mdAutocompleteCtrl.focus($event)"                placeholder="{{placeholder}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                aria-label="{{placeholder}}"                aria-autocomplete="list"                role="combobox"                aria-haspopup="true"                aria-activedescendant=""                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>'}function getClearButton(){return'<button type="button" aria-label="Clear Input" tabindex="-1" ng-if="clearButton && $mdAutocompleteCtrl.scope.searchText && !$mdAutocompleteCtrl.isDisabled" ng-click="$mdAutocompleteCtrl.clear($event)"><md-icon md-svg-src="'+e.mdClose+'"></md-icon></button>'}var i=getNoItemsTemplate(),r=getItemTemplate(),o=t.html(),a=n.tabindex;return i&&t.attr("md-has-not-found",!0),t.attr("tabindex","-1"),"        <md-autocomplete-wrap            ng-class=\"{ 'md-whiteframe-z1': !floatingLabel,                         'md-menu-showing': !$mdAutocompleteCtrl.hidden,                         'md-show-clear-button': !!clearButton }\">          "+getInputElement()+"          "+getClearButton()+'          <md-progress-linear              class="'+(n.mdFloatingLabel?"md-inline":"")+'"              ng-if="$mdAutocompleteCtrl.loadingIsVisible()"              md-mode="indeterminate"></md-progress-linear>          <md-virtual-repeat-container              md-auto-shrink              md-auto-shrink-min="1"              ng-mouseenter="$mdAutocompleteCtrl.listEnter()"              ng-mouseleave="$mdAutocompleteCtrl.listLeave()"              ng-mouseup="$mdAutocompleteCtrl.mouseUp()"              ng-hide="$mdAutocompleteCtrl.hidden"              class="md-autocomplete-suggestions-container md-whiteframe-z1"              ng-class="{ \'md-not-found\': $mdAutocompleteCtrl.notFoundVisible() }"              role="presentation">            <ul class="md-autocomplete-suggestions"                ng-class="::menuClass"                id="ul-{{$mdAutocompleteCtrl.id}}">              <li md-virtual-repeat="item in $mdAutocompleteCtrl.matches"                  ng-class="{ selected: $index === $mdAutocompleteCtrl.index }"                  ng-click="$mdAutocompleteCtrl.select($index)"                  md-extra-name="$mdAutocompleteCtrl.itemName">                  '+r+"                  </li>"+i+"            </ul>          </md-virtual-repeat-container>        </md-autocomplete-wrap>"}}}MdAutocomplete.$inject=["$$mdSvgRegistry"],t.module("material.components.autocomplete").directive("mdAutocomplete",MdAutocomplete)}(),function(){function MdAutocompleteItemScopeDirective(e,t){function compile(e,n,i){return function(e,n,r){function watchVariable(n,i){a[i]=e[n],e.$watch(n,function(e){t.nextTick(function(){a[i]=e})})}function connectScopes(){var t=!1,n=!1;e.$watch(function(){n||t||(t=!0,e.$$postDigest(function(){n||a.$digest(),t=n=!1}))}),a.$watch(function(){n=!0})}var o=e.$mdAutocompleteCtrl,a=o.parent.$new(),s=o.itemName;watchVariable("$index","$index"),watchVariable("item",s),connectScopes(),i(a,function(e){n.after(e)})}}return{restrict:"AE",compile:compile,terminal:!0,transclude:"element"}}MdAutocompleteItemScopeDirective.$inject=["$compile","$mdUtil"],t.module("material.components.autocomplete").directive("mdAutocompleteParentScope",MdAutocompleteItemScopeDirective)}(),function(){function MdHighlightCtrl(e,t,n){this.$scope=e,this.$element=t,this.$attrs=n,this.regex=null}MdHighlightCtrl.$inject=["$scope","$element","$attrs"],t.module("material.components.autocomplete").controller("MdHighlightCtrl",MdHighlightCtrl),MdHighlightCtrl.prototype.init=function(e,t){this.flags=this.$attrs.mdHighlightFlags||"",this.unregisterFn=this.$scope.$watch(function(n){return{term:e(n),contentText:t(n)}}.bind(this),this.onRender.bind(this),!0),this.$element.on("$destroy",this.unregisterFn)},MdHighlightCtrl.prototype.onRender=function(e,t){var n=e.contentText;null!==this.regex&&e.term===t.term||(this.regex=this.createRegex(e.term,this.flags)),e.term?this.applyRegex(n):this.$element.text(n)},MdHighlightCtrl.prototype.applyRegex=function(e){var n=this.resolveTokens(e);this.$element.empty(),n.forEach(function(e){if(e.isMatch){var n=t.element('<span class="highlight">').text(e.text);this.$element.append(n)}else this.$element.append(document.createTextNode(e))}.bind(this))},MdHighlightCtrl.prototype.resolveTokens=function(e){function appendToken(n,i){var r=e.slice(n,i);r&&t.push(r)}var t=[],n=0;return e.replace(this.regex,function(e,i){appendToken(n,i),t.push({text:e,isMatch:!0}),n=i+e.length}),appendToken(n),t},MdHighlightCtrl.prototype.createRegex=function(e,t){var n="",i="",r=this.sanitizeRegex(e);return t.indexOf("^")>=0&&(n="^"),t.indexOf("$")>=0&&(i="$"),new RegExp(n+r+i,t.replace(/[$\^]/g,""))},MdHighlightCtrl.prototype.sanitizeRegex=function(e){return e&&e.toString().replace(/[\\\^\$\*\+\?\.\(\)\|\{}\[\]]/g,"\\$&")}}(),function(){function MdHighlight(e,t){return{terminal:!0,controller:"MdHighlightCtrl",compile:function(n,i){var r=t(i.mdHighlightText),o=e(n.html());return function(e,t,n,i){i.init(r,o)}}}}MdHighlight.$inject=["$interpolate","$parse"],t.module("material.components.autocomplete").directive("mdHighlightText",MdHighlight)}(),function(){function MdChipCtrl(e,t,i,r,o){this.$scope=e,this.$element=t,this.$mdConstant=i,this.$timeout=r,this.$mdUtil=o,this.isEditting=!1,this.parentController=n,this.enableChipEdit=!1}MdChipCtrl.$inject=["$scope","$element","$mdConstant","$timeout","$mdUtil"],t.module("material.components.chips").controller("MdChipCtrl",MdChipCtrl),MdChipCtrl.prototype.init=function(e){this.parentController=e,this.enableChipEdit=this.parentController.enableChipEdit,this.enableChipEdit&&(this.$element.on("keydown",this.chipKeyDown.bind(this)),this.$element.on("mousedown",this.chipMouseDown.bind(this)),this.getChipContent().addClass("_md-chip-content-edit-is-enabled"))},MdChipCtrl.prototype.getChipContent=function(){var e=this.$element[0].getElementsByClassName("md-chip-content");return t.element(e[0])},MdChipCtrl.prototype.getContentElement=function(){return t.element(this.getChipContent().children()[0])},MdChipCtrl.prototype.getChipIndex=function(){return parseInt(this.$element.attr("index"))},MdChipCtrl.prototype.goOutOfEditMode=function(){if(this.isEditting){this.isEditting=!1,this.$element.removeClass("_md-chip-editing"),this.getChipContent()[0].contentEditable="false";var e=this.getChipIndex(),t=this.getContentElement().text();t?(this.parentController.updateChipContents(e,this.getContentElement().text()),this.$mdUtil.nextTick(function(){this.parentController.selectedChip===e&&this.parentController.focusChip(e)}.bind(this))):this.parentController.removeChipAndFocusInput(e)}},MdChipCtrl.prototype.selectNodeContents=function(t){var n,i;document.body.createTextRange?(n=document.body.createTextRange(),n.moveToElementText(t),n.select()):e.getSelection&&(i=e.getSelection(),n=document.createRange(),n.selectNodeContents(t),i.removeAllRanges(),i.addRange(n))},MdChipCtrl.prototype.goInEditMode=function(){this.isEditting=!0,this.$element.addClass("_md-chip-editing"),this.getChipContent()[0].contentEditable="true",this.getChipContent().on("blur",function(){this.goOutOfEditMode()}.bind(this)),this.selectNodeContents(this.getChipContent()[0])},MdChipCtrl.prototype.chipKeyDown=function(e){this.isEditting||e.keyCode!==this.$mdConstant.KEY_CODE.ENTER&&e.keyCode!==this.$mdConstant.KEY_CODE.SPACE?this.isEditting&&e.keyCode===this.$mdConstant.KEY_CODE.ENTER&&(e.preventDefault(),this.goOutOfEditMode()):(e.preventDefault(),this.goInEditMode())},MdChipCtrl.prototype.chipMouseDown=function(){this.getChipIndex()==this.parentController.selectedChip&&this.enableChipEdit&&!this.isEditting&&this.goInEditMode()}}(),function(){function MdChip(n,i,r,o){function postLink(e,i,s,l){var c=l.shift(),u=l.shift(),d=t.element(i[0].querySelector(".md-chip-content"));n(i),c&&(u.init(c),d.append(r(a)(e)),d.on("blur",function(){c.resetSelectedChip(),c.$scope.$applyAsync()})),o(function(){c&&c.shouldFocusLastChip&&c.focusLastChipThenInput()})}var a=i.processTemplate(e);return{restrict:"E",require:["^?mdChips","mdChip"],link:postLink,controller:"MdChipCtrl"}}MdChip.$inject=["$mdTheming","$mdUtil","$compile","$timeout"],t.module("material.components.chips").directive("mdChip",MdChip);var e='    <span ng-if="!$mdChipsCtrl.readonly" class="md-visually-hidden">      {{$mdChipsCtrl.deleteHint}}    </span>'}(),function(){function MdChipRemove(e){function postLink(t,n,i,r){n.on("click",function(e){t.$apply(function(){r.removeChip(t.$$replacedScope.$index)})}),e(function(){n.attr({tabindex:-1,"aria-hidden":!0}),n.find("button").attr("tabindex","-1")})}return{restrict:"A",require:"^mdChips",scope:!1,link:postLink}}MdChipRemove.$inject=["$timeout"],t.module("material.components.chips").directive("mdChipRemove",MdChipRemove)}(),function(){function MdChipTransclude(e){function link(t,n,i){var r=t.$parent.$mdChipsCtrl,o=r.parent.$new(!1,r.parent);o.$$replacedScope=t,o.$chip=t.$chip,o.$index=t.$index,o.$mdChipsCtrl=r;var a=r.$scope.$eval(i.mdChipTransclude);n.html(a),e(n.contents())(o)}return{restrict:"EA",terminal:!0,link:link,scope:!1}}MdChipTransclude.$inject=["$compile"],t.module("material.components.chips").directive("mdChipTransclude",MdChipTransclude)}(),function(){function MdChipsCtrl(t,n,i,r,o,a,s){this.$timeout=a,this.$mdConstant=i,this.$scope=t,this.parent=t.$parent,this.$mdUtil=s,this.$log=r,this.$element=o,this.$attrs=n,this.ngModelCtrl=null,this.userInputNgModelCtrl=null,this.autocompleteCtrl=null,this.userInputElement=null,this.items=[],this.selectedChip=-1,this.enableChipEdit=s.parseAttributeBoolean(n.mdEnableChipEdit),this.addOnBlur=s.parseAttributeBoolean(n.mdAddOnBlur),this.inputAriaLabel="Chips input.",this.containerHint="Chips container. Use arrow keys to select chips.",this.deleteHint="Press delete to remove this chip.",this.deleteButtonLabel="Remove",this.chipBuffer="",this.useTransformChip=!1,this.useOnAdd=!1,this.useOnRemove=!1,this.wrapperId="",this.contentIds=[],this.ariaTabIndex=null,this.chipAppendDelay=e,this.init()}MdChipsCtrl.$inject=["$scope","$attrs","$mdConstant","$log","$element","$timeout","$mdUtil"];var e=300;t.module("material.components.chips").controller("MdChipsCtrl",MdChipsCtrl),MdChipsCtrl.prototype.init=function(){var t=this;t.wrapperId="_md-chips-wrapper-"+t.$mdUtil.nextUid(),t.$scope.$watchCollection("$mdChipsCtrl.items",function(){t.setupInputAria(),t.setupWrapperAria()}),t.$attrs.$observe("mdChipAppendDelay",function(n){t.chipAppendDelay=parseInt(n)||e})},MdChipsCtrl.prototype.setupInputAria=function(){var e=this.$element.find("input");e&&(e.attr("role","textbox"),e.attr("aria-multiline",!0))},MdChipsCtrl.prototype.setupWrapperAria=function(){var e=this,t=this.$element.find("md-chips-wrap");this.items&&this.items.length?(t.attr("role","listbox"),this.contentIds=this.items.map(function(){return e.wrapperId+"-chip-"+e.$mdUtil.nextUid()}),t.attr("aria-owns",this.contentIds.join(" "))):(t.removeAttr("role"),t.removeAttr("aria-owns"))},MdChipsCtrl.prototype.inputKeydown=function(e){var t=this.getChipBuffer();if(!(this.autocompleteCtrl&&e.isDefaultPrevented&&e.isDefaultPrevented())){if(e.keyCode===this.$mdConstant.KEY_CODE.BACKSPACE){if(0!==this.getCursorPosition(e.target))return;return e.preventDefault(),e.stopPropagation(),void(this.items.length&&this.selectAndFocusChipSafe(this.items.length-1))}if((!this.separatorKeys||this.separatorKeys.length<1)&&(this.separatorKeys=[this.$mdConstant.KEY_CODE.ENTER]),this.separatorKeys.indexOf(e.keyCode)!==-1){if(this.autocompleteCtrl&&this.requireMatch||!t)return;if(e.preventDefault(),this.hasMaxChipsReached())return;return this.appendChip(t.trim()),this.resetChipBuffer(),!1}}},MdChipsCtrl.prototype.getCursorPosition=function(e){try{if(e.selectionStart===e.selectionEnd)return e.selectionStart}catch(t){if(!e.value)return 0}},MdChipsCtrl.prototype.updateChipContents=function(e,t){e>=0&&e<this.items.length&&(this.items[e]=t,this.ngModelCtrl.$setDirty())},MdChipsCtrl.prototype.isEditingChip=function(){return!!this.$element[0].querySelector("._md-chip-editing")},MdChipsCtrl.prototype.isRemovable=function(){return!!this.ngModelCtrl&&(this.readonly?this.removable:!t.isDefined(this.removable)||this.removable)},MdChipsCtrl.prototype.chipKeydown=function(e){if(!this.getChipBuffer()&&!this.isEditingChip())switch(e.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;if(e.preventDefault(),!this.isRemovable())return;this.removeAndSelectAdjacentChip(this.selectedChip);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:e.preventDefault(),(this.selectedChip<0||this.readonly&&0==this.selectedChip)&&(this.selectedChip=this.items.length),this.items.length&&this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:e.preventDefault(),this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;e.preventDefault(),this.onFocus()}},MdChipsCtrl.prototype.getPlaceholder=function(){var e=this.items&&this.items.length&&(""==this.secondaryPlaceholder||this.secondaryPlaceholder);return e?this.secondaryPlaceholder:this.placeholder},MdChipsCtrl.prototype.removeAndSelectAdjacentChip=function(e){var t=this,n=t.getAdjacentChipIndex(e);this.$element[0].querySelector("md-chips-wrap"),this.$element[0].querySelector('md-chip[index="'+e+'"]');t.removeChip(e),t.$timeout(function(){t.$timeout(function(){t.selectAndFocusChipSafe(n)})})},MdChipsCtrl.prototype.resetSelectedChip=function(){this.selectedChip=-1,this.ariaTabIndex=null},MdChipsCtrl.prototype.getAdjacentChipIndex=function(e){var t=this.items.length-1;return 0==t?-1:e==t?e-1:e},MdChipsCtrl.prototype.appendChip=function(e){if(this.shouldFocusLastChip=!0,this.useTransformChip&&this.transformChip){var n=this.transformChip({$chip:e});t.isDefined(n)&&(e=n)}if(t.isObject(e)){var i=this.items.some(function(n){return t.equals(e,n)});if(i)return}if(!(null==e||this.items.indexOf(e)+1)){var r=this.items.push(e),o=r-1;this.ngModelCtrl.$setDirty(),this.validateModel(),this.useOnAdd&&this.onAdd&&this.onAdd({$chip:e,$index:o})}},MdChipsCtrl.prototype.useTransformChipExpression=function(){this.useTransformChip=!0},MdChipsCtrl.prototype.useOnAddExpression=function(){this.useOnAdd=!0},MdChipsCtrl.prototype.useOnRemoveExpression=function(){this.useOnRemove=!0},MdChipsCtrl.prototype.useOnSelectExpression=function(){this.useOnSelect=!0},MdChipsCtrl.prototype.getChipBuffer=function(){var e=this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer;return t.isString(e)?e:""},MdChipsCtrl.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""},MdChipsCtrl.prototype.hasMaxChipsReached=function(){return t.isString(this.maxChips)&&(this.maxChips=parseInt(this.maxChips,10)||0),this.maxChips>0&&this.items.length>=this.maxChips},MdChipsCtrl.prototype.validateModel=function(){this.ngModelCtrl.$setValidity("md-max-chips",!this.hasMaxChipsReached())},MdChipsCtrl.prototype.removeChip=function(e){var t=this.items.splice(e,1);this.ngModelCtrl.$setDirty(),this.validateModel(),t&&t.length&&this.useOnRemove&&this.onRemove&&this.onRemove({$chip:t[0],$index:e})},MdChipsCtrl.prototype.removeChipAndFocusInput=function(e){this.removeChip(e),this.autocompleteCtrl?(this.autocompleteCtrl.hidden=!0,this.$mdUtil.nextTick(this.onFocus.bind(this))):this.onFocus()},MdChipsCtrl.prototype.selectAndFocusChipSafe=function(e){if(!this.items.length||e===-1)return this.focusInput();if(e>=this.items.length){if(!this.readonly)return this.onFocus();e=0}e=Math.max(e,0),e=Math.min(e,this.items.length-1),this.selectChip(e),this.focusChip(e)},MdChipsCtrl.prototype.focusLastChipThenInput=function(){var e=this;e.shouldFocusLastChip=!1,e.focusChip(this.items.length-1),e.$timeout(function(){e.focusInput()},e.chipAppendDelay)},MdChipsCtrl.prototype.focusInput=function(){this.selectChip(-1),this.onFocus()},MdChipsCtrl.prototype.selectChip=function(e){e>=-1&&e<=this.items.length?(this.selectedChip=e,this.useOnSelect&&this.onSelect&&this.onSelect({$chip:this.items[e]})):this.$log.warn("Selected Chip index out of bounds; ignoring.")},MdChipsCtrl.prototype.selectAndFocusChip=function(e){this.selectChip(e),e!=-1&&this.focusChip(e)},MdChipsCtrl.prototype.focusChip=function(e){var t=this.$element[0].querySelector('md-chip[index="'+e+'"] .md-chip-content');this.ariaTabIndex=e,t.focus()},MdChipsCtrl.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){t.items=t.ngModelCtrl.$viewValue}},MdChipsCtrl.prototype.onFocus=function(){var e=this.$element[0].querySelector("input");e&&e.focus(),this.resetSelectedChip()},MdChipsCtrl.prototype.onInputFocus=function(){this.inputHasFocus=!0,this.setupInputAria(),this.resetSelectedChip()},MdChipsCtrl.prototype.onInputBlur=function(){this.inputHasFocus=!1,this.shouldAddOnBlur()&&(this.appendChip(this.getChipBuffer().trim()),this.resetChipBuffer())},MdChipsCtrl.prototype.configureUserInput=function(e){this.userInputElement=e;var n=e.controller("ngModel");n!=this.ngModelCtrl&&(this.userInputNgModelCtrl=n);var i=this.$scope,r=this,o=function(e,n){i.$evalAsync(t.bind(r,n,e))};e.attr({tabindex:0}).on("keydown",function(e){o(e,r.inputKeydown)}).on("focus",function(e){o(e,r.onInputFocus)}).on("blur",function(e){o(e,r.onInputBlur)})},MdChipsCtrl.prototype.configureAutocomplete=function(e){e&&(this.autocompleteCtrl=e,e.registerSelectedItemWatcher(t.bind(this,function(e){if(e){if(this.hasMaxChipsReached())return;this.appendChip(e),this.resetChipBuffer()}})),this.$element.find("input").on("focus",t.bind(this,this.onInputFocus)).on("blur",t.bind(this,this.onInputBlur)))},MdChipsCtrl.prototype.shouldAddOnBlur=function(){this.validateModel();var e=this.getChipBuffer().trim(),t=this.ngModelCtrl.$valid,n=this.autocompleteCtrl&&!this.autocompleteCtrl.hidden;return this.userInputNgModelCtrl&&(t=t&&this.userInputNgModelCtrl.$valid),this.addOnBlur&&!this.requireMatch&&e&&t&&!n},MdChipsCtrl.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0},MdChipsCtrl.prototype.contentIdFor=function(e){return this.contentIds[e]}}(),function(){function MdChips(t,o,a,s,l,c){function compile(e,n){function getTemplateByQuery(e){if(n.ngModel){var t=i[0].querySelector(e);return t&&t.outerHTML}}var i=n.$mdUserTemplate;n.$mdUserTemplate=null;var r=getTemplateByQuery("md-chips>md-chip-template"),d=o.prefixer().buildList("md-chip-remove").map(function(e){return"md-chips>*["+e+"]"}).join(","),h=getTemplateByQuery(d)||u.remove,m=r||u.default,p=getTemplateByQuery("md-chips>md-autocomplete")||getTemplateByQuery("md-chips>input")||u.input,f=i.find("md-chip");return i[0].querySelector("md-chip-template>*[md-chip-remove]")&&s.warn("invalid placement of md-chip-remove within md-chip-template."),function(e,i,s,d){o.initOptionalProperties(e,n),t(i);var g=d[0];if(r&&(g.enableChipEdit=!1),g.chipContentsTemplate=m,g.chipRemoveTemplate=h,g.chipInputTemplate=p,g.mdCloseIcon=c.mdClose,i.attr({tabindex:-1}).on("focus",function(){g.onFocus()}),n.ngModel&&(g.configureNgModel(i.controller("ngModel")),s.mdTransformChip&&g.useTransformChipExpression(),s.mdOnAppend&&g.useOnAppendExpression(),s.mdOnAdd&&g.useOnAddExpression(),s.mdOnRemove&&g.useOnRemoveExpression(),s.mdOnSelect&&g.useOnSelectExpression(),p!=u.input&&e.$watch("$mdChipsCtrl.readonly",function(e){e||o.nextTick(function(){if(0===p.indexOf("<md-autocomplete")){var e=i.find("md-autocomplete");g.configureAutocomplete(e.controller("mdAutocomplete"))}g.configureUserInput(i.find("input"))})}),o.nextTick(function(){var e=i.find("input");e&&e.toggleClass("md-input",!0)})),f.length>0){var v=a(f.clone())(e.$parent);l(function(){i.find("md-chips-wrap").prepend(v)})}}}function getTemplates(){return{chips:o.processTemplate(e),input:o.processTemplate(n),default:o.processTemplate(i),remove:o.processTemplate(r)}}var u=getTemplates();return{template:function(e,t){return t.$mdUserTemplate=e.clone(),u.chips},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:compile,scope:{readonly:"=readonly",removable:"=mdRemovable",placeholder:"@",secondaryPlaceholder:"@",maxChips:"@mdMaxChips",transformChip:"&mdTransformChip",onAppend:"&mdOnAppend",onAdd:"&mdOnAdd",onRemove:"&mdOnRemove",onSelect:"&mdOnSelect",inputAriaLabel:"@",containerHint:"@",deleteHint:"@",deleteButtonLabel:"@",separatorKeys:"=?mdSeparatorKeys",requireMatch:"=?mdRequireMatch",chipAppendDelayString:"@?mdChipAppendDelay"}}}MdChips.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout","$$mdSvgRegistry"],t.module("material.components.chips").directive("mdChips",MdChips);
var e='      <md-chips-wrap          id="{{$mdChipsCtrl.wrapperId}}"          tabindex="{{$mdChipsCtrl.readonly ? 0 : -1}}"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus(),                       \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly,                      \'md-removable\': $mdChipsCtrl.isRemovable() }"          aria-setsize="{{$mdChipsCtrl.items.length}}"          class="md-chips">        <span ng-if="$mdChipsCtrl.readonly" class="md-visually-hidden">          {{$mdChipsCtrl.containerHint}}        </span>        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"            ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index, \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly}">          <div class="md-chip-content"              tabindex="{{$mdChipsCtrl.ariaTabIndex == $index ? 0 : -1}}"              id="{{$mdChipsCtrl.contentIdFor($index)}}"              role="option"              aria-selected="{{$mdChipsCtrl.selectedChip == $index}}"               aria-posinset="{{$index}}"              ng-click="!$mdChipsCtrl.readonly && $mdChipsCtrl.focusChip($index)"              ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div ng-if="$mdChipsCtrl.isRemovable()"               class="md-chip-remove-container"               tabindex="-1"               md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div class="md-chip-input-container" ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl">          <div md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>',n='        <input            class="md-input"            tabindex="0"            aria-label="{{$mdChipsCtrl.inputAriaLabel}}"             placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">',i="      <span>{{$chip}}</span>",r='      <button          class="md-chip-remove"          ng-if="$mdChipsCtrl.isRemovable()"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index)"          type="button"          tabindex="-1">        <md-icon md-svg-src="{{ $mdChipsCtrl.mdCloseIcon }}"></md-icon>        <span class="md-visually-hidden">          {{$mdChipsCtrl.deleteButtonLabel}}        </span>      </button>'}(),function(){function MdContactChipsCtrl(){this.selectedItem=null,this.searchText=""}t.module("material.components.chips").controller("MdContactChipsCtrl",MdContactChipsCtrl),MdContactChipsCtrl.prototype.queryContact=function(e){return this.contactQuery({$query:e})},MdContactChipsCtrl.prototype.itemName=function(e){return e[this.contactName]}}(),function(){function MdContactChips(t,n){function compile(e,i){return function(e,r,o,a){var s=a;n.initOptionalProperties(e,i),t(r),r.attr("tabindex","-1"),o.$observe("mdChipAppendDelay",function(e){s.chipAppendDelay=e})}}return{template:function(t,n){return e},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:compile,scope:{contactQuery:"&mdContacts",placeholder:"@",secondaryPlaceholder:"@",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",requireMatch:"=?mdRequireMatch",minLength:"=?mdMinLength",highlightFlags:"@?mdHighlightFlags",chipAppendDelay:"@?mdChipAppendDelay"}}}MdContactChips.$inject=["$mdTheming","$mdUtil"],t.module("material.components.chips").directive("mdContactChips",MdContactChips);var e='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-chip-append-delay="{{$mdContactChipsCtrl.chipAppendDelay}}"           md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.itemName(item)"              md-no-cache="true"              md-min-length="$mdContactChipsCtrl.minLength"              md-autoselect              placeholder="{{$mdContactChipsCtrl.contacts.length == 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}"                  ng-if="item[$mdContactChipsCtrl.contactImage]" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText"                    md-highlight-flags="{{$mdContactChipsCtrl.highlightFlags}}">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}"                  ng-if="$chip[$mdContactChipsCtrl.contactImage]" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>'}(),function(){!function(){function calendarDirective(){return{template:function(e,t){var n=t.hasOwnProperty("ngIf")?"":'ng-if="calendarCtrl.isInitialized"',i='<div ng-switch="calendarCtrl.currentView" '+n+'><md-calendar-year ng-switch-when="year"></md-calendar-year><md-calendar-month ng-switch-default></md-calendar-month></div>';return i},scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",dateFilter:"=mdDateFilter",_currentView:"@mdCurrentView"},require:["ngModel","mdCalendar"],controller:CalendarCtrl,controllerAs:"calendarCtrl",bindToController:!0,link:function(e,t,n,i){var r=i[0],o=i[1];o.configureNgModel(r)}}}function CalendarCtrl(e,i,r,o,a,s,l,c,u){s(e),this.$element=e,this.$scope=i,this.dateUtil=r,this.$mdUtil=o,this.keyCode=a.KEY_CODE,this.$$rAF=l,this.$mdDateLocale=u,this.today=this.dateUtil.createDateAtMidnight(),this.ngModelCtrl=null,this.SELECTED_DATE_CLASS="md-calendar-selected-date",this.TODAY_CLASS="md-calendar-date-today",this.FOCUSED_DATE_CLASS="md-focus",this.id=n++,this.displayDate=null,this.selectedDate=null,this.firstRenderableDate=null,this.lastRenderableDate=null,this.isInitialized=!1,this.width=0,this.scrollbarWidth=0,c.tabindex||e.attr("tabindex","-1");var d,h=t.bind(this,this.handleKeyEvent);d=e.parent().hasClass("md-datepicker-calendar")?t.element(document.body):e,d.on("keydown",h),i.$on("$destroy",function(){d.off("keydown",h)}),1===t.version.major&&t.version.minor<=4&&this.$onInit()}CalendarCtrl.$inject=["$element","$scope","$$mdDateUtil","$mdUtil","$mdConstant","$mdTheming","$$rAF","$attrs","$mdDateLocale"],t.module("material.components.datepicker").directive("mdCalendar",calendarDirective);var e=340,n=0;CalendarCtrl.prototype.$onInit=function(){this.currentView=this._currentView||"month";var e=this.$mdDateLocale;this.minDate&&this.minDate>e.firstRenderableDate?this.firstRenderableDate=this.minDate:this.firstRenderableDate=e.firstRenderableDate,this.maxDate&&this.maxDate<e.lastRenderableDate?this.lastRenderableDate=this.maxDate:this.lastRenderableDate=e.lastRenderableDate},CalendarCtrl.prototype.configureNgModel=function(e){var t=this;t.ngModelCtrl=e,t.$mdUtil.nextTick(function(){t.isInitialized=!0}),e.$render=function(){var e=this.$viewValue;t.$scope.$broadcast("md-calendar-parent-changed",e),t.selectedDate||(t.selectedDate=e),t.displayDate||(t.displayDate=t.selectedDate||t.today)}},CalendarCtrl.prototype.setNgModelValue=function(e){var t=this.dateUtil.createDateAtMidnight(e);return this.focus(t),this.$scope.$emit("md-calendar-change",t),this.ngModelCtrl.$setViewValue(t),this.ngModelCtrl.$render(),t},CalendarCtrl.prototype.setCurrentView=function(e,n){var i=this;i.$mdUtil.nextTick(function(){i.currentView=e,n&&(i.displayDate=t.isDate(n)?n:new Date(n))})},CalendarCtrl.prototype.focus=function(e){if(this.dateUtil.isValidDate(e)){var t=this.$element[0].querySelector(".md-focus");t&&t.classList.remove(this.FOCUSED_DATE_CLASS);var n=this.getDateId(e,this.currentView),i=document.getElementById(n);i&&(i.classList.add(this.FOCUSED_DATE_CLASS),i.focus(),this.displayDate=e)}else{var r=this.$element[0].querySelector("[ng-switch]");r&&r.focus()}},CalendarCtrl.prototype.getActionFromKeyEvent=function(e){var t=this.keyCode;switch(e.which){case t.ENTER:return"select";case t.RIGHT_ARROW:return"move-right";case t.LEFT_ARROW:return"move-left";case t.DOWN_ARROW:return e.metaKey?"move-page-down":"move-row-down";case t.UP_ARROW:return e.metaKey?"move-page-up":"move-row-up";case t.PAGE_DOWN:return"move-page-down";case t.PAGE_UP:return"move-page-up";case t.HOME:return"start";case t.END:return"end";default:return null}},CalendarCtrl.prototype.handleKeyEvent=function(e){var t=this;this.$scope.$apply(function(){if(e.which==t.keyCode.ESCAPE||e.which==t.keyCode.TAB)return t.$scope.$emit("md-calendar-close"),void(e.which==t.keyCode.TAB&&e.preventDefault());var n=t.getActionFromKeyEvent(e);n&&(e.preventDefault(),e.stopPropagation(),t.$scope.$broadcast("md-calendar-parent-action",n))})},CalendarCtrl.prototype.hideVerticalScrollbar=function(t){function setWidth(){var i=n.width||e,o=n.scrollbarWidth,a=t.calendarScroller;r.style.width=i+"px",a.style.width=i+o+"px",a.style.paddingRight=o+"px"}var n=this,i=t.$element[0],r=i.querySelector(".md-calendar-scroll-mask");n.width>0?setWidth():n.$$rAF(function(){var e=t.calendarScroller;n.scrollbarWidth=e.offsetWidth-e.clientWidth,n.width=i.querySelector("table").offsetWidth,setWidth()})},CalendarCtrl.prototype.getDateId=function(e,t){if(!t)throw new Error("A namespace for the date id has to be specified.");return["md",this.id,t,e.getFullYear(),e.getMonth(),e.getDate()].join("-")},CalendarCtrl.prototype.updateVirtualRepeat=function(){var e=this.$scope,t=e.$on("$md-resize-enable",function(){e.$$phase||e.$apply(),t()})}}()}(),function(){!function(){function calendarDirective(){return{template:'<table aria-hidden="true" class="md-calendar-day-header"><thead></thead></table><div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container" md-offset-size="'+(n-e)+'"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-month-body role="rowgroup" md-virtual-repeat="i in monthCtrl.items" md-month-offset="$index" class="md-calendar-month" md-start-index="monthCtrl.getSelectedMonthIndex()" md-item-size="'+e+'"><tr aria-hidden="true" style="height:'+e+'px;"></tr></tbody></table></md-virtual-repeat-container></div>',require:["^^mdCalendar","mdCalendarMonth"],controller:CalendarMonthCtrl,controllerAs:"monthCtrl",bindToController:!0,link:function(e,t,n,i){var r=i[0],o=i[1];o.initialize(r)}}}function CalendarMonthCtrl(e,t,n,i,r,o){this.$element=e,this.$scope=t,this.$animate=n,this.$q=i,this.dateUtil=r,this.dateLocale=o,this.calendarScroller=e[0].querySelector(".md-virtual-repeat-scroller"),this.isInitialized=!1,this.isMonthTransitionInProgress=!1;var a=this;this.cellClickHandler=function(){var e=r.getTimestampFromNode(this);a.$scope.$apply(function(){a.calendarCtrl.setNgModelValue(e)})},this.headerClickHandler=function(){a.calendarCtrl.setCurrentView("year",r.getTimestampFromNode(this))}}CalendarMonthCtrl.$inject=["$element","$scope","$animate","$q","$$mdDateUtil","$mdDateLocale"],t.module("material.components.datepicker").directive("mdCalendarMonth",calendarDirective);var e=265,n=45;CalendarMonthCtrl.prototype.initialize=function(e){this.items={length:this.dateUtil.getMonthDistance(e.firstRenderableDate,e.lastRenderableDate)+2},this.calendarCtrl=e,this.attachScopeListeners(),e.updateVirtualRepeat(),e.ngModelCtrl&&e.ngModelCtrl.$render()},CalendarMonthCtrl.prototype.getSelectedMonthIndex=function(){var e=this.calendarCtrl;return this.dateUtil.getMonthDistance(e.firstRenderableDate,e.displayDate||e.selectedDate||e.today)},CalendarMonthCtrl.prototype.changeSelectedDate=function(e){var t=this,n=t.calendarCtrl,i=n.selectedDate;n.selectedDate=e,this.changeDisplayDate(e).then(function(){var t=n.SELECTED_DATE_CLASS,r="month";if(i){var o=document.getElementById(n.getDateId(i,r));o&&(o.classList.remove(t),o.setAttribute("aria-selected","false"))}if(e){var a=document.getElementById(n.getDateId(e,r));a&&(a.classList.add(t),a.setAttribute("aria-selected","true"))}})},CalendarMonthCtrl.prototype.changeDisplayDate=function(e){if(!this.isInitialized)return this.buildWeekHeader(),this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(!this.dateUtil.isValidDate(e)||this.isMonthTransitionInProgress)return this.$q.when();this.isMonthTransitionInProgress=!0;var t=this.animateDateChange(e);this.calendarCtrl.displayDate=e;var n=this;return t.then(function(){n.isMonthTransitionInProgress=!1}),t},CalendarMonthCtrl.prototype.animateDateChange=function(t){if(this.dateUtil.isValidDate(t)){var n=this.dateUtil.getMonthDistance(this.calendarCtrl.firstRenderableDate,t);this.calendarScroller.scrollTop=n*e}return this.$q.when()},CalendarMonthCtrl.prototype.buildWeekHeader=function(){for(var e=this.dateLocale.firstDayOfWeek,t=this.dateLocale.shortDays,n=document.createElement("tr"),i=0;i<7;i++){var r=document.createElement("th");r.textContent=t[(i+e)%7],n.appendChild(r)}this.$element.find("thead").append(n)},CalendarMonthCtrl.prototype.attachScopeListeners=function(){var e=this;e.$scope.$on("md-calendar-parent-changed",function(t,n){e.changeSelectedDate(n)}),e.$scope.$on("md-calendar-parent-action",t.bind(this,this.handleKeyEvent))},CalendarMonthCtrl.prototype.handleKeyEvent=function(e,t){var n=this.calendarCtrl,i=n.displayDate;if("select"===t)n.setNgModelValue(i);else{var r=null,o=this.dateUtil;switch(t){case"move-right":r=o.incrementDays(i,1);break;case"move-left":r=o.incrementDays(i,-1);break;case"move-page-down":r=o.incrementMonths(i,1);break;case"move-page-up":r=o.incrementMonths(i,-1);break;case"move-row-down":r=o.incrementDays(i,7);break;case"move-row-up":r=o.incrementDays(i,-7);break;case"start":r=o.getFirstDateOfMonth(i);break;case"end":r=o.getLastDateOfMonth(i)}r&&(r=this.dateUtil.clampDate(r,n.minDate,n.maxDate),this.changeDisplayDate(r).then(function(){n.focus(r)}))}}}()}(),function(){!function(){function mdCalendarMonthBodyDirective(e,n){var i=e('<md-icon md-svg-src="'+n.mdTabsArrow+'"></md-icon>')({})[0];return{require:["^^mdCalendar","^^mdCalendarMonth","mdCalendarMonthBody"],scope:{offset:"=mdMonthOffset"},controller:CalendarMonthBodyCtrl,controllerAs:"mdMonthBodyCtrl",bindToController:!0,link:function(e,n,r,o){var a=o[0],s=o[1],l=o[2];l.calendarCtrl=a,l.monthCtrl=s,l.arrowIcon=i.cloneNode(!0),e.$watch(function(){return l.offset},function(e){t.isNumber(e)&&l.generateContent()})}}}function CalendarMonthBodyCtrl(e,t,n){this.$element=e,this.dateUtil=t,this.dateLocale=n,this.monthCtrl=null,this.calendarCtrl=null,this.offset=null,this.focusAfterAppend=null}mdCalendarMonthBodyDirective.$inject=["$compile","$$mdSvgRegistry"],CalendarMonthBodyCtrl.$inject=["$element","$$mdDateUtil","$mdDateLocale"],t.module("material.components.datepicker").directive("mdCalendarMonthBody",mdCalendarMonthBodyDirective),CalendarMonthBodyCtrl.prototype.generateContent=function(){var e=this.dateUtil.incrementMonths(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForMonth(e)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},CalendarMonthBodyCtrl.prototype.buildDateCell=function(e){var t=this.monthCtrl,n=this.calendarCtrl,i=document.createElement("td");if(i.tabIndex=-1,i.classList.add("md-calendar-date"),i.setAttribute("role","gridcell"),e){i.setAttribute("tabindex","-1"),i.setAttribute("aria-label",this.dateLocale.longDateFormatter(e)),i.id=n.getDateId(e,"month"),i.setAttribute("data-timestamp",e.getTime()),this.dateUtil.isSameDay(e,n.today)&&i.classList.add(n.TODAY_CLASS),this.dateUtil.isValidDate(n.selectedDate)&&this.dateUtil.isSameDay(e,n.selectedDate)&&(i.classList.add(n.SELECTED_DATE_CLASS),i.setAttribute("aria-selected","true"));var r=this.dateLocale.dates[e.getDate()];if(this.isDateEnabled(e)){var o=document.createElement("span");o.classList.add("md-calendar-date-selection-indicator"),o.textContent=r,i.appendChild(o),i.addEventListener("click",t.cellClickHandler),n.displayDate&&this.dateUtil.isSameDay(e,n.displayDate)&&(this.focusAfterAppend=i)}else i.classList.add("md-calendar-date-disabled"),i.textContent=r}return i},CalendarMonthBodyCtrl.prototype.isDateEnabled=function(e){return this.dateUtil.isDateWithinRange(e,this.calendarCtrl.minDate,this.calendarCtrl.maxDate)&&(!t.isFunction(this.calendarCtrl.dateFilter)||this.calendarCtrl.dateFilter(e))},CalendarMonthBodyCtrl.prototype.buildDateRow=function(e){var t=document.createElement("tr");return t.setAttribute("role","row"),t.setAttribute("aria-label",this.dateLocale.weekNumberFormatter(e)),t},CalendarMonthBodyCtrl.prototype.buildCalendarForMonth=function(e){var t=this.dateUtil.isValidDate(e)?e:new Date,n=this.dateUtil.getFirstDateOfMonth(t),i=this.getLocaleDay_(n),r=this.dateUtil.getNumberOfDaysInMonth(t),o=document.createDocumentFragment(),a=1,s=this.buildDateRow(a);o.appendChild(s);var l=this.offset===this.monthCtrl.items.length-1,c=0,u=document.createElement("td"),d=document.createElement("span");if(d.textContent=this.dateLocale.monthHeaderFormatter(t),u.appendChild(d),u.classList.add("md-calendar-month-label"),this.calendarCtrl.maxDate&&n>this.calendarCtrl.maxDate?u.classList.add("md-calendar-month-label-disabled"):(u.addEventListener("click",this.monthCtrl.headerClickHandler),u.setAttribute("data-timestamp",n.getTime()),u.setAttribute("aria-label",this.dateLocale.monthFormatter(t)),u.appendChild(this.arrowIcon.cloneNode(!0))),i<=2){u.setAttribute("colspan","7");var h=this.buildDateRow();if(h.appendChild(u),o.insertBefore(h,s),l)return o}else c=3,u.setAttribute("colspan","3"),s.appendChild(u);for(var m=c;m<i;m++)s.appendChild(this.buildDateCell());for(var p=i,f=n,g=1;g<=r;g++){if(7===p){if(l)return o;p=0,a++,s=this.buildDateRow(a),o.appendChild(s)}f.setDate(g);var v=this.buildDateCell(f);s.appendChild(v),p++}for(;s.childNodes.length<7;)s.appendChild(this.buildDateCell());for(;o.childNodes.length<6;){for(var y=this.buildDateRow(),b=0;b<7;b++)y.appendChild(this.buildDateCell());o.appendChild(y)}return o},CalendarMonthBodyCtrl.prototype.getLocaleDay_=function(e){return(e.getDay()+(7-this.dateLocale.firstDayOfWeek))%7}}()}(),function(){!function(){function calendarDirective(){return{template:'<div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-year-body role="rowgroup" md-virtual-repeat="i in yearCtrl.items" md-year-offset="$index" class="md-calendar-year" md-start-index="yearCtrl.getFocusedYearIndex()" md-item-size="'+e+'"><tr aria-hidden="true" style="height:'+e+'px;"></tr></tbody></table></md-virtual-repeat-container></div>',require:["^^mdCalendar","mdCalendarYear"],controller:CalendarYearCtrl,controllerAs:"yearCtrl",bindToController:!0,link:function(e,t,n,i){var r=i[0],o=i[1];o.initialize(r)}}}function CalendarYearCtrl(e,t,n,i,r){this.$element=e,this.$scope=t,this.$animate=n,this.$q=i,this.dateUtil=r,this.calendarScroller=e[0].querySelector(".md-virtual-repeat-scroller"),this.isInitialized=!1,this.isMonthTransitionInProgress=!1;var o=this;this.cellClickHandler=function(){o.calendarCtrl.setCurrentView("month",r.getTimestampFromNode(this))}}CalendarYearCtrl.$inject=["$element","$scope","$animate","$q","$$mdDateUtil"],t.module("material.components.datepicker").directive("mdCalendarYear",calendarDirective);var e=88;CalendarYearCtrl.prototype.initialize=function(e){this.items={length:this.dateUtil.getYearDistance(e.firstRenderableDate,e.lastRenderableDate)+1},this.calendarCtrl=e,this.attachScopeListeners(),e.updateVirtualRepeat(),e.ngModelCtrl&&e.ngModelCtrl.$render()},CalendarYearCtrl.prototype.getFocusedYearIndex=function(){var e=this.calendarCtrl;return this.dateUtil.getYearDistance(e.firstRenderableDate,e.displayDate||e.selectedDate||e.today)},CalendarYearCtrl.prototype.changeDate=function(e){if(!this.isInitialized)return this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(this.dateUtil.isValidDate(e)&&!this.isMonthTransitionInProgress){var t=this,n=this.animateDateChange(e);return t.isMonthTransitionInProgress=!0,t.calendarCtrl.displayDate=e,n.then(function(){t.isMonthTransitionInProgress=!1})}},CalendarYearCtrl.prototype.animateDateChange=function(t){if(this.dateUtil.isValidDate(t)){var n=this.dateUtil.getYearDistance(this.calendarCtrl.firstRenderableDate,t);this.calendarScroller.scrollTop=n*e}return this.$q.when()},CalendarYearCtrl.prototype.handleKeyEvent=function(e,t){var n=this.calendarCtrl,i=n.displayDate;if("select"===t)this.changeDate(i).then(function(){n.setCurrentView("month",i),n.focus(i)});else{var r=null,o=this.dateUtil;switch(t){case"move-right":r=o.incrementMonths(i,1);break;case"move-left":r=o.incrementMonths(i,-1);break;case"move-row-down":r=o.incrementMonths(i,6);break;case"move-row-up":r=o.incrementMonths(i,-6)}if(r){var a=n.minDate?o.getFirstDateOfMonth(n.minDate):null,s=n.maxDate?o.getFirstDateOfMonth(n.maxDate):null;r=o.getFirstDateOfMonth(this.dateUtil.clampDate(r,a,s)),this.changeDate(r).then(function(){n.focus(r)})}}},CalendarYearCtrl.prototype.attachScopeListeners=function(){var e=this;e.$scope.$on("md-calendar-parent-changed",function(t,n){e.changeDate(n)}),e.$scope.$on("md-calendar-parent-action",t.bind(e,e.handleKeyEvent))}}()}(),function(){!function(){function mdCalendarYearDirective(){return{require:["^^mdCalendar","^^mdCalendarYear","mdCalendarYearBody"],scope:{offset:"=mdYearOffset"},controller:CalendarYearBodyCtrl,controllerAs:"mdYearBodyCtrl",bindToController:!0,link:function(e,n,i,r){var o=r[0],a=r[1],s=r[2];s.calendarCtrl=o,s.yearCtrl=a,e.$watch(function(){return s.offset},function(e){t.isNumber(e)&&s.generateContent()})}}}function CalendarYearBodyCtrl(e,t,n){this.$element=e,this.dateUtil=t,this.dateLocale=n,this.calendarCtrl=null,this.yearCtrl=null,this.offset=null,this.focusAfterAppend=null}CalendarYearBodyCtrl.$inject=["$element","$$mdDateUtil","$mdDateLocale"],t.module("material.components.datepicker").directive("mdCalendarYearBody",mdCalendarYearDirective),CalendarYearBodyCtrl.prototype.generateContent=function(){var e=this.dateUtil.incrementYears(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForYear(e)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},CalendarYearBodyCtrl.prototype.buildMonthCell=function(e,t){var n=this.calendarCtrl,i=this.yearCtrl,r=this.buildBlankCell(),o=new Date(e,t,1);r.setAttribute("aria-label",this.dateLocale.monthFormatter(o)),r.id=n.getDateId(o,"year"),r.setAttribute("data-timestamp",o.getTime()),this.dateUtil.isSameMonthAndYear(o,n.today)&&r.classList.add(n.TODAY_CLASS),this.dateUtil.isValidDate(n.selectedDate)&&this.dateUtil.isSameMonthAndYear(o,n.selectedDate)&&(r.classList.add(n.SELECTED_DATE_CLASS),r.setAttribute("aria-selected","true"));var a=this.dateLocale.shortMonths[t];if(this.dateUtil.isMonthWithinRange(o,n.minDate,n.maxDate)){var s=document.createElement("span");s.classList.add("md-calendar-date-selection-indicator"),s.textContent=a,r.appendChild(s),r.addEventListener("click",i.cellClickHandler),n.displayDate&&this.dateUtil.isSameMonthAndYear(o,n.displayDate)&&(this.focusAfterAppend=r)}else r.classList.add("md-calendar-date-disabled"),r.textContent=a;return r},CalendarYearBodyCtrl.prototype.buildBlankCell=function(){var e=document.createElement("td");return e.tabIndex=-1,e.classList.add("md-calendar-date"),e.setAttribute("role","gridcell"),e.setAttribute("tabindex","-1"),e},CalendarYearBodyCtrl.prototype.buildCalendarForYear=function(e){var t,n=e.getFullYear(),i=document.createDocumentFragment(),r=document.createElement("tr"),o=document.createElement("td");for(o.className="md-calendar-month-label",o.textContent=n,r.appendChild(o),t=0;t<6;t++)r.appendChild(this.buildMonthCell(n,t));i.appendChild(r);var a=document.createElement("tr");for(a.appendChild(this.buildBlankCell()),t=6;t<12;t++)a.appendChild(this.buildMonthCell(n,t));return i.appendChild(a),i}}()}(),function(){!function(){t.module("material.components.datepicker").config(["$provide",function(e){function DateLocaleProvider(){this.months=null,this.shortMonths=null,this.days=null,this.shortDays=null,this.dates=null,this.firstDayOfWeek=0,this.formatDate=null,this.parseDate=null,this.monthHeaderFormatter=null,this.weekNumberFormatter=null,this.longDateFormatter=null,this.msgCalendar="",this.msgOpenCalendar=""}DateLocaleProvider.prototype.$get=function(e,t){function defaultFormatDate(e,n){if(!e)return"";var i=e.toLocaleTimeString(),r=e;return 0!==e.getHours()||i.indexOf("11:")===-1&&i.indexOf("23:")===-1||(r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),1,0,0)),t("date")(r,"M/d/yyyy",n)}function defaultParseDate(e){return new Date(e)}function defaultIsDateComplete(e){e=e.trim();var t=/^(([a-zA-Z]{3,}|[0-9]{1,4})([ \.,]+|[\/\-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/;return t.test(e)}function defaultMonthHeaderFormatter(e){return c.shortMonths[e.getMonth()]+" "+e.getFullYear()}function defaultMonthFormatter(e){return c.months[e.getMonth()]+" "+e.getFullYear()}function defaultWeekNumberFormatter(e){return"Week "+e}function defaultLongDateFormatter(e){return[c.days[e.getDay()],c.months[e.getMonth()],c.dates[e.getDate()],e.getFullYear()].join(" ")}for(var n=e.DATETIME_FORMATS.SHORTDAY.map(function(e){return e.substring(0,1)}),i=Array(32),r=1;r<=31;r++)i[r]=r;var o="Calendar",a="Open calendar",s=new Date(1880,0,1),l=new Date(s.getFullYear()+250,0,1),c={months:this.months||e.DATETIME_FORMATS.MONTH,shortMonths:this.shortMonths||e.DATETIME_FORMATS.SHORTMONTH,days:this.days||e.DATETIME_FORMATS.DAY,shortDays:this.shortDays||n,dates:this.dates||i,firstDayOfWeek:this.firstDayOfWeek||0,formatDate:this.formatDate||defaultFormatDate,parseDate:this.parseDate||defaultParseDate,isDateComplete:this.isDateComplete||defaultIsDateComplete,monthHeaderFormatter:this.monthHeaderFormatter||defaultMonthHeaderFormatter,monthFormatter:this.monthFormatter||defaultMonthFormatter,weekNumberFormatter:this.weekNumberFormatter||defaultWeekNumberFormatter,longDateFormatter:this.longDateFormatter||defaultLongDateFormatter,msgCalendar:this.msgCalendar||o,msgOpenCalendar:this.msgOpenCalendar||a,firstRenderableDate:this.firstRenderableDate||s,lastRenderableDate:this.lastRenderableDate||l};return c},DateLocaleProvider.prototype.$get.$inject=["$locale","$filter"],e.provider("$mdDateLocale",new DateLocaleProvider)}])}()}(),function(){!function(){t.module("material.components.datepicker").factory("$$mdDateUtil",function(){function getFirstDateOfMonth(e){return new Date(e.getFullYear(),e.getMonth(),1)}function getNumberOfDaysInMonth(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function getDateInNextMonth(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function getDateInPreviousMonth(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function isSameMonthAndYear(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}function isSameDay(e,t){return e.getDate()==t.getDate()&&isSameMonthAndYear(e,t)}function isInNextMonth(e,t){var n=getDateInNextMonth(e);return isSameMonthAndYear(n,t)}function isInPreviousMonth(e,t){var n=getDateInPreviousMonth(e);return isSameMonthAndYear(t,n)}function getDateMidpoint(e,t){return createDateAtMidnight((e.getTime()+t.getTime())/2)}function getWeekOfMonth(e){var t=getFirstDateOfMonth(e);return Math.floor((t.getDay()+e.getDate()-1)/7)}function incrementDays(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t)}function incrementMonths(e,t){var n=new Date(e.getFullYear(),e.getMonth()+t,1),i=getNumberOfDaysInMonth(n);return i<e.getDate()?n.setDate(i):n.setDate(e.getDate()),n}function getMonthDistance(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())}function getLastDateOfMonth(e){return new Date(e.getFullYear(),e.getMonth(),getNumberOfDaysInMonth(e))}function isValidDate(e){return e&&e.getTime&&!isNaN(e.getTime())}function setDateTimeToMidnight(e){isValidDate(e)&&e.setHours(0,0,0,0)}function createDateAtMidnight(e){var n;return n=t.isUndefined(e)?new Date:new Date(e),setDateTimeToMidnight(n),n}function isDateWithinRange(e,t,n){var i=createDateAtMidnight(e),r=isValidDate(t)?createDateAtMidnight(t):null,o=isValidDate(n)?createDateAtMidnight(n):null;return(!r||r<=i)&&(!o||o>=i)}function incrementYears(e,t){return incrementMonths(e,12*t)}function getYearDistance(e,t){return t.getFullYear()-e.getFullYear()}function clampDate(e,t,n){var i=e;return t&&e<t&&(i=new Date(t.getTime())),n&&e>n&&(i=new Date(n.getTime())),i}function getTimestampFromNode(e){if(e&&e.hasAttribute("data-timestamp"))return Number(e.getAttribute("data-timestamp"))}function isMonthWithinRange(e,t,n){var i=e.getMonth(),r=e.getFullYear();return(!t||t.getFullYear()<r||t.getMonth()<=i)&&(!n||n.getFullYear()>r||n.getMonth()>=i)}return{getFirstDateOfMonth:getFirstDateOfMonth,getNumberOfDaysInMonth:getNumberOfDaysInMonth,getDateInNextMonth:getDateInNextMonth,getDateInPreviousMonth:getDateInPreviousMonth,isInNextMonth:isInNextMonth,isInPreviousMonth:isInPreviousMonth,getDateMidpoint:getDateMidpoint,isSameMonthAndYear:isSameMonthAndYear,getWeekOfMonth:getWeekOfMonth,incrementDays:incrementDays,incrementMonths:incrementMonths,getLastDateOfMonth:getLastDateOfMonth,isSameDay:isSameDay,getMonthDistance:getMonthDistance,isValidDate:isValidDate,setDateTimeToMidnight:setDateTimeToMidnight,createDateAtMidnight:createDateAtMidnight,isDateWithinRange:isDateWithinRange,incrementYears:incrementYears,getYearDistance:getYearDistance,clampDate:clampDate,getTimestampFromNode:getTimestampFromNode,isMonthWithinRange:isMonthWithinRange}})}()}(),function(){!function(){function datePickerDirective(e,n,i,r){return{template:function(t,n){var i=n.mdHideIcons,r=n.ariaLabel||n.mdPlaceholder,o="all"===i||"calendar"===i?"":'<md-button class="md-datepicker-button md-icon-button" type="button" tabindex="-1" aria-hidden="true" ng-click="ctrl.openCalendarPane($event)"><md-icon class="md-datepicker-calendar-icon" aria-label="md-calendar" md-svg-src="'+e.mdCalendar+'"></md-icon></md-button>',a="";return"all"!==i&&"triangle"!==i&&(a='<md-button type="button" md-no-ink class="md-datepicker-triangle-button md-icon-button" ng-click="ctrl.openCalendarPane($event)" aria-label="{{::ctrl.locale.msgOpenCalendar}}"><div class="md-datepicker-expand-triangle"></div></md-button>',t.addClass(s)),o+'<div class="md-datepicker-input-container" ng-class="{\'md-datepicker-focused\': ctrl.isFocused}"><input '+(r?'aria-label="'+r+'" ':"")+'class="md-datepicker-input" aria-haspopup="true" aria-expanded="{{ctrl.isCalendarOpen}}" ng-focus="ctrl.setFocused(true)" ng-blur="ctrl.setFocused(false)"> '+a+'</div><div class="md-datepicker-calendar-pane md-whiteframe-z1" id="{{::ctrl.calendarPaneId}}"><div class="md-datepicker-input-mask"><div class="md-datepicker-input-mask-opaque"></div></div><div class="md-datepicker-calendar"><md-calendar role="dialog" aria-label="{{::ctrl.locale.msgCalendar}}" md-current-view="{{::ctrl.currentView}}"md-min-date="ctrl.minDate"md-max-date="ctrl.maxDate"md-date-filter="ctrl.dateFilter"ng-model="ctrl.date" ng-if="ctrl.isCalendarOpen"></md-calendar></div></div>';
},require:["ngModel","mdDatepicker","?^mdInputContainer","?^form"],scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",placeholder:"@mdPlaceholder",currentView:"@mdCurrentView",dateFilter:"=mdDateFilter",isOpen:"=?mdIsOpen",debounceInterval:"=mdDebounceInterval",dateLocale:"=mdDateLocale"},controller:DatePickerCtrl,controllerAs:"ctrl",bindToController:!0,link:function(e,s,l,c){var u=c[0],d=c[1],h=c[2],m=c[3],p=n.parseAttributeBoolean(l.mdNoAsterisk);if(d.configureNgModel(u,h,r),h){var f=s[0].querySelector(".md-errors-spacer");f&&s.after(t.element("<div>").append(f)),h.setHasPlaceholder(l.mdPlaceholder),h.input=s,h.element.addClass(o).toggleClass(a,"calendar"!==l.mdHideIcons&&"all"!==l.mdHideIcons),h.label?p||l.$observe("required",function(e){h.label.toggleClass("md-required",!!e)}):i.expect(s,"aria-label",l.mdPlaceholder),e.$watch(h.isErrorGetter||function(){return u.$invalid&&(u.$touched||m&&m.$submitted)},h.setInvalid)}else if(m)var g=e.$watch(function(){return m.$submitted},function(e){e&&(d.updateErrorState(),g())})}}}function DatePickerCtrl(n,i,r,o,a,s,l,c,u,h,m){this.$window=o,this.dateUtil=u,this.$mdConstant=a,this.$mdUtil=l,this.$$rAF=h,this.$mdDateLocale=c,this.documentElement=t.element(document.documentElement),this.ngModelCtrl=null,this.inputElement=i[0].querySelector("input"),this.ngInputElement=t.element(this.inputElement),this.inputContainer=i[0].querySelector(".md-datepicker-input-container"),this.calendarPane=i[0].querySelector(".md-datepicker-calendar-pane"),this.calendarButton=i[0].querySelector(".md-datepicker-button"),this.inputMask=t.element(i[0].querySelector(".md-datepicker-input-mask-opaque")),this.$element=i,this.$attrs=r,this.$scope=n,this.date=null,this.isFocused=!1,this.isDisabled,this.setDisabled(i[0].disabled||t.isString(r.disabled)),this.isCalendarOpen=!1,this.openOnFocus=r.hasOwnProperty("mdOpenOnFocus"),this.mdInputContainer=null,this.calendarPaneOpenedFrom=null,this.calendarPaneId="md-date-pane-"+l.nextUid(),this.bodyClickHandler=t.bind(this,this.handleBodyClick),this.windowEventName=d.test(navigator.userAgent||navigator.vendor||e.opera)?"orientationchange":"resize",this.windowEventHandler=l.debounce(t.bind(this,this.closeCalendarPane),100),this.windowBlurHandler=t.bind(this,this.handleWindowBlur),this.ngDateFilter=m("date"),this.leftMargin=20,this.topMargin=null,r.tabindex?(this.ngInputElement.attr("tabindex",r.tabindex),r.$set("tabindex",null)):r.$set("tabindex","-1"),r.$set("aria-owns",this.calendarPaneId),s(i),s(t.element(this.calendarPane));var p=this;n.$on("$destroy",function(){p.detachCalendarPane()}),r.mdIsOpen&&n.$watch("ctrl.isOpen",function(e){e?p.openCalendarPane({target:p.inputElement}):p.closeCalendarPane()}),1===t.version.major&&t.version.minor<=4&&this.$onInit()}DatePickerCtrl.$inject=["$scope","$element","$attrs","$window","$mdConstant","$mdTheming","$mdUtil","$mdDateLocale","$$mdDateUtil","$$rAF","$filter"],datePickerDirective.$inject=["$$mdSvgRegistry","$mdUtil","$mdAria","inputDirective"],t.module("material.components.datepicker").directive("mdDatepicker",datePickerDirective);var n=3,i="md-datepicker-invalid",r="md-datepicker-open",o="_md-datepicker-floating-label",a="_md-datepicker-has-calendar-icon",s="_md-datepicker-has-triangle-icon",l=500,c=368,u=360,d=/ipad|iphone|ipod|android/i;DatePickerCtrl.prototype.$onInit=function(){this.locale=this.dateLocale?t.extend({},this.$mdDateLocale,this.dateLocale):this.$mdDateLocale,this.installPropertyInterceptors(),this.attachChangeListeners(),this.attachInteractionListeners()},DatePickerCtrl.prototype.configureNgModel=function(e,n,i){this.ngModelCtrl=e,this.mdInputContainer=n,this.$attrs.$set("type","date"),i[0].link.pre(this.$scope,{on:t.noop,val:t.noop,0:{}},this.$attrs,[e]);var r=this;r.ngModelCtrl.$formatters.push(function(e){if(e&&!(e instanceof Date))throw Error("The ng-model for md-datepicker must be a Date instance. Currently the model is a: "+typeof e);return r.onExternalChange(e),e}),e.$viewChangeListeners.unshift(t.bind(this,this.updateErrorState));var o=r.$mdUtil.getModelOption(e,"updateOn");o&&this.ngInputElement.on(o,t.bind(this.$element,this.$element.triggerHandler,o))},DatePickerCtrl.prototype.attachChangeListeners=function(){var e=this;e.$scope.$on("md-calendar-change",function(t,n){e.setModelValue(n),e.onExternalChange(n),e.closeCalendarPane()}),e.ngInputElement.on("input",t.bind(e,e.resizeInputElement));var n=t.isDefined(this.debounceInterval)?this.debounceInterval:l;e.ngInputElement.on("input",e.$mdUtil.debounce(e.handleInputEvent,n,e))},DatePickerCtrl.prototype.attachInteractionListeners=function(){var e=this,n=this.$scope,i=this.$mdConstant.KEY_CODE;e.ngInputElement.on("keydown",function(t){t.altKey&&t.keyCode==i.DOWN_ARROW&&(e.openCalendarPane(t),n.$digest())}),e.openOnFocus&&(e.ngInputElement.on("focus",t.bind(e,e.openCalendarPane)),t.element(e.$window).on("blur",e.windowBlurHandler),n.$on("$destroy",function(){t.element(e.$window).off("blur",e.windowBlurHandler)})),n.$on("md-calendar-close",function(){e.closeCalendarPane()})},DatePickerCtrl.prototype.installPropertyInterceptors=function(){var e=this;if(this.$attrs.ngDisabled){var t=this.$scope.$parent;t&&t.$watch(this.$attrs.ngDisabled,function(t){e.setDisabled(t)})}Object.defineProperty(this,"placeholder",{get:function(){return e.inputElement.placeholder},set:function(t){e.inputElement.placeholder=t||""}})},DatePickerCtrl.prototype.setDisabled=function(e){this.isDisabled=e,this.inputElement.disabled=e,this.calendarButton&&(this.calendarButton.disabled=e)},DatePickerCtrl.prototype.updateErrorState=function(e){var n=e||this.date;if(this.clearErrorState(),this.dateUtil.isValidDate(n)){if(n=this.dateUtil.createDateAtMidnight(n),this.dateUtil.isValidDate(this.minDate)){var r=this.dateUtil.createDateAtMidnight(this.minDate);this.ngModelCtrl.$setValidity("mindate",n>=r)}if(this.dateUtil.isValidDate(this.maxDate)){var o=this.dateUtil.createDateAtMidnight(this.maxDate);this.ngModelCtrl.$setValidity("maxdate",n<=o)}t.isFunction(this.dateFilter)&&this.ngModelCtrl.$setValidity("filtered",this.dateFilter(n))}else this.ngModelCtrl.$setValidity("valid",null==n);t.element(this.inputContainer).toggleClass(i,!this.ngModelCtrl.$valid)},DatePickerCtrl.prototype.clearErrorState=function(){this.inputContainer.classList.remove(i),["mindate","maxdate","filtered","valid"].forEach(function(e){this.ngModelCtrl.$setValidity(e,!0)},this)},DatePickerCtrl.prototype.resizeInputElement=function(){this.inputElement.size=this.inputElement.value.length+n},DatePickerCtrl.prototype.handleInputEvent=function(){var e=this.inputElement.value,t=e?this.locale.parseDate(e):null;this.dateUtil.setDateTimeToMidnight(t);var n=""==e||this.dateUtil.isValidDate(t)&&this.locale.isDateComplete(e)&&this.isDateEnabled(t);n&&(this.setModelValue(t),this.date=t),this.updateErrorState(t)},DatePickerCtrl.prototype.isDateEnabled=function(e){return this.dateUtil.isDateWithinRange(e,this.minDate,this.maxDate)&&(!t.isFunction(this.dateFilter)||this.dateFilter(e))},DatePickerCtrl.prototype.attachCalendarPane=function(){var e=this.calendarPane,n=document.body;e.style.transform="",this.$element.addClass(r),this.mdInputContainer&&this.mdInputContainer.element.addClass(r),t.element(n).addClass("md-datepicker-is-showing");var i=this.inputContainer.getBoundingClientRect(),o=n.getBoundingClientRect();(!this.topMargin||this.topMargin<0)&&(this.topMargin=(this.inputMask.parent().prop("clientHeight")-this.ngInputElement.prop("clientHeight"))/2);var a=i.top-o.top-this.topMargin,s=i.left-o.left-this.leftMargin,l=o.top<0&&0==document.body.scrollTop?-o.top:document.body.scrollTop,d=o.left<0&&0==document.body.scrollLeft?-o.left:document.body.scrollLeft,h=l+this.$window.innerHeight,m=d+this.$window.innerWidth;if(this.inputMask.css({position:"absolute",left:this.leftMargin+"px",top:this.topMargin+"px",width:i.width-1+"px",height:i.height-2+"px"}),s+u>m){if(m-u>0)s=m-u;else{s=d;var p=this.$window.innerWidth/u;e.style.transform="scale("+p+")"}e.classList.add("md-datepicker-pos-adjusted")}a+c>h&&h-c>l&&(a=h-c,e.classList.add("md-datepicker-pos-adjusted")),e.style.left=s+"px",e.style.top=a+"px",document.body.appendChild(e),this.$$rAF(function(){e.classList.add("md-pane-open")})},DatePickerCtrl.prototype.detachCalendarPane=function(){this.$element.removeClass(r),this.mdInputContainer&&this.mdInputContainer.element.removeClass(r),t.element(document.body).removeClass("md-datepicker-is-showing"),this.calendarPane.classList.remove("md-pane-open"),this.calendarPane.classList.remove("md-datepicker-pos-adjusted"),this.isCalendarOpen&&this.$mdUtil.enableScrolling(),this.calendarPane.parentNode&&this.calendarPane.parentNode.removeChild(this.calendarPane)},DatePickerCtrl.prototype.openCalendarPane=function(t){if(!this.isCalendarOpen&&!this.isDisabled&&!this.inputFocusedOnWindowBlur){this.isCalendarOpen=this.isOpen=!0,this.calendarPaneOpenedFrom=t.target,this.$mdUtil.disableScrollAround(this.calendarPane),this.attachCalendarPane(),this.focusCalendar(),this.evalAttr("ngFocus");var n=this;this.$mdUtil.nextTick(function(){n.documentElement.on("click touchstart",n.bodyClickHandler)},!1),e.addEventListener(this.windowEventName,this.windowEventHandler)}},DatePickerCtrl.prototype.closeCalendarPane=function(){function reset(){t.isCalendarOpen=t.isOpen=!1}if(this.isCalendarOpen){var t=this;t.detachCalendarPane(),t.ngModelCtrl.$setTouched(),t.evalAttr("ngBlur"),t.documentElement.off("click touchstart",t.bodyClickHandler),e.removeEventListener(t.windowEventName,t.windowEventHandler),t.calendarPaneOpenedFrom.focus(),t.calendarPaneOpenedFrom=null,t.openOnFocus?t.$mdUtil.nextTick(reset):reset()}},DatePickerCtrl.prototype.getCalendarCtrl=function(){return t.element(this.calendarPane.querySelector("md-calendar")).controller("mdCalendar")},DatePickerCtrl.prototype.focusCalendar=function(){var e=this;this.$mdUtil.nextTick(function(){e.getCalendarCtrl().focus()},!1)},DatePickerCtrl.prototype.setFocused=function(e){e||this.ngModelCtrl.$setTouched(),this.openOnFocus||this.evalAttr(e?"ngFocus":"ngBlur"),this.isFocused=e},DatePickerCtrl.prototype.handleBodyClick=function(e){if(this.isCalendarOpen){var t=this.$mdUtil.getClosest(e.target,"md-calendar");t||this.closeCalendarPane(),this.$scope.$digest()}},DatePickerCtrl.prototype.handleWindowBlur=function(){this.inputFocusedOnWindowBlur=document.activeElement===this.inputElement},DatePickerCtrl.prototype.evalAttr=function(e){this.$attrs[e]&&this.$scope.$parent.$eval(this.$attrs[e])},DatePickerCtrl.prototype.setModelValue=function(e){var t=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.ngModelCtrl.$setViewValue(this.ngDateFilter(e,"yyyy-MM-dd",t))},DatePickerCtrl.prototype.onExternalChange=function(e){var t=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.date=e,this.inputElement.value=this.locale.formatDate(e,t),this.mdInputContainer&&this.mdInputContainer.setHasValue(!!e),this.resizeInputElement(),this.updateErrorState()}}()}(),function(){function mdIconDirective(e,t,n,i){function postLink(i,r,o){function parentsHaveText(){var e=r.parent();return!(!e.attr("aria-label")&&!e.text())||!(!e.parent().attr("aria-label")&&!e.parent().text())}function prepareForFontIcon(){o.mdSvgIcon||o.mdSvgSrc||(o.mdFontIcon&&r.addClass("md-font "+o.mdFontIcon),r.addClass(s))}function fontIconChanged(){if(!o.mdSvgIcon&&!o.mdSvgSrc){o.mdFontIcon&&(r.removeClass(a),r.addClass(o.mdFontIcon),a=o.mdFontIcon);var t=e.fontSet(o.mdFontSet);s!==t&&(r.removeClass(s),r.addClass(t),s=t)}}t(r);var a=o.mdFontIcon,s=e.fontSet(o.mdFontSet);prepareForFontIcon(),o.$observe("mdFontIcon",fontIconChanged),o.$observe("mdFontSet",fontIconChanged);var l=(r[0].getAttribute(o.$attr.mdSvgSrc),o.alt||o.mdFontIcon||o.mdSvgIcon||r.text()),c=o.$normalize(o.$attr.mdSvgIcon||o.$attr.mdSvgSrc||"");o["aria-label"]||(""===l||parentsHaveText()?r.text()||n.expect(r,"aria-hidden","true"):(n.expect(r,"aria-label",l),n.expect(r,"role","img"))),c&&o.$observe(c,function(t){r.empty(),t&&e(t).then(function(e){r.empty(),r.append(e)})})}return{restrict:"E",link:postLink}}t.module("material.components.icon").directive("mdIcon",["$mdIcon","$mdTheming","$mdAria","$sce",mdIconDirective])}(),function(){function MdIconProvider(){}function ConfigurationItem(e,t){this.url=e,this.viewBoxSize=t||n.defaultViewBoxSize}function MdIconService(n,i,r,o,a,s){function getIcon(e){if(e=e||"",t.isString(e)||(e=s.getTrustedUrl(e)),l[e])return r.when(transformClone(l[e]));if(u.test(e)||d.test(e))return loadByURL(e).then(cacheIcon(e));e.indexOf(":")==-1&&(e="$default:"+e);var i=n[e]?loadByID:loadFromIconSet;return i(e).then(cacheIcon(e))}function findRegisteredFontSet(e){var i=t.isUndefined(e)||!(e&&e.length);if(i)return n.defaultFontSet;var r=e;return t.forEach(n.fontSets,function(t){t.alias==e&&(r=t.fontSet||r)}),r}function transformClone(e){var n=e.clone(),i="_cache"+a.nextUid();return n.id&&(n.id+=i),t.forEach(n.querySelectorAll("[id]"),function(e){e.id+=i}),n}function cacheIcon(e){return function(t){return l[e]=isIcon(t)?t:new Icon(t,n[e]),l[e].clone()}}function loadByID(e){var t=n[e];return loadByURL(t.url).then(function(e){return new Icon(e,t)})}function loadFromIconSet(e){function extractFromSet(t){var n=e.slice(e.lastIndexOf(":")+1),r=t.querySelector("#"+n);return r?new Icon(r,i):announceIdNotFound(e)}function announceIdNotFound(e){var t="icon "+e+" not found";return o.warn(t),r.reject(t||e)}var t=e.substring(0,e.lastIndexOf(":"))||"$default",i=n[t];return i?loadByURL(i.url).then(extractFromSet):announceIdNotFound(e)}function loadByURL(n){function loadByDataUrl(n){var i=d.exec(n),o=/base64/i.test(n),a=o?e.atob(i[2]):i[2];return r.when(t.element(a)[0])}function loadByHttpUrl(e){return r(function(n,r){var a=function(e){var n=t.isString(e)?e:e.message||e.data||e.statusText;o.warn(n),r(e)},s=function(i){c[e]||(c[e]=t.element("<div>").append(i)[0].querySelector("svg")),n(c[e])};i(e,!0).then(s,a)})}return d.test(n)?loadByDataUrl(n):loadByHttpUrl(n)}function isIcon(e){return t.isDefined(e.element)&&t.isDefined(e.config)}function Icon(e,n){e&&"svg"!=e.tagName&&(e=t.element('<svg xmlns="http://www.w3.org/2000/svg">').append(e.cloneNode(!0))[0]),e.getAttribute("xmlns")||e.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.element=e,this.config=n,this.prepare()}function prepareAndStyle(){var e=this.config?this.config.viewBoxSize:n.defaultViewBoxSize;t.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+e+" "+e,focusable:!1},function(e,t){this.element.setAttribute(t,e)},this)}function cloneSVG(){return this.element.cloneNode(!0)}var l={},c={},u=/[-\w@:%\+.~#?&\/\/=]{2,}\.[a-z]{2,4}\b(\/[-\w@:%\+.~#?&\/\/=]*)?/i,d=/^data:image\/svg\+xml[\s*;\w\-\=]*?(base64)?,(.*)$/i;return Icon.prototype={clone:cloneSVG,prepare:prepareAndStyle},getIcon.fontSet=findRegisteredFontSet,getIcon}MdIconService.$inject=["config","$templateRequest","$q","$log","$mdUtil","$sce"],t.module("material.components.icon").constant("$$mdSvgRegistry",{mdTabsArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwb2x5Z29uIHBvaW50cz0iMTUuNCw3LjQgMTQsNiA4LDEyIDE0LDE4IDE1LjQsMTYuNiAxMC44LDEyICIvPjwvZz48L3N2Zz4=",mdClose:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xOSA2LjQxbC0xLjQxLTEuNDEtNS41OSA1LjU5LTUuNTktNS41OS0xLjQxIDEuNDEgNS41OSA1LjU5LTUuNTkgNS41OSAxLjQxIDEuNDEgNS41OS01LjU5IDUuNTkgNS41OSAxLjQxLTEuNDEtNS41OS01LjU5eiIvPjwvZz48L3N2Zz4=",mdCancel:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xMiAyYy01LjUzIDAtMTAgNC40Ny0xMCAxMHM0LjQ3IDEwIDEwIDEwIDEwLTQuNDcgMTAtMTAtNC40Ny0xMC0xMC0xMHptNSAxMy41OWwtMS40MSAxLjQxLTMuNTktMy41OS0zLjU5IDMuNTktMS40MS0xLjQxIDMuNTktMy41OS0zLjU5LTMuNTkgMS40MS0xLjQxIDMuNTkgMy41OSAzLjU5LTMuNTkgMS40MSAxLjQxLTMuNTkgMy41OSAzLjU5IDMuNTl6Ii8+PC9nPjwvc3ZnPg==",mdMenu:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0zLDZIMjFWOEgzVjZNMywxMUgyMVYxM0gzVjExTTMsMTZIMjFWMThIM1YxNloiIC8+PC9zdmc+",mdToggleArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNDggNDgiPjxwYXRoIGQ9Ik0yNCAxNmwtMTIgMTIgMi44MyAyLjgzIDkuMTctOS4xNyA5LjE3IDkuMTcgMi44My0yLjgzeiIvPjxwYXRoIGQ9Ik0wIDBoNDh2NDhoLTQ4eiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==",mdCalendar:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkgM2gtMVYxaC0ydjJIOFYxSDZ2Mkg1Yy0xLjExIDAtMS45OS45LTEuOTkgMkwzIDE5YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY4aDE0djExek03IDEwaDV2NUg3eiIvPjwvc3ZnPg==",mdChecked:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXoiLz48L2c+PC9zdmc+"}).provider("$mdIcon",MdIconProvider);var n={defaultViewBoxSize:24,defaultFontSet:"material-icons",fontSets:[]};MdIconProvider.prototype={icon:function(e,t,i){return e.indexOf(":")==-1&&(e="$default:"+e),n[e]=new ConfigurationItem(t,i),this},iconSet:function(e,t,i){return n[e]=new ConfigurationItem(t,i),this},defaultIconSet:function(e,t){var i="$default";return n[i]||(n[i]=new ConfigurationItem(e,t)),n[i].viewBoxSize=t||n.defaultViewBoxSize,this},defaultViewBoxSize:function(e){return n.defaultViewBoxSize=e,this},fontSet:function(e,t){return n.fontSets.push({alias:e,fontSet:t||e}),this},defaultFontSet:function(e){return n.defaultFontSet=e?e:"",this},defaultIconSize:function(e){return n.defaultIconSize=e,this},$get:["$templateRequest","$q","$log","$mdUtil","$sce",function(e,t,i,r,o){return MdIconService(n,e,t,i,r,o)}]}}(),function(){function MenuController(e,i,r,o,a,s,l,c,u){var d,h,m=a.prefixer(),p=this;this.nestLevel=parseInt(i.mdNestLevel,10)||0,this.init=function(n,i){i=i||{},d=n,h=r[0].querySelector(m.buildSelector(["ng-click","ng-mouseenter"])),h.setAttribute("aria-expanded","false"),this.isInMenuBar=i.isInMenuBar,this.nestedMenus=a.nodesToArray(d[0].querySelectorAll(".md-nested-menu")),d.on("$mdInterimElementRemove",function(){p.isOpen=!1,a.nextTick(function(){p.onIsOpenChanged(p.isOpen)})}),a.nextTick(function(){p.onIsOpenChanged(p.isOpen)});var s="menu_container_"+a.nextUid();d.attr("id",s),t.element(h).attr({"aria-owns":s,"aria-haspopup":"true"}),o.$on("$destroy",t.bind(this,function(){this.disableHoverListener(),e.destroy()})),d.on("$destroy",function(){e.destroy()})};var f,g,v=[];this.enableHoverListener=function(){v.push(l.$on("$mdMenuOpen",function(e,t){d[0].contains(t[0])&&(p.currentlyOpenMenu=t.controller("mdMenu"),p.isAlreadyOpening=!1,p.currentlyOpenMenu.registerContainerProxy(p.triggerContainerProxy.bind(p)))})),v.push(l.$on("$mdMenuClose",function(e,t){d[0].contains(t[0])&&(p.currentlyOpenMenu=n)})),g=t.element(a.nodesToArray(d[0].children[0].children)),g.on("mouseenter",p.handleMenuItemHover),g.on("mouseleave",p.handleMenuItemMouseLeave)},this.disableHoverListener=function(){for(;v.length;)v.shift()();g&&g.off("mouseenter",p.handleMenuItemHover),g&&g.off("mouseleave",p.handleMenuItemMouseLeave)},this.handleMenuItemHover=function(e){if(!p.isAlreadyOpening){var n=e.target.querySelector("md-menu")||a.getClosest(e.target,"MD-MENU");f=s(function(){if(n&&(n=t.element(n).controller("mdMenu")),p.currentlyOpenMenu&&p.currentlyOpenMenu!=n){var e=p.nestLevel+1;p.currentlyOpenMenu.close(!0,{closeTo:e}),p.isAlreadyOpening=!!n,n&&n.open()}else n&&!n.isOpen&&n.open&&(p.isAlreadyOpening=!!n,n&&n.open())},n?100:250);var i=e.currentTarget.querySelector(".md-button:not([disabled])");i&&i.focus()}},this.handleMenuItemMouseLeave=function(){f&&(s.cancel(f),f=n)},this.open=function(t){t&&t.stopPropagation(),t&&t.preventDefault(),p.isOpen||(p.enableHoverListener(),p.isOpen=!0,a.nextTick(function(){p.onIsOpenChanged(p.isOpen)}),h=h||(t?t.target:r[0]),h.setAttribute("aria-expanded","true"),o.$emit("$mdMenuOpen",r),e.show({scope:o,mdMenuCtrl:p,nestLevel:p.nestLevel,element:d,target:h,preserveElement:!0,parent:"body"}).finally(function(){h.setAttribute("aria-expanded","false"),p.disableHoverListener()}))},this.onIsOpenChanged=function(e){e?(d.attr("aria-hidden","false"),r[0].classList.add("md-open"),t.forEach(p.nestedMenus,function(e){e.classList.remove("md-open")})):(d.attr("aria-hidden","true"),r[0].classList.remove("md-open")),o.$mdMenuIsOpen=p.isOpen},this.focusMenuContainer=function(){var e=d[0].querySelector(m.buildSelector(["md-menu-focus-target","md-autofocus"]));e||(e=d[0].querySelector(".md-button:not([disabled])")),e.focus()},this.registerContainerProxy=function(e){this.containerProxy=e},this.triggerContainerProxy=function(e){this.containerProxy&&this.containerProxy(e)},this.destroy=function(){return p.isOpen?e.destroy():c.when(!1)},this.close=function(n,i){if(p.isOpen){p.isOpen=!1,a.nextTick(function(){p.onIsOpenChanged(p.isOpen)});var s=t.extend({},i,{skipFocus:n});if(o.$emit("$mdMenuClose",r,s),e.hide(null,i),!n){var l=p.restoreFocusTo||r.find("button")[0];l instanceof t.element&&(l=l[0]),l&&l.focus()}}},this.positionMode=function(){var e=(i.mdPositionMode||"target").split(" ");return 1==e.length&&e.push(e[0]),{left:e[0],top:e[1]}},this.offsets=function(){var e=(i.mdOffset||"0 0").split(" ").map(parseFloat);if(2==e.length)return{left:e[0],top:e[1]};if(1==e.length)return{top:e[0],left:e[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>")},o.$mdMenu={open:this.open,close:this.close},o.$mdOpenMenu=t.bind(this,function(){return u.warn("mdMenu: The $mdOpenMenu method is deprecated. Please use `$mdMenu.open`."),this.open.apply(this,arguments)})}MenuController.$inject=["$mdMenu","$attrs","$element","$scope","$mdUtil","$timeout","$rootScope","$q","$log"],t.module("material.components.menu").controller("mdMenuCtrl",MenuController)}(),function(){function MenuDirective(e){function compile(i){i.addClass("md-menu");var r=i.children()[0],o=i.children()[1],a=e.prefixer();a.hasAttribute(r,"ng-click")||(r=r.querySelector(a.buildSelector(["ng-click","ng-mouseenter"]))||r);var s="MD-BUTTON"===r.nodeName||"BUTTON"===r.nodeName;if(r&&s&&!r.hasAttribute("type")&&r.setAttribute("type","button"),!r)throw Error(n+"Expected the menu to have a trigger element.");if(!o||"MD-MENU-CONTENT"!==o.nodeName)throw Error(n+"Expected the menu to contain a `md-menu-content` element.");r&&r.setAttribute("aria-haspopup","true");var l=i[0].querySelectorAll("md-menu"),c=parseInt(i[0].getAttribute("md-nest-level"),10)||0;return l&&t.forEach(e.nodesToArray(l),function(e){e.hasAttribute("md-position-mode")||e.setAttribute("md-position-mode","cascade"),e.classList.add("_md-nested-menu"),e.setAttribute("md-nest-level",c+1)}),link}function link(e,n,i,r){var o=r[0],a=!!r[1],s=t.element('<div class="_md md-open-menu-container md-whiteframe-z2"></div>'),l=n.children()[1];n.addClass("_md"),l.hasAttribute("role")||l.setAttribute("role","menu"),s.append(l),n.on("$destroy",function(){s.remove()}),n.append(s),s[0].style.display="none",o.init(s,{isInMenuBar:a})}var n="Invalid HTML for md-menu: ";return{restrict:"E",require:["mdMenu","?^mdMenuBar"],controller:"mdMenuCtrl",scope:!0,compile:compile}}MenuDirective.$inject=["$mdUtil"],t.module("material.components.menu").directive("mdMenu",MenuDirective)}(),function(){function MenuProvider(e){function menuDefaultOptions(e,r,o,a,s,l,c,u,d,h){function showBackdrop(n,i,r){return r.nestLevel?t.noop:(r.disableParentScroll&&!e.getClosest(r.target,"MD-DIALOG")?r.restoreScroll=e.disableScrollAround(r.element,r.parent):r.disableParentScroll=!1,r.hasBackdrop&&(r.backdrop=e.createBackdrop(n,"md-menu-backdrop md-click-catcher"),d.enter(r.backdrop,a[0].body)),function(){r.backdrop&&r.backdrop.remove(),r.disableParentScroll&&r.restoreScroll()})}function onRemove(e,t,n){function animateRemoval(){return u(t,{addClass:"md-leave"}).start()}function detachAndClean(){t.removeClass("md-active"),detachElement(t,n),n.alreadyOpen=!1}return n.cleanupInteraction(),n.cleanupBackdrop(),n.cleanupResizing(),n.hideBackdrop(),t.removeClass("md-clickable"),n.$destroy===!0?detachAndClean():animateRemoval().then(detachAndClean)}function onShow(n,i,a){function showMenu(){return a.parent.append(i),i[0].style.display="",l(function(e){var t=calculateMenuPosition(i,a);i.removeClass("md-leave"),u(i,{addClass:"md-active",from:p.toCss(t),to:p.toCss({transform:""})}).start().then(e)})}function sanitizeAndConfigure(){if(!a.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");t.extend(a,{alreadyOpen:!1,isRemoved:!1,target:t.element(a.target),parent:t.element(a.parent),menuContentEl:t.element(i[0].querySelector("md-menu-content"))})}function startRepositioningOnResize(){var e=function(e,t){return c.throttle(function(){if(!a.isRemoved){var n=calculateMenuPosition(e,t);e.css(p.toCss(n))}})}(i,a);return s.addEventListener("resize",e),s.addEventListener("orientationchange",e),function(){s.removeEventListener("resize",e),s.removeEventListener("orientationchange",e)}}function setupBackdrop(){return a.backdrop?(a.backdrop.on("click",onBackdropClick),function(){a.backdrop.off("click",onBackdropClick)}):t.noop}function onBackdropClick(e){e.preventDefault(),e.stopPropagation(),n.$apply(function(){a.mdMenuCtrl.close(!0,{closeAll:!0})})}function activateInteraction(){function onMenuKeyDown(t){var n;switch(t.keyCode){case o.KEY_CODE.ESCAPE:a.mdMenuCtrl.close(!1,{closeAll:!0}),n=!0;break;case o.KEY_CODE.UP_ARROW:focusMenuItem(t,a.menuContentEl,a,-1)||a.nestLevel||a.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case o.KEY_CODE.DOWN_ARROW:focusMenuItem(t,a.menuContentEl,a,1)||a.nestLevel||a.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case o.KEY_CODE.LEFT_ARROW:a.nestLevel?a.mdMenuCtrl.close():a.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case o.KEY_CODE.RIGHT_ARROW:var i=e.getClosest(t.target,"MD-MENU");i&&i!=a.parent[0]?t.target.click():a.mdMenuCtrl.triggerContainerProxy(t),n=!0}n&&(t.preventDefault(),t.stopImmediatePropagation())}function captureClickListener(t){function close(){n.$apply(function(){a.mdMenuCtrl.close(!0,{closeAll:!0})})}function hasAnyAttribute(e,t){if(!e)return!1;for(var n,i=0;n=t[i];++i)if(m.hasAttribute(e,n))return!0;return!1}var i=t.target;do{if(i==a.menuContentEl[0])return;if((hasAnyAttribute(i,["ng-click","ng-href","ui-sref"])||"BUTTON"==i.nodeName||"MD-BUTTON"==i.nodeName)&&!hasAnyAttribute(i,["md-prevent-menu-close"])){var r=e.getClosest(i,"MD-MENU");i.hasAttribute("disabled")||r&&r!=a.parent[0]||close();break}}while(i=i.parentNode)}if(!a.menuContentEl[0])return t.noop;a.menuContentEl.on("keydown",onMenuKeyDown),a.menuContentEl[0].addEventListener("click",captureClickListener,!0);var i=a.menuContentEl[0].querySelector(m.buildSelector(["md-menu-focus-target","md-autofocus"]));if(!i)for(var r=a.menuContentEl[0].children.length,s=0;s<r;s++){var l=a.menuContentEl[0].children[s];if(i=l.querySelector(".md-button:not([disabled])"))break;if(l.firstElementChild&&!l.firstElementChild.disabled){i=l.firstElementChild;break}}return i&&i.focus(),function(){a.menuContentEl.off("keydown",onMenuKeyDown),a.menuContentEl[0].removeEventListener("click",captureClickListener,!0)}}return sanitizeAndConfigure(a),a.menuContentEl[0]?r.inherit(a.menuContentEl,a.target):h.warn("$mdMenu: Menu elements should always contain a `md-menu-content` element,otherwise interactivity features will not work properly.",i),a.cleanupResizing=startRepositioningOnResize(),a.hideBackdrop=showBackdrop(n,i,a),showMenu().then(function(e){return a.alreadyOpen=!0,a.cleanupInteraction=activateInteraction(),a.cleanupBackdrop=setupBackdrop(),i.addClass("md-clickable"),e})}function focusMenuItem(t,n,i,r){for(var o,a=e.getClosest(t.target,"MD-MENU-ITEM"),s=e.nodesToArray(n[0].children),l=s.indexOf(a),c=l+r;c>=0&&c<s.length;c+=r){var u=s[c].querySelector(".md-button");if(o=attemptFocus(u))break}return o}function attemptFocus(e){if(e&&e.getAttribute("tabindex")!=-1)return e.focus(),a[0].activeElement==e}function detachElement(e,t){t.preserveElement?toNode(e).style.display="none":toNode(e).parentNode===toNode(t.parent)&&toNode(t.parent).removeChild(toNode(e))}function calculateMenuPosition(t,r){function clamp(e){e.top=Math.max(Math.min(e.top,v.bottom-l.offsetHeight),v.top),e.left=Math.max(Math.min(e.left,v.right-l.offsetWidth),v.left)}function firstVisibleChild(){for(var e=0;e<c.children.length;++e)if("none"!=s.getComputedStyle(c.children[e]).display)return c.children[e]}var o,l=t[0],c=t[0].firstElementChild,u=c.getBoundingClientRect(),d=a[0].body,h=d.getBoundingClientRect(),p=s.getComputedStyle(c),f=r.target[0].querySelector(m.buildSelector("md-menu-origin"))||r.target[0],g=f.getBoundingClientRect(),v={left:h.left+i,top:Math.max(h.top,0)+i,bottom:Math.max(h.bottom,Math.max(h.top,0)+h.height)-i,right:h.right-i},y={top:0,left:0,right:0,bottom:0},b={top:0,left:0,right:0,bottom:0},_=r.mdMenuCtrl.positionMode();"target"!=_.top&&"target"!=_.left&&"target-right"!=_.left||(o=firstVisibleChild(),o&&(o=o.firstElementChild||o,o=o.querySelector(m.buildSelector("md-menu-align-target"))||o,y=o.getBoundingClientRect(),b={top:parseFloat(l.style.top||0),left:parseFloat(l.style.left||0)}));var w={},x="top ";switch(_.top){case"target":w.top=b.top+g.top-y.top;break;case"cascade":w.top=g.top-parseFloat(p.paddingTop)-f.style.top;break;case"bottom":w.top=g.top+g.height;break;default:throw new Error('Invalid target mode "'+_.top+'" specified for md-menu on Y axis.')}var C="rtl"==e.bidi();switch(_.left){case"target":w.left=b.left+g.left-y.left,x+=C?"right":"left";break;case"target-left":w.left=g.left,x+="left";break;case"target-right":w.left=g.right-u.width+(u.right-y.right),x+="right";break;case"cascade":var S=C?g.left-u.width<v.left:g.right+u.width<v.right;w.left=S?g.right-f.style.left:g.left-f.style.left-u.width,x+=S?"left":"right";break;case"right":C?(w.left=g.right-g.width,x+="left"):(w.left=g.right-u.width,x+="right");break;case"left":C?(w.left=g.right-u.width,x+="right"):(w.left=g.left,x+="left");break;default:throw new Error('Invalid target mode "'+_.left+'" specified for md-menu on X axis.')}var E=r.mdMenuCtrl.offsets();w.top+=E.top,w.left+=E.left,clamp(w);var T=Math.round(100*Math.min(g.width/l.offsetWidth,1))/100,M=Math.round(100*Math.min(g.height/l.offsetHeight,1))/100;return{top:Math.round(w.top),left:Math.round(w.left),transform:r.alreadyOpen?n:e.supplant("scale({0},{1})",[T,M]),transformOrigin:x}}var m=e.prefixer(),p=e.dom.animator;return{parent:"body",onShow:onShow,onRemove:onRemove,hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,preserveScope:!0,multiple:!0,themable:!0}}function toNode(e){return e instanceof t.element&&(e=e[0]),e}menuDefaultOptions.$inject=["$mdUtil","$mdTheming","$mdConstant","$document","$window","$q","$$rAF","$animateCss","$animate","$log"];var i=8;return e("$mdMenu").setDefaults({methods:["target"],options:menuDefaultOptions})}MenuProvider.$inject=["$$interimElementProvider"],t.module("material.components.menu").provider("$mdMenu",MenuProvider)}(),function(){function MenuBarController(n,i,r,o,a,s,l,c){this.$element=r,this.$attrs=o,this.$mdConstant=a,this.$mdUtil=l,this.$document=s,this.$scope=n,this.$rootScope=i,this.$timeout=c;var u=this;t.forEach(e,function(e){u[e]=t.bind(u,u[e])})}MenuBarController.$inject=["$scope","$rootScope","$element","$attrs","$mdConstant","$document","$mdUtil","$timeout"],t.module("material.components.menuBar").controller("MenuBarController",MenuBarController);var e=["handleKeyDown","handleMenuHover","scheduleOpenHoveredMenu","cancelScheduledOpen"];MenuBarController.prototype.init=function(){var e=this.$element,t=this.$mdUtil,i=this.$scope,r=this,o=[];e.on("keydown",this.handleKeyDown),this.parentToolbar=t.getClosest(e,"MD-TOOLBAR"),o.push(this.$rootScope.$on("$mdMenuOpen",function(t,n){r.getMenus().indexOf(n[0])!=-1&&(e[0].classList.add("md-open"),n[0].classList.add("md-open"),r.currentlyOpenMenu=n.controller("mdMenu"),
r.currentlyOpenMenu.registerContainerProxy(r.handleKeyDown),r.enableOpenOnHover())})),o.push(this.$rootScope.$on("$mdMenuClose",function(i,o,a){var s=r.getMenus();if(s.indexOf(o[0])!=-1&&(e[0].classList.remove("md-open"),o[0].classList.remove("md-open")),e[0].contains(o[0])){for(var l=o[0];l&&s.indexOf(l)==-1;)l=t.getClosest(l,"MD-MENU",!0);l&&(a.skipFocus||l.querySelector("button:not([disabled])").focus(),r.currentlyOpenMenu=n,r.disableOpenOnHover(),r.setKeyboardMode(!0))}})),i.$on("$destroy",function(){for(r.disableOpenOnHover();o.length;)o.shift()()}),this.setKeyboardMode(!0)},MenuBarController.prototype.setKeyboardMode=function(e){e?this.$element[0].classList.add("md-keyboard-mode"):this.$element[0].classList.remove("md-keyboard-mode")},MenuBarController.prototype.enableOpenOnHover=function(){if(!this.openOnHoverEnabled){var e=this;e.openOnHoverEnabled=!0,e.parentToolbar&&(e.parentToolbar.classList.add("md-has-open-menu"),e.$mdUtil.nextTick(function(){t.element(e.parentToolbar).on("click",e.handleParentClick)},!1)),t.element(e.getMenus()).on("mouseenter",e.handleMenuHover)}},MenuBarController.prototype.handleMenuHover=function(e){this.setKeyboardMode(!1),this.openOnHoverEnabled&&this.scheduleOpenHoveredMenu(e)},MenuBarController.prototype.disableOpenOnHover=function(){this.openOnHoverEnabled&&(this.openOnHoverEnabled=!1,this.parentToolbar&&(this.parentToolbar.classList.remove("md-has-open-menu"),t.element(this.parentToolbar).off("click",this.handleParentClick)),t.element(this.getMenus()).off("mouseenter",this.handleMenuHover))},MenuBarController.prototype.scheduleOpenHoveredMenu=function(e){var n=t.element(e.currentTarget),i=n.controller("mdMenu");this.setKeyboardMode(!1),this.scheduleOpenMenu(i)},MenuBarController.prototype.scheduleOpenMenu=function(e){var t=this,i=this.$timeout;e!=t.currentlyOpenMenu&&(i.cancel(t.pendingMenuOpen),t.pendingMenuOpen=i(function(){t.pendingMenuOpen=n,t.currentlyOpenMenu&&t.currentlyOpenMenu.close(!0,{closeAll:!0}),e.open()},200,!1))},MenuBarController.prototype.handleKeyDown=function(e){var n=this.$mdConstant.KEY_CODE,i=this.currentlyOpenMenu,r=i&&i.isOpen;this.setKeyboardMode(!0);var o,a,s;switch(e.keyCode){case n.DOWN_ARROW:i?i.focusMenuContainer():this.openFocusedMenu(),o=!0;break;case n.UP_ARROW:i&&i.close(),o=!0;break;case n.LEFT_ARROW:a=this.focusMenu(-1),r&&(s=t.element(a).controller("mdMenu"),this.scheduleOpenMenu(s)),o=!0;break;case n.RIGHT_ARROW:a=this.focusMenu(1),r&&(s=t.element(a).controller("mdMenu"),this.scheduleOpenMenu(s)),o=!0}o&&(e&&e.preventDefault&&e.preventDefault(),e&&e.stopImmediatePropagation&&e.stopImmediatePropagation())},MenuBarController.prototype.focusMenu=function(e){var t=this.getMenus(),n=this.getFocusedMenuIndex();n==-1&&(n=this.getOpenMenuIndex());var i=!1;if(n==-1?(n=0,i=!0):(e<0&&n>0||e>0&&n<t.length-e)&&(n+=e,i=!0),i)return t[n].querySelector("button").focus(),t[n]},MenuBarController.prototype.openFocusedMenu=function(){var e=this.getFocusedMenu();e&&t.element(e).controller("mdMenu").open()},MenuBarController.prototype.getMenus=function(){var e=this.$element;return this.$mdUtil.nodesToArray(e[0].children).filter(function(e){return"MD-MENU"==e.nodeName})},MenuBarController.prototype.getFocusedMenu=function(){return this.getMenus()[this.getFocusedMenuIndex()]},MenuBarController.prototype.getFocusedMenuIndex=function(){var e=this.$mdUtil,t=e.getClosest(this.$document[0].activeElement,"MD-MENU");if(!t)return-1;var n=this.getMenus().indexOf(t);return n},MenuBarController.prototype.getOpenMenuIndex=function(){for(var e=this.getMenus(),t=0;t<e.length;++t)if(e[t].classList.contains("md-open"))return t;return-1},MenuBarController.prototype.handleParentClick=function(e){var n=this.querySelector("md-menu.md-open");n&&!n.contains(e.target)&&t.element(n).controller("mdMenu").close(!0,{closeAll:!0})}}(),function(){function MenuBarDirective(e,n){return{restrict:"E",require:"mdMenuBar",controller:"MenuBarController",compile:function(i,r){return r.ariaRole||i[0].setAttribute("role","menubar"),t.forEach(i[0].children,function(n){if("MD-MENU"==n.nodeName){n.hasAttribute("md-position-mode")||(n.setAttribute("md-position-mode","left bottom"),n.querySelector("button, a, md-button").setAttribute("role","menuitem"));var i=e.nodesToArray(n.querySelectorAll("md-menu-content"));t.forEach(i,function(e){e.classList.add("md-menu-bar-menu"),e.classList.add("md-dense"),e.hasAttribute("width")||e.setAttribute("width",5)})}}),i.find("md-menu-item").addClass("md-in-menu-bar"),function(e,t,i,r){t.addClass("_md"),n(e,t),r.init()}}}}MenuBarDirective.$inject=["$mdUtil","$mdTheming"],t.module("material.components.menuBar").directive("mdMenuBar",MenuBarDirective)}(),function(){function MenuDividerDirective(){return{restrict:"E",compile:function(e,t){t.role||e[0].setAttribute("role","separator")}}}t.module("material.components.menuBar").directive("mdMenuDivider",MenuDividerDirective)}(),function(){function MenuItemController(e,t,n){this.$element=t,this.$attrs=n,this.$scope=e}MenuItemController.$inject=["$scope","$element","$attrs"],t.module("material.components.menuBar").controller("MenuItemController",MenuItemController),MenuItemController.prototype.init=function(e){var t=this.$element,n=this.$attrs;this.ngModel=e,"checkbox"!=n.type&&"radio"!=n.type||(this.mode=n.type,this.iconEl=t[0].children[0],this.buttonEl=t[0].children[1],e&&this.initClickListeners())},MenuItemController.prototype.clearNgAria=function(){var e=this.$element[0],n=["role","tabindex","aria-invalid","aria-checked"];t.forEach(n,function(t){e.removeAttribute(t)})},MenuItemController.prototype.initClickListeners=function(){function isSelected(){if("radio"==o){var e=r.ngValue?i.$eval(r.ngValue):r.value;return n.$modelValue==e}return n.$modelValue}function setDisabled(e){e?s.off("click",l):s.on("click",l)}var e=this,n=this.ngModel,i=this.$scope,r=this.$attrs,o=(this.$element,this.mode);this.handleClick=t.bind(this,this.handleClick);var a=this.iconEl,s=t.element(this.buttonEl),l=this.handleClick;r.$observe("disabled",setDisabled),setDisabled(r.disabled),n.$render=function(){e.clearNgAria(),isSelected()?(a.style.display="",s.attr("aria-checked","true")):(a.style.display="none",s.attr("aria-checked","false"))},i.$$postDigest(n.$render)},MenuItemController.prototype.handleClick=function(e){var t,n=this.mode,i=this.ngModel,r=this.$attrs;"checkbox"==n?t=!i.$modelValue:"radio"==n&&(t=r.ngValue?this.$scope.$eval(r.ngValue):r.value),i.$setViewValue(t),i.$render()}}(),function(){function MenuItemDirective(e,n,i){return{controller:"MenuItemController",require:["mdMenuItem","?ngModel"],priority:n.BEFORE_NG_ARIA,compile:function(n,r){function setDefault(e,i,r){r=r||n,r instanceof t.element&&(r=r[0]),r.hasAttribute(e)||r.setAttribute(e,i)}function moveAttrToButton(i){var r=e.prefixer(i);t.forEach(r,function(e){if(n[0].hasAttribute(e)){var t=n[0].getAttribute(e);l[0].setAttribute(e,t),n[0].removeAttribute(e)}})}var o=r.type,a="md-in-menu-bar";if("checkbox"!=o&&"radio"!=o||!n.hasClass(a))setDefault("role","menuitem",n[0].querySelector("md-button, button, a"));else{var s=n[0].textContent,l=t.element('<md-button type="button"></md-button>'),c='<md-icon md-svg-src="'+i.mdChecked+'"></md-icon>';l.html(s),l.attr("tabindex","0"),n.html(""),n.append(t.element(c)),n.append(l),n.addClass("md-indent").removeClass(a),setDefault("role","checkbox"==o?"menuitemcheckbox":"menuitemradio",l),moveAttrToButton("ng-disabled")}return function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}}}MenuItemDirective.$inject=["$mdUtil","$mdConstant","$$mdSvgRegistry"],t.module("material.components.menuBar").directive("mdMenuItem",MenuItemDirective)}(),function(){function MdProgressCircularDirective(e,n,i,r,o,a){function MdProgressCircularLink(a,m,p){function renderCircle(t,i,o,l,c,u){function renderFrame(e){b.attr("stroke-dashoffset",getDashLength(p,g,e,w)),b.attr("transform","rotate("+_+" "+p/2+" "+p/2+")")}var d=++C,h=r.now(),m=i-t,p=getSize(a.mdDiameter),g=getStroke(p),v=o||n.easeFn,y=l||n.duration,_=-90*(c||0),w=u||100;i===t?renderFrame(i):f=s(function animation(){var n=e.Math.max(0,e.Math.min(r.now()-h,y));renderFrame(v(n,t,m,y)),d===C&&n<y&&(f=s(animation))})}function animateIndeterminate(){renderCircle(_,w,n.easeFnIndeterminate,n.durationIndeterminate,x,75),x=++x%4}function startIndeterminateAnimation(){g||(g=o(animateIndeterminate,n.durationIndeterminate,0,!1),animateIndeterminate(),m.addClass(h).removeAttr("aria-valuenow"))}function cleanupIndeterminateAnimation(){g&&(o.cancel(g),g=null,m.removeClass(h))}var f,g,v=m[0],y=t.element(v.querySelector("svg")),b=t.element(v.querySelector("path")),_=n.startIndeterminate,w=n.endIndeterminate,x=0,C=0;i(m),m.toggleClass(d,p.hasOwnProperty("disabled")),a.mdMode===u&&startIndeterminateAnimation(),a.$on("$destroy",function(){cleanupIndeterminateAnimation(),f&&l(f)}),a.$watchGroup(["value","mdMode",function(){var e=v.disabled;return e===!0||e===!1?e:t.isDefined(m.attr("disabled"))}],function(e,t){var n=e[1],i=e[2],r=t[2];if(i!==r&&m.toggleClass(d,!!i),i)cleanupIndeterminateAnimation();else if(n!==c&&n!==u&&(n=u,p.$set("mdMode",n)),n===u)startIndeterminateAnimation();else{var o=clamp(e[0]);cleanupIndeterminateAnimation(),m.attr("aria-valuenow",o),renderCircle(clamp(t[0]),o)}}),a.$watch("mdDiameter",function(t){var n=getSize(t),i=getStroke(n),r=clamp(a.value),o=n/2+"px",s={width:n+"px",height:n+"px"};y[0].setAttribute("viewBox","0 0 "+n+" "+n),y.css(s).css("transform-origin",o+" "+o+" "+o),m.css(s),b.attr("stroke-width",i),b.attr("stroke-linecap","square"),a.mdMode==u?(b.attr("d",getSvgArc(n,i,!0)),b.attr("stroke-dasharray",(n-i)*e.Math.PI*.75),b.attr("stroke-dashoffset",getDashLength(n,i,1,75))):(b.attr("d",getSvgArc(n,i,!1)),b.attr("stroke-dasharray",(n-i)*e.Math.PI),b.attr("stroke-dashoffset",getDashLength(n,i,0,100)),renderCircle(r,r))})}function getSvgArc(e,t,n){var i=e/2,r=t/2,o=i+","+r,a=r+","+i,s=i-r;return"M"+o+"A"+s+","+s+" 0 1 1 "+a+(n?"":"A"+s+","+s+" 0 0 1 "+o)}function getDashLength(t,n,i,r){return(t-n)*e.Math.PI*(3*(r||100)/100-i/100)}function clamp(t){return e.Math.max(0,e.Math.min(t||0,100))}function getSize(e){var t=n.progressSize;if(e){var i=parseFloat(e);return e.lastIndexOf("%")===e.length-1&&(i=i/100*t),i}return t}function getStroke(e){return n.strokeWidth/100*e}var s=e.requestAnimationFrame||e.webkitRequestAnimationFrame||t.noop,l=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame||t.noop,c="determinate",u="indeterminate",d="_md-progress-circular-disabled",h="md-mode-indeterminate";return{restrict:"E",scope:{value:"@",mdDiameter:"@",mdMode:"@"},template:'<svg xmlns="http://www.w3.org/2000/svg"><path fill="none"/></svg>',compile:function(e,n){if(e.attr({"aria-valuemin":0,"aria-valuemax":100,role:"progressbar"}),t.isUndefined(n.mdMode)){var i=n.hasOwnProperty("value")?c:u;n.$set("mdMode",i)}else n.$set("mdMode",n.mdMode.trim());return MdProgressCircularLink}}}MdProgressCircularDirective.$inject=["$window","$mdProgressCircular","$mdTheming","$mdUtil","$interval","$log"],t.module("material.components.progressCircular").directive("mdProgressCircular",MdProgressCircularDirective)}(),function(){function MdProgressCircularProvider(){function linearEase(e,t,n,i){return n*e/i+t}function materialEase(e,t,n,i){var r=(e/=i)*e,o=r*e;return t+n*(6*o*r+-15*r*r+10*o)}var e={progressSize:50,strokeWidth:10,duration:100,easeFn:linearEase,durationIndeterminate:1333,startIndeterminate:1,endIndeterminate:149,easeFnIndeterminate:materialEase,easingPresets:{linearEase:linearEase,materialEase:materialEase}};return{configure:function(n){return e=t.extend(e,n||{})},$get:function(){return e}}}t.module("material.components.progressCircular").provider("$mdProgressCircular",MdProgressCircularProvider)}(),function(){function MdTab(){function postLink(e,n,i,r){if(r){var o=r.getTabElementIndex(n),a=firstChild(n,"md-tab-body").remove(),s=firstChild(n,"md-tab-label").remove(),l=r.insertTab({scope:e,parent:e.$parent,index:o,element:n,template:a.html(),label:s.html()},o);e.select=e.select||t.noop,e.deselect=e.deselect||t.noop,e.$watch("active",function(e){e&&r.select(l.getIndex(),!0)}),e.$watch("disabled",function(){r.refreshIndex()}),e.$watch(function(){return r.getTabElementIndex(n)},function(e){l.index=e,r.updateTabOrder()}),e.$on("$destroy",function(){r.removeTab(l)})}}function firstChild(e,n){for(var i=e[0].children,r=0,o=i.length;r<o;r++){var a=i[r];if(a.tagName===n.toUpperCase())return t.element(a)}return t.element()}return{require:"^?mdTabs",terminal:!0,compile:function(e,n){var i=firstChild(e,"md-tab-label"),r=firstChild(e,"md-tab-body");if(0===i.length&&(i=t.element("<md-tab-label></md-tab-label>"),n.label?i.text(n.label):i.append(e.contents()),0===r.length)){var o=e.contents().detach();r=t.element("<md-tab-body></md-tab-body>"),r.append(o)}return e.append(i),r.html()&&e.append(r),postLink},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect"}}}t.module("material.components.tabs").directive("mdTab",MdTab)}(),function(){function MdTabItem(){return{require:"^?mdTabs",link:function(e,t,n,i){i&&i.attachRipple(e,t)}}}t.module("material.components.tabs").directive("mdTabItem",MdTabItem)}(),function(){function MdTabLabel(){return{terminal:!0}}t.module("material.components.tabs").directive("mdTabLabel",MdTabLabel)}(),function(){function MdTabScroll(e){return{restrict:"A",compile:function(t,n){var i=e(n.mdTabScroll,null,!0);return function(e,t){t.on("mousewheel",function(t){e.$apply(function(){i(e,{$event:t})})})}}}}MdTabScroll.$inject=["$parse"],t.module("material.components.tabs").directive("mdTabScroll",MdTabScroll)}(),function(){function MdTabsController(e,i,r,o,a,s,l,c,u,d,h){function $onInit(){defineOneWayBinding("stretchTabs",handleStretchTabs),defineProperty("focusIndex",handleFocusIndexChange,m.selectedIndex||0),defineProperty("offsetLeft",handleOffsetChange,0),defineProperty("hasContent",handleHasContent,!1),defineProperty("maxTabWidth",handleMaxTabWidth,getMaxTabWidth()),defineProperty("shouldPaginate",handleShouldPaginate,!1),defineBooleanAttribute("noInkBar",handleInkBar),defineBooleanAttribute("dynamicHeight",handleDynamicHeight),defineBooleanAttribute("noPagination"),defineBooleanAttribute("swipeContent"),defineBooleanAttribute("noDisconnect"),defineBooleanAttribute("autoselect"),defineBooleanAttribute("noSelectClick"),defineBooleanAttribute("centerTabs",handleCenterTabs,!1),defineBooleanAttribute("enableDisconnect"),m.scope=e,m.parent=e.$parent,m.tabs=[],m.lastSelectedIndex=null,m.hasFocus=!1,m.styleTabItemFocus=!1,m.shouldCenterTabs=shouldCenterTabs(),m.tabContentPrefix="tab-content-",setupTabsController()}function setupTabsController(){m.selectedIndex=m.selectedIndex||0,compileTemplate(),configureWatchers(),bindEvents(),d(i),s.nextTick(function(){f=getElements(),updateHeightFromContent(),adjustOffset(),updateInkBarStyles(),m.tabs[m.selectedIndex]&&m.tabs[m.selectedIndex].scope.select(),y=!0,updatePagination()})}function compileTemplate(){var e=c.$mdTabsTemplate,n=t.element(i[0].querySelector("md-tab-data"));n.html(e),u(n.contents())(m.parent),delete c.$mdTabsTemplate}function bindEvents(){t.element(r).on("resize",handleWindowResize),e.$on("$destroy",cleanup)}function configureWatchers(){e.$watch("$mdTabsCtrl.selectedIndex",handleSelectedIndexChange)}function defineOneWayBinding(e,t){var n=c.$normalize("md-"+e);t&&defineProperty(e,t),c.$observe(n,function(t){m[e]=t})}function defineBooleanAttribute(e,t){function updateValue(t){m[e]="false"!==t}var n=c.$normalize("md-"+e);t&&defineProperty(e,t),c.hasOwnProperty(n)&&updateValue(c[n]),c.$observe(n,updateValue)}function cleanup(){v=!0,t.element(r).off("resize",handleWindowResize)}function handleStretchTabs(e){var n=getElements();t.element(n.wrapper).toggleClass("md-stretch-tabs",shouldStretchTabs()),updateInkBarStyles()}function handleCenterTabs(e){m.shouldCenterTabs=shouldCenterTabs()}function handleMaxTabWidth(e,n){if(e!==n){var i=getElements();t.forEach(i.tabs,function(t){t.style.maxWidth=e+"px"}),s.nextTick(m.updateInkBarStyles)}}function handleShouldPaginate(e,t){e!==t&&(m.maxTabWidth=getMaxTabWidth(),m.shouldCenterTabs=shouldCenterTabs(),s.nextTick(function(){m.maxTabWidth=getMaxTabWidth(),adjustOffset(m.selectedIndex)}))}function handleHasContent(e){i[e?"removeClass":"addClass"]("md-no-tab-content")}function handleOffsetChange(n){var i=getElements(),r=m.shouldCenterTabs?"":"-"+n+"px";t.element(i.paging).css(o.CSS.TRANSFORM,"translate3d("+r+", 0, 0)"),e.$broadcast("$mdTabsPaginationChanged")}function handleFocusIndexChange(e,t){e!==t&&getElements().tabs[e]&&(adjustOffset(),redirectFocus())}function handleSelectedIndexChange(t,n){t!==n&&(m.selectedIndex=getNearestSafeIndex(t),m.lastSelectedIndex=n,m.updateInkBarStyles(),updateHeightFromContent(),adjustOffset(t),e.$broadcast("$mdTabsChanged"),m.tabs[n]&&m.tabs[n].scope.deselect(),m.tabs[t]&&m.tabs[t].scope.select())}function getTabElementIndex(e){var t=i[0].getElementsByTagName("md-tab");return Array.prototype.indexOf.call(t,e[0])}function handleResizeWhenVisible(){handleResizeWhenVisible.watcher||(handleResizeWhenVisible.watcher=e.$watch(function(){s.nextTick(function(){handleResizeWhenVisible.watcher&&i.prop("offsetParent")&&(handleResizeWhenVisible.watcher(),handleResizeWhenVisible.watcher=null,handleWindowResize())},!1)}))}function keydown(e){switch(e.keyCode){case o.KEY_CODE.LEFT_ARROW:e.preventDefault(),incrementIndex(-1,!0);break;case o.KEY_CODE.RIGHT_ARROW:e.preventDefault(),incrementIndex(1,!0);break;case o.KEY_CODE.SPACE:case o.KEY_CODE.ENTER:e.preventDefault(),p||select(m.focusIndex)}}function select(e,t){p||(m.focusIndex=m.selectedIndex=e),t&&m.noSelectClick||s.nextTick(function(){m.tabs[e].element.triggerHandler("click")},!1)}function scroll(e){m.shouldPaginate&&(e.preventDefault(),m.offsetLeft=fixOffset(m.offsetLeft-e.wheelDelta))}function nextPage(){var e,t,n=getElements(),i=n.canvas.clientWidth,r=i+m.offsetLeft;for(e=0;e<n.tabs.length&&(t=n.tabs[e],!(t.offsetLeft+t.offsetWidth>r));e++);i>t.offsetWidth?m.offsetLeft=fixOffset(t.offsetLeft):m.offsetLeft=fixOffset(t.offsetLeft+(t.offsetWidth-i+1))}function previousPage(){var e,t,n=getElements();for(e=0;e<n.tabs.length&&(t=n.tabs[e],!(t.offsetLeft+t.offsetWidth>=m.offsetLeft));e++);n.canvas.clientWidth>t.offsetWidth?m.offsetLeft=fixOffset(t.offsetLeft+t.offsetWidth-n.canvas.clientWidth):m.offsetLeft=fixOffset(t.offsetLeft)}function handleWindowResize(){m.lastSelectedIndex=m.selectedIndex,m.offsetLeft=fixOffset(m.offsetLeft),s.nextTick(function(){m.updateInkBarStyles(),updatePagination()})}function handleInkBar(e){t.element(getElements().inkBar).toggleClass("ng-hide",e)}function handleDynamicHeight(e){i.toggleClass("md-dynamic-height",e)}function removeTab(e){if(!v){var t=m.selectedIndex,n=m.tabs.splice(e.getIndex(),1)[0];refreshIndex(),m.selectedIndex===t&&(n.scope.deselect(),m.tabs[m.selectedIndex]&&m.tabs[m.selectedIndex].scope.select()),s.nextTick(function(){updatePagination(),m.offsetLeft=fixOffset(m.offsetLeft)})}}function insertTab(e,n){var i=y,r={getIndex:function(){return m.tabs.indexOf(o)},isActive:function(){return this.getIndex()===m.selectedIndex},isLeft:function(){return this.getIndex()<m.selectedIndex},isRight:function(){return this.getIndex()>m.selectedIndex},shouldRender:function(){return!m.noDisconnect||this.isActive()},hasFocus:function(){return m.styleTabItemFocus&&m.hasFocus&&this.getIndex()===m.focusIndex},id:s.nextUid(),hasContent:!(!e.template||!e.template.trim())},o=t.extend(r,e);return t.isDefined(n)?m.tabs.splice(n,0,o):m.tabs.push(o),processQueue(),updateHasContent(),s.nextTick(function(){updatePagination(),setAriaControls(o),i&&m.autoselect&&s.nextTick(function(){s.nextTick(function(){select(m.tabs.indexOf(o))})})}),o}function getElements(){var e={},t=i[0];return e.wrapper=t.querySelector("md-tabs-wrapper"),e.canvas=e.wrapper.querySelector("md-tabs-canvas"),e.paging=e.canvas.querySelector("md-pagination-wrapper"),e.inkBar=e.paging.querySelector("md-ink-bar"),e.contents=t.querySelectorAll("md-tabs-content-wrapper > md-tab-content"),e.tabs=e.paging.querySelectorAll("md-tab-item"),e.dummies=e.canvas.querySelectorAll("md-dummy-tab"),e}function canPageBack(){return m.offsetLeft>0}function canPageForward(){var e=getElements(),t=e.tabs[e.tabs.length-1];return t&&t.offsetLeft+t.offsetWidth>e.canvas.clientWidth+m.offsetLeft}function getFocusedTabId(){var e=m.tabs[m.focusIndex];return e&&e.id?"tab-item-"+e.id:null}function shouldStretchTabs(){switch(m.stretchTabs){case"always":return!0;case"never":return!1;default:return!m.shouldPaginate&&r.matchMedia("(max-width: 600px)").matches}}function shouldCenterTabs(){return m.centerTabs&&!m.shouldPaginate}function shouldPaginate(){if(m.noPagination||!y)return!1;var e=i.prop("clientWidth");return t.forEach(getElements().dummies,function(t){e-=t.offsetWidth}),e<0}function getNearestSafeIndex(e){if(e===-1)return-1;var t,n,i=Math.max(m.tabs.length-e,e);for(t=0;t<=i;t++){if(n=m.tabs[e+t],n&&n.scope.disabled!==!0)return n.getIndex();if(n=m.tabs[e-t],n&&n.scope.disabled!==!0)return n.getIndex()}return e}function defineProperty(e,t,n){Object.defineProperty(m,e,{get:function(){return n},set:function(e){var i=n;n=e,t&&t(e,i)}})}function updatePagination(){m.maxTabWidth=getMaxTabWidth(),m.shouldPaginate=shouldPaginate()}function calcTabsWidth(e){var n=0;return t.forEach(e,function(e){n+=Math.max(e.offsetWidth,e.getBoundingClientRect().width)}),Math.ceil(n)}function getMaxTabWidth(){return i.prop("clientWidth")}function updateTabOrder(){var e=m.tabs[m.selectedIndex],t=m.tabs[m.focusIndex];m.tabs=m.tabs.sort(function(e,t){return e.index-t.index}),m.selectedIndex=m.tabs.indexOf(e),m.focusIndex=m.tabs.indexOf(t)}function incrementIndex(e,t){var n,i=t?"focusIndex":"selectedIndex",r=m[i];for(n=r+e;m.tabs[n]&&m.tabs[n].scope.disabled;n+=e);m.tabs[n]&&(m[i]=n)}function redirectFocus(){m.styleTabItemFocus="keyboard"===h.getLastInteractionType(),getElements().dummies[m.focusIndex].focus()}function adjustOffset(e){var n=getElements();if(t.isNumber(e)||(e=m.focusIndex),n.tabs[e]&&!m.shouldCenterTabs){var i=n.tabs[e],r=i.offsetLeft,o=i.offsetWidth+r;m.offsetLeft=Math.max(m.offsetLeft,fixOffset(o-n.canvas.clientWidth+64)),m.offsetLeft=Math.min(m.offsetLeft,fixOffset(r))}}function processQueue(){g.forEach(function(e){s.nextTick(e)}),g=[]}function updateHasContent(){for(var e=!1,t=0;t<m.tabs.length;t++)if(m.tabs[t].hasContent){e=!0;break}m.hasContent=e}function refreshIndex(){m.selectedIndex=getNearestSafeIndex(m.selectedIndex),m.focusIndex=getNearestSafeIndex(m.focusIndex)}function updateHeightFromContent(){if(!m.dynamicHeight)return i.css("height","");if(!m.tabs.length)return g.push(updateHeightFromContent);var e=getElements(),t=e.contents[m.selectedIndex],r=t?t.offsetHeight:0,o=e.wrapper.offsetHeight,a=r+o,c=i.prop("clientHeight");if(c!==a){"bottom"===i.attr("md-align-tabs")&&(c-=o,a-=o,i.attr("md-border-bottom")!==n&&++c),p=!0;var u={height:c+"px"},d={height:a+"px"};i.css(u),l(i,{from:u,to:d,easing:"cubic-bezier(0.35, 0, 0.25, 1)",duration:.5}).start().done(function(){i.css({transition:"none",height:""}),s.nextTick(function(){i.css("transition","")}),p=!1})}}function updateInkBarStyles(){var e=getElements();if(!e.tabs[m.selectedIndex])return void t.element(e.inkBar).css({left:"auto",right:"auto"});if(!m.tabs.length)return g.push(m.updateInkBarStyles);if(!i.prop("offsetParent"))return handleResizeWhenVisible();var n=m.selectedIndex,r=e.paging.offsetWidth,o=e.tabs[n],a=o.offsetLeft,l=r-a-o.offsetWidth;if(m.shouldCenterTabs){var c=calcTabsWidth(e.tabs);r>c&&s.nextTick(updateInkBarStyles,!1)}updateInkBarClassName(),t.element(e.inkBar).css({left:a+"px",right:l+"px"})}function updateInkBarClassName(){var e=getElements(),n=m.selectedIndex,i=m.lastSelectedIndex,r=t.element(e.inkBar);t.isNumber(i)&&r.toggleClass("md-left",n<i).toggleClass("md-right",n>i)}function fixOffset(e){var t=getElements();if(!t.tabs.length||!m.shouldPaginate)return 0;var n=t.tabs[t.tabs.length-1],i=n.offsetLeft+n.offsetWidth;return e=Math.max(0,e),e=Math.min(i-t.canvas.clientWidth,e)}function attachRipple(e,n){var i=getElements(),r={colorElement:t.element(i.inkBar)};a.attach(e,n,r)}function setAriaControls(e){if(e.hasContent){var n=i[0].querySelectorAll('[md-tab-id="'+e.id+'"]');t.element(n).attr("aria-controls",m.tabContentPrefix+e.id)}}var m=this,p=!1,f=getElements(),g=[],v=!1,y=!1;m.$onInit=$onInit,m.updatePagination=s.debounce(updatePagination,100),m.redirectFocus=redirectFocus,m.attachRipple=attachRipple,m.insertTab=insertTab,m.removeTab=removeTab,m.select=select,m.scroll=scroll,m.nextPage=nextPage,m.previousPage=previousPage,m.keydown=keydown,m.canPageForward=canPageForward,m.canPageBack=canPageBack,m.refreshIndex=refreshIndex,m.incrementIndex=incrementIndex,m.getTabElementIndex=getTabElementIndex,m.updateInkBarStyles=s.debounce(updateInkBarStyles,100),m.updateTabOrder=s.debounce(updateTabOrder,100),m.getFocusedTabId=getFocusedTabId,1===t.version.major&&t.version.minor<=4&&this.$onInit()}MdTabsController.$inject=["$scope","$element","$window","$mdConstant","$mdTabInkRipple","$mdUtil","$animateCss","$attrs","$compile","$mdTheming","$mdInteraction"],t.module("material.components.tabs").controller("MdTabsController",MdTabsController)}(),function(){function MdTabs(e){return{scope:{selectedIndex:"=?mdSelected"},template:function(t,n){return n.$mdTabsTemplate=t.html(),'<md-tabs-wrapper> <md-tab-data></md-tab-data> <md-prev-button tabindex="-1" role="button" aria-label="Previous Page" aria-disabled="{{!$mdTabsCtrl.canPageBack()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.previousPage()"> <md-icon md-svg-src="'+e.mdTabsArrow+'"></md-icon> </md-prev-button> <md-next-button tabindex="-1" role="button" aria-label="Next Page" aria-disabled="{{!$mdTabsCtrl.canPageForward()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.nextPage()"> <md-icon md-svg-src="'+e.mdTabsArrow+'"></md-icon> </md-next-button> <md-tabs-canvas tabindex="{{ $mdTabsCtrl.hasFocus ? -1 : 0 }}" aria-activedescendant="{{$mdTabsCtrl.getFocusedTabId()}}" ng-focus="$mdTabsCtrl.redirectFocus()" ng-class="{ \'md-paginated\': $mdTabsCtrl.shouldPaginate, \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" ng-keydown="$mdTabsCtrl.keydown($event)" role="tablist"> <md-pagination-wrapper ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" md-tab-scroll="$mdTabsCtrl.scroll($event)"> <md-tab-item tabindex="-1" class="md-tab" ng-repeat="tab in $mdTabsCtrl.tabs" role="tab" md-tab-id="{{::tab.id}}"aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-click="$mdTabsCtrl.select(tab.getIndex())" ng-class="{ \'md-active\':    tab.isActive(), \'md-focused\':   tab.hasFocus(), \'md-disabled\':  tab.scope.disabled }" ng-disabled="tab.scope.disabled" md-swipe-left="$mdTabsCtrl.nextPage()" md-swipe-right="$mdTabsCtrl.previousPage()" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-tab-item> <md-ink-bar></md-ink-bar> </md-pagination-wrapper> <md-tabs-dummy-wrapper class="md-visually-hidden md-dummy-wrapper"> <md-dummy-tab class="md-tab" tabindex="-1" id="tab-item-{{::tab.id}}" md-tab-id="{{::tab.id}}"aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-focus="$mdTabsCtrl.hasFocus = true" ng-blur="$mdTabsCtrl.hasFocus = false" ng-repeat="tab in $mdTabsCtrl.tabs" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-dummy-tab> </md-tabs-dummy-wrapper> </md-tabs-canvas> </md-tabs-wrapper> <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent && $mdTabsCtrl.selectedIndex >= 0" class="_md"> <md-tab-content id="{{:: $mdTabsCtrl.tabContentPrefix + tab.id}}" class="_md" role="tabpanel" aria-labelledby="tab-item-{{::tab.id}}" md-swipe-left="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(1)" md-swipe-right="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(-1)" ng-if="tab.hasContent" ng-repeat="(index, tab) in $mdTabsCtrl.tabs" ng-class="{ \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null, \'md-active\':        tab.isActive(), \'md-left\':          tab.isLeft(), \'md-right\':         tab.isRight(), \'md-no-scroll\':     $mdTabsCtrl.dynamicHeight }"> <div md-tabs-template="::tab.template" md-connected-if="tab.isActive()" md-scope="::tab.parent" ng-if="$mdTabsCtrl.enableDisconnect || tab.shouldRender()"></div> </md-tab-content> </md-tabs-content-wrapper>'},controller:"MdTabsController",controllerAs:"$mdTabsCtrl",bindToController:!0}}MdTabs.$inject=["$$mdSvgRegistry"],t.module("material.components.tabs").directive("mdTabs",MdTabs)}(),function(){function MdTabsDummyWrapper(e,t){return{require:"^?mdTabs",link:function(n,i,r,o){if(o){var a,s,l=function(){o.updatePagination(),o.updateInkBarStyles()};if("MutationObserver"in t){var c={childList:!0,subtree:!0,characterData:!0};a=new MutationObserver(l),a.observe(i[0],c),s=a.disconnect.bind(a)}else{var u=e.debounce(l,15,null,!1);i.on("DOMSubtreeModified",u),s=i.off.bind(i,"DOMSubtreeModified",u)}n.$on("$destroy",function(){s()})}}}}MdTabsDummyWrapper.$inject=["$mdUtil","$window"],t.module("material.components.tabs").directive("mdTabsDummyWrapper",MdTabsDummyWrapper)}(),function(){function MdTabsTemplate(e,t){function link(n,i,r,o){function handleScope(){n.$watch("connected",function(e){e===!1?disconnect():reconnect()}),n.$on("$destroy",reconnect)}function disconnect(){o.enableDisconnect&&t.disconnectScope(a)}function reconnect(){o.enableDisconnect&&t.reconnectScope(a)}if(o){var a=o.enableDisconnect?n.compileScope.$new():n.compileScope;return i.html(n.template),e(i.contents())(a),t.nextTick(handleScope)}}return{restrict:"A",link:link,scope:{template:"=mdTabsTemplate",connected:"=?mdConnectedIf",compileScope:"=mdScope"},require:"^?mdTabs"}}MdTabsTemplate.$inject=["$compile","$mdUtil"],t.module("material.components.tabs").directive("mdTabsTemplate",MdTabsTemplate)}(),function(){t.module("material.core").constant("$MD_THEME_CSS",'md-autocomplete.md-THEME_NAME-theme{background:"{{background-A100}}"}md-autocomplete.md-THEME_NAME-theme[disabled]:not([md-floating-label]){background:"{{background-100}}"}md-autocomplete.md-THEME_NAME-theme button md-icon path{fill:"{{background-600}}"}md-autocomplete.md-THEME_NAME-theme button:after{background:"{{background-600-0.3}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme{background:"{{background-A100}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li{color:"{{background-900}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li .highlight{color:"{{background-600}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li.selected,.md-autocomplete-suggestions-container.md-THEME_NAME-theme li:hover{background:"{{background-200}}"}md-backdrop{background-color:"{{background-900-0.0}}"}md-backdrop.md-opaque.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-bottom-sheet.md-THEME_NAME-theme{background-color:"{{background-50}}";border-top-color:"{{background-300}}"}md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item{color:"{{foreground-1}}"}md-bottom-sheet.md-THEME_NAME-theme .md-subheader{background-color:"{{background-50}}";color:"{{foreground-1}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme:not([disabled]):hover{background-color:"{{background-500-0.2}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover{background-color:transparent}.md-button.md-THEME_NAME-theme.md-fab md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab,.md-button.md-THEME_NAME-theme.md-primary.md-raised{color:"{{primary-contrast}}";background-color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon{color:"{{primary-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover{background-color:"{{primary-600}}"}.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-fab{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-raised{color:"{{background-900}}";background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) md-icon{color:"{{background-900}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover{background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused{background-color:"{{background-200}}"}.md-button.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab,.md-button.md-THEME_NAME-theme.md-warn.md-raised{color:"{{warn-contrast}}";background-color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon{color:"{{warn-contrast}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover{background-color:"{{warn-600}}"}.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab,.md-button.md-THEME_NAME-theme.md-accent.md-raised{color:"{{accent-contrast}}";background-color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent[disabled],.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled],.md-button.md-THEME_NAME-theme.md-warn[disabled],.md-button.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}";cursor:default}.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon,.md-button.md-THEME_NAME-theme[disabled] md-icon{color:"{{foreground-3}}"}.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled]{background-color:"{{foreground-4}}"}.md-button.md-THEME_NAME-theme[disabled]{background-color:transparent}._md a.md-THEME_NAME-theme:not(.md-button).md-primary{color:"{{primary-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-primary:hover{color:"{{primary-700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent:hover{color:"{{accent-700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent{color:"{{accent-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent:hover{color:"{{accent-A700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn{color:"{{warn-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn:hover{color:"{{warn-700}}"}md-card.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-hue-1}}";border-radius:2px}md-card.md-THEME_NAME-theme .md-card-image{border-radius:2px 2px 0 0}md-card.md-THEME_NAME-theme md-card-header md-card-avatar md-icon{color:"{{background-color}}";background-color:"{{foreground-3}}"}md-card.md-THEME_NAME-theme md-card-header md-card-header-text .md-subhead,md-card.md-THEME_NAME-theme md-card-title md-card-title-text:not(:only-child) .md-subhead{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme .md-ripple{color:"{{accent-A700}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before{background-color:"{{accent-color-0.26}}"}md-checkbox.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon{background-color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after{border-color:"{{accent-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple{color:"{{primary-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon{background-color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after{border-color:"{{primary-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple{color:"{{warn-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon{background-color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before{background-color:"{{warn-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled]:not(.md-checked) .md-icon{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon{background-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-icon:after{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-label{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips{box-shadow:0 1px "{{foreground-4}}"}md-chips.md-THEME_NAME-theme .md-chips.md-focused{box-shadow:0 2px "{{primary-color}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input{color:"{{foreground-1}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-moz-placeholder,md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-moz-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-ms-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme md-chip{background:"{{background-300}}";color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip md-icon{color:"{{background-700}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused{background:"{{primary-color}}";color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused md-icon{color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip._md-chip-editing{background:transparent;color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path{fill:"{{background-500}}"}.md-contact-suggestion span.md-contact-email{color:"{{background-400}}"}md-content.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-default}}"}.md-calendar.md-THEME_NAME-theme{background:"{{background-A100}}";color:"{{background-A200-0.87}}"}.md-calendar.md-THEME_NAME-theme tr:last-child td{border-bottom-color:"{{background-200}}"}.md-THEME_NAME-theme .md-calendar-day-header{background:"{{background-300}}";color:"{{background-A200-0.87}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today .md-calendar-date-selection-indicator{border:1px solid "{{primary-500}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today.md-calendar-date-disabled{color:"{{primary-500-0.6}}"}.md-calendar-date.md-focus .md-THEME_NAME-theme .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date-selection-indicator:hover{background:"{{background-300}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-selected-date .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date.md-focus.md-calendar-selected-date .md-calendar-date-selection-indicator{background:"{{primary-500}}";color:"{{primary-500-contrast}}";border-color:transparent}.md-THEME_NAME-theme .md-calendar-date-disabled,.md-THEME_NAME-theme .md-calendar-month-label-disabled{color:"{{background-A200-0.435}}"}.md-THEME_NAME-theme .md-datepicker-input{color:"{{foreground-1}}"}.md-THEME_NAME-theme .md-datepicker-input:-moz-placeholder,.md-THEME_NAME-theme .md-datepicker-input::-moz-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input:-ms-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input::-webkit-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input-container{border-bottom-color:"{{foreground-4}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-invalid,.md-warn .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar-pane{border-color:"{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-triangle-button .md-datepicker-expand-triangle{border-top-color:"{{foreground-2}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon,.md-THEME_NAME-theme .md-datepicker-open.md-accent .md-datepicker-calendar-icon{color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-open.md-warn .md-datepicker-calendar-icon,.md-warn .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar{background:"{{background-A100}}"}.md-THEME_NAME-theme .md-datepicker-input-mask-opaque{box-shadow:0 0 0 9999px "{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-input-container{background:"{{background-hue-1}}"}md-dialog.md-THEME_NAME-theme{border-radius:4px;background-color:"{{background-hue-1}}";color:"{{foreground-1}}"}md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions,md-dialog.md-THEME_NAME-theme.md-content-overflow md-dialog-actions,md-divider.md-THEME_NAME-theme{border-top-color:"{{foreground-4}}"}.layout-gt-lg-row>md-divider.md-THEME_NAME-theme,.layout-gt-md-row>md-divider.md-THEME_NAME-theme,.layout-gt-sm-row>md-divider.md-THEME_NAME-theme,.layout-gt-xs-row>md-divider.md-THEME_NAME-theme,.layout-lg-row>md-divider.md-THEME_NAME-theme,.layout-md-row>md-divider.md-THEME_NAME-theme,.layout-row>md-divider.md-THEME_NAME-theme,.layout-sm-row>md-divider.md-THEME_NAME-theme,.layout-xl-row>md-divider.md-THEME_NAME-theme,.layout-xs-row>md-divider.md-THEME_NAME-theme{border-right-color:"{{foreground-4}}"}md-icon.md-THEME_NAME-theme{color:"{{foreground-2}}"}md-icon.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}md-icon.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}md-icon.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-input-container.md-THEME_NAME-theme .md-input{color:"{{foreground-1}}";border-color:"{{foreground-4}}"}md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme>md-icon{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme .md-placeholder,md-input-container.md-THEME_NAME-theme label{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme label.md-required:after{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-focused):not(.md-input-invalid) label.md-required:after{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation,md-input-container.md-THEME_NAME-theme .md-input-messages-animation{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation .md-char-counter,md-input-container.md-THEME_NAME-theme .md-input-messages-animation .md-char-counter{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-moz-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-ms-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-webkit-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-resized .md-input{border-color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon{color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input{border-color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent md-icon{color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn md-icon{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter,md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input-message-animation,md-input-container.md-THEME_NAME-theme.md-input-invalid label{color:"{{warn-A700}}"}[disabled] md-input-container.md-THEME_NAME-theme .md-input,md-input-container.md-THEME_NAME-theme .md-input[disabled]{border-bottom-color:transparent;color:"{{foreground-3}}";background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4{color:"{{foreground-1}}"}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style{background-color:"{{background-100}}"}md-list.md-THEME_NAME-theme md-list-item .md-avatar-icon{background-color:"{{foreground-3}}";color:"{{background-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight{color:"{{primary-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight.md-accent{color:"{{accent-color}}"}md-menu-content.md-THEME_NAME-theme{background-color:"{{background-A100}}"}md-menu-content.md-THEME_NAME-theme md-menu-item{color:"{{background-A200-0.87}}"}md-menu-content.md-THEME_NAME-theme md-menu-item md-icon{color:"{{background-A200-0.54}}"}md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled],md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled] md-icon{color:"{{background-A200-0.25}}"}md-menu-content.md-THEME_NAME-theme md-menu-divider{background-color:"{{background-A200-0.11}}"}md-menu-bar.md-THEME_NAME-theme>button.md-button{color:"{{foreground-2}}";border-radius:2px}md-menu-bar.md-THEME_NAME-theme md-menu.md-open>button,md-menu-bar.md-THEME_NAME-theme md-menu>button:focus{outline:none;background:"{{background-200}}"}md-menu-bar.md-THEME_NAME-theme.md-open:not(.md-keyboard-mode) md-menu:hover>button{background-color:"{{ background-500-0.2}}"}md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:focus,md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:hover{background:transparent}md-menu-content.md-THEME_NAME-theme .md-menu>.md-button:after{color:"{{background-A200-0.54}}"}md-menu-content.md-THEME_NAME-theme .md-menu.md-open>.md-button{background-color:"{{ background-500-0.2}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar{background-color:"{{background-A100}}";color:"{{background-A200}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler{background-color:"{{primary-color}}";color:"{{background-A100-0.87}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler md-icon{color:"{{background-A100-0.87}}"}md-nav-bar.md-THEME_NAME-theme .md-nav-bar{background-color:transparent;border-color:"{{foreground-4}}"}md-nav-bar.md-THEME_NAME-theme .md-button._md-nav-button.md-unselected{color:"{{foreground-2}}"}md-nav-bar.md-THEME_NAME-theme md-nav-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}._md-panel-backdrop.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-progress-circular.md-THEME_NAME-theme path{stroke:"{{primary-color}}"}md-progress-circular.md-THEME_NAME-theme.md-warn path{stroke:"{{warn-color}}"}md-progress-circular.md-THEME_NAME-theme.md-accent path{stroke:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme .md-container{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme .md-bar{background-color:"{{primary-color}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-container{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar{background-color:"{{warn-color}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-container{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar{background-color:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before{background:radial-gradient("{{warn-100}}" 0,"{{warn-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before{background:radial-gradient("{{accent-100}}" 0,"{{accent-100}}" 16%,transparent 42%)}md-radio-button.md-THEME_NAME-theme .md-off{border-color:"{{foreground-2}}"}md-radio-button.md-THEME_NAME-theme .md-on{background-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-off{border-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme .md-container .md-ripple{color:"{{accent-A700}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on{background-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off{border-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple{color:"{{primary-600}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on{background-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off{border-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple{color:"{{warn-600}}"}md-radio-button.md-THEME_NAME-theme[disabled],md-radio-group.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}"}md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on{border-color:"{{foreground-3}}"}md-radio-group.md-THEME_NAME-theme .md-checked .md-ink-ripple{color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme .md-checked:not([disabled]).md-primary .md-ink-ripple,md-radio-group.md-THEME_NAME-theme.md-primary .md-checked:not([disabled]) .md-ink-ripple{color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme .md-checked.md-primary .md-ink-ripple{color:"{{warn-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before{background-color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-primary .md-checked .md-container:before{background-color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-warn .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-warn .md-checked .md-container:before{background-color:"{{warn-color-0.26}}"}md-input-container md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-input-container:not(.md-input-focused):not(.md-input-invalid) md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{foreground-3}}"}md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value,md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{primary-color}}"}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme[disabled] .md-select-value{border-bottom-color:transparent;background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-select.md-THEME_NAME-theme .md-select-value{border-bottom-color:"{{foreground-4}}"}md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value{border-bottom-color:"{{primary-color}}";color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value.md-select-placeholder{color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-value{border-bottom-color:"{{accent-color}}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-value{border-bottom-color:"{{warn-color}}"}md-select.md-THEME_NAME-theme[disabled] .md-select-icon,md-select.md-THEME_NAME-theme[disabled] .md-select-value,md-select.md-THEME_NAME-theme[disabled] .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-icon{color:"{{foreground-2}}"}md-select-menu.md-THEME_NAME-theme md-content{background:"{{background-A100}}"}md-select-menu.md-THEME_NAME-theme md-content md-optgroup{color:"{{background-600-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option{color:"{{background-900-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[disabled] .md-text{color:"{{background-400-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):focus,md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):hover{background:"{{background-200}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]{color:"{{primary-500}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]:focus{color:"{{primary-600}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent{color:"{{accent-color}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent:focus{color:"{{accent-A700}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ripple{color:"{{primary-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ripple{color:"{{background-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ink-ripple{color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon{background-color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected].md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon:after{border-color:"{{primary-contrast-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}.md-checkbox-enabled.md-THEME_NAME-theme md-option .md-text{color:"{{background-900-0.87}}"}md-sidenav.md-THEME_NAME-theme,md-sidenav.md-THEME_NAME-theme md-content{background-color:"{{background-hue-1}}"}md-slider.md-THEME_NAME-theme .md-track{background-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme .md-track-ticks{color:"{{background-contrast}}"}md-slider.md-THEME_NAME-theme .md-focus-ring{background-color:"{{accent-A200-0.2}}"}md-slider.md-THEME_NAME-theme .md-disabled-thumb{border-color:"{{background-color}}";background-color:"{{background-color}}"}md-slider.md-THEME_NAME-theme.md-min .md-thumb:after{background-color:"{{background-color}}";border-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme.md-min .md-focus-ring{background-color:"{{foreground-3-0.38}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-thumb:after{background-color:"{{background-contrast}}";border-color:transparent}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme .md-track.md-track-fill{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb:after{border-color:"{{accent-color}}";background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign:after{border-top-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb-text{color:"{{accent-contrast}}"}md-slider.md-THEME_NAME-theme.md-warn .md-focus-ring{background-color:"{{warn-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after{border-color:"{{warn-color}}";background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign:after{border-top-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text{color:"{{warn-contrast}}"}md-slider.md-THEME_NAME-theme.md-primary .md-focus-ring{background-color:"{{primary-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after{border-color:"{{primary-color}}";background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign:after{border-top-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text{color:"{{primary-contrast}}"}md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after{border-color:transparent}md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after,md-slider.md-THEME_NAME-theme[disabled][md-discrete] .md-thumb:after{background-color:"{{foreground-3}}";border-color:transparent}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-disabled-thumb{border-color:transparent;background-color:transparent}md-slider-container[disabled]>:first-child:not(md-slider),md-slider-container[disabled]>:last-child:not(md-slider){color:"{{foreground-3}}"}.md-subheader.md-THEME_NAME-theme{color:"{{ foreground-2-0.23 }}";background-color:"{{background-default}}"}.md-subheader.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-subheader.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-subheader.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme .md-ink-ripple{color:"{{background-500}}"}md-switch.md-THEME_NAME-theme .md-thumb{background-color:"{{background-50}}"}md-switch.md-THEME_NAME-theme .md-bar{background-color:"{{background-500}}"}md-switch.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked .md-thumb{background-color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked .md-bar{background-color:"{{accent-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-focused .md-thumb:before{background-color:"{{accent-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-ink-ripple{color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb{background-color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar{background-color:"{{primary-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary.md-focused .md-thumb:before{background-color:"{{primary-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-ink-ripple{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb{background-color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar{background-color:"{{warn-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn.md-focused .md-thumb:before{background-color:"{{warn-color-0.26}}"}md-switch.md-THEME_NAME-theme[disabled] .md-thumb{background-color:"{{background-400}}"}md-switch.md-THEME_NAME-theme[disabled] .md-bar{background-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme md-tabs-wrapper{background-color:transparent;border-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme .md-paginator md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme md-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme .md-tab{color:"{{foreground-2}}"}md-tabs.md-THEME_NAME-theme .md-tab[disabled],md-tabs.md-THEME_NAME-theme .md-tab[disabled] md-icon{color:"{{foreground-3}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-active,md-tabs.md-THEME_NAME-theme .md-tab.md-active md-icon,md-tabs.md-THEME_NAME-theme .md-tab.md-focused,md-tabs.md-THEME_NAME-theme .md-tab.md-focused md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-focused{background:"{{primary-color-0.1}}"}md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper{background-color:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper{background-color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper{background-color:"{{warn-color}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{primary-color}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toast.md-THEME_NAME-theme .md-toast-content{background-color:#323232;color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button{color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight{color:"{{accent-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-primary{color:"{{primary-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-warn{color:"{{warn-color}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar){background-color:"{{primary-color}}";color:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) md-icon{color:"{{primary-contrast}}";fill:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) .md-button[disabled] md-icon{color:"{{primary-contrast-0.26}}";fill:"{{primary-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-ink-ripple{color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent md-icon{color:"{{accent-contrast}}";fill:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-button[disabled] md-icon{color:"{{accent-contrast-0.26}}";fill:"{{accent-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-warn{background-color:"{{warn-color}}";color:"{{warn-contrast}}"}.md-panel.md-tooltip.md-THEME_NAME-theme{color:"{{background-700-contrast}}";background-color:"{{background-700}}"}body.md-THEME_NAME-theme,html.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-color}}"}');
}()}(window,window.angular),window.ngMaterial={version:{full:"1.1.3-master-0619e30"}}},function(e,t){!function(e,t){"use strict";function ngMessageDirectiveFactory(){function contains(e,t){if(e)return i(e)?e.indexOf(t)>=0:e.hasOwnProperty(t)}return["$animate",function(e){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(t,n,r,o,a){var s,l=n[0],c=r.ngMessage||r.when,u=r.ngMessageExp||r.whenExp,d=function(e){s=e?i(e)?e:e.split(/[\s,]+/):null,o.reRender()};u?(d(t.$eval(u)),t.$watchCollection(u,d)):d(c);var h,m;o.register(l,m={test:function(e){return contains(s,e)},attach:function(){h||a(function(t,i){e.enter(t,null,n),h=t;var r=h.$$attachId=o.getAttachId();h.on("$destroy",function(){h&&h.$$attachId===r&&(o.deregister(l),m.detach()),i.$destroy()})})},detach:function(){if(h){var t=h;h=null,e.leave(t)}}})}}}]}var n,i,r,o;t.module("ngMessages",[],function(){n=t.forEach,i=t.isArray,r=t.isString,o=t.element}).directive("ngMessages",["$animate",function(e){function isAttrTruthy(e,t){return r(t)&&0===t.length||truthy(e.$eval(t))}function truthy(e){return r(e)?e.length:!!e}var t="ng-active",i="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(r,o,a){function findPreviousMessage(e,t){for(var n=t,i=[];n&&n!==e;){var r=n.$$ngMessageNode;if(r&&r.length)return h[r];n.childNodes.length&&i.indexOf(n)===-1?(i.push(n),n=n.childNodes[n.childNodes.length-1]):n.previousSibling?n=n.previousSibling:(n=n.parentNode,i.push(n))}}function insertMessageNode(e,t,n){var i=h[n];if(s.head){var r=findPreviousMessage(e,t);r?(i.next=r.next,r.next=i):(i.next=s.head,s.head=i)}else s.head=i}function removeMessageNode(e,t,n){var i=h[n],r=findPreviousMessage(e,t);r?r.next=i.next:s.head=i.next}var s=this,l=0,c=0;this.getAttachId=function(){return c++};var u,d,h=this.messages={};this.render=function(l){l=l||{},u=!1,d=l;for(var c=isAttrTruthy(o,a.ngMessagesMultiple)||isAttrTruthy(o,a.multiple),h=[],m={},p=s.head,f=!1,g=0;null!=p;){g++;var v=p.message,y=!1;f||n(l,function(e,t){if(!y&&truthy(e)&&v.test(t)){if(m[t])return;m[t]=!0,y=!0,v.attach()}}),y?f=!c:h.push(v),p=p.next}n(h,function(e){e.detach()}),h.length!==g?e.setClass(r,t,i):e.setClass(r,i,t)},o.$watchCollection(a.ngMessages||a.for,s.render),r.on("$destroy",function(){n(h,function(e){e.message.detach()})}),this.reRender=function(){u||(u=!0,o.$evalAsync(function(){u&&d&&s.render(d)}))},this.register=function(e,t){var n=l.toString();h[n]={message:t},insertMessageNode(r[0],e,n),e.$$ngMessageNode=n,l++,s.reRender()},this.deregister=function(e){var t=e.$$ngMessageNode;delete e.$$ngMessageNode,removeMessageNode(r[0],e,t),delete h[t],s.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(e,t,n){function replaceElementWithMarker(e,i){var r=n.$$createComment?n.$$createComment("ngMessagesInclude",i):t[0].createComment(" ngMessagesInclude: "+i+" "),a=o(r);e.after(a),e.remove()}return{restrict:"AE",require:"^^ngMessages",link:function(t,i,o){var a=o.ngMessagesInclude||o.src;e(a).then(function(e){t.$$destroyed||(r(e)&&!e.trim()?replaceElementWithMarker(i,a):n(e)(t,function(e){i.after(e),replaceElementWithMarker(i,a)}))})}}}]).directive("ngMessage",ngMessageDirectiveFactory()).directive("ngMessageExp",ngMessageDirectiveFactory())}(window,window.angular)},function(e,t){!function(){"use strict";var e=angular.module("hj.modal",[]);e.factory("ModalService",["$document","$compile","$controller","$http","$rootScope","$q","$templateCache","$timeout",function(e,t,n,i,r,o,a,s){function ModalService(){var c=this,u=function(e,t){var n=o.defer();if(e)n.resolve(e);else if(t){var r=a.get(t);r?n.resolve(r):i.get(t).then(function(e){a.put(t,e.data),n.resolve(e.data)},function(e){n.reject(e)})}else n.reject("No template or templateUrl has been specified.");return n.promise};c.showModal=function(i){i.showingClass=i.showingClass||"hj-modal--showing";var a=o.defer();return u(i.template,i.templateUrl).then(function(c){var u=r.$new();u.$scope=u;var d=o.defer(),h=function(e,t){t=t||0,p(),s(function(){d.resolve(e),f()},t)},m=function(e){e=e||0,p(),s(function(){d.reject(),f()},e)},p=function(){s(i.appendElement?function(){i.appendElement.removeClass(i.showingClass)}:function(){l.removeClass(i.showingClass)})},f=function(){u.$destroy(),x.remove(),e.off("keydown",g)};u.$modal={close:h,dismiss:m};var g=function(e){27===e.keyCode&&m()};e.on("keydown",g);var v=i.inputs||{},y=i.controller;u=angular.extend(u,v);var b;y&&"string"==typeof y&&i.controllerAs&&(y=y+" as "+i.controllerAs),y&&"string"!=typeof y&&angular.injector.$$annotate(y),b=n(y||function(){},u),i.controllerAs&&(y&&"string"!=typeof y&&(u[i.controllerAs]=b),y||(u[i.controllerAs]=v));var _=angular.element(c),w=t(_),x=w(u);u.$element=x;var C=i.appendElement?i.appendElement:l;C.append(x),s(function(){C.addClass(i.showingClass)});var S={controller:b,scope:u,element:x,result:d.promise,close:h,dismiss:m};a.resolve(S)}).then(null,function(e){a.reject(e)}),a.promise}}var l=angular.element(e[0].body);return new ModalService}])}()},function(e,t){!function(e,t){"use strict";function $SanitizeProvider(){function toMap(e,t){var n,i={},r=e.split(",");for(n=0;n<r.length;n++)i[t?a(r[n]):r[n]]=!0;return i}function htmlParserImpl(t,n){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t),h.innerHTML=t;var i=5;do{if(0===i)throw u("uinput","Failed to sanitize html because the input is unstable");i--,e.document.documentMode&&stripCustomNsAttrs(h),t=h.innerHTML,h.innerHTML=t}while(t!==h.innerHTML);for(var r=h.firstChild;r;){switch(r.nodeType){case 1:n.start(r.nodeName.toLowerCase(),attrToMap(r.attributes));break;case 3:n.chars(r.textContent)}var o;if(!(o=r.firstChild)&&(1===r.nodeType&&n.end(r.nodeName.toLowerCase()),o=r.nextSibling,!o))for(;null==o&&(r=r.parentNode,r!==h);)o=r.nextSibling,1===r.nodeType&&n.end(r.nodeName.toLowerCase());r=o}for(;r=h.firstChild;)h.removeChild(r)}function attrToMap(e){for(var t={},n=0,i=e.length;n<i;n++){var r=e[n];t[r.name]=r.value}return t}function encodeEntities(e){return e.replace(/&/g,"&amp;").replace(m,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(p,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlSanitizeWriterImpl(e,t){var i=!1,o=n(e,e.push);return{start:function(e,n){e=a(e),!i&&x[e]&&(i=e),i||C[e]!==!0||(o("<"),o(e),r(n,function(n,i){var r=a(i),s="img"===e&&"src"===r||"background"===r;M[r]!==!0||S[r]===!0&&!t(n,s)||(o(" "),o(i),o('="'),o(encodeEntities(n)),o('"'))}),o(">"))},end:function(e){e=a(e),i||C[e]!==!0||f[e]===!0||(o("</"),o(e),o(">")),e==i&&(i=!1)},chars:function(e){i||o(encodeEntities(e))}}}function stripCustomNsAttrs(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,i=0,r=n.length;i<r;i++){var o=n[i],a=o.name.toLowerCase();"xmlns:ns1"!==a&&0!==a.lastIndexOf("ns1:",0)||(t.removeAttributeNode(o),i--,r--)}var s=t.firstChild;s&&stripCustomNsAttrs(s),t=t.nextSibling}}var d=!1;this.$get=["$$sanitizeUri",function(e){return d&&i(C,w),function(t){var n=[];return l(t,c(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return o(e)?(d=e,this):d},n=t.bind,i=t.extend,r=t.forEach,o=t.isDefined,a=t.lowercase,s=t.noop,l=htmlParserImpl,c=htmlSanitizeWriterImpl;var h,m=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p=/([^#-~ |!])/g,f=toMap("area,br,col,hr,img,wbr"),g=toMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v=toMap("rp,rt"),y=i({},v,g),b=i({},g,toMap("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),_=i({},v,toMap("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),w=toMap("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),x=toMap("script,style"),C=i({},f,b,_,y),S=toMap("background,cite,href,longdesc,src,xlink:href"),E=toMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),T=toMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),M=i({},S,T,E);!function(e){var t;if(!e.document||!e.document.implementation)throw u("noinert","Can't create an inert html document");t=e.document.implementation.createHTMLDocument("inert");var n=t.documentElement||t.getDocumentElement(),i=n.getElementsByTagName("body");if(1===i.length)h=i[0];else{var r=t.createElement("html");h=t.createElement("body"),r.appendChild(h),t.appendChild(r)}}(e)}function sanitizeText(e){var t=[],n=c(t,s);return n.chars(e),t.join("")}var n,i,r,o,a,s,l,c,u=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i,r=t.$$minErr("linky"),o=t.isDefined,a=t.isFunction,s=t.isObject,l=t.isString;return function(t,c,u){function addText(e){e&&g.push(sanitizeText(e))}function addLink(e,t){var n,i=p(e);g.push("<a ");for(n in i)g.push(n+'="'+i[n]+'" ');!o(c)||"target"in i||g.push('target="',c,'" '),g.push('href="',e.replace(/"/g,"&quot;"),'">'),addText(t),g.push("</a>")}if(null==t||""===t)return t;if(!l(t))throw r("notstring","Expected string but received: {0}",t);for(var d,h,m,p=a(u)?u:s(u)?function(){return u}:function(){return{}},f=t,g=[];d=f.match(n);)h=d[0],d[2]||d[4]||(h=(d[3]?"http://":"mailto:")+h),m=d.index,addText(f.substr(0,m)),addLink(h,d[0].replace(i,"")),f=f.substring(m+d[0].length);return addText(f),e(g.join(""))}}])}(window,window.angular)},function(e,t){!function(e,t){"use strict";function nodeName_(e){return t.lowercase(e.nodeName||e[0]&&e[0].nodeName)}function $TouchProvider(e,n){var r=!1,o=!1;this.ngClickOverrideEnabled=function(a){return t.isDefined(a)?(a&&!o&&(o=!0,i.$$moduleName="ngTouch",n.directive("ngClick",i),e.decorator("ngClickDirective",["$delegate",function(e){if(r)e.shift();else for(var t=e.length-1;t>=0;){if("ngTouch"===e[t].$$moduleName){e.splice(t,1);break}t--}return e}])),r=a,this):r},this.$get=function(){return{ngClickOverrideEnabled:function(){return r}}}}function makeSwipeDirective(e,i,r){n.directive(e,["$parse","$swipe",function(n,o){var a=75,s=.3,l=30;return function(c,u,d){function validSwipe(e){if(!h)return!1;var t=Math.abs(e.y-h.y),n=(e.x-h.x)*i;return m&&t<a&&n>0&&n>l&&t/n<s}var h,m,p=n(d[e]),f=["touch"];t.isDefined(d.ngSwipeDisableMouse)||f.push("mouse"),o.bind(u,{start:function(e,t){h=e,m=!0},cancel:function(e){m=!1},end:function(e,t){validSwipe(e)&&c.$apply(function(){u.triggerHandler(r),p(c,{$event:t})})}},f)}}])}var n=t.module("ngTouch",[]);n.provider("$touch",$TouchProvider),$TouchProvider.$inject=["$provide","$compileProvider"],n.factory("$swipe",[function(){function getCoordinates(e){var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],i=t.changedTouches&&t.changedTouches[0]||n[0];return{x:i.clientX,y:i.clientY}}function getEvents(e,i){var r=[];return t.forEach(e,function(e){var t=n[e][i];t&&r.push(t)}),r.join(" ")}var e=10,n={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"}};return{bind:function(t,n,i){var r,o,a,s,l=!1;i=i||["mouse","touch","pointer"],t.on(getEvents(i,"start"),function(e){a=getCoordinates(e),l=!0,r=0,o=0,s=a,n.start&&n.start(a,e)});var c=getEvents(i,"cancel");c&&t.on(c,function(e){l=!1,n.cancel&&n.cancel(e)}),t.on(getEvents(i,"move"),function(t){if(l&&a){var i=getCoordinates(t);if(r+=Math.abs(i.x-s.x),o+=Math.abs(i.y-s.y),s=i,!(r<e&&o<e))return o>r?(l=!1,void(n.cancel&&n.cancel(t))):(t.preventDefault(),void(n.move&&n.move(i,t)))}}),t.on(getEvents(i,"end"),function(e){l&&(l=!1,n.end&&n.end(getCoordinates(e),e))})}}}]);var i=["$parse","$timeout","$rootElement",function(e,n,i){function hit(e,t,n,i){return Math.abs(e-n)<u&&Math.abs(t-i)<u}function checkAllowableRegions(e,t,n){for(var i=0;i<e.length;i+=2)if(hit(e[i],e[i+1],t,n))return e.splice(i,i+2),!0;return!1}function onClick(e){if(!(Date.now()-r>c)){var t=e.touches&&e.touches.length?e.touches:[e],n=t[0].clientX,i=t[0].clientY;n<1&&i<1||a&&a[0]===n&&a[1]===i||(a&&(a=null),"label"===nodeName_(e.target)&&(a=[n,i]),checkAllowableRegions(o,n,i)||(e.stopPropagation(),e.preventDefault(),e.target&&e.target.blur&&e.target.blur()))}}function onTouchStart(e){var t=e.touches&&e.touches.length?e.touches:[e],i=t[0].clientX,r=t[0].clientY;o.push(i,r),n(function(){for(var e=0;e<o.length;e+=2)if(o[e]===i&&o[e+1]===r)return void o.splice(e,e+2)},c,!1)}function preventGhostClick(e,t){o||(i[0].addEventListener("click",onClick,!0),i[0].addEventListener("touchstart",onTouchStart,!0),o=[]),r=Date.now(),checkAllowableRegions(o,e,t)}var r,o,a,s=750,l=12,c=2500,u=25,d="ng-click-active";return function(n,i,r){function resetState(){m=!1,i.removeClass(d)}var o,a,c,u,h=e(r.ngClick),m=!1;i.on("touchstart",function(e){m=!0,o=e.target?e.target:e.srcElement,3===o.nodeType&&(o=o.parentNode),i.addClass(d),a=Date.now();var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],r=n[0];c=r.clientX,u=r.clientY}),i.on("touchcancel",function(e){resetState()}),i.on("touchend",function(e){var n=Date.now()-a,d=e.originalEvent||e,h=d.changedTouches&&d.changedTouches.length?d.changedTouches:d.touches&&d.touches.length?d.touches:[d],p=h[0],f=p.clientX,g=p.clientY,v=Math.sqrt(Math.pow(f-c,2)+Math.pow(g-u,2));m&&n<s&&v<l&&(preventGhostClick(f,g),o&&o.blur(),t.isDefined(r.disabled)&&r.disabled!==!1||i.triggerHandler("click",[e])),resetState()}),i.onclick=function(e){},i.on("click",function(e,t){n.$apply(function(){h(n,{$event:t||e})})}),i.on("mousedown",function(e){i.addClass(d)}),i.on("mousemove mouseup",function(e){i.removeClass(d)})}}];makeSwipeDirective("ngSwipeLeft",-1,"swipeleft"),makeSwipeDirective("ngSwipeRight",1,"swiperight")}(window,window.angular)},function(e,t){!function(){"use strict";angular.module("ui.grid.i18n",[]),angular.module("ui.grid",["ui.grid.i18n"])}(),function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:!0,LOG_WARN_MESSAGES:!0,LOG_ERROR_MESSAGES:!0,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,TOOLTIP:/title=\"TOOLTIP\"/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",ENTITY_BINDING:"$$this",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart",COLUMN_HEADER_CLICK:"uiGridColumnHeaderClick"},keymap:{TAB:9,STRG:17,CAPSLOCK:20,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,PG_UP:33,PG_DOWN:34,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512,SELECT:"select",INPUT:"input"},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["","","Ar","","","B/.","Br","Bs.","Bs.F.","GH","","c","Ch.","","C$","D","","","..",".","JD",".",".","",".","..",".","Db","$","","Esc","","","Ft","FBu","FCFA","CFA","Fr","FRw","G","gr","","h","","","K","kr","kn","MK","ZK","Kz","K","L","Le","","E","lp","M","KM","MT","","Nfk","","Nu.","UM","T$","MOP$","","Pt.","","..","LL","LS","P","Q","q","R","R$","..",".",".","","RM","p","Rf.","","","SRe","Rp","","Ksh","Sh.So.","USh","S/","SDR","","\t","WS$","","VT","","","z"],scrollDirection:{UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",NONE:"none"},dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column",OPTIONS:"options"},scrollbars:{NEVER:0,ALWAYS:1}})}(),angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function(e,t,n,i){var r={priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function(t,r,o,a){function compileTemplate(){var e=t.col.compiledElementFn;e(t,function(e,t){r.append(e)})}if(a&&t.col.compiledElementFn)compileTemplate();else if(a&&!t.col.compiledElementFn)t.col.getCompiledElementFn().then(function(e){e(t,function(e,t){r.append(e)})});else{var s=t.col.cellTemplate.replace(i.MODEL_COL_FIELD,"row.entity."+n.preEval(t.col.field)).replace(i.COL_FIELD,"grid.getCellValue(row, col)"),l=e(s)(t);r.append(l)}},post:function(e,t,n,r){var o=e.col.getColClass(!1);t.addClass(o);var a,s=function(n){var i=t;a&&(i.removeClass(a),a=null),a=angular.isFunction(e.col.cellClass)?e.col.cellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.cellClass,i.addClass(a)};e.col.cellClass&&s();var l=e.grid.registerDataChangeCallback(s,[i.dataChange.COLUMN,i.dataChange.EDIT]),c=function(n,i){if(n!==i){(a||e.col.cellClass)&&s();var r=e.col.getColClass(!1);r!==o&&(t.removeClass(o),t.addClass(r),o=r)}},u=e.$watch("row",c),d=function(){l(),u()};e.$on("$destroy",d),t.on("$destroy",d)}}}};return r}]),function(){angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(e,t,n){var i={initialize:function(e,t){e.grid=t.grid,t.columnMenuScope=e,e.menuShown=!1},setColMenuItemWatch:function(e){var t=e.$watch("col.menuItems",function(t){"undefined"!=typeof t&&t&&angular.isArray(t)?(t.forEach(function(t){"undefined"!=typeof t.context&&t.context||(t.context={}),t.context.col=e.col}),e.menuItems=e.defaultMenuItems.concat(t)):e.menuItems=e.defaultMenuItems});e.$on("$destroy",t)},sortable:function(e){return!!(e.grid.options.enableSorting&&"undefined"!=typeof e.col&&e.col&&e.col.enableSorting)},isActiveSort:function(e,t){return"undefined"!=typeof e.col&&"undefined"!=typeof e.col.sort&&"undefined"!=typeof e.col.sort.direction&&e.col.sort.direction===t},suppressRemoveSort:function(e){return!(!e.col||!e.col.suppressRemoveSort)},hideable:function(e){return"undefined"==typeof e.col||!e.col||!e.col.colDef||e.col.colDef.enableHiding!==!1},getDefaultMenuItems:function(n){return[{title:e.getSafeText("sort.ascending"),icon:"ui-grid-icon-sort-alt-up",action:function(e){e.stopPropagation(),n.sortColumn(e,t.ASC)},shown:function(){return i.sortable(n)},active:function(){return i.isActiveSort(n,t.ASC)}},{title:e.getSafeText("sort.descending"),icon:"ui-grid-icon-sort-alt-down",action:function(e){e.stopPropagation(),n.sortColumn(e,t.DESC)},shown:function(){return i.sortable(n)},active:function(){return i.isActiveSort(n,t.DESC)}},{title:e.getSafeText("sort.remove"),icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),n.unsortColumn()},shown:function(){return i.sortable(n)&&"undefined"!=typeof n.col&&"undefined"!=typeof n.col.sort&&"undefined"!=typeof n.col.sort.direction&&null!==n.col.sort.direction&&!i.suppressRemoveSort(n)}},{title:e.getSafeText("column.hide"),icon:"ui-grid-icon-cancel",shown:function(){return i.hideable(n)},action:function(e){e.stopPropagation(),n.hideColumn()}}]},getColumnElementPosition:function(e,t,i){var r={};return r.left=i[0].offsetLeft,r.top=i[0].offsetTop,r.parentLeft=i[0].offsetParent.offsetLeft,r.offset=0,t.grid.options.offsetLeft&&(r.offset=t.grid.options.offsetLeft),r.height=n.elementHeight(i,!0),r.width=n.elementWidth(i,!0),r},repositionMenu:function(e,t,i,r,o){var a=r[0].querySelectorAll(".ui-grid-menu"),s=n.closestElm(o,".ui-grid-render-container"),l=s.getBoundingClientRect().left-e.grid.element[0].getBoundingClientRect().left,c=s.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,u=t.lastMenuWidth?t.lastMenuWidth:e.lastMenuWidth?e.lastMenuWidth:170,d=t.lastMenuPaddingRight?t.lastMenuPaddingRight:e.lastMenuPaddingRight?e.lastMenuPaddingRight:10;if(0!==a.length){var h=a[0].querySelectorAll(".ui-grid-menu-mid");0===h.length||angular.element(h).hasClass("ng-hide")||(u=n.elementWidth(a,!0),e.lastMenuWidth=u,t.lastMenuWidth=u,d=parseInt(n.getStyles(angular.element(a)[0]).paddingRight,10),e.lastMenuPaddingRight=d,t.lastMenuPaddingRight=d)}var m=i.left+l-c+i.parentLeft+i.width-u+d;m<i.offset&&(m=i.offset),r.css("left",m+"px"),r.css("top",i.top+i.height+"px")}};return i}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService","$document",function(e,t,n,i,r){var o={priority:0,scope:!0,require:"^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function(o,a,s,l){i.initialize(o,l),o.defaultMenuItems=i.getDefaultMenuItems(o),o.menuItems=o.defaultMenuItems,i.setColMenuItemWatch(o),o.showMenu=function(e,t,n){o.col=e;var r=i.getColumnElementPosition(o,e,t);o.menuShown?(o.colElement=t,o.colElementPosition=r,o.hideThenShow=!0,o.$broadcast("hide-menu",{originalEvent:n})):(o.menuShown=!0,i.repositionMenu(o,e,r,a,t),o.colElement=t,o.colElementPosition=r,o.$broadcast("show-menu",{originalEvent:n}))},o.hideMenu=function(e){o.menuShown=!1,e||o.$broadcast("hide-menu")},o.$on("menu-hidden",function(){o.hideThenShow?(delete o.hideThenShow,i.repositionMenu(o,o.col,o.colElementPosition,a,o.colElement),o.$broadcast("show-menu"),o.menuShown=!0):(o.hideMenu(!0),o.col&&t.focus.bySelector(r,".ui-grid-header-cell."+o.col.getColClass()+" .ui-grid-column-menu-button",o.col.grid,!1))}),o.$on("menu-shown",function(){e(function(){i.repositionMenu(o,o.col,o.colElementPosition,a,o.colElement),t.focus.bySelector(r,".ui-grid-menu-items .ui-grid-menu-item",!0),delete o.colElementPosition,delete o.columnElement},200)}),o.sortColumn=function(e,t){e.stopPropagation(),o.grid.sortColumn(o.col,t,!0).then(function(){o.grid.refresh(),o.hideMenu()})},o.unsortColumn=function(){o.col.unsort(),o.grid.refresh(),o.hideMenu()};var c=function(){e(function(){var e,n=function(){return t.focus.byId("grid-menu",o.grid)};o.grid.columns.some(function(t,n){if(angular.equals(t,o.col))return e=n,!0});var i;if(o.grid.columns.some(function(t,n){if(!t.visible)return!1;if(n<e)i=t;else{if(n>e&&!i)return i=t,!0;if(n>e&&i)return!0}}),i){var a=i.getColClass();t.focus.bySelector(r,".ui-grid-header-cell."+a+" .ui-grid-header-cell-primary-focus",!0).then(angular.noop,function(e){if("canceled"!==e)return n()})}else n()})};o.hideColumn=function(){o.col.colDef.visible=!1,o.col.visible=!1,o.grid.queueGridRefresh(),o.hideMenu(),o.grid.api.core.notifyDataChange(n.dataChange.COLUMN),o.grid.api.core.raise.columnVisibilityChanged(o.col),c()}},controller:["$scope",function(e){var t=this;e.$watch("menuItems",function(e){t.menuItems=e})}]};return o}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFilter",["$compile","$templateCache","i18nService","gridUtil",function(e,t,n,i){return{compile:function(){return{pre:function(t,n,i,r){t.col.updateFilters=function(i){if(n.children().remove(),i){var r=t.col.filterHeaderTemplate;n.append(e(r)(t))}},t.$on("$destroy",function(){delete t.col.updateFilters})},post:function(e,t,r,o){e.aria=n.getSafeText("headerCell.aria"),e.removeFilter=function(e,n){e.term=null,i.focus.bySelector(t,".ui-grid-filter-input-"+n)}}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","uiGridConstants","$compile",function(e,t,n,i){var r={priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(e,t,r){return{pre:function(e,t,n,r){var o=i(e.col.footerCellTemplate)(e);t.append(o)},post:function(e,t,i,r){e.grid=r.grid;var o=e.col.getColClass(!1);t.addClass(o);var a,s=function(n){var i=t;a&&(i.removeClass(a),a=null),a=angular.isFunction(e.col.footerCellClass)?e.col.footerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.footerCellClass,i.addClass(a)};e.col.footerCellClass&&s(),e.col.updateAggregationValue();var l=e.grid.registerDataChangeCallback(s,[n.dataChange.COLUMN]);e.grid.api.core.on.rowsRendered(e,e.col.updateAggregationValue),e.grid.api.core.on.rowsRendered(e,s),e.$on("$destroy",l)}}}};return r}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,n,i,r){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(e,n){return{pre:function(e,n,r,o){var a=o[0],s=o[1];e.grid=a.grid,e.colContainer=s.colContainer,s.footer=n;var l=e.grid.options.footerTemplate;i.getTemplate(l).then(function(i){var r=angular.element(i),o=t(r)(e);if(n.append(o),s){var a=n[0].getElementsByClassName("ui-grid-footer-viewport")[0];a&&(s.footerViewport=a)}})},post:function(e,t,n,r){var o=r[0],a=r[1];o.grid;i.disableAnimations(t),a.footer=t;var s=t[0].getElementsByClassName("ui-grid-footer-viewport")[0];s&&(a.footerViewport=s)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,n,i,r){return{restrict:"EA",replace:!0,require:"^uiGrid",scope:!0,compile:function(e,n){return{pre:function(e,n,r,o){e.grid=o.grid;var a=e.grid.options.gridFooterTemplate;i.getTemplate(a).then(function(i){var r=angular.element(i),o=t(r)(e);n.append(o)})},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGroupPanel",["$compile","uiGridConstants","gridUtil",function(e,t,n){var i="ui-grid/ui-grid-group-panel";return{restrict:"EA",replace:!0,require:"?^uiGrid",scope:!1,compile:function(t,r){return{pre:function(t,r,o,a){var s=t.grid.options.groupPanelTemplate||i;n.getTemplate(s).then(function(n){var i=angular.element(n),o=e(i)(t);r.append(o)})},post:function(e,t,n,i){t.bind("$destroy",function(){})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","ScrollEvent","i18nService",function(e,t,n,i,r,o,a,s){var l=500,c=500,u={priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["^uiGrid","^uiGridRenderContainer"],replace:!0,compile:function(){return{pre:function(t,n,i){var r=e(t.col.headerCellTemplate)(t);n.append(r)},post:function(e,n,r,a){var u=a[0],d=a[1];e.i18n={headerCell:s.getSafeText("headerCell"),sort:s.getSafeText("sort")},e.isSortPriorityVisible=function(){return angular.isNumber(e.col.sort.priority)&&e.grid.columns.some(function(t,n){return angular.isNumber(t.sort.priority)&&t!==e.col})},e.getSortDirectionAriaLabel=function(){var t=e.col,n=t.sort.direction===o.ASC?e.i18n.sort.ascending:t.sort.direction===o.DESC?e.i18n.sort.descending:e.i18n.sort.none,i=n;return e.isSortPriorityVisible()&&(i=i+". "+e.i18n.headerCell.priority+" "+t.sort.priority),i},e.grid=u.grid,e.renderContainer=u.grid.renderContainers[d.containerId];var h=e.col.getColClass(!1);n.addClass(h),e.menuShown=!1,e.asc=o.ASC,e.desc=o.DESC;var m,p,f=(angular.element(n[0].querySelectorAll(".ui-grid-header-cell-menu")),angular.element(n[0].querySelectorAll(".ui-grid-cell-contents"))),g=[];e.downFn=function(r){r.stopPropagation(),"undefined"!=typeof r.originalEvent&&void 0!==r.originalEvent&&(r=r.originalEvent),r.button&&0!==r.button||(p=r.pageX,e.mousedownStartTime=(new Date).getTime(),e.mousedownTimeout=t(function(){},l),e.mousedownTimeout.then(function(){e.colMenu&&u.columnMenuScope.showMenu(e.col,n,r)}),u.fireEvent(o.events.COLUMN_HEADER_CLICK,{event:r,columnName:e.col.colDef.name}),e.offAllEvents(),"touchstart"===r.type?(i.on("touchend",e.upFn),i.on("touchmove",e.moveFn)):"mousedown"===r.type&&(i.on("mouseup",e.upFn),i.on("mousemove",e.moveFn)))},e.upFn=function(n){n.stopPropagation(),t.cancel(e.mousedownTimeout),e.offAllEvents(),e.onDownEvents(n.type);var i=(new Date).getTime(),r=i-e.mousedownStartTime;r>l||e.sortable&&e.handleClick(n)},e.moveFn=function(n){var i=n.pageX-p;0!==i&&(t.cancel(e.mousedownTimeout),e.offAllEvents(),e.onDownEvents(n.type))},e.clickFn=function(t){t.stopPropagation(),f.off("click",e.clickFn)},e.offAllEvents=function(){f.off("touchstart",e.downFn),f.off("mousedown",e.downFn),i.off("touchend",e.upFn),i.off("mouseup",e.upFn),i.off("touchmove",e.moveFn),i.off("mousemove",e.moveFn),f.off("click",e.clickFn)},e.onDownEvents=function(n){switch(n){case"touchmove":case"touchend":f.on("click",e.clickFn),f.on("touchstart",e.downFn),t(function(){f.on("mousedown",e.downFn)},c);break;case"mousemove":case"mouseup":f.on("click",e.clickFn),f.on("mousedown",e.downFn),t(function(){f.on("touchstart",e.downFn)},c);break;default:f.on("click",e.clickFn),f.on("touchstart",e.downFn),f.on("mousedown",e.downFn)}};var v=function(i){var r=n;m&&(r.removeClass(m),m=null),m=angular.isFunction(e.col.headerCellClass)?e.col.headerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.headerCellClass,r.addClass(m),t(function(){var t=e.grid.renderContainers.right?e.grid.renderContainers.right:e.grid.renderContainers.body;e.isLastCol=e.col===t.visibleColumnCache[t.visibleColumnCache.length-1]}),e.col.enableSorting?e.sortable=!0:e.sortable=!1;var a=e.filterable;u.grid.options.enableFiltering&&e.col.enableFiltering?e.filterable=!0:e.filterable=!1,a!==e.filterable&&("undefined"!=typeof e.col.updateFilters&&e.col.updateFilters(e.filterable),e.filterable?(e.col.filters.forEach(function(t,n){g.push(e.$watch("col.filters["+n+"].term",function(e,t){e!==t&&(u.grid.api.core.raise.filterChanged(),u.grid.api.core.notifyDataChange(o.dataChange.COLUMN),u.grid.queueGridRefresh())}))}),e.$on("$destroy",function(){g.forEach(function(e){e()})})):g.forEach(function(e){e()})),e.col.grid.options&&e.col.grid.options.enableColumnMenus!==!1&&e.col.colDef&&e.col.colDef.enableColumnMenu!==!1?e.colMenu=!0:e.colMenu=!1,e.offAllEvents(),(e.sortable||e.colMenu)&&(e.onDownEvents(),e.$on("$destroy",function(){e.offAllEvents()}))};v();var y=e.grid.registerDataChangeCallback(v,[o.dataChange.COLUMN]);e.$on("$destroy",y),e.handleClick=function(t){var n=!1;t.shiftKey&&(n=!0),u.grid.sortColumn(e.col,n).then(function(){u.columnMenuScope&&u.columnMenuScope.hideMenu(),u.grid.refresh()})},e.toggleMenu=function(t){t.stopPropagation(),u.columnMenuScope.menuShown&&u.columnMenuScope.col===e.col?u.columnMenuScope.hideMenu():u.columnMenuScope.showMenu(e.col,n);
}}}}};return u}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout","ScrollEvent",function(e,t,n,i,r,o){var a="ui-grid/ui-grid-header",s="ui-grid/ui-grid-no-header";return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(e,n){return{pre:function(e,n,r,l){function updateHeaderReferences(){u.header=u.colContainer.header=n;var e=n[0].getElementsByClassName("ui-grid-header-canvas");e.length>0?u.headerCanvas=u.colContainer.headerCanvas=e[0]:u.headerCanvas=null}function scrollHandler(e){if(!c.grid.isScrollingHorizontally){var t=i.normalizeScrollLeft(u.headerViewport,c.grid),n=u.colContainer.scrollHorizontal(t),r=new o(c.grid,null,u.colContainer,o.Sources.ViewPortScroll);r.newScrollLeft=t,n>-1&&(r.x={percentage:n}),c.grid.scrollContainers(null,r)}}var c=l[0],u=l[1];e.grid=c.grid,e.colContainer=u.colContainer,updateHeaderReferences();var d;d=e.grid.options.showHeader?e.grid.options.headerTemplate?e.grid.options.headerTemplate:a:s,i.getTemplate(d).then(function(i){var r=angular.element(i),o=t(r)(e);if(n.replaceWith(o),n=o,updateHeaderReferences(),u){var a=n[0].getElementsByClassName("ui-grid-header-viewport")[0];a&&(u.headerViewport=a,angular.element(a).on("scroll",scrollHandler),e.$on("$destroy",function(){angular.element(a).off("scroll",scrollHandler)}))}e.grid.queueRefresh()})},post:function(e,t,n,r){function updateColumnWidths(){var e=a.colContainer.visibleColumnCache,t="",n=0;return e.forEach(function(e){t+=e.getColClassDefinition(),n+=e.drawnWidth}),a.colContainer.canvasWidth=n,t}var o=r[0],a=r[1];o.grid;i.disableAnimations(t),a.header=t;var s=t[0].getElementsByClassName("ui-grid-header-viewport")[0];s&&(a.headerViewport=s),o&&o.grid.registerStyleComputation({priority:15,func:updateColumnWidths})}}}}}])}(),function(){angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService","uiGridConstants",function(e,t,n){var i={initialize:function(e,t){t.gridMenuScope=e,e.grid=t,e.registeredMenuItems=[],e.$on("$destroy",function(){e.grid&&e.grid.gridMenuScope&&(e.grid.gridMenuScope=null),e.grid&&(e.grid=null),e.registeredMenuItems&&(e.registeredMenuItems=null)}),e.registeredMenuItems=[],t.api.registerMethod("core","addToGridMenu",i.addToGridMenu),t.api.registerMethod("core","removeFromGridMenu",i.removeFromGridMenu)},addToGridMenu:function(t,n){angular.isArray(n)?t.gridMenuScope?(t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems?t.gridMenuScope.registeredMenuItems:[],t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems.concat(n)):e.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid"):e.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")},removeFromGridMenu:function(t,n){var i=-1;t&&t.gridMenuScope&&t.gridMenuScope.registeredMenuItems.forEach(function(t,r){t.id===n&&(i>-1?e.logError("removeFromGridMenu: found multiple items with the same id, removing only the last"):i=r)}),i>-1&&t.gridMenuScope.registeredMenuItems.splice(i,1)},getMenuItems:function(n){var r=[];n.grid.options.gridMenuCustomItems&&(angular.isArray(n.grid.options.gridMenuCustomItems)?r=r.concat(n.grid.options.gridMenuCustomItems):e.logError("gridOptions.gridMenuCustomItems must be an array, and is not"));var o=[{title:t.getSafeText("gridMenu.clearAllFilters"),action:function(e){n.grid.clearAllFilters()},shown:function(){return n.grid.options.enableFiltering},order:100}];return r=r.concat(o),r=r.concat(n.registeredMenuItems),n.grid.options.gridMenuShowHideColumns!==!1&&(r=r.concat(i.showHideColumns(n))),r.sort(function(e,t){return e.order-t.order}),r},showHideColumns:function(e){var n=[];return e.grid.options.columnDefs&&0!==e.grid.options.columnDefs.length&&0!==e.grid.columns.length?(n.push({title:t.getSafeText("gridMenu.columns"),order:300}),e.grid.options.gridMenuTitleFilter=e.grid.options.gridMenuTitleFilter?e.grid.options.gridMenuTitleFilter:function(e){return e},e.grid.options.columnDefs.forEach(function(t,r){if(t.enableHiding!==!1){var o={icon:"ui-grid-icon-ok",action:function(e){e.stopPropagation(),i.toggleColumnVisibility(this.context.gridCol)},shown:function(){return this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible},context:{gridCol:e.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*r};i.setMenuItemTitle(o,t,e.grid),n.push(o),o={icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),i.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!(this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible)},context:{gridCol:e.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*r+1},i.setMenuItemTitle(o,t,e.grid),n.push(o)}}),n):n},setMenuItemTitle:function(t,n,i){var r=i.options.gridMenuTitleFilter(n.displayName||e.readableColumnName(n.name)||n.field);"string"==typeof r?t.title=r:r.then?(t.title="",r.then(function(e){t.title=e},function(e){t.title=e})):(e.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config"),t.title="badconfig")},toggleColumnVisibility:function(e){e.colDef.visible=!(e.colDef.visible===!0||void 0===e.colDef.visible),e.grid.refresh(),e.grid.api.core.notifyDataChange(n.dataChange.COLUMN),e.grid.api.core.raise.columnVisibilityChanged(e)}};return i}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService","i18nService",function(e,t,n,i){return{priority:0,scope:!0,require:["^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:!0,link:function(t,r,o,a){var s=a[0];t.i18n={aria:i.getSafeText("gridMenu.aria")},n.initialize(t,s.grid),t.shown=!1,t.toggleMenu=function(){t.shown?(t.$broadcast("hide-menu"),t.shown=!1):(t.menuItems=n.getMenuItems(t),t.$broadcast("show-menu"),t.shown=!0)},t.$on("menu-hidden",function(){t.shown=!1,e.focus.bySelector(r,".ui-grid-icon-container")})}}}])}(),function(){angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","i18nService",function(e,t,n,i,r,o,a){var s={priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function(i,s,l,c){if(i.dynamicStyles="",c&&c.grid&&c.grid.options&&c.grid.options.gridMenuTemplate){var u=c.grid.options.gridMenuTemplate;r.getTemplate(u).then(function(t){var n=angular.element(t),r=e(n)(i);s.replaceWith(r)})}var d=function(e){var t=e-c.grid.headerHeight-20;i.dynamicStyles=[".grid"+c.grid.id+" .ui-grid-menu-mid {","max-height: "+t+"px;","}"].join(" ")};c&&(d(c.grid.gridHeight),c.grid.api.core.on.gridDimensionChanged(i,function(e,t,n,i){d(n)})),i.i18n={close:a.getSafeText("columnMenu.close")},i.showMenu=function(e,n){i.shown?i.shownMid||(i.shownMid=!0,i.$emit("menu-shown")):(i.shown=!0,t(function(){i.shownMid=!0,i.$emit("menu-shown")}));var o="click";n&&n.originalEvent&&n.originalEvent.type&&"touchstart"===n.originalEvent.type&&(o=n.originalEvent.type),angular.element(document).off("click touchstart",h),s.off("keyup",m),s.off("keydown",p),t(function(){angular.element(document).on(o,h),s.on("keyup",m),s.on("keydown",p)}),r.focus.bySelector(s,"button[type=button]",!0)},i.hideMenu=function(e){i.shown&&(i.shownMid=!1,t(function(){i.shownMid||(i.shown=!1,i.$emit("menu-hidden"))},200)),angular.element(document).off("click touchstart",h),s.off("keyup",m),s.off("keydown",p)},i.$on("hide-menu",function(e,t){i.hideMenu(e,t)}),i.$on("show-menu",function(e,t){i.showMenu(e,t)});var h=function(){i.shown&&i.$apply(function(){i.hideMenu()})},m=function(e){27===e.keyCode&&i.hideMenu()},p=function(e){var t=function(t){return t.focus(),e.preventDefault(),!1};if(9===e.keyCode){var n,i,r=s[0].querySelectorAll("button:not(.ng-hide)");r.length>0&&(n=r[0],i=r[r.length-1],e.target!==i||e.shiftKey?e.target===n&&e.shiftKey&&t(i):t(n))}};"undefined"!=typeof i.autoHide&&void 0!==i.autoHide||(i.autoHide=!0),i.autoHide&&angular.element(n).on("resize",h),i.$on("$destroy",function(){angular.element(n).off("resize",h),angular.element(document).off("click touchstart",h),s.off("keyup",m),s.off("keydown",p)}),c&&i.$on("$destroy",c.grid.api.core.on.scrollBegin(i,h)),i.$on("$destroy",i.$on(o.events.ITEM_DRAGGING,h))}};return s}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(e,t,n){var i={priority:0,scope:{name:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"=",leaveOpen:"=",screenReaderOnly:"="},require:["?^uiGrid"],templateUrl:"ui-grid/uiGridMenuItem",replace:!1,compile:function(){return{pre:function(n,i){n.templateUrl&&e.getTemplate(n.templateUrl).then(function(e){var r=angular.element(e),o=t(r)(n);i.replaceWith(o)})},post:function(t,i,r,o){var a=o[0];"undefined"!=typeof t.shown&&null!==t.shown||(t.shown=function(){return!0}),t.itemShown=function(){var e={};return t.context&&(e.context=t.context),"undefined"!=typeof a&&a&&(e.grid=a.grid),t.shown.call(e)},t.itemAction=function(n,r){if(n.stopPropagation(),"function"==typeof t.action){var o={};t.context&&(o.context=t.context),"undefined"!=typeof a&&a&&(o.grid=a.grid),t.action.call(o,n,r),t.leaveOpen?e.focus.bySelector(angular.element(e.closestElm(i,".ui-grid-menu-items")),"button[type=button]",!0):t.$emit("hide-menu")}},t.i18n=n.get()}}}};return i}])}(),function(){"use strict";var e=angular.module("ui.grid");angular.forEach([{tag:"Src",method:"attr"},{tag:"Text",method:"text"},{tag:"Href",method:"attr"},{tag:"Class",method:"addClass"},{tag:"Html",method:"html"},{tag:"Alt",method:"attr"},{tag:"Style",method:"css"},{tag:"Value",method:"attr"},{tag:"Id",method:"attr"},{tag:"Id",directiveName:"IdGrid",method:"attr",appendGridId:!0},{tag:"Title",method:"attr"},{tag:"Label",method:"attr",aria:!0},{tag:"Labelledby",method:"attr",aria:!0},{tag:"Labelledby",directiveName:"LabelledbyGrid",appendGridId:!0,method:"attr",aria:!0},{tag:"Describedby",method:"attr",aria:!0},{tag:"Describedby",directiveName:"DescribedbyGrid",appendGridId:!0,method:"attr",aria:!0}],function(t){var n="uiGridOneBind",i=(t.aria?n+"Aria":n)+(t.directiveName?t.directiveName:t.tag);e.directive(i,["gridUtil",function(e){return{restrict:"A",require:["?uiGrid","?^uiGrid"],link:function(n,r,o,a){var s=function(t){var r;if(n.grid)r=n.grid;else if(n.col&&n.col.grid)r=n.col.grid;else if(!a.some(function(e){if(e&&e.grid)return r=e.grid,!0}))throw e.logError("["+i+"] A valid grid could not be found to bind id. Are you using this directive within the correct scope? Trying to generate id: [gridID]-"+t),new Error("No valid grid could be found");if(r){var o=new RegExp(r.id.toString());o.test(t)||(t=r.id.toString()+"-"+t)}return t},l=n.$watch(o[i],function(e){if(e){if(t.appendGridId){var n=null;angular.forEach(e.split(" "),function(e){n=(n?n+" ":"")+s(e)}),e=n}switch(t.method){case"attr":t.aria?r[t.method]("aria-"+t.tag.toLowerCase(),e):r[t.method](t.tag.toLowerCase(),e);break;case"addClass":if(angular.isObject(e)&&!angular.isArray(e)){var i=[],o=!1;if(angular.forEach(e,function(e,t){null!==e&&"undefined"!=typeof e&&(o=!0,e&&i.push(t))}),!o)return;e=i}if(!e)return;r.addClass(angular.isArray(e)?e.join(" "):e);break;default:r[t.method](e)}l()}},!0)}}}])})}(),function(){"use strict";var e=angular.module("ui.grid");e.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil","ScrollEvent",function(e,t,n,i,r){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableVerticalScrollbar:"=",enableHorizontalScrollbar:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function(e,t,n,i){var r=i[0],o=i[1],a=e.grid=r.grid;if(!e.rowContainerName)throw"No row render container name specified";if(!e.colContainerName)throw"No column render container name specified";if(!a.renderContainers[e.rowContainerName])throw"Row render container '"+e.rowContainerName+"' is not registered.";if(!a.renderContainers[e.colContainerName])throw"Column render container '"+e.colContainerName+"' is not registered.";var s=e.rowContainer=a.renderContainers[e.rowContainerName],l=e.colContainer=a.renderContainers[e.colContainerName];o.containerId=e.containerId,o.rowContainer=s,o.colContainer=l},post:function(e,t,n,o){function update(){var t="",n=u.canvasWidth,i=u.getViewportWidth(),r=c.getCanvasHeight(),o=c.getViewportHeight();u.needsHScrollbarPlaceholder()&&(o-=l.scrollbarHeight);var s,d;return s=d=u.getHeaderViewportWidth(),t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-canvas { width: "+n+"px; height: "+r+"px; }",t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { width: "+(n+l.scrollbarWidth)+"px; }",t+=m.explicitHeaderCanvasHeight?"\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { height: "+m.explicitHeaderCanvasHeight+"px; }":"\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { height: inherit; }",t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-viewport { width: "+i+"px; height: "+o+"px; }",t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-viewport { width: "+s+"px; }",t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-canvas { width: "+(n+l.scrollbarWidth)+"px; }",t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-viewport { width: "+d+"px; }"}var a=o[0],s=o[1],l=a.grid,c=s.rowContainer,u=s.colContainer,d=null,h=null,m=l.renderContainers[e.containerId];t.addClass("ui-grid-render-container-"+e.containerId),i.on.mousewheel(t,function(e){var t=new r(l,c,u,r.Sources.RenderContainerMouseWheel);if(0!==e.deltaY){var n=e.deltaY*-1*e.deltaFactor;d=s.viewport[0].scrollTop,t.verticalScrollLength=c.getVerticalScrollLength();var o=(d+n)/t.verticalScrollLength;o>=1&&d<t.verticalScrollLength&&(s.viewport[0].scrollTop=t.verticalScrollLength),o<0?o=0:o>1&&(o=1),t.y={percentage:o,pixels:n}}if(0!==e.deltaX){var a=e.deltaX*e.deltaFactor;h=i.normalizeScrollLeft(s.viewport,l),t.horizontalScrollLength=u.getCanvasWidth()-u.getViewportWidth();var m=(h+a)/t.horizontalScrollLength;m<0?m=0:m>1&&(m=1),t.x={percentage:m,pixels:a}}0!==e.deltaY&&(t.atTop(d)||t.atBottom(d))||0!==e.deltaX&&(t.atLeft(h)||t.atRight(h))||(e.preventDefault(),e.stopPropagation(),t.fireThrottledScrollingEvent("",t))}),t.bind("$destroy",function(){t.unbind("keydown"),["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(e){t.unbind(e)})}),a.grid.registerStyleComputation({priority:6,func:update})}}}}}]),e.controller("uiGridRenderContainer",["$scope","gridUtil",function(e,t){}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridRow",["gridUtil",function(e){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(e,t,n,i){function compileTemplate(){e.row.getRowTemplateFn.then(function(n){var i=e.$new();n(i,function(e,n){a&&(a.remove(),s.$destroy()),t.empty().append(e),a=e,s=i})})}var r=i[0],o=i[1];r.grid;e.grid=r.grid,e.colContainer=o.colContainer;var a,s;compileTemplate(),e.$watch("row.getRowTemplateFn",function(e,t){e!==t&&compileTemplate()})},post:function(e,t,n,i){}}}}}])}(),function(){angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(e,t){return{link:function(e,n,i,r){var o=t(n.text(),!0);o&&e.$watch(o,function(e){n.text(e)})}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["gridUtil","ScrollEvent","uiGridConstants","$log",function(e,t,n,i){return{replace:!0,scope:{},controllerAs:"Viewport",templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(n,i,r,o){function scrollHandler(r){var o=i[0].scrollTop,a=e.normalizeScrollLeft(i,u),s=l.scrollVertical(o),d=c.scrollHorizontal(a),h=new t(u,l,c,t.Sources.ViewPortScroll);h.newScrollLeft=a,h.newScrollTop=o,d>-1&&(h.x={percentage:d}),s>-1&&(h.y={percentage:s}),u.scrollContainers(n.$parent.containerId,h)}function syncVerticalScroll(e){s.prevScrollArgs=e;var t=e.getNewScrollTop(l,s.viewport);i[0].scrollTop=t}function syncHorizontalScroll(t){s.prevScrollArgs=t;var n=t.getNewScrollLeft(c,s.viewport);i[0].scrollLeft=e.denormalizeScrollLeft(s.viewport,n,u)}function syncHorizontalHeader(t){var n=t.getNewScrollLeft(c,s.viewport);s.headerViewport&&(s.headerViewport.scrollLeft=e.denormalizeScrollLeft(s.viewport,n,u))}function syncHorizontalFooter(t){var n=t.getNewScrollLeft(c,s.viewport);s.footerViewport&&(s.footerViewport.scrollLeft=e.denormalizeScrollLeft(s.viewport,n,u))}var a=o[0],s=o[1];n.containerCtrl=s;var l=s.rowContainer,c=s.colContainer,u=a.grid;n.grid=a.grid,n.rowContainer=s.rowContainer,n.colContainer=s.colContainer,s.viewport=i,u&&u.options&&u.options.customScroller?u.options.customScroller(i,scrollHandler):i.on("scroll",scrollHandler);n.$parent.bindScrollVertical&&u.addVerticalScrollSync(n.$parent.containerId,syncVerticalScroll),n.$parent.bindScrollHorizontal&&(u.addHorizontalScrollSync(n.$parent.containerId,syncHorizontalScroll),u.addHorizontalScrollSync(n.$parent.containerId+"header",syncHorizontalHeader),u.addHorizontalScrollSync(n.$parent.containerId+"footer",syncHorizontalFooter)),n.$on("$destroy",function(){i.off()})},controller:["$scope",function(e){this.rowStyle=function(t){var n=e.rowContainer,i=e.colContainer,r={};if(0!==n.currentTopRow){var o="translateY("+n.currentTopRow*n.grid.options.rowHeight+"px)";r.transform=o,r["-webkit-transform"]=o,r["-ms-transform"]=o}return 0!==i.currentFirstColumn&&(i.grid.isRTL()?r["margin-right"]=i.columnOffset+"px":r["margin-left"]=i.columnOffset+"px"),r}}]}}])}(),function(){angular.module("ui.grid").directive("uiGridVisible",function(){return function(e,t,n){e.$watch(n.uiGridVisible,function(e){t[e?"removeClass":"addClass"]("ui-grid-invisible")})}})}(),function(){"use strict";function uiGridDirective(e,t,n,i,r,o){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"="},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function(e,t,a,s){function checkSize(){t[0].offsetWidth<=0&&d<u?(setTimeout(checkSize,c),d++):n(init)}function setup(){angular.element(i).on("resize",gridResize),t.on("$destroy",function(){angular.element(i).off("resize",gridResize)}),e.$watch(function(){return l.hasLeftContainer()},function(e,t){e!==t&&l.refreshCanvas(!0)}),e.$watch(function(){return l.hasRightContainer()},function(e,t){e!==t&&l.refreshCanvas(!0)})}function init(){l.gridWidth=e.gridWidth=r.elementWidth(t),l.canvasWidth=s.grid.gridWidth,l.gridHeight=e.gridHeight=r.elementHeight(t),l.gridHeight<=l.options.rowHeight&&l.options.enableMinHeightCheck&&autoAdjustHeight(),l.refreshCanvas(!0)}function autoAdjustHeight(){var n=l.options.minRowsToShow*l.options.rowHeight,i=l.options.showHeader?l.options.headerRowHeight:0,a=l.calcFooterHeight(),s=0;l.options.enableHorizontalScrollbar===o.scrollbars.ALWAYS&&(s=r.getScrollbarWidth());var c=0;if(angular.forEach(l.options.columnDefs,function(e){e.hasOwnProperty("filter")?c<1&&(c=1):e.hasOwnProperty("filters")&&c<e.filters.length&&(c=e.filters.length)}),l.options.enableFiltering&&!c){var u=l.options.columnDefs.length&&l.options.columnDefs.every(function(e){return e.enableFiltering===!1});u||(c=1)}var d=c*i,h=i+n+a+s+d;t.css("height",h+"px"),l.gridHeight=e.gridHeight=r.elementHeight(t)}function gridResize(n){l.gridWidth=e.gridWidth=r.elementWidth(t),l.gridHeight=e.gridHeight=r.elementHeight(t),l.refreshCanvas(!0)}var l=s.grid;s.scrollbars=[],l.element=t;var c=100,u=20,d=0;setup(),init(),l.renderingComplete(),checkSize()}}}}}angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","$templateCache","gridClassFactory","$timeout","$parse","$compile",function(e,t,n,i,r,o,a,s,l,c,u){function columnDefsWatchFunction(t,n){t&&t!==n&&(d.grid.options.columnDefs=e.uiGrid.columnDefs,d.grid.buildColumns({orderByColumnDefs:!0}).then(function(){d.grid.preCompileCellTemplates(),d.grid.callDataChangeCallbacks(o.dataChange.COLUMN)}))}function dataWatchFunction(t){var i=[];if(d.grid.options.fastWatch&&(t=angular.isString(e.uiGrid.data)?d.grid.appScope[e.uiGrid.data]:e.uiGrid.data),m=t,t){var a=d.grid.columns.length>(d.grid.rowHeaderColumns?d.grid.rowHeaderColumns.length:0);!a&&!n.uiGridColumns&&0===d.grid.options.columnDefs.length&&t.length>0&&d.grid.buildColumnDefsFromData(t),!a&&(d.grid.options.columnDefs.length>0||t.length>0)&&i.push(d.grid.buildColumns().then(function(){d.grid.preCompileCellTemplates()})),r.all(i).then(function(){d.grid.modifyRows(m).then(function(){d.grid.redrawInPlace(!0),e.$evalAsync(function(){d.grid.refreshCanvas(!0),d.grid.callDataChangeCallbacks(o.dataChange.ROW)})})})}}var d=this;d.grid=s.createGrid(e.uiGrid),d.grid.appScope=d.grid.appScope||e.$parent,t.addClass("grid"+d.grid.id),d.grid.rtl="rtl"===i.getStyles(t[0]).direction,e.grid=d.grid,n.uiGridColumns&&n.$observe("uiGridColumns",function(e){d.grid.options.columnDefs=e,d.grid.buildColumns().then(function(){d.grid.preCompileCellTemplates(),d.grid.refreshCanvas(!0)})});var h=[];d.grid.options.fastWatch?(d.uiGrid=e.uiGrid,angular.isString(e.uiGrid.data)?(h.push(e.$parent.$watch(e.uiGrid.data,dataWatchFunction)),h.push(e.$parent.$watch(function(){return d.grid.appScope[e.uiGrid.data]?d.grid.appScope[e.uiGrid.data].length:void 0},dataWatchFunction))):(h.push(e.$parent.$watch(function(){return e.uiGrid.data},dataWatchFunction)),h.push(e.$parent.$watch(function(){return e.uiGrid.data.length},function(){dataWatchFunction(e.uiGrid.data)}))),h.push(e.$parent.$watch(function(){return e.uiGrid.columnDefs},columnDefsWatchFunction)),h.push(e.$parent.$watch(function(){return e.uiGrid.columnDefs.length},function(){columnDefsWatchFunction(e.uiGrid.columnDefs)}))):(angular.isString(e.uiGrid.data)?h.push(e.$parent.$watchCollection(e.uiGrid.data,dataWatchFunction)):h.push(e.$parent.$watchCollection(function(){return e.uiGrid.data},dataWatchFunction)),h.push(e.$parent.$watchCollection(function(){return e.uiGrid.columnDefs},columnDefsWatchFunction)));var m,p=e.$watch(function(){return d.grid.styleComputations},function(){d.grid.refreshCanvas(!0)});e.$on("$destroy",function(){h.forEach(function(e){e()}),p()}),d.fireEvent=function(t,n){"undefined"!=typeof n&&void 0!==n||(n={}),"undefined"!=typeof n.grid&&void 0!==n.grid||(n.grid=d.grid),e.$broadcast(t,n)},d.innerCompile=function(t){u(t)(e)}}]),angular.module("ui.grid").directive("uiGrid",uiGridDirective),uiGridDirective.$inject=["$compile","$templateCache","$timeout","$window","gridUtil","uiGridConstants"]}(),function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(e){return{restrict:"EA",replace:!0,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function(e,t,n,i){function monkeyPatchedGetViewportWidth(){var e=this,t=0;e.visibleColumnCache.forEach(function(e){t+=e.drawnWidth});var n=e.getViewportAdjustment();return t+=n.width}function updateContainerWidth(){if("left"===e.side||"right"===e.side){for(var t=r.renderContainers[e.side].visibleColumnCache,n=0,i=0;i<t.length;i++){var o=t[i];n+=o.drawnWidth||o.width||0}return n}}function updateContainerDimensions(){var n="";return"left"!==e.side&&"right"!==e.side||(o=updateContainerWidth(),t.attr("style",null),n+=".grid"+r.id+" .ui-grid-pinned-container-"+e.side+", .grid"+r.id+" .ui-grid-pinned-container-"+e.side+" .ui-grid-render-container-"+e.side+" .ui-grid-viewport { width: "+o+"px; } "),n}var r=i.grid,o=0;t.addClass("ui-grid-pinned-container-"+e.side),"left"!==e.side&&"right"!==e.side||(r.renderContainers[e.side].getViewportWidth=monkeyPatchedGetViewportWidth),r.renderContainers.body.registerViewportAdjuster(function(t){return o=updateContainerWidth(),t.width-=o,t.side=e.side,t}),r.registerStyleComputation({priority:15,func:updateContainerDimensions})}}}}}])}(),function(){angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout","ScrollEvent",function(e,t,n,i,r,o,a,s,l,c,u,d,h,m){function RowHashMap(){}var p=function(e){function vertical(e){t.isScrollingVertically=!1,t.api.core.raise.scrollEnd(e),t.scrollDirection=r.scrollDirection.NONE}function horizontal(e){t.isScrollingHorizontally=!1,t.api.core.raise.scrollEnd(e),t.scrollDirection=r.scrollDirection.NONE}var t=this;if(void 0===e||"undefined"==typeof e.id||!e.id)throw new Error("No ID provided. An ID must be given when creating a grid.");if(!/^[_a-zA-Z0-9-]+$/.test(e.id))throw new Error("Grid id '"+e.id+'" is invalid. It must follow CSS selector syntax rules.');t.id=e.id,delete e.id,t.options=o.initialize(e),t.appScope=t.options.appScopeProvider,t.headerHeight=t.options.headerRowHeight,t.footerHeight=t.calcFooterHeight(),t.columnFooterHeight=t.calcColumnFooterHeight(),t.rtl=!1,t.gridHeight=0,t.gridWidth=0,t.columnBuilders=[],t.rowBuilders=[],t.rowsProcessors=[],t.columnsProcessors=[],t.styleComputations=[],t.viewportAdjusters=[],t.rowHeaderColumns=[],t.dataChangeCallbacks={},t.verticalScrollSyncCallBackFns={},t.horizontalScrollSyncCallBackFns={},t.renderContainers={},t.renderContainers.body=new d("body",t),t.cellValueGetterCache={},t.getRowTemplateFn=null,t.rows=[],t.columns=[],t.isScrollingVertically=!1,t.isScrollingHorizontally=!1,t.scrollDirection=r.scrollDirection.NONE,t.disableScrolling=!1;var n=i.debounce(vertical,t.options.scrollDebounce),a=i.debounce(vertical,0),s=i.debounce(horizontal,t.options.scrollDebounce),u=i.debounce(horizontal,0);t.flagScrollingVertically=function(e){t.isScrollingVertically||t.isScrollingHorizontally||t.api.core.raise.scrollBegin(e),t.isScrollingVertically=!0,0!==t.options.scrollDebounce&&e.withDelay?n(e):a(e)},t.flagScrollingHorizontally=function(e){t.isScrollingVertically||t.isScrollingHorizontally||t.api.core.raise.scrollBegin(e),t.isScrollingHorizontally=!0,0!==t.options.scrollDebounce&&e.withDelay?s(e):u(e)},t.scrollbarHeight=0,t.scrollbarWidth=0,t.options.enableHorizontalScrollbar===r.scrollbars.ALWAYS&&(t.scrollbarHeight=i.getScrollbarWidth()),t.options.enableVerticalScrollbar===r.scrollbars.ALWAYS&&(t.scrollbarWidth=i.getScrollbarWidth()),t.api=new l(t),t.api.registerMethod("core","refresh",this.refresh),t.api.registerMethod("core","queueGridRefresh",this.queueGridRefresh),t.api.registerMethod("core","refreshRows",this.refreshRows),t.api.registerMethod("core","queueRefresh",this.queueRefresh),t.api.registerMethod("core","handleWindowResize",this.handleWindowResize),t.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn),t.api.registerMethod("core","scrollToIfNecessary",function(e,n){return t.scrollToIfNecessary(e,n)}),t.api.registerMethod("core","scrollTo",function(e,n){return t.scrollTo(e,n)}),t.api.registerMethod("core","registerRowsProcessor",this.registerRowsProcessor),t.api.registerMethod("core","registerColumnsProcessor",this.registerColumnsProcessor),t.api.registerMethod("core","sortHandleNulls",c.handleNulls),t.api.registerEvent("core","sortChanged"),t.api.registerEvent("core","columnVisibilityChanged"),t.api.registerMethod("core","notifyDataChange",this.notifyDataChange),t.api.registerMethod("core","clearAllFilters",this.clearAllFilters),t.registerDataChangeCallback(t.columnRefreshCallback,[r.dataChange.COLUMN]),t.registerDataChangeCallback(t.processRowsCallback,[r.dataChange.EDIT]),t.registerDataChangeCallback(t.updateFooterHeightCallback,[r.dataChange.OPTIONS]),t.registerStyleComputation({priority:10,func:t.getFooterStyles})};p.prototype.calcFooterHeight=function(){if(!this.hasFooter())return 0;var e=0;return this.options.showGridFooter&&(e+=this.options.gridFooterHeight),e+=this.calcColumnFooterHeight()},p.prototype.calcColumnFooterHeight=function(){var e=0;return this.options.showColumnFooter&&(e+=this.options.columnFooterHeight),e},p.prototype.getFooterStyles=function(){var e=".grid"+this.id+" .ui-grid-footer-aggregates-row { height: "+this.options.columnFooterHeight+"px; }";return e+=" .grid"+this.id+" .ui-grid-footer-info { height: "+this.options.gridFooterHeight+"px; }"},p.prototype.hasFooter=function(){return this.options.showGridFooter||this.options.showColumnFooter},p.prototype.isRTL=function(){return this.rtl},p.prototype.registerColumnBuilder=function(e){this.columnBuilders.push(e)},p.prototype.buildColumnDefsFromData=function(e){this.options.columnDefs=i.getColumnsFromData(e,this.options.excludeProperties)},p.prototype.registerRowBuilder=function(e){this.rowBuilders.push(e)},p.prototype.registerDataChangeCallback=function(e,t,n){var o=i.nextUid();t||(t=[r.dataChange.ALL]),Array.isArray(t)||i.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+t),this.dataChangeCallbacks[o]={callback:e,types:t,_this:n};var a=this,s=function(){delete a.dataChangeCallbacks[o]};return s},p.prototype.callDataChangeCallbacks=function(e,t){angular.forEach(this.dataChangeCallbacks,function(t,n){t.types.indexOf(r.dataChange.ALL)===-1&&t.types.indexOf(e)===-1&&e!==r.dataChange.ALL||(t._this?t.callback.apply(t._this,this):t.callback(this))},this)},p.prototype.notifyDataChange=function(e){var t=r.dataChange;e===t.ALL||e===t.COLUMN||e===t.EDIT||e===t.ROW||e===t.OPTIONS?this.callDataChangeCallbacks(e):i.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+e)},p.prototype.columnRefreshCallback=function(e){e.buildColumns(),e.queueGridRefresh()},p.prototype.processRowsCallback=function(e){e.queueGridRefresh()},p.prototype.updateFooterHeightCallback=function(e){e.footerHeight=e.calcFooterHeight(),e.columnFooterHeight=e.calcColumnFooterHeight()},p.prototype.getColumn=function(e){var t=this.columns.filter(function(t){return t.colDef.name===e});return t.length>0?t[0]:null},p.prototype.getColDef=function(e){var t=this.options.columnDefs.filter(function(t){return t.name===e});return t.length>0?t[0]:null},p.prototype.assignTypes=function(){var e=this;e.options.columnDefs.forEach(function(t,n){if(!t.type){var r=new a(t,n,e),o=e.rows.length>0?e.rows[0]:null;o?t.type=i.guessType(e.getCellValue(o,r)):t.type="string"}})},p.prototype.isRowHeaderColumn=function(e){return this.rowHeaderColumns.indexOf(e)!==-1},p.prototype.addRowHeaderColumn=function(e,t){var n=this;void 0===t&&(t=0);var r=new a(e,i.nextUid(),n);r.isRowHeader=!0,n.isRTL()?(n.createRightContainer(),r.renderContainer="right"):(n.createLeftContainer(),r.renderContainer="left"),n.columnBuilders[0](e,r,n.options).then(function(){r.enableFiltering=!1,r.enableSorting=!1,r.enableHiding=!1,r.headerPriority=t,n.rowHeaderColumns.push(r),n.rowHeaderColumns=n.rowHeaderColumns.sort(function(e,t){return e.headerPriority-t.headerPriority}),n.buildColumns().then(function(){n.preCompileCellTemplates(),n.queueGridRefresh()})})},p.prototype.getOnlyDataColumns=function(){var e=this,t=[];return e.columns.forEach(function(n){e.rowHeaderColumns.indexOf(n)===-1&&t.push(n)}),t},p.prototype.buildColumns=function(t){var n={orderByColumnDefs:!1};angular.extend(n,t);var r,o=this,s=[],l=o.rowHeaderColumns.length;for(r=0;r<o.columns.length;r++)o.getColDef(o.columns[r].name)||(o.columns.splice(r,1),r--);for(var c=o.rowHeaderColumns.length-1;c>=0;c--)o.columns.unshift(o.rowHeaderColumns[c]);if(o.options.columnDefs.forEach(function(e,t){
o.preprocessColDef(e);var n=o.getColumn(e.name);n?n.updateColumnDef(e,!1):(n=new a(e,i.nextUid(),o),o.columns.splice(t+l,0,n)),o.columnBuilders.forEach(function(t){s.push(t.call(o,e,n,o.options))})}),n.orderByColumnDefs){var u=o.columns.slice(0),d=Math.min(o.options.columnDefs.length,o.columns.length);for(r=0;r<d;r++)o.columns[r+l].name!==o.options.columnDefs[r].name?u[r+l]=o.getColumn(o.options.columnDefs[r].name):u[r+l]=o.columns[r+l];o.columns.length=0,Array.prototype.splice.apply(o.columns,[0,0].concat(u))}return e.all(s).then(function(){o.rows.length>0&&o.assignTypes()})},p.prototype.preCompileCellTemplate=function(e){var n=this,i=e.cellTemplate.replace(r.MODEL_COL_FIELD,n.getQualifiedColField(e));i=i.replace(r.COL_FIELD,"grid.getCellValue(row, col)");var o=t(i);e.compiledElementFn=o,e.compiledElementFnDefer&&e.compiledElementFnDefer.resolve(e.compiledElementFn)},p.prototype.preCompileCellTemplates=function(){var e=this;e.columns.forEach(function(t){t.cellTemplate?e.preCompileCellTemplate(t):t.cellTemplatePromise&&t.cellTemplatePromise.then(function(){e.preCompileCellTemplate(t)})})},p.prototype.getQualifiedColField=function(e){var t="row.entity";return e.field===r.ENTITY_BINDING?t:i.preEval(t+"."+e.field)},p.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new d("left",this,{disableColumnOffset:!0}))},p.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new d("right",this,{disableColumnOffset:!0}))},p.prototype.hasLeftContainer=function(){return void 0!==this.renderContainers.left},p.prototype.hasRightContainer=function(){return void 0!==this.renderContainers.right},p.prototype.preprocessColDef=function(e){var t=this;if(!e.field&&!e.name)throw new Error("colDef.name or colDef.field property is required");if(void 0===e.name&&void 0!==e.field){for(var n=e.field,i=2;t.getColumn(n);)n=e.field+i.toString(),i++;e.name=n}},p.prototype.newInN=function(e,t,n,i){for(var r=this,o=[],a=0;a<t.length;a++){for(var s=i?t[a][i]:t[a],l=!1,c=0;c<e.length;c++){var u=n?e[c][n]:e[c];if(r.options.rowEquality(s,u)){l=!0;break}}l||o.push(s)}return o},p.prototype.getRow=function(e,t){var n=this;t="undefined"==typeof t?n.rows:t;var i=t.filter(function(t){return n.options.rowEquality(t.entity,e)});return i.length>0?i[0]:null},p.prototype.modifyRows=function(t){var n=this,i=n.rows.slice(0),r=n.rowHashMap||n.createRowHashMap();n.rowHashMap=n.createRowHashMap(),n.rows.length=0,t.forEach(function(e,t){var o,a;a=n.options.enableRowHashing?r.get(e):n.getRow(e,i),a&&(o=a,o.entity=e),o||(o=n.processRowBuilders(new s(e,t,n))),n.rows.push(o),n.rowHashMap.put(e,o)}),n.assignTypes();var o=e.when(n.processRowsProcessors(n.rows)).then(function(e){return n.setVisibleRows(e)}),a=e.when(n.processColumnsProcessors(n.columns)).then(function(e){return n.setVisibleColumns(e)});return e.all([o,a])},p.prototype.addRows=function(e){for(var t=this,n=t.rows.length,i=0;i<e.length;i++){var r=t.processRowBuilders(new s(e[i],i+n,t));if(t.options.enableRowHashing){var o=t.rowHashMap.get(r.entity);o&&(o.row=r)}t.rows.push(r)}},p.prototype.processRowBuilders=function(e){var t=this;return t.rowBuilders.forEach(function(n){n.call(t,e,t.options)}),e},p.prototype.registerStyleComputation=function(e){this.styleComputations.push(e)},p.prototype.registerRowsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.rowsProcessors.push({processor:e,priority:t}),this.rowsProcessors.sort(function(e,t){return e.priority-t.priority})},p.prototype.removeRowsProcessor=function(e){var t=-1;this.rowsProcessors.forEach(function(n,i){n.processor===e&&(t=i)}),t!==-1&&this.rowsProcessors.splice(t,1)},p.prototype.processRowsProcessors=function(t){function startProcessor(t,i){var o=n.rowsProcessors[t].processor;return e.when(o.call(n,i,n.columns)).then(function(e){if(!e)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+t+" did not return an array";return t++,t<=n.rowsProcessors.length-1?startProcessor(t,e):void r.resolve(e)})}var n=this,i=t.slice(0);if(0===n.rowsProcessors.length)return e.when(i);var r=e.defer();return startProcessor(0,i),r.promise},p.prototype.setVisibleRows=function(e){var t=this;for(var n in t.renderContainers){var i=t.renderContainers[n];i.canvasHeightShouldUpdate=!0,"undefined"==typeof i.visibleRowCache?i.visibleRowCache=[]:i.visibleRowCache.length=0}for(var r=0;r<e.length;r++){var o=e[r],a="undefined"!=typeof o.renderContainer&&o.renderContainer?o.renderContainer:"body";o.visible&&t.renderContainers[a].visibleRowCache.push(o)}t.api.core.raise.rowsVisibleChanged(this.api),t.api.core.raise.rowsRendered(this.api)},p.prototype.registerColumnsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.columnsProcessors.push({processor:e,priority:t}),this.columnsProcessors.sort(function(e,t){return e.priority-t.priority})},p.prototype.removeColumnsProcessor=function(e){var t=this.columnsProcessors.indexOf(e);"undefined"!=typeof t&&void 0!==t&&this.columnsProcessors.splice(t,1)},p.prototype.processColumnsProcessors=function(t){function startProcessor(t,o){var a=n.columnsProcessors[t].processor;return e.when(a.call(n,o,n.rows)).then(function(e){if(!e)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+t+" did not return an array";return t++,t<=n.columnsProcessors.length-1?startProcessor(t,i):void r.resolve(i)})}var n=this,i=t.slice(0);if(0===n.columnsProcessors.length)return e.when(i);var r=e.defer();return startProcessor(0,i),r.promise},p.prototype.setVisibleColumns=function(e){var t=this;for(var n in t.renderContainers){var i=t.renderContainers[n];i.visibleColumnCache.length=0}for(var r=0;r<e.length;r++){var o=e[r];o.visible&&("undefined"!=typeof o.renderContainer&&o.renderContainer?t.renderContainers[o.renderContainer].visibleColumnCache.push(o):t.renderContainers.body.visibleColumnCache.push(o))}},p.prototype.handleWindowResize=function(e){var t=this;return t.gridWidth=i.elementWidth(t.element),t.gridHeight=i.elementHeight(t.element),t.queueRefresh()},p.prototype.queueRefresh=function(){var e=this;return e.refreshCanceller&&h.cancel(e.refreshCanceller),e.refreshCanceller=h(function(){e.refreshCanvas(!0)}),e.refreshCanceller.then(function(){e.refreshCanceller=null}),e.refreshCanceller},p.prototype.queueGridRefresh=function(){var e=this;return e.gridRefreshCanceller&&h.cancel(e.gridRefreshCanceller),e.gridRefreshCanceller=h(function(){e.refresh(!0)}),e.gridRefreshCanceller.then(function(){e.gridRefreshCanceller=null}),e.gridRefreshCanceller},p.prototype.updateCanvasHeight=function(){var e=this;for(var t in e.renderContainers)if(e.renderContainers.hasOwnProperty(t)){var n=e.renderContainers[t];n.canvasHeightShouldUpdate=!0}},p.prototype.buildStyles=function(){var e=this;e.customStyles="",e.styleComputations.sort(function(e,t){return null===e.priority?1:null===t.priority?-1:null===e.priority&&null===t.priority?0:e.priority-t.priority}).forEach(function(t){var n=t.func.call(e);angular.isString(n)&&(e.customStyles+="\n"+n)})},p.prototype.minColumnsToRender=function(){var e=this,t=this.getViewportWidth(),n=0,i=0;return e.columns.forEach(function(r,o){if(i<t)i+=r.drawnWidth,n++;else{for(var a=0,s=o;s>=o-n;s--)a+=e.columns[s].drawnWidth;a<t&&n++}}),n},p.prototype.getBodyHeight=function(){var e=this.getViewportHeight();return e},p.prototype.getViewportHeight=function(){var e=this,t=this.gridHeight-this.headerHeight-this.footerHeight,n=e.getViewportAdjustment();return t+=n.height},p.prototype.getViewportWidth=function(){var e=this,t=this.gridWidth,n=e.getViewportAdjustment();return t+=n.width},p.prototype.getHeaderViewportWidth=function(){var e=this.getViewportWidth();return e},p.prototype.addVerticalScrollSync=function(e,t){this.verticalScrollSyncCallBackFns[e]=t},p.prototype.addHorizontalScrollSync=function(e,t){this.horizontalScrollSyncCallBackFns[e]=t},p.prototype.scrollContainers=function(e,t){if(t.y){var n=["body","left","right"];this.flagScrollingVertically(t),"body"===e?n=["left","right"]:"left"===e?n=["body","right"]:"right"===e&&(n=["body","left"]);for(var i=0;i<n.length;i++){var r=n[i];this.verticalScrollSyncCallBackFns[r]&&this.verticalScrollSyncCallBackFns[r](t)}}if(t.x){var o=["body","bodyheader","bodyfooter"];this.flagScrollingHorizontally(t),"body"===e&&(o=["bodyheader","bodyfooter"]);for(var a=0;a<o.length;a++){var s=o[a];this.horizontalScrollSyncCallBackFns[s]&&this.horizontalScrollSyncCallBackFns[s](t)}}},p.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},p.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);"undefined"!=typeof t&&void 0!==t&&this.viewportAdjusters.splice(t,1)},p.prototype.getViewportAdjustment=function(){var e=this,t={height:0,width:0};return e.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},p.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},p.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},p.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},p.prototype.searchRows=function(e){return u.search(this,e,this.columns)},p.prototype.sortByColumn=function(e){return c.sort(this,e,this.columns)},p.prototype.getCellValue=function(e,t){return"undefined"!=typeof e.entity["$$"+t.uid]?e.entity["$$"+t.uid].rendered:this.options.flatEntityAccess&&"undefined"!=typeof t.field?e.entity[t.field]:(t.cellValueGetterCache||(t.cellValueGetterCache=n(e.getEntityQualifiedColField(t))),t.cellValueGetterCache(e))},p.prototype.getCellDisplayValue=function(e,t){if(!t.cellDisplayGetterCache){var i=t.cellFilter?" | "+t.cellFilter:"";"undefined"!=typeof e.entity["$$"+t.uid]?t.cellDisplayGetterCache=n(e.entity["$$"+t.uid].rendered+i):this.options.flatEntityAccess&&"undefined"!=typeof t.field?t.cellDisplayGetterCache=n(e.entity[t.field]+i):t.cellDisplayGetterCache=n(e.getEntityQualifiedColField(t)+i)}return t.cellDisplayGetterCache(e)},p.prototype.getNextColumnSortPriority=function(){var e=this,t=0;return e.columns.forEach(function(e){e.sort&&void 0!==e.sort.priority&&e.sort.priority>=t&&(t=e.sort.priority+1)}),t},p.prototype.resetColumnSorting=function(e){var t=this;t.columns.forEach(function(t){t===e||t.suppressRemoveSort||(t.sort={})})},p.prototype.getColumnSorting=function(){var e,t=this,n=[];return e=t.columns.slice(0),e.sort(c.prioritySort).forEach(function(e){e.sort&&"undefined"!=typeof e.sort.direction&&e.sort.direction&&(e.sort.direction===r.ASC||e.sort.direction===r.DESC)&&n.push(e)}),n},p.prototype.sortColumn=function(t,n,i){var r=this,o=null;if("undefined"==typeof t||!t)throw new Error("No column parameter provided");if("boolean"==typeof n?i=n:o=n,i?void 0===t.sort.priority&&(t.sort.priority=r.getNextColumnSortPriority()):(r.resetColumnSorting(t),t.sort.priority=void 0,t.sort.priority=r.getNextColumnSortPriority()),o)t.sort.direction=o;else{var a=t.sortDirectionCycle.indexOf(t.sort.direction?t.sort.direction:null);a=(a+1)%t.sortDirectionCycle.length,t.colDef&&t.suppressRemoveSort&&!t.sortDirectionCycle[a]&&(a=(a+1)%t.sortDirectionCycle.length),t.sortDirectionCycle[a]?t.sort.direction=t.sortDirectionCycle[a]:f(t,r)}return r.api.core.raise.sortChanged(r,r.getColumnSorting()),e.when(t)};var f=function(e,t){t.columns.forEach(function(t){t.sort&&void 0!==t.sort.priority&&t.sort.priority>e.sort.priority&&(t.sort.priority-=1)}),e.sort={}};return p.prototype.renderingComplete=function(){angular.isFunction(this.options.onRegisterApi)&&this.options.onRegisterApi(this.api),this.api.core.raise.renderingComplete(this.api)},p.prototype.createRowHashMap=function(){var e=this,t=new RowHashMap;return t.grid=e,t},p.prototype.refresh=function(t){var n=this,i=n.processRowsProcessors(n.rows).then(function(e){n.setVisibleRows(e)}),r=n.processColumnsProcessors(n.columns).then(function(e){n.setVisibleColumns(e)});return e.all([i,r]).then(function(){n.redrawInPlace(t),n.refreshCanvas(!0)})},p.prototype.refreshRows=function(){var e=this;return e.processRowsProcessors(e.rows).then(function(t){e.setVisibleRows(t),e.redrawInPlace(),e.refreshCanvas(!0)})},p.prototype.refreshCanvas=function(t){var n=this;t&&n.buildStyles();var r=e.defer(),o=[];for(var a in n.renderContainers)if(n.renderContainers.hasOwnProperty(a)){var s=n.renderContainers[a];if(null===s.canvasWidth||isNaN(s.canvasWidth))continue;(s.header||s.headerCanvas)&&(s.explicitHeaderHeight=s.explicitHeaderHeight||null,s.explicitHeaderCanvasHeight=s.explicitHeaderCanvasHeight||null,o.push(s))}return o.length>0?(t&&n.buildStyles(),h(function(){var e,a,s=!1,l=0,c=0,u=function(e,t){return e!==t&&(s=!0),t};for(e=0;e<o.length;e++)if(a=o[e],null!==a.canvasWidth&&!isNaN(a.canvasWidth)){if(a.header){var d=a.headerHeight=u(a.headerHeight,parseInt(i.outerElementHeight(a.header),10)),h=i.getBorderSize(a.header,"top"),m=i.getBorderSize(a.header,"bottom"),p=parseInt(d-h-m,10);p=p<0?0:p,a.innerHeaderHeight=p,!a.explicitHeaderHeight&&p>l&&(l=p)}if(a.headerCanvas){var f=a.headerCanvasHeight=u(a.headerCanvasHeight,parseInt(i.outerElementHeight(a.headerCanvas),10));!a.explicitHeaderCanvasHeight&&f>c&&(c=f)}}for(e=0;e<o.length;e++)a=o[e],l>0&&"undefined"!=typeof a.headerHeight&&null!==a.headerHeight&&(a.explicitHeaderHeight||a.headerHeight<l)&&(a.explicitHeaderHeight=u(a.explicitHeaderHeight,l)),c>0&&"undefined"!=typeof a.headerCanvasHeight&&null!==a.headerCanvasHeight&&(a.explicitHeaderCanvasHeight||a.headerCanvasHeight<c)&&(a.explicitHeaderCanvasHeight=u(a.explicitHeaderCanvasHeight,c));t&&s&&n.buildStyles(),r.resolve()})):h(function(){r.resolve()}),r.promise},p.prototype.redrawInPlace=function(e){var t=this;for(var n in t.renderContainers){var i=t.renderContainers[n];e?(i.adjustRows(i.prevScrollTop,null),i.adjustColumns(i.prevScrollLeft,null)):(i.adjustRows(null,i.prevScrolltopPercentage),i.adjustColumns(null,i.prevScrollleftPercentage))}},p.prototype.hasLeftContainerColumns=function(){return this.hasLeftContainer()&&this.renderContainers.left.renderedColumns.length>0},p.prototype.hasRightContainerColumns=function(){return this.hasRightContainer()&&this.renderContainers.right.renderedColumns.length>0},p.prototype.scrollToIfNecessary=function(t,n){var i=this,r=new m(i,"uiGrid.scrollToIfNecessary"),o=i.renderContainers.body.visibleRowCache,a=i.renderContainers.body.visibleColumnCache,s=i.renderContainers.body.prevScrollTop+i.headerHeight;s=s<0?0:s;var l=i.renderContainers.body.prevScrollLeft,c=i.renderContainers.body.prevScrollTop+i.gridHeight-i.renderContainers.body.headerHeight-i.footerHeight-i.scrollbarWidth,u=i.renderContainers.body.prevScrollLeft+Math.ceil(i.renderContainers.body.getViewportWidth());if(null!==t){var d=o.indexOf(t),h=i.renderContainers.body.getCanvasHeight()-i.renderContainers.body.getViewportHeight(),p=d*i.options.rowHeight+i.headerHeight;p=p<0?0:p;var f,g;p<s?(f=i.renderContainers.body.prevScrollTop-(s-p),g=f/h,r.y={percentage:g}):p>c&&(f=p-c+i.renderContainers.body.prevScrollTop,g=f/h,r.y={percentage:g})}if(null!==n){for(var v=a.indexOf(n),y=i.renderContainers.body.getCanvasWidth()-i.renderContainers.body.getViewportWidth(),b=0,_=0;_<v;_++){var w=a[_];b+=w.drawnWidth}b=b<0?0:b;var x=b+n.drawnWidth;x=x<0?0:x;var C,S;b<l?(C=i.renderContainers.body.prevScrollLeft-(l-b),S=C/y,S=S>1?1:S,r.x={percentage:S}):x>u&&(C=x-u+i.renderContainers.body.prevScrollLeft,S=C/y,S=S>1?1:S,r.x={percentage:S})}var E=e.defer();if(r.y||r.x){r.withDelay=!1,i.scrollContainers("",r);var T=i.api.core.on.scrollEnd(null,function(){E.resolve(r),T()})}else E.resolve();return E.promise},p.prototype.scrollTo=function(e,t){var n=null,i=null;return null!==e&&"undefined"!=typeof e&&(n=this.getRow(e)),null!==t&&"undefined"!=typeof t&&(i=this.getColumn(t.name?t.name:t.field)),this.scrollToIfNecessary(n,i)},p.prototype.clearAllFilters=function(e,t,n){if(void 0===e&&(e=!0),void 0===t&&(t=!1),void 0===n&&(n=!1),this.columns.forEach(function(e){e.filters.forEach(function(e){e.term=void 0,t&&(e.condition=void 0),n&&(e.flags=void 0)})}),e)return this.refreshRows()},RowHashMap.prototype={put:function(e,t){this[this.grid.options.rowIdentity(e)]=t},get:function(e){return this[this.grid.options.rowIdentity(e)]},remove:function(e){var t=this[e=this.grid.options.rowIdentity(e)];return delete this[e],t}},p}])}(),function(){angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow","uiGridGridMenuService",function(e,t,n,i,r,o){function registerEventWithAngular(e,n,i,r){return t.$on(e,function(e){var t=Array.prototype.slice.call(arguments);t.splice(0,1),n.apply(r?r:i.api,t)})}var a=function(e){this.grid=e,this.listeners=[],this.registerEvent("core","renderingComplete"),this.registerEvent("core","filterChanged"),this.registerMethod("core","setRowInvisible",r.prototype.setRowInvisible),this.registerMethod("core","clearRowInvisible",r.prototype.clearRowInvisible),this.registerMethod("core","getVisibleRows",this.grid.getVisibleRows),this.registerEvent("core","rowsVisibleChanged"),this.registerEvent("core","rowsRendered"),this.registerEvent("core","scrollBegin"),this.registerEvent("core","scrollEnd"),this.registerEvent("core","canvasHeightChanged"),this.registerEvent("core","gridDimensionChanged")};return a.prototype.suppressEvents=function(e,t){var n=this,i=angular.isArray(e)?e:[e],r=n.listeners.filter(function(e){return i.some(function(t){return e.handler===t})});r.forEach(function(e){e.dereg()}),t(),r.forEach(function(e){e.dereg=registerEventWithAngular(e.eventId,e.handler,n.grid,e._this)})},a.prototype.registerEvent=function(e,i){var r=this;r[e]||(r[e]={});var o=r[e];o.on||(o.on={},o.raise={});var a=r.grid.id+e+i;o.raise[i]=function(){t.$emit.apply(t,[a].concat(Array.prototype.slice.call(arguments)))},o.on[i]=function(t,o,s){if(null!==t&&"undefined"==typeof t.$on)return void n.logError("asked to listen on "+e+".on."+i+" but scope wasn't passed in the input parameters.  It is legitimate to pass null, but you've passed something else, so you probably forgot to provide scope rather than did it deliberately, not registering");var l=registerEventWithAngular(a,o,r.grid,s),c={handler:o,dereg:l,eventId:a,scope:t,_this:s};r.listeners.push(c);var u=function(){c.dereg();var e=r.listeners.indexOf(c);r.listeners.splice(e,1)};return t&&t.$on("$destroy",function(){u()}),u}},a.prototype.registerEventsFromObject=function(e){var t=this,n=[];angular.forEach(e,function(e,t){var i={name:t,events:[]};angular.forEach(e,function(e,t){i.events.push(t)}),n.push(i)}),n.forEach(function(e){e.events.forEach(function(n){t.registerEvent(e.name,n)})})},a.prototype.registerMethod=function(e,t,i,r){this[e]||(this[e]={});var o=this[e];o[t]=n.createBoundedWrapper(r||this.grid,i)},a.prototype.registerMethodsFromObject=function(e,t){var n=this,i=[];angular.forEach(e,function(e,t){var n={name:t,methods:[]};angular.forEach(e,function(e,t){n.methods.push({name:t,fn:e})}),i.push(n)}),i.forEach(function(e){e.methods.forEach(function(i){n.registerMethod(e.name,i.name,i.fn,t)})})},a}])}(),function(){angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(e,t,n){function GridColumn(e,n,i){var r=this;r.grid=i,r.uid=n,r.updateColumnDef(e,!0),r.aggregationValue=void 0,r.updateAggregationValue=function(){if(!r.aggregationType)return void(r.aggregationValue=void 0);var e=0,n=r.grid.getVisibleRows(),i=function(){var e=[];return n.forEach(function(t){var n=r.grid.getCellValue(t,r),i=Number(n);isNaN(i)||e.push(i)}),e};angular.isFunction(r.aggregationType)?r.aggregationValue=r.aggregationType(n,r):r.aggregationType===t.aggregationTypes.count?r.aggregationValue=r.grid.getVisibleRowCount():r.aggregationType===t.aggregationTypes.sum?(i().forEach(function(t){e+=t}),r.aggregationValue=e):r.aggregationType===t.aggregationTypes.avg?(i().forEach(function(t){e+=t}),e/=i().length,r.aggregationValue=e):r.aggregationType===t.aggregationTypes.min?r.aggregationValue=Math.min.apply(null,i()):r.aggregationType===t.aggregationTypes.max?r.aggregationValue=Math.max.apply(null,i()):r.aggregationValue=""},this.getAggregationValue=function(){return r.aggregationValue}}return GridColumn.prototype.hideColumn=function(){this.colDef.visible=!1},GridColumn.prototype.setPropertyOrDefault=function(e,t,n){var i=this;"undefined"!=typeof e[t]&&e[t]?i[t]=e[t]:"undefined"!=typeof i[t]?i[t]=i[t]:i[t]=n?n:{}},GridColumn.prototype.updateColumnDef=function(n,i){var r=this;if(r.colDef=n,void 0===n.name)throw new Error("colDef.name is required for column at index "+r.grid.options.columnDefs.indexOf(n));if(r.displayName=void 0===n.displayName?e.readableColumnName(n.name):n.displayName,!angular.isNumber(r.width)||!r.hasCustomWidth||n.allowCustomWidthOverride){var o=n.width,a="Cannot parse column width '"+o+"' for column named '"+n.name+"'";if(r.hasCustomWidth=!1,angular.isString(o)||angular.isNumber(o))if(angular.isString(o))if(e.endsWith(o,"%")){var s=o.replace(/%/g,""),l=parseInt(s,10);if(isNaN(l))throw new Error(a);r.width=o}else if(o.match(/^(\d+)$/))r.width=parseInt(o.match(/^(\d+)$/)[1],10);else{if(!o.match(/^\*+$/))throw new Error(a);r.width=o}else r.width=o;else r.width="*"}["minWidth","maxWidth"].forEach(function(e){var t=n[e],i="Cannot parse column "+e+" '"+t+"' for column named '"+n.name+"'";if(angular.isString(t)||angular.isNumber(t))if(angular.isString(t)){if(!t.match(/^(\d+)$/))throw new Error(i);r[e]=parseInt(t.match(/^(\d+)$/)[1],10)}else r[e]=t;else r[e]="minWidth"===e?30:9e3}),r.field=void 0===n.field?n.name:n.field,"string"!=typeof r.field&&e.logError("Field is not a string, this is likely to break the code, Field is: "+r.field),r.name=n.name,r.displayName=void 0===n.displayName?e.readableColumnName(n.name):n.displayName,r.aggregationType=angular.isDefined(n.aggregationType)?n.aggregationType:null,r.footerCellTemplate=angular.isDefined(n.footerCellTemplate)?n.footerCellTemplate:null,"undefined"==typeof n.cellTooltip||n.cellTooltip===!1?r.cellTooltip=!1:n.cellTooltip===!0?r.cellTooltip=function(e,t){return r.grid.getCellValue(e,t)}:"function"==typeof n.cellTooltip?r.cellTooltip=n.cellTooltip:r.cellTooltip=function(e,t){return t.colDef.cellTooltip},"undefined"==typeof n.headerTooltip||n.headerTooltip===!1?r.headerTooltip=!1:n.headerTooltip===!0?r.headerTooltip=function(e){return e.displayName}:"function"==typeof n.headerTooltip?r.headerTooltip=n.headerTooltip:r.headerTooltip=function(e){return e.colDef.headerTooltip},r.footerCellClass=n.footerCellClass,r.cellClass=n.cellClass,r.headerCellClass=n.headerCellClass,r.cellFilter=n.cellFilter?n.cellFilter:"",r.sortCellFiltered=!!n.sortCellFiltered,r.filterCellFiltered=!!n.filterCellFiltered,r.headerCellFilter=n.headerCellFilter?n.headerCellFilter:"",r.footerCellFilter=n.footerCellFilter?n.footerCellFilter:"",r.visible=e.isNullOrUndefined(n.visible)||n.visible,r.headerClass=n.headerClass,r.enableSorting="undefined"!=typeof n.enableSorting?n.enableSorting:r.grid.options.enableSorting,r.sortingAlgorithm=n.sortingAlgorithm,r.sortDirectionCycle="undefined"!=typeof n.sortDirectionCycle?n.sortDirectionCycle:[null,t.ASC,t.DESC],"undefined"==typeof r.suppressRemoveSort&&(r.suppressRemoveSort="undefined"!=typeof n.suppressRemoveSort&&n.suppressRemoveSort),r.enableFiltering="undefined"==typeof n.enableFiltering||n.enableFiltering,r.setPropertyOrDefault(n,"menuItems",[]),i&&r.setPropertyOrDefault(n,"sort");var c=[];n.filter?c.push(n.filter):n.filters?c=n.filters:c.push({}),i?(r.setPropertyOrDefault(n,"filter"),r.setPropertyOrDefault(n,"extraStyle"),r.setPropertyOrDefault(n,"filters",c)):r.filters.length===c.length&&r.filters.forEach(function(e,t){"undefined"!=typeof c[t].placeholder&&(e.placeholder=c[t].placeholder),"undefined"!=typeof c[t].ariaLabel&&(e.ariaLabel=c[t].ariaLabel),"undefined"!=typeof c[t].flags&&(e.flags=c[t].flags),"undefined"!=typeof c[t].type&&(e.type=c[t].type),"undefined"!=typeof c[t].selectOptions&&(e.selectOptions=c[t].selectOptions)})},GridColumn.prototype.unsort=function(){this.sort={},this.grid.api.core.raise.sortChanged(this.grid,this.grid.getColumnSorting())},GridColumn.prototype.getColClass=function(e){var n=t.COL_CLASS_PREFIX+this.uid;return e?"."+n:n},GridColumn.prototype.isPinnedLeft=function(){return"left"===this.renderContainer},GridColumn.prototype.isPinnedRight=function(){return"right"===this.renderContainer},GridColumn.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { min-width: "+this.drawnWidth+"px; max-width: "+this.drawnWidth+"px; }"},GridColumn.prototype.getRenderContainer=function(){var e=this,t=e.renderContainer;return null!==t&&""!==t&&void 0!==t||(t="body"),e.grid.renderContainers[t]},GridColumn.prototype.showColumn=function(){this.colDef.visible=!0},GridColumn.prototype.getAggregationText=function(){var e=this;if(e.colDef.aggregationHideLabel)return"";if(e.colDef.aggregationLabel)return e.colDef.aggregationLabel;switch(e.colDef.aggregationType){case t.aggregationTypes.count:return n.getSafeText("aggregation.count");case t.aggregationTypes.sum:return n.getSafeText("aggregation.sum");case t.aggregationTypes.avg:return n.getSafeText("aggregation.avg");case t.aggregationTypes.min:return n.getSafeText("aggregation.min");case t.aggregationTypes.max:return n.getSafeText("aggregation.max");default:return""}},GridColumn.prototype.getCellTemplate=function(){var e=this;return e.cellTemplatePromise},GridColumn.prototype.getCompiledElementFn=function(){var e=this;return e.compiledElementFnDefer.promise},GridColumn}])}(),function(){angular.module("ui.grid").factory("GridOptions",["gridUtil","uiGridConstants",function(e,t){return{initialize:function(n){return n.onRegisterApi=n.onRegisterApi||angular.noop(),n.data=n.data||[],n.columnDefs=n.columnDefs||[],n.excludeProperties=n.excludeProperties||["$$hashKey"],n.enableRowHashing=n.enableRowHashing!==!1,n.rowIdentity=n.rowIdentity||function(t){return e.hashKey(t)},n.getRowIdentity=n.getRowIdentity||function(e){return e.$$hashKey},n.flatEntityAccess=n.flatEntityAccess===!0,n.showHeader="undefined"==typeof n.showHeader||n.showHeader,n.showHeader?n.headerRowHeight="undefined"!=typeof n.headerRowHeight?n.headerRowHeight:30:n.headerRowHeight=0,"string"==typeof n.rowHeight?n.rowHeight=parseInt(n.rowHeight)||30:n.rowHeight=n.rowHeight||30,n.minRowsToShow="undefined"!=typeof n.minRowsToShow?n.minRowsToShow:10,n.showGridFooter=n.showGridFooter===!0,n.showColumnFooter=n.showColumnFooter===!0,n.columnFooterHeight="undefined"!=typeof n.columnFooterHeight?n.columnFooterHeight:30,n.gridFooterHeight="undefined"!=typeof n.gridFooterHeight?n.gridFooterHeight:30,n.columnWidth="undefined"!=typeof n.columnWidth?n.columnWidth:50,n.maxVisibleColumnCount="undefined"!=typeof n.maxVisibleColumnCount?n.maxVisibleColumnCount:200,n.virtualizationThreshold="undefined"!=typeof n.virtualizationThreshold?n.virtualizationThreshold:20,n.columnVirtualizationThreshold="undefined"!=typeof n.columnVirtualizationThreshold?n.columnVirtualizationThreshold:10,n.excessRows="undefined"!=typeof n.excessRows?n.excessRows:4,n.scrollThreshold="undefined"!=typeof n.scrollThreshold?n.scrollThreshold:4,n.excessColumns="undefined"!=typeof n.excessColumns?n.excessColumns:4,n.horizontalScrollThreshold="undefined"!=typeof n.horizontalScrollThreshold?n.horizontalScrollThreshold:2,n.aggregationCalcThrottle="undefined"!=typeof n.aggregationCalcThrottle?n.aggregationCalcThrottle:500,n.wheelScrollThrottle="undefined"!=typeof n.wheelScrollThrottle?n.wheelScrollThrottle:70,n.scrollDebounce="undefined"!=typeof n.scrollDebounce?n.scrollDebounce:300,n.enableSorting=n.enableSorting!==!1,n.enableFiltering=n.enableFiltering===!0,n.enableColumnMenus=n.enableColumnMenus!==!1,n.enableVerticalScrollbar="undefined"!=typeof n.enableVerticalScrollbar?n.enableVerticalScrollbar:t.scrollbars.ALWAYS,n.enableHorizontalScrollbar="undefined"!=typeof n.enableHorizontalScrollbar?n.enableHorizontalScrollbar:t.scrollbars.ALWAYS,n.enableMinHeightCheck=n.enableMinHeightCheck!==!1,n.minimumColumnSize="undefined"!=typeof n.minimumColumnSize?n.minimumColumnSize:10,n.rowEquality=n.rowEquality||function(e,t){return e===t},n.headerTemplate=n.headerTemplate||null,n.footerTemplate=n.footerTemplate||"ui-grid/ui-grid-footer",n.gridFooterTemplate=n.gridFooterTemplate||"ui-grid/ui-grid-grid-footer",n.rowTemplate=n.rowTemplate||"ui-grid/ui-grid-row",n.gridMenuTemplate=n.gridMenuTemplate||"ui-grid/uiGridMenu",n.appScopeProvider=n.appScopeProvider||null,n}}}])}(),function(){angular.module("ui.grid").factory("GridRenderContainer",["gridUtil","uiGridConstants",function(e,t){function GridRenderContainer(e,t,n){var i=this;i.name=e,i.grid=t,i.visibleRowCache=[],i.visibleColumnCache=[],i.renderedRows=[],i.renderedColumns=[],i.prevScrollTop=0,i.prevScrolltopPercentage=0,i.prevRowScrollIndex=0,i.prevScrollLeft=0,i.prevScrollleftPercentage=0,i.prevColumnScrollIndex=0,i.columnStyles="",i.viewportAdjusters=[],i.hasHScrollbar=!1,i.hasVScrollbar=!1,i.canvasHeightShouldUpdate=!0,i.$$canvasHeight=0,n&&angular.isObject(n)&&angular.extend(i,n),t.registerStyleComputation({priority:5,func:function(){return i.updateColumnWidths(),i.columnStyles}})}return GridRenderContainer.prototype.reset=function(){this.visibleColumnCache.length=0,this.visibleRowCache.length=0,this.renderedRows.length=0,this.renderedColumns.length=0},GridRenderContainer.prototype.containsColumn=function(e){return this.visibleColumnCache.indexOf(e)!==-1},GridRenderContainer.prototype.minRowsToRender=function(){for(var e=this,t=0,n=0,i=e.getViewportHeight(),r=e.visibleRowCache.length-1;n<i&&r>=0;r--)n+=e.visibleRowCache[r].height,t++;return t},GridRenderContainer.prototype.minColumnsToRender=function(){for(var e=this,t=this.getViewportWidth(),n=0,i=0,r=0;r<e.visibleColumnCache.length;r++){var o=e.visibleColumnCache[r];if(i<t)i+=o.drawnWidth?o.drawnWidth:0,n++;else{for(var a=0,s=r;s>=r-n;s--)a+=e.visibleColumnCache[s].drawnWidth?e.visibleColumnCache[s].drawnWidth:0;a<t&&n++}}return n},GridRenderContainer.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},GridRenderContainer.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},GridRenderContainer.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);t>-1&&this.viewportAdjusters.splice(t,1)},GridRenderContainer.prototype.getViewportAdjustment=function(){var e=this,t={height:0,width:0};return e.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},GridRenderContainer.prototype.getMargin=function(e){var t=this,n=0;return t.viewportAdjusters.forEach(function(t){var i=t.call(this,{height:0,width:0});i.side&&i.side===e&&(n+=i.width*-1)}),n},GridRenderContainer.prototype.getViewportHeight=function(){var e=this,t=e.headerHeight?e.headerHeight:e.grid.headerHeight,n=e.grid.gridHeight-t-e.grid.footerHeight,i=e.getViewportAdjustment();return n+=i.height},GridRenderContainer.prototype.getViewportWidth=function(){var e=this,t=e.grid.gridWidth,n=e.getViewportAdjustment();return t+=n.width},GridRenderContainer.prototype.getHeaderViewportWidth=function(){var e=this.getViewportWidth();return e},GridRenderContainer.prototype.getCanvasHeight=function(){var e=this;if(!e.canvasHeightShouldUpdate)return e.$$canvasHeight;var t=e.$$canvasHeight;return e.$$canvasHeight=0,e.visibleRowCache.forEach(function(t){e.$$canvasHeight+=t.height}),e.canvasHeightShouldUpdate=!1,e.grid.api.core.raise.canvasHeightChanged(t,e.$$canvasHeight),e.$$canvasHeight},GridRenderContainer.prototype.getVerticalScrollLength=function(){return this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight!==0?this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight:-1},GridRenderContainer.prototype.getHorizontalScrollLength=function(){return this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth!==0?this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth:-1;
},GridRenderContainer.prototype.getCanvasWidth=function(){var e=this,t=e.canvasWidth;return t},GridRenderContainer.prototype.setRenderedRows=function(e){this.renderedRows.length=e.length;for(var t=0;t<e.length;t++)this.renderedRows[t]=e[t]},GridRenderContainer.prototype.setRenderedColumns=function(e){this.renderedColumns.length=e.length;for(var t=0;t<e.length;t++)this.renderedColumns[t]=e[t];this.updateColumnOffset()},GridRenderContainer.prototype.updateColumnOffset=function(){for(var e=0,t=0;t<this.currentFirstColumn;t++)e+=this.visibleColumnCache[t].drawnWidth;this.columnOffset=e},GridRenderContainer.prototype.scrollVertical=function(e){var n=-1;if(e!==this.prevScrollTop){var i=e-this.prevScrollTop;i>0&&(this.grid.scrollDirection=t.scrollDirection.DOWN),i<0&&(this.grid.scrollDirection=t.scrollDirection.UP);var r=this.getVerticalScrollLength();return n=e/r,n>1&&(n=1),n<0&&(n=0),this.adjustScrollVertical(e,n),n}},GridRenderContainer.prototype.scrollHorizontal=function(e){var n=-1;if(e!==this.prevScrollLeft){var i=e-this.prevScrollLeft;i>0&&(this.grid.scrollDirection=t.scrollDirection.RIGHT),i<0&&(this.grid.scrollDirection=t.scrollDirection.LEFT);var r=this.getHorizontalScrollLength();return n=0!==r?e/r:0,this.adjustScrollHorizontal(e,n),n}},GridRenderContainer.prototype.adjustScrollVertical=function(e,t,n){(this.prevScrollTop!==e||n)&&("undefined"!=typeof e&&void 0!==e&&null!==e||(e=(this.getCanvasHeight()-this.getViewportHeight())*t),this.adjustRows(e,t,!1),this.prevScrollTop=e,this.prevScrolltopPercentage=t,this.grid.queueRefresh())},GridRenderContainer.prototype.adjustScrollHorizontal=function(e,t,n){(this.prevScrollLeft!==e||n)&&("undefined"!=typeof e&&void 0!==e&&null!==e||(e=(this.getCanvasWidth()-this.getViewportWidth())*t),this.adjustColumns(e,t),this.prevScrollLeft=e,this.prevScrollleftPercentage=t,this.grid.queueRefresh())},GridRenderContainer.prototype.adjustRows=function(e,t,n){var i=this,r=i.minRowsToRender(),o=i.visibleRowCache,a=o.length-r;"undefined"!=typeof t&&null!==t||!e||(t=e/i.getVerticalScrollLength());var s=Math.ceil(Math.min(a,a*t));s>a&&(s=a);var l=[];if(o.length>i.grid.options.virtualizationThreshold){if("undefined"!=typeof e&&null!==e){if(!i.grid.suppressParentScrollDown&&i.prevScrollTop<e&&s<i.prevRowScrollIndex+i.grid.options.scrollThreshold&&s<a)return;if(!i.grid.suppressParentScrollUp&&i.prevScrollTop>e&&s>i.prevRowScrollIndex-i.grid.options.scrollThreshold&&s<a)return}var c={},u={};c=Math.max(0,s-i.grid.options.excessRows),u=Math.min(o.length,s+r+i.grid.options.excessRows),l=[c,u]}else{var d=i.visibleRowCache.length;l=[0,Math.max(d,r+i.grid.options.excessRows)]}i.updateViewableRowRange(l),i.prevRowScrollIndex=s},GridRenderContainer.prototype.adjustColumns=function(e,t){var n=this,i=n.minColumnsToRender(),r=n.visibleColumnCache,o=r.length-i;"undefined"!=typeof t&&null!==t||!e||(t=e/n.getHorizontalScrollLength());var a=Math.ceil(Math.min(o,o*t));a>o&&(a=o);var s=[];if(r.length>n.grid.options.columnVirtualizationThreshold&&n.getCanvasWidth()>n.getViewportWidth()){var l=Math.max(0,a-n.grid.options.excessColumns),c=Math.min(r.length,a+i+n.grid.options.excessColumns);s=[l,c]}else{var u=n.visibleColumnCache.length;s=[0,Math.max(u,i+n.grid.options.excessColumns)]}n.updateViewableColumnRange(s),n.prevColumnScrollIndex=a},GridRenderContainer.prototype.updateViewableRowRange=function(e){var t=this.visibleRowCache.slice(e[0],e[1]);this.currentTopRow=e[0],this.setRenderedRows(t)},GridRenderContainer.prototype.updateViewableColumnRange=function(e){var t=this.visibleColumnCache.slice(e[0],e[1]);this.currentFirstColumn=e[0],this.setRenderedColumns(t)},GridRenderContainer.prototype.headerCellWrapperStyle=function(){var e=this;if(0!==e.currentFirstColumn){var t=e.columnOffset;return e.grid.isRTL()?{"margin-right":t+"px"}:{"margin-left":t+"px"}}return null},GridRenderContainer.prototype.updateColumnWidths=function(){var t=this,n=[],i=0,r=0,o="",a=t.grid.getViewportWidth()-t.grid.scrollbarWidth,s=[];angular.forEach(t.grid.renderContainers,function(e,t){s=s.concat(e.visibleColumnCache)}),s.forEach(function(t,o){var s=0;t.visible&&(angular.isNumber(t.width)?(s=parseInt(t.width,10),r+=s,t.drawnWidth=s):e.endsWith(t.width,"%")?(s=parseFloat(parseInt(t.width.replace(/%/g,""),10)/100*a),s>t.maxWidth&&(s=t.maxWidth),s<t.minWidth&&(s=t.minWidth),r+=s,t.drawnWidth=s):angular.isString(t.width)&&t.width.indexOf("*")!==-1&&(i+=t.width.length,n.push(t)))});var l=a-r;if(n.length>0){var c=l/i;n.forEach(function(e){var t=parseInt(e.width.length*c,10);t>e.maxWidth&&(t=e.maxWidth),t<e.minWidth&&(t=e.minWidth),r+=t,e.drawnWidth=t})}for(var u=function(e){e.drawnWidth<e.maxWidth&&d>0&&(e.drawnWidth++,r++,d--,h=!0)},d=a-r,h=!0;d>0&&h;)h=!1,n.forEach(u);var m=function(e){e.drawnWidth>e.minWidth&&p>0&&(e.drawnWidth--,r--,p--,h=!0)},p=r-a;for(h=!0;p>0&&h;)h=!1,n.forEach(m);var f=0;t.visibleColumnCache.forEach(function(e){e.visible&&(f+=e.drawnWidth)}),s.forEach(function(e){o+=e.getColClassDefinition()}),t.canvasWidth=f,this.columnStyles=o},GridRenderContainer.prototype.needsHScrollbarPlaceholder=function(){return this.grid.options.enableHorizontalScrollbar&&!this.hasHScrollbar&&!this.grid.disableScrolling},GridRenderContainer.prototype.getViewportStyle=function(){var e=this,n={};return e.hasHScrollbar=!1,e.hasVScrollbar=!1,e.grid.disableScrolling?(n["overflow-x"]="hidden",n["overflow-y"]="hidden",n):("body"===e.name?(e.hasHScrollbar=e.grid.options.enableHorizontalScrollbar!==t.scrollbars.NEVER,e.grid.isRTL()?e.grid.hasLeftContainerColumns()||(e.hasVScrollbar=e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER):e.grid.hasRightContainerColumns()||(e.hasVScrollbar=e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER)):"left"===e.name?e.hasVScrollbar=!!e.grid.isRTL()&&e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER:e.hasVScrollbar=!e.grid.isRTL()&&e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER,n["overflow-x"]=e.hasHScrollbar?"scroll":"hidden",n["overflow-y"]=e.hasVScrollbar?"scroll":"hidden",n)},GridRenderContainer}])}(),function(){angular.module("ui.grid").factory("GridRow",["gridUtil","uiGridConstants",function(e,t){function GridRow(t,n,i){this.grid=i,this.entity=t,this.uid=e.nextUid(),this.visible=!0,this.$$height=i.options.rowHeight}return Object.defineProperty(GridRow.prototype,"height",{get:function(){return this.$$height},set:function(e){e!==this.$$height&&(this.grid.updateCanvasHeight(),this.$$height=e)}}),GridRow.prototype.getQualifiedColField=function(e){return"row."+this.getEntityQualifiedColField(e)},GridRow.prototype.getEntityQualifiedColField=function(n){var i="entity";return n.field===t.ENTITY_BINDING?i:e.preEval(i+"."+n.field)},GridRow.prototype.setRowInvisible=function(e){e&&e.setThisRowInvisible&&e.setThisRowInvisible("user")},GridRow.prototype.clearRowInvisible=function(e){e&&e.clearThisRowInvisible&&e.clearThisRowInvisible("user")},GridRow.prototype.setThisRowInvisible=function(e,t){this.invisibleReason||(this.invisibleReason={}),this.invisibleReason[e]=!0,this.evaluateRowVisibility(t)},GridRow.prototype.clearThisRowInvisible=function(e,t){"undefined"!=typeof this.invisibleReason&&delete this.invisibleReason[e],this.evaluateRowVisibility(t)},GridRow.prototype.evaluateRowVisibility=function(e){var t=!0;"undefined"!=typeof this.invisibleReason&&angular.forEach(this.invisibleReason,function(e,n){e&&(t=!1)}),"undefined"!=typeof this.visible&&this.visible===t||(this.visible=t,e||(this.grid.queueGridRefresh(),this.grid.api.core.raise.rowsVisibleChanged(this)))},GridRow}])}(),function(){"use strict";angular.module("ui.grid").factory("GridRowColumn",["$parse","$filter",function(e,t){var n=function GridRowColumn(e,t){if(!(this instanceof GridRowColumn))throw"Using GridRowColumn as a function insead of as a constructor. Must be called with `new` keyword";this.row=e,this.col=t};return n.prototype.getIntersectionValueRaw=function(){var t=e(this.row.getEntityQualifiedColField(this.col)),n=this.row;return t(n)},n}])}(),function(){angular.module("ui.grid").factory("ScrollEvent",["gridUtil",function(e){function ScrollEvent(t,n,i,r){var o=this;if(!t)throw new Error("grid argument is required");o.grid=t,o.source=r,o.withDelay=!0,o.sourceRowContainer=n,o.sourceColContainer=i,o.newScrollLeft=null,o.newScrollTop=null,o.x=null,o.y=null,o.verticalScrollLength=-9999999,o.horizontalScrollLength=-999999,o.fireThrottledScrollingEvent=e.throttle(function(e){o.grid.scrollContainers(e,o)},o.grid.options.wheelScrollThrottle,{trailing:!0})}return ScrollEvent.prototype.getNewScrollLeft=function(t,n){var i=this;if(!i.newScrollLeft){var r,o=t.getCanvasWidth()-t.getViewportWidth(),a=e.normalizeScrollLeft(n,i.grid);if("undefined"!=typeof i.x.percentage&&void 0!==i.x.percentage)r=i.x.percentage;else{if("undefined"==typeof i.x.pixels||void 0===i.x.pixels)throw new Error("No percentage or pixel value provided for scroll event X axis");r=i.x.percentage=(a+i.x.pixels)/o}return Math.max(0,r*o)}return i.newScrollLeft},ScrollEvent.prototype.getNewScrollTop=function(e,t){var n=this;if(!n.newScrollTop){var i,r=e.getVerticalScrollLength(),o=t[0].scrollTop;if("undefined"!=typeof n.y.percentage&&void 0!==n.y.percentage)i=n.y.percentage;else{if("undefined"==typeof n.y.pixels||void 0===n.y.pixels)throw new Error("No percentage or pixel value provided for scroll event Y axis");i=n.y.percentage=(o+n.y.pixels)/r}return Math.max(0,i*r)}return n.newScrollTop},ScrollEvent.prototype.atTop=function(e){return this.y&&(0===this.y.percentage||this.verticalScrollLength<0)&&0===e},ScrollEvent.prototype.atBottom=function(e){return this.y&&(1===this.y.percentage||0===this.verticalScrollLength)&&e>0},ScrollEvent.prototype.atLeft=function(e){return this.x&&(0===this.x.percentage||this.horizontalScrollLength<0)&&0===e},ScrollEvent.prototype.atRight=function(e){return this.x&&(1===this.x.percentage||0===this.horizontalScrollLength)&&e>0},ScrollEvent.Sources={ViewPortScroll:"ViewPortScroll",RenderContainerMouseWheel:"RenderContainerMouseWheel",RenderContainerTouchMove:"RenderContainerTouchMove",Other:99},ScrollEvent}])}(),function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(e,t,n,i,r,o,a,s){var l={createGrid:function(i){i="undefined"!=typeof i?i:{},i.id=e.newId();var r=new o(i);if(r.options.rowTemplate){var a=t.defer();r.getRowTemplateFn=a.promise,e.getTemplate(r.options.rowTemplate).then(function(e){var t=n(e);a.resolve(t)},function(e){throw new Error("Couldn't fetch/use row template '"+r.options.rowTemplate+"'")})}return r.registerColumnBuilder(l.defaultColumnBuilder),r.registerRowBuilder(l.rowTemplateAssigner),r.registerRowsProcessor(function(e){return e.forEach(function(e){e.evaluateRowVisibility(!0)},50),e}),r.registerColumnsProcessor(function(e){return e.forEach(function(e){e.visible=!angular.isDefined(e.colDef.visible)||e.colDef.visible}),e},50),r.registerRowsProcessor(r.searchRows,100),r.options.externalSort&&angular.isFunction(r.options.externalSort)?r.registerRowsProcessor(r.options.externalSort,200):r.registerRowsProcessor(r.sortByColumn,200),r},defaultColumnBuilder:function(n,i,o){var a=[],s=function(t,o,s,l,c){n[t]?i[o]=n[t]:i[o]=s,a.push(e.getTemplate(i[o]).then(function(e){angular.isFunction(e)&&(e=e());var n="cellTooltip"===c?"col.cellTooltip(row,col)":"col.headerTooltip(col)";c&&i[c]===!1?e=e.replace(r.TOOLTIP,""):c&&i[c]&&(e=e.replace(r.TOOLTIP,'title="{{'+n+' CUSTOM_FILTERS }}"')),l?i[t]=e.replace(r.CUSTOM_FILTERS,function(){return i[l]?"|"+i[l]:""}):i[t]=e},function(e){throw new Error("Couldn't fetch/use colDef."+t+" '"+n[t]+"'")}))};return s("cellTemplate","providedCellTemplate","ui-grid/uiGridCell","cellFilter","cellTooltip"),i.cellTemplatePromise=a[0],s("headerCellTemplate","providedHeaderCellTemplate","ui-grid/uiGridHeaderCell","headerCellFilter","headerTooltip"),s("footerCellTemplate","providedFooterCellTemplate","ui-grid/uiGridFooterCell","footerCellFilter"),s("filterHeaderTemplate","providedFilterHeaderTemplate","ui-grid/ui-grid-filter"),i.compiledElementFnDefer=t.defer(),t.all(a)},rowTemplateAssigner:function(i){var r=this;if(i.rowTemplate){var o=t.defer();i.getRowTemplateFn=o.promise,e.getTemplate(i.rowTemplate).then(function(e){var t=n(e);o.resolve(t)},function(e){throw new Error("Couldn't fetch/use row template '"+i.rowTemplate+"'")})}else i.rowTemplate=r.options.rowTemplate,i.getRowTemplateFn=r.getRowTemplateFn;return i.getRowTemplateFn}};return l}])}(),function(){function escapeRegExp(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var e=angular.module("ui.grid");e.service("rowSearcher",["gridUtil","uiGridConstants",function(e,t){var n=t.filter.CONTAINS,i={};return i.getTerm=function(e){if("undefined"==typeof e.term)return e.term;var t=e.term;return"string"==typeof t&&(t=t.trim()),t},i.stripTerm=function(e){var t=i.getTerm(e);return"string"==typeof t?escapeRegExp(t.replace(/(^\*|\*$)/g,"")):t},i.guessCondition=function(e){if("undefined"==typeof e.term||!e.term)return n;var t=i.getTerm(e);if(/\*/.test(t)){var r="";e.flags&&e.flags.caseSensitive||(r+="i");var o=t.replace(/(\\)?\*/g,function(e,t){return t?e:"[\\s\\S]*?"});return new RegExp("^"+o+"$",r)}return n},i.setupFilters=function(n){for(var r=[],o=n.length,a=0;a<o;a++){var s=n[a];if(s.noTerm||!e.isNullOrUndefined(s.term)){var l={},c="";s.flags&&s.flags.caseSensitive||(c+="i"),e.isNullOrUndefined(s.term)||(s.rawTerm?l.term=s.term:l.term=i.stripTerm(s)),l.noTerm=s.noTerm,s.condition?l.condition=s.condition:l.condition=i.guessCondition(s),l.flags=angular.extend({caseSensitive:!1,date:!1},s.flags),l.condition===t.filter.STARTS_WITH&&(l.startswithRE=new RegExp("^"+l.term,c)),l.condition===t.filter.ENDS_WITH&&(l.endswithRE=new RegExp(l.term+"$",c)),l.condition===t.filter.CONTAINS&&(l.containsRE=new RegExp(l.term,c)),l.condition===t.filter.EXACT&&(l.exactRE=new RegExp("^"+l.term+"$",c)),r.push(l)}}return r},i.runColumnFilter=function(e,n,i,r){var o,a=typeof r.condition,s=r.term;if(o=i.filterCellFiltered?e.getCellDisplayValue(n,i):e.getCellValue(n,i),r.condition instanceof RegExp)return r.condition.test(o);if("function"===a)return r.condition(s,o,n,i);if(r.startswithRE)return r.startswithRE.test(o);if(r.endswithRE)return r.endswithRE.test(o);if(r.containsRE)return r.containsRE.test(o);if(r.exactRE)return r.exactRE.test(o);if(r.condition===t.filter.NOT_EQUAL){var l=new RegExp("^"+s+"$");return!l.exec(o)}if("number"==typeof o&&"string"==typeof s){var c=parseFloat(s.replace(/\\\./,".").replace(/\\\-/,"-"));isNaN(c)||(s=c)}return r.flags.date===!0&&(o=new Date(o),s=new Date(s.replace(/\\/g,""))),r.condition===t.filter.GREATER_THAN?o>s:r.condition===t.filter.GREATER_THAN_OR_EQUAL?o>=s:r.condition===t.filter.LESS_THAN?o<s:r.condition!==t.filter.LESS_THAN_OR_EQUAL||o<=s},i.searchColumn=function(t,n,r,o){if(t.options.useExternalFiltering)return!0;for(var a=o.length,s=0;s<a;s++){var l=o[s];if(!e.isNullOrUndefined(l.term)&&""!==l.term||l.noTerm){var c=i.runColumnFilter(t,n,r,l);if(!c)return!1}}return!0},i.search=function(t,n,r){if(n){if(!t.options.enableFiltering)return n;for(var o=[],a=r.length,s=function(t){var n=!1;return t.forEach(function(t){(!e.isNullOrUndefined(t.term)&&""!==t.term||t.noTerm)&&(n=!0)}),n},l=0;l<a;l++){var c=r[l];"undefined"!=typeof c.filters&&s(c.filters)&&o.push({col:c,filters:i.setupFilters(c.filters)})}if(o.length>0){for(var u=function(e,t,n,r){t.visible&&!i.searchColumn(e,t,n,r)&&(t.visible=!1)},d=function(e,t){for(var i=n.length,r=0;r<i;r++)u(e,n[r],t.col,t.filters)},h=o.length,m=0;m<h;m++)d(t,o[m]);t.api.core.raise.rowsVisibleChanged&&t.api.core.raise.rowsVisibleChanged()}return n}},i}])}(),function(){var e=angular.module("ui.grid");e.service("rowSorter",["$parse","uiGridConstants",function(e,t){var n="("+t.CURRENCY_SYMBOLS.map(function(e){return"\\"+e}).join("|")+")?",i=(new RegExp("^[-+]?"+n+"[\\d,.]+"+n+"%?$"),{colSortFnCache:{}});return i.guessSortFn=function(e){switch(e){case"number":return i.sortNumber;case"numberStr":return i.sortNumberStr;case"boolean":return i.sortBool;case"string":return i.sortAlpha;case"date":return i.sortDate;case"object":return i.basicSort;default:throw new Error("No sorting function found for type:"+e)}},i.handleNulls=function(e,t){if(!e&&0!==e&&e!==!1||!t&&0!==t&&t!==!1){if(!e&&0!==e&&e!==!1&&!t&&0!==t&&t!==!1)return 0;if(!e&&0!==e&&e!==!1)return 1;if(!t&&0!==t&&t!==!1)return-1}return null},i.basicSort=function(e,t){var n=i.handleNulls(e,t);return null!==n?n:e===t?0:e<t?-1:1},i.sortNumber=function(e,t){var n=i.handleNulls(e,t);return null!==n?n:e-t},i.sortNumberStr=function(e,t){var n=i.handleNulls(e,t);if(null!==n)return n;var r,o,a=!1,s=!1;return r=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(r)&&(a=!0),o=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(o)&&(s=!0),a&&s?0:a?1:s?-1:r-o},i.sortAlpha=function(e,t){var n=i.handleNulls(e,t);if(null!==n)return n;var r=e.toString().toLowerCase(),o=t.toString().toLowerCase();return r===o?0:r.localeCompare(o)},i.sortDate=function(e,t){var n=i.handleNulls(e,t);if(null!==n)return n;e instanceof Date||(e=new Date(e)),t instanceof Date||(t=new Date(t));var r=e.getTime(),o=t.getTime();return r===o?0:r<o?-1:1},i.sortBool=function(e,t){var n=i.handleNulls(e,t);return null!==n?n:e&&t?0:e||t?e?1:-1:0},i.getSortFn=function(e,t,n){var r;return i.colSortFnCache[t.colDef.name]?r=i.colSortFnCache[t.colDef.name]:void 0!==t.sortingAlgorithm?(r=t.sortingAlgorithm,i.colSortFnCache[t.colDef.name]=t.sortingAlgorithm):t.sortCellFiltered&&t.cellFilter?(r=i.sortAlpha,i.colSortFnCache[t.colDef.name]=r):(r=i.guessSortFn(t.colDef.type),r?i.colSortFnCache[t.colDef.name]=r:r=i.sortAlpha),r},i.prioritySort=function(e,t){return void 0!==e.sort.priority&&void 0!==t.sort.priority?e.sort.priority<t.sort.priority?-1:e.sort.priority===t.sort.priority?0:1:void 0!==e.sort.priority?-1:void 0!==t.sort.priority?1:0},i.sort=function(e,n,r){if(n){if(e.options.useExternalSorting)return n;var o=[];if(r.forEach(function(e){!e.sort||e.sort.ignoreSort||!e.sort.direction||e.sort.direction!==t.ASC&&e.sort.direction!==t.DESC||o.push(e)}),o=o.sort(i.prioritySort),0===o.length)return n;var a,s,l=function(e,t){e.entity.$$uiGridIndex=t};n.forEach(l);var c=n.slice(0),u=function(n,r){for(var l,u=0,d=0;0===u&&d<o.length;){a=o[d],s=o[d].sort.direction,l=i.getSortFn(e,a,c);var h,m;a.sortCellFiltered?(h=e.getCellDisplayValue(n,a),m=e.getCellDisplayValue(r,a)):(h=e.getCellValue(n,a),m=e.getCellValue(r,a)),u=l(h,m,n,r,s,a),d++}return 0===u?n.entity.$$uiGridIndex-r.entity.$$uiGridIndex:s===t.ASC?u:0-u},d=n.sort(u),h=function(e,t){delete e.entity.$$uiGridIndex};return n.forEach(h),d}},i}])}(),function(){function getStyles(e){var t=e;return"undefined"!=typeof t.length&&t.length&&(t=e[0]),t.ownerDocument.defaultView.getComputedStyle(t,null)}function augmentWidthOrHeight(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0,s=["Top","Right","Bottom","Left"];o<4;o+=2){var l=s[o];if("margin"===n){var c=parseFloat(r[n+l]);isNaN(c)||(a+=c)}if(i){if("content"===n){var u=parseFloat(r["padding"+l]);isNaN(u)||(a-=u)}if("margin"!==n){var d=parseFloat(r["border"+l+"Width"]);isNaN(d)||(a-=d)}}else{var h=parseFloat(r["padding"+l]);if(isNaN(h)||(a+=h),"padding"!==n){var m=parseFloat(r["border"+l+"Width"]);isNaN(m)||(a+=m)}}}return a}function getWidthOrHeight(e,t,i){var r,o=!0,a=getStyles(e),s="border-box"===a.boxSizing;if(r<=0||null==r){if(r=a[t],(r<0||null==r)&&(r=e.style[t]),n.test(r))return r;o=s&&!0,r=parseFloat(r)||0}var l=r+augmentWidthOrHeight(e,t,i||(s?"border":"content"),o,a);return l}function getLineHeight(e){e=angular.element(e)[0];var t=e.parentElement;return t||(t=document.getElementsByTagName("body")[0]),parseInt(getStyles(t).fontSize)||parseInt(getStyles(e).fontSize)||16}var e,t=angular.module("ui.grid");"function"!=typeof Function.prototype.bind&&(e=function(){var e=Array.prototype.slice;return function(t){var n=this,i=e.call(arguments,1);return i.length?function(){return arguments.length?n.apply(t,i.concat(e.call(arguments))):n.apply(t,i)}:function(){return arguments.length?n.apply(t,arguments):n.call(t)}}});var n=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),i=/^(block|none|table(?!-c[ea]).+)/,r={position:"absolute",visibility:"hidden",display:"block"},o=["0","0","0","0"],a="uiGrid-";t.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$interval","$injector","$q","$interpolate","uiGridConstants",function(t,n,s,l,c,u,d,h,m,p,f){function mousewheelHandler(e,t){var n=angular.element(this),i=0,r=0,o=0,a=0;if(t.originalEvent&&(t=t.originalEvent),"detail"in t&&(o=t.detail*-1),"wheelDelta"in t&&(o=t.wheelDelta),"wheelDeltaY"in t&&(o=t.wheelDeltaY),"wheelDeltaX"in t&&(r=t.wheelDeltaX*-1),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(r=o*-1,o=0),i=0===o?r:o,"deltaY"in t&&(o=t.deltaY*-1,i=o),"deltaX"in t&&(r=t.deltaX,0===o&&(i=r*-1)),0!==o||0!==r){if(1===t.deltaMode){var s=n.data("mousewheel-line-height");i*=s,o*=s,r*=s}else if(2===t.deltaMode){var l=n.data("mousewheel-page-height");i*=l,o*=l,r*=l}a=Math.max(Math.abs(o),Math.abs(r)),(!y||a<y)&&(y=a,shouldAdjustOldDeltas(t,a)&&(y/=40)),i=Math[i>=1?"floor":"ceil"](i/y),r=Math[r>=1?"floor":"ceil"](r/y),o=Math[o>=1?"floor":"ceil"](o/y);var c={originalEvent:t,deltaX:r,deltaY:o,deltaFactor:y,preventDefault:function(){t.preventDefault()},stopPropagation:function(){t.stopPropagation()}};v&&clearTimeout(v),v=setTimeout(nullLowestDelta,200),e.call(n[0],c)}}function nullLowestDelta(){y=null}function shouldAdjustOldDeltas(e,t){return"mousewheel"===e.type&&t%120===0}var g={augmentWidthOrHeight:augmentWidthOrHeight,getStyles:getStyles,createBoundedWrapper:function(e,t){return function(){return t.apply(e,arguments)}},readableColumnName:function(e){return"undefined"==typeof e||void 0===e||null===e?e:("string"!=typeof e&&(e=String(e)),e.replace(/_+/g," ").replace(/^[A-Z]+$/,function(e){return angular.lowercase(angular.uppercase(e.charAt(0))+e.slice(1))}).replace(/([\w\u00C0-\u017F]+)/g,function(e){return angular.uppercase(e.charAt(0))+e.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(e,t){var n=[];if(!e||"undefined"==typeof e[0]||void 0===e[0])return[];angular.isUndefined(t)&&(t=[]);var i=e[0];return angular.forEach(i,function(e,i){t.indexOf(i)===-1&&n.push({name:i})}),n},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),getTemplate:function(e){if(c.get(e))return g.postProcessTemplate(c.get(e));if(angular.isFunction(e.then))return e.then(g.postProcessTemplate);try{if(angular.element(e).length>0)return m.when(e).then(g.postProcessTemplate)}catch(e){}return g.logDebug("fetching url",e),l({method:"GET",url:e}).then(function(t){var n=t.data.trim();return c.put(e,n),n},function(t){throw new Error("Could not get template "+e+": "+t)}).then(g.postProcessTemplate)},postProcessTemplate:function(e){var t=p.startSymbol(),n=p.endSymbol();return"{{"===t&&"}}"===n||(e=e.replace(/\{\{/g,t),e=e.replace(/\}\}/g,n)),m.when(e)},guessType:function(e){var t=typeof e;switch(t){case"number":case"boolean":case"string":return t;default:return angular.isDate(e)?"date":"object"}},elementWidth:function(e){},elementHeight:function(e){},getScrollbarWidth:function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var i=n.offsetWidth;return e.parentNode.removeChild(e),t-i},swap:function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r},fakeElement:function(e,t,n,i){var r,o,a=angular.element(e).clone()[0];for(o in t)a.style[o]=t[o];return angular.element(document.body).append(a),r=n.call(a,a),angular.element(a).remove(),r},normalizeWheelEvent:function(e){var t,n,i,r=e||window.event,o=([].slice.call(arguments,1),0),a=0,s=0,l=0,c=0;return r.originalEvent&&(r=r.originalEvent),r.wheelDelta&&(o=r.wheelDelta),r.detail&&(o=r.detail*-1),s=o,void 0!==r.axis&&r.axis===r.HORIZONTAL_AXIS&&(s=0,a=o*-1),r.deltaY&&(s=r.deltaY*-1,o=s),r.deltaX&&(a=r.deltaX,o=a*-1),void 0!==r.wheelDeltaY&&(s=r.wheelDeltaY),void 0!==r.wheelDeltaX&&(a=r.wheelDeltaX),l=Math.abs(o),(!t||l<t)&&(t=l),c=Math.max(Math.abs(s),Math.abs(a)),(!n||c<n)&&(n=c),i=o>0?"floor":"ceil",o=Math[i](o/t),a=Math[i](a/n),s=Math[i](s/n),{delta:o,deltaX:a,deltaY:s}},isTouchEnabled:function(){var e;return("ontouchstart"in n||n.DocumentTouch&&s instanceof DocumentTouch)&&(e=!0),e},isNullOrUndefined:function(e){return void 0===e||null===e},endsWith:function(e,t){return!(!e||!t||"string"!=typeof e)&&e.indexOf(t,e.length-t.length)!==-1},arrayContainsObjectWithProperty:function(e,t,n){var i=!1;return angular.forEach(e,function(e){e[t]===n&&(i=!0)}),i},numericAndNullSort:function(e,t){return null===e?1:null===t?-1:null===e&&null===t?0:e-t},disableAnimations:function(e){var t;try{t=h.get("$animate"),angular.version.major>1||1===angular.version.major&&angular.version.minor>=4?t.enabled(e,!1):t.enabled(!1,e)}catch(e){}},enableAnimations:function(e){var t;try{return t=h.get("$animate"),angular.version.major>1||1===angular.version.major&&angular.version.minor>=4?t.enabled(e,!0):t.enabled(!0,e),t}catch(e){}},nextUid:function(){for(var e,t=o.length;t;){if(t--,e=o[t].charCodeAt(0),57===e)return o[t]="A",a+o.join("");if(90!==e)return o[t]=String.fromCharCode(e+1),a+o.join("");o[t]="0"}return o.unshift("0"),a+o.join("")},hashKey:function(e){var t,n=typeof e;return"object"===n&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():"undefined"!=typeof e.$$hashKey&&e.$$hashKey?t=e.$$hashKey:void 0===t&&(t=e.$$hashKey=g.nextUid()):t=e,n+":"+t},resetUids:function(){o=["0","0","0"]},logError:function(e){f.LOG_ERROR_MESSAGES&&t.error(e)},logWarn:function(e){f.LOG_WARN_MESSAGES&&t.warn(e)},logDebug:function(){f.LOG_DEBUG_MESSAGES&&t.debug.apply(t,arguments)}};g.focus={queue:[],byId:function(e,t){this._purgeQueue();var i=u(function(){var i=(t&&t.id?t.id+"-":"")+e,r=n.document.getElementById(i);r?r.focus():g.logWarn("[focus.byId] Element id "+i+" was not found.")});return this.queue.push(i),i},byElement:function(e){if(!angular.isElement(e))return g.logWarn("Trying to focus on an element that isn't an element."),m.reject("not-element");e=angular.element(e),this._purgeQueue();var t=u(function(){e&&e[0].focus()});return this.queue.push(t),t},bySelector:function(e,t,n){var i=this;if(!angular.isElement(e))throw new Error("The parent element is not an element.");e=angular.element(e);var r=function(){var n=e[0].querySelector(t);return i.byElement(n)};if(this._purgeQueue(),n){var o=u(r);return this.queue.push(u(r)),o}return r()},_purgeQueue:function(){this.queue.forEach(function(e){u.cancel(e)}),this.queue=[]}},["width","height"].forEach(function(e){var t=angular.uppercase(e.charAt(0))+e.substr(1);g["element"+t]=function(t,n){var o=t;if(o&&"undefined"!=typeof o.length&&o.length&&(o=t[0]),o&&null!==o){var a=getStyles(o);return 0===o.offsetWidth&&i.test(a.display)?g.swap(o,r,function(){return getWidthOrHeight(o,e,n)}):getWidthOrHeight(o,e,n)}return null},g["outerElement"+t]=function(e,n){return e?g["element"+t].call(this,e,n?"margin":"border"):null}}),g.closestElm=function(e,t){"undefined"!=typeof e.length&&e.length&&(e=e[0]);var n;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){return"function"==typeof document.body[e]&&(n=e,!0)});for(var i;null!==e;){if(i=e.parentElement,null!==i&&i[n](t))return i;e=i}return null},g.type=function(e){var t=Function.prototype.toString.call(e.constructor);return t.match(/function (.*?)\(/)[1]},g.getBorderSize=function(e,t){"undefined"!=typeof e.length&&e.length&&(e=e[0]);var n=getStyles(e);t=t?"border"+t.charAt(0).toUpperCase()+t.slice(1):"border",t+="Width";var i=parseInt(n[t],10);return isNaN(i)?0:i},g.detectBrowser=function(){var e=n.navigator.userAgent,t={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var i in t)if(t[i].test(e))return i;return"unknown"},g.rtlScrollType=function rtlScrollType(){if(rtlScrollType.type)return rtlScrollType.type;var e=angular.element('<div dir="rtl" style="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll">A</div>')[0],t="reverse";return document.body.appendChild(e),e.scrollLeft>0?t="default":(e.scrollLeft=1,0===e.scrollLeft&&(t="negative")),angular.element(e).remove(),rtlScrollType.type=t,t},g.normalizeScrollLeft=function(e,t){"undefined"!=typeof e.length&&e.length&&(e=e[0]);var n=e.scrollLeft;if(t.isRTL())switch(g.rtlScrollType()){case"default":return e.scrollWidth-n-e.clientWidth;case"negative":return Math.abs(n);case"reverse":return n}return n},g.denormalizeScrollLeft=function(e,t,n){if("undefined"!=typeof e.length&&e.length&&(e=e[0]),n.isRTL())switch(g.rtlScrollType()){case"default":var i=e.scrollWidth-e.clientWidth;return i-t;case"negative":return t*-1;case"reverse":return t}return t},g.preEval=function(e){var t=f.BRACKET_REGEXP.exec(e);if(t)return(t[1]?g.preEval(t[1]):t[1])+t[2]+(t[3]?g.preEval(t[3]):t[3]);e=e.replace(f.APOS_REGEXP,"\\'");var n=e.split(f.DOT_REGEXP),i=[n.shift()];return angular.forEach(n,function(e){i.push(e.replace(f.FUNC_REGEXP,"']$1"))}),i.join("['")},g.debounce=function(e,t,n){function debounce(){o=this,r=arguments;var s=function(){i=null,n||(a=e.apply(o,r))},l=n&&!i;return i&&u.cancel(i),i=u(s,t,!1),l&&(a=e.apply(o,r)),a}var i,r,o,a;return debounce.cancel=function(){u.cancel(i),i=null},debounce},g.throttle=function(e,t,n){function runFunc(t){o=+new Date,e.apply(i,r),d(function(){a=null},0,1,!1)}n=n||{};var i,r,o=0,a=null;return function(){if(i=this,r=arguments,null===a){var e=+new Date-o;e>t?runFunc():n.trailing&&(a=d(runFunc,t-e,1,!1))}}},g.on={},g.off={},g._events={},g.addOff=function(e){g.off[e]=function(t,n){var i=g._events[e].indexOf(n);i>0&&g._events[e].removeAt(i)}};var v,y,b="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];return g.on.mousewheel=function(t,n){if(t&&n){var i=angular.element(t);i.data("mousewheel-line-height",getLineHeight(i)),i.data("mousewheel-page-height",g.elementHeight(i)),i.data("mousewheel-callbacks")||i.data("mousewheel-callbacks",{});var r=i.data("mousewheel-callbacks");r[n]=(Function.prototype.bind||e).call(mousewheelHandler,i[0],n);for(var o=b.length;o;)i.on(b[--o],r[n]);i.on("$destroy",function(){for(var e=b.length;e;)i.off(b[--e],r[n])})}},g.off.mousewheel=function(e,t){var n=angular.element(e),i=n.data("mousewheel-callbacks"),r=i[t];if(r)for(var o=b.length;o;)n.off(b[--o],r);delete i[t],0===Object.keys(i).length&&(n.removeData("mousewheel-line-height"),n.removeData("mousewheel-page-height"),n.removeData("mousewheel-callbacks"))},g}]),t.filter("px",function(){return function(e){return e.match(/^[\d\.]+$/)?e+"px":e}})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){var t={aggregate:{label:"poloky"},groupPanel:{description:"Pesute zhlav zde pro vytvoen skupiny dle sloupce."},search:{placeholder:"Hledat...",showingItems:"Zobrazuji poloky:",selectedItems:"Vybran poloky:",totalItems:"Celkem poloek:",size:"Velikost strany:",first:"Prvn strana",next:"Dal strana",previous:"Pedchoz strana",last:"Posledn strana"},menu:{text:"Vyberte sloupec:"},sort:{ascending:"Seadit od A-Z",descending:"Seadit od Z-A",remove:"Odebrat seazen"},column:{hide:"Schovat sloupec"},aggregation:{count:"celkem dk: ",sum:"celkem: ",avg:"avg: ",min:"min.: ",max:"max.: "},pinning:{pinLeft:"Zamknout vlevo",pinRight:"Zamknout vpravo",unpin:"Odemknout"},gridMenu:{columns:"Sloupce:",importerTitle:"Importovat soubor",exporterAllAsCsv:"Exportovat vechna data do csv",exporterVisibleAsCsv:"Exportovat viditeln data do csv",exporterSelectedAsCsv:"Exportovat vybran data do csv",
exporterAllAsPdf:"Exportovat vechna data do pdf",exporterVisibleAsPdf:"Exportovat viditeln data do pdf",exporterSelectedAsPdf:"Exportovat vybran data do pdf",clearAllFilters:"Odstranit vechny filtry"},importer:{noHeaders:"Nzvy sloupc se nepodailo zskat, obsahuje soubor zhlav?",noObjects:"Data se nepodailo zpracovat, obsahuje soubor dky mimo zhlav?",invalidCsv:"Soubor nelze zpracovat, jedn se o CSV?",invalidJson:"Soubor nelze zpracovat, je to JSON?",jsonNotArray:"Soubor mus obsahovat json. Ukonuji.."},pagination:{sizes:"poloek na strnku",totalItems:"poloek"},grouping:{group:"Seskupit",ungroup:"Odebrat seskupen",aggregate_count:"Agregace: Count",aggregate_sum:"Agregace: Sum",aggregate_max:"Agregace: Max",aggregate_min:"Agregace: Min",aggregate_avg:"Agregace: Avg",aggregate_remove:"Agregace: Odebrat"}};return e.add("cs",t),e.add("cz",t),e.add("cs-cz",t),e.add("cs-CZ",t),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupr rkker udfra en kolonne ved at trkke dens overskift hertil."},search:{placeholder:"Sg...",showingItems:"Viste rkker:",selectedItems:"Valgte rkker:",totalItems:"Rkker totalt:",size:"Side strrelse:",first:"Frste side",next:"Nste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vlg kolonner:"},sort:{ascending:"Sorter stigende",descending:"Sorter faldende",none:"Sorter ingen",remove:"Fjern sortering"},column:{hide:"Skjul kolonne"},aggregation:{count:"antal rkker: ",sum:"sum: ",avg:"gns: ",min:"min: ",max:"max: "},gridMenu:{columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter markerede data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter markerede data som pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"G til frste",pageBack:"G tilbage",pageSelected:"Valgte side",pageForward:"G frem",pageToLast:"G til sidste"},sizes:"genstande per side",totalItems:"genstande",through:"gennem",of:"af"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("de",{headerCell:{aria:{defaultFilterLabel:"Filter fr Spalte",removeFilter:"Filter lschen",columnMenuButtonLabel:"Spaltenmen"},priority:"Prioritt:",filterLabel:"Filter fr Spalte: "},aggregate:{label:"Eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenberschrift hierhin, um nach dieser Spalte zu gruppieren."},search:{placeholder:"Suche...",showingItems:"Zeige Eintrge:",selectedItems:"Ausgewhlte Eintrge:",totalItems:"Eintrge gesamt:",size:"Eintrge pro Seite:",first:"Erste Seite",next:"Nchste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswhlen:"},sort:{ascending:"aufsteigend sortieren",descending:"absteigend sortieren",none:"keine Sortierung",remove:"Sortierung zurcksetzen"},column:{hide:"Spalte ausblenden"},aggregation:{count:"Zeilen insgesamt: ",sum:"gesamt: ",avg:"Durchschnitt: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Links anheften",pinRight:"Rechts anheften",unpin:"Lsen"},columnMenu:{close:"Schlieen"},gridMenu:{aria:{buttonLabel:"Tabellenmen"},columns:"Spalten:",importerTitle:"Datei importieren",exporterAllAsCsv:"Alle Daten als CSV exportieren",exporterVisibleAsCsv:"sichtbare Daten als CSV exportieren",exporterSelectedAsCsv:"markierte Daten als CSV exportieren",exporterAllAsPdf:"Alle Daten als PDF exportieren",exporterVisibleAsPdf:"sichtbare Daten als PDF exportieren",exporterSelectedAsPdf:"markierte Daten als PDF exportieren",clearAllFilters:"Alle Filter zurcksetzen"},importer:{noHeaders:"Es konnten keine Spaltennamen ermittelt werden. Sind in der Datei Spaltendefinitionen enthalten?",noObjects:"Es konnten keine Zeileninformationen gelesen werden, Sind in der Datei auer den Spaltendefinitionen auch Daten enthalten?",invalidCsv:"Die Datei konnte nicht eingelesen werden, ist es eine gltige CSV-Datei?",invalidJson:"Die Datei konnte nicht eingelesen werden. Enthlt sie gltiges JSON?",jsonNotArray:"Die importierte JSON-Datei mu ein Array enthalten. Breche Import ab."},pagination:{aria:{pageToFirst:"Zum Anfang",pageBack:"Seite zurck",pageSelected:"Ausgwhlte Seite",pageForward:"Seite vor",pageToLast:"Zum Ende"},sizes:"Eintrge pro Seite",totalItems:"Eintrge",through:"bis",of:"von"},grouping:{group:"Gruppieren",ungroup:"Gruppierung aufheben",aggregate_count:"Agg: Anzahl",aggregate_sum:"Agg: Summe",aggregate_max:"Agg: Maximum",aggregate_min:"Agg: Minimum",aggregate_avg:"Agg: Mittelwert",aggregate_remove:"Aggregation entfernen"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("en",{headerCell:{aria:{defaultFilterLabel:"Filter for column",removeFilter:"Remove Filter",columnMenuButtonLabel:"Column Menu"},priority:"Priority:",filterLabel:"Filter for column: "},aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",none:"Sort None",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},columnMenu:{close:"Close"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Page to first",pageBack:"Page back",pageSelected:"Selected page",pageForward:"Page forward",pageToLast:"Page to last"},sizes:"items per page",totalItems:"items",through:"through",of:"of"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"},validate:{error:"Error:",minLength:"Value should be at least THRESHOLD characters long.",maxLength:"Value should be at most THRESHOLD characters long.",required:"A value is needed."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("es",{aggregate:{label:"Artculos"},groupPanel:{description:"Arrastre un encabezado de columna aqu y sultelo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artculos Mostrados:",selectedItems:"Artculos Seleccionados:",totalItems:"Artculos Totales:",size:"Tamao de Pgina:",first:"Primera Pgina",next:"Pgina Siguiente",previous:"Pgina Anterior",last:"ltima Pgina"},menu:{text:"Elegir columnas:"},sort:{ascending:"Orden Ascendente",descending:"Orden Descendente",remove:"Sin Ordenar"},column:{hide:"Ocultar la columna"},aggregation:{count:"filas totales: ",sum:"total: ",avg:"media: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",unpin:"Quitar Fijacin"},gridMenu:{columns:"Columnas:",importerTitle:"Importar archivo",exporterAllAsCsv:"Exportar todo como csv",exporterVisibleAsCsv:"Exportar vista como csv",exporterSelectedAsCsv:"Exportar seleccin como csv",exporterAllAsPdf:"Exportar todo como pdf",exporterVisibleAsPdf:"Exportar vista como pdf",exporterSelectedAsPdf:"Exportar seleccin como pdf",clearAllFilters:"Limpiar todos los filtros"},importer:{noHeaders:"No fue posible derivar los nombres de las columnas, tiene encabezados el archivo?",noObjects:"No fue posible obtener registros, contiene datos el archivo, aparte de los encabezados?",invalidCsv:"No fue posible procesar el archivo, es un CSV vlido?",invalidJson:"No fue posible procesar el archivo, es un Json vlido?",jsonNotArray:"El archivo json importado debe contener un array, abortando."},pagination:{sizes:"registros por pgina",totalItems:"registros",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Cont",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: Mx",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Prom",aggregate_remove:"Agr: Quitar"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fa",{aggregate:{label:""},groupPanel:{description:"            ."},search:{placeholder:"...",showingItems:" :",selectedItems:"  :",totalItems:" :",size:" :",first:" ",next:"",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:"  "},column:{hide:" "},aggregation:{count:": ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:"   ",pinRight:"   ",unpin:" "},gridMenu:{columns:":",importerTitle:"  ",exporterAllAsCsv:"     csv",exporterVisibleAsCsv:"      csv",exporterSelectedAsCsv:"     csv",exporterAllAsPdf:"     pdf",exporterVisibleAsPdf:"      pdf",exporterSelectedAsPdf:"     pdf",clearAllFilters:"   "},importer:{noHeaders:"    .    ",noObjects:"   .         ",invalidCsv:"   .    csv   ",invalidJson:"   .   json    ",jsonNotArray:" json      .   ."},pagination:{sizes:"   ",totalItems:"",of:""},grouping:{group:"",ungroup:" ",aggregate_count:"Agg: ",aggregate_sum:"Agg: ",aggregate_max:"Agg: ",aggregate_min:"Agg: ",aggregate_avg:"Agg: ",aggregate_remove:"Agg: "}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko thn ryhmittksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"Nytetn rivej:",selectedItems:"Valitut rivit:",totalItems:"Rivej yht.:",size:"Nyt:",first:"Ensimminen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"Jrjest nouseva",descending:"Jrjest laskeva",remove:"Poista jrjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivej yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie nkyv tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie nkyv tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa",clearAllFilters:"Puhdista kaikki suodattimet"},importer:{noHeaders:"Sarakkeen nimi ei voitu ptell, onko tiedostossa otsikkorivi?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu ksitell, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu ksitell, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sisltnyt taulukkoa, lopetetaan."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fr",{headerCell:{aria:{defaultFilterLabel:"Filtre de la colonne",removeFilter:"Supprimer le filtre",columnMenuButtonLabel:"Menu de la colonne"},priority:"Priorit:",filterLabel:"Filtre de la colonne: "},aggregate:{label:"lments"},groupPanel:{description:"Faites glisser une en-tte de colonne ici pour crer un groupe de colonnes."},search:{placeholder:"Recherche...",showingItems:"Affichage des lments :",selectedItems:"lments slectionns :",totalItems:"Nombre total d'lments:",size:"Taille de page:",first:"Premire page",next:"Page Suivante",previous:"Page prcdente",last:"Dernire page"},menu:{text:"Choisir des colonnes :"},sort:{ascending:"Trier par ordre croissant",descending:"Trier par ordre dcroissant",none:"Aucun tri",remove:"Enlever le tri"},column:{hide:"Cacher la colonne"},aggregation:{count:"lignes totales: ",sum:"total: ",avg:"moy: ",min:"min: ",max:"max: "},pinning:{pinLeft:"pingler  gauche",pinRight:"pingler  droite",unpin:"Dtacher"},columnMenu:{close:"Fermer"},gridMenu:{aria:{buttonLabel:"Menu du tableau"},columns:"Colonnes:",importerTitle:"Importer un fichier",exporterAllAsCsv:"Exporter toutes les donnes en CSV",exporterVisibleAsCsv:"Exporter les donnes visibles en CSV",exporterSelectedAsCsv:"Exporter les donnes slectionnes en CSV",exporterAllAsPdf:"Exporter toutes les donnes en PDF",exporterVisibleAsPdf:"Exporter les donnes visibles en PDF",exporterSelectedAsPdf:"Exporter les donnes slectionnes en PDF",clearAllFilters:"Nettoyez tous les filtres"},importer:{noHeaders:"Impossible de dterminer le nom des colonnes, le fichier possde-t-il une en-tte ?",noObjects:"Aucun objet trouv, le fichier possde-t-il des donnes autres que l'en-tte ?",invalidCsv:"Le fichier n'a pas pu tre trait, le CSV est-il valide ?",invalidJson:"Le fichier n'a pas pu tre trait, le JSON est-il valide ?",jsonNotArray:"Le fichier JSON import doit contenir un tableau, abandon."},pagination:{aria:{pageToFirst:"Aller  la premire page",pageBack:"Page prcdente",pageSelected:"Page slectionne",pageForward:"Page suivante",pageToLast:"Aller  la dernire page"},sizes:"lments par page",totalItems:"lments",through:"",of:"sur"},grouping:{group:"Grouper",ungroup:"Dgrouper",aggregate_count:"Agg: Compter",aggregate_sum:"Agg: Somme",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Moy",aggregate_remove:"Agg: Retirer"},validate:{error:"Erreur:",minLength:"La valeur doit tre suprieure ou gale  THRESHOLD caractres.",maxLength:"La valeur doit tre infrieure ou gale  THRESHOLD caractres.",required:"Une valeur est ncssaire."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("he",{aggregate:{label:"items"},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:":",selectedItems:'" :',totalItems:'" :',size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:""},column:{hide:" "},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clean all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("hy",{aggregate:{label:""},groupPanel:{description:"        "},search:{placeholder:"...",showingItems:" ",selectedItems:":",totalItems:"",size:"  ",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:" "},column:{hide:" "},aggregation:{count:"  ",sum:" ",avg:" ",min:" ",max:" "},pinning:{pinLeft:"  ",pinRight:"  ",unpin:""},gridMenu:{columns:":",importerTitle:" ",exporterAllAsCsv:"  CSV",exporterVisibleAsCsv:"   CSV",exporterSelectedAsCsv:"   CSV",exporterAllAsPdf:" PDF",exporterVisibleAsPdf:"   PDF",exporterSelectedAsPdf:"   PDF",clearAllFilters:"  "},importer:{noHeaders:"        ",noObjects:"       ",invalidCsv:"       CSV ",invalidJson:"       Json ",jsonNotArray:" json     ,  "}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("it",{aggregate:{label:"elementi"},groupPanel:{description:"Trascina un'intestazione all'interno del gruppo della colonna."},search:{placeholder:"Ricerca...",showingItems:"Mostra:",selectedItems:"Selezionati:",totalItems:"Totali:",size:"Tot Pagine:",first:"Prima",next:"Prossima",previous:"Precedente",last:"Ultima"},menu:{text:"Scegli le colonne:"},sort:{ascending:"Asc.",descending:"Desc.",remove:"Annulla ordinamento"},column:{hide:"Nascondi"},aggregation:{count:"righe totali: ",sum:"tot: ",avg:"media: ",min:"minimo: ",max:"massimo: "},pinning:{pinLeft:"Blocca a sx",pinRight:"Blocca a dx",unpin:"Blocca in alto"},gridMenu:{columns:"Colonne:",importerTitle:"Importa",exporterAllAsCsv:"Esporta tutti i dati in CSV",exporterVisibleAsCsv:"Esporta i dati visibili in CSV",exporterSelectedAsCsv:"Esporta i dati selezionati in CSV",exporterAllAsPdf:"Esporta tutti i dati in PDF",exporterVisibleAsPdf:"Esporta i dati visibili in PDF",exporterSelectedAsPdf:"Esporta i dati selezionati in PDF",clearAllFilters:"Pulire tutti i filtri"},importer:{noHeaders:"Impossibile reperire i nomi delle colonne, sicuro che siano indicati all'interno del file?",noObjects:"Impossibile reperire gli oggetti, sicuro che siano indicati all'interno del file?",invalidCsv:"Impossibile elaborare il file, sicuro che sia un CSV?",invalidJson:"Impossibile elaborare il file, sicuro che sia un JSON valido?",jsonNotArray:"Errore! Il file JSON da importare deve contenere un array."},pagination:{aria:{pageToFirst:"Prima",pageBack:"Indietro",pageSelected:"Pagina selezionata",pageForward:"Avanti",pageToLast:"Ultima"},sizes:"elementi per pagina",totalItems:"elementi",through:"a",of:"di"},grouping:{group:"Raggruppa",ungroup:"Separa",aggregate_count:"Agg: N. Elem.",aggregate_sum:"Agg: Somma",aggregate_max:"Agg: Massimo",aggregate_min:"Agg: Minimo",aggregate_avg:"Agg: Media",aggregate_remove:"Agg: Rimuovi"},validate:{error:"Errore:",minLength:"Lunghezza minima pari a THRESHOLD caratteri.",maxLength:"Lunghezza massima pari a THRESHOLD caratteri.",required:"Necessario inserire un valore."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ja",{aggregate:{label:""},groupPanel:{description:""},search:{placeholder:"...",showingItems:":",selectedItems:":",totalItems:":",size:":",first:"",next:"",previous:"",last:""},menu:{text:":"},sort:{ascending:"",descending:"",remove:""},column:{hide:""},aggregation:{count:": ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:"",pinRight:"",unpin:""},gridMenu:{columns:":",importerTitle:"",exporterAllAsCsv:"CSV",exporterVisibleAsCsv:"CSV",exporterSelectedAsCsv:"CSV",exporterAllAsPdf:"PDF",exporterVisibleAsPdf:"PDF",exporterSelectedAsPdf:"PDF",clearAllFilters:""},importer:{noHeaders:"",noObjects:"",invalidCsv:"CSV",invalidJson:"JSON",jsonNotArray:"JSON"},pagination:{aria:{pageToFirst:"",pageBack:"",pageSelected:"",pageForward:"",pageToLast:""},sizes:"/",totalItems:"",through:"",of:"/"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ko",{aggregate:{label:""},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:" :",selectedItems:" :",totalItems:" :",size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:" "},column:{hide:" "},aggregation:{count:" : ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:" ",pinRight:" ",unpin:" "},gridMenu:{columns:":",importerTitle:" ",exporterAllAsCsv:"csv   ",exporterVisibleAsCsv:"csv   ",exporterSelectedAsCsv:"csv   ",exporterAllAsPdf:"pdf   ",exporterVisibleAsPdf:"pdf   ",exporterSelectedAsPdf:"pdf   ",clearAllFilters:"  "},importer:{noHeaders:"   .      .",noObjects:"   .     .",invalidCsv:"   .  csv  .",invalidJson:"   .  json  .",jsonNotArray:"json    ."},pagination:{sizes:" ",totalItems:" "}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf",clearAllFilters:"Reinig alle filters"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."},pagination:{sizes:"items per pagina",totalItems:"items",of:"van de"},grouping:{group:"Groepeer",ungroup:"Groepering opheffen",aggregate_count:"Agg: Aantal",aggregate_sum:"Agg: Som",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Gem",aggregate_remove:"Agg: Verwijder"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("no",{headerCell:{aria:{defaultFilterLabel:"Filter for column",removeFilter:"Remove Filter",columnMenuButtonLabel:"Column Menu"},priority:"Priority:",filterLabel:"Filter for column: "},aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",none:"Sort None",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},columnMenu:{close:"Close"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter utvalgte data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter utvalgte data som pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Page to first",pageBack:"Page back",pageSelected:"Selected page",pageForward:"Page forward",pageToLast:"Page to last"},sizes:"items per page",totalItems:"items",through:"through",of:"of"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pl",{headerCell:{aria:{defaultFilterLabel:"Filtr dla kolumny",removeFilter:"Usu filtr",columnMenuButtonLabel:"Menu kolumny"},priority:"Prioritet:",filterLabel:"Filtr dla kolumny: "},aggregate:{label:"pozycji"},groupPanel:{description:"Przecignij nagwek kolumny tutaj, aby pogrupowa wedug niej."},search:{placeholder:"Szukaj...",showingItems:"Widoczne pozycje:",selectedItems:"Zaznaczone pozycje:",totalItems:"Wszystkich pozycji:",size:"Rozmiar strony:",first:"Pierwsza strona",next:"Nastpna strona",previous:"Poprzednia strona",last:"Ostatnia strona"},menu:{text:"Wybierz kolumny:"},sort:{ascending:"Sortuj rosnco",descending:"Sortuj malejco",none:"Brak sortowania",remove:"Wycz sortowanie"},column:{hide:"Ukryj kolumne"},aggregation:{count:"Razem pozycji: ",sum:"Razem: ",avg:"rednia: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Przypnij do lewej",pinRight:"Przypnij do prawej",unpin:"Odepnij"},columnMenu:{close:"Zamknij"},gridMenu:{aria:{buttonLabel:"Menu Grida"},columns:"Kolumny:",importerTitle:"Importuj plik",exporterAllAsCsv:"Eksportuj wszystkie dane do csv",exporterVisibleAsCsv:"Eksportuj widoczne dane do csv",exporterSelectedAsCsv:"Eksportuj zaznaczone dane do csv",exporterAllAsPdf:"Eksportuj wszystkie dane do pdf",exporterVisibleAsPdf:"Eksportuj widoczne dane do pdf",exporterSelectedAsPdf:"Eksportuj zaznaczone dane do pdf",clearAllFilters:"Wyczy filtry"},importer:{noHeaders:"Nie udao si wczyta nazw kolumn. Czy plik posiada nagwek?",noObjects:"Nie udalo si wczyta pozycji. Czy plik zawiera dane??",invalidCsv:"Nie udao si przetworzy pliku, jest to prawidlowy plik CSV??",invalidJson:"Nie udao si przetworzy pliku, jest to prawidlowy plik Json?",jsonNotArray:"Importowany plik json musi zawiera tablic, importowanie przerwane."},pagination:{aria:{pageToFirst:"Pierwsza strona",pageBack:"Poprzednia strona",pageSelected:"Wybrana strona",pageForward:"Nastpna strona",pageToLast:"Ostatnia strona"},sizes:"pozycji na stron",totalItems:"pozycji",through:"do",of:"z"},grouping:{group:"Grupuj",ungroup:"Rozgrupuj",aggregate_count:"Zbiorczo: Razem",aggregate_sum:"Zbiorczo: Suma",aggregate_max:"Zbiorczo: Max",aggregate_min:"Zbiorczo: Min",aggregate_avg:"Zbiorczo: rednia",aggregate_remove:"Zbiorczo: Usu"},validate:{error:"Bd:",minLength:"Warto powinna skada si z co najmniej THRESHOLD znakw.",maxLength:"Warto powinna skada si z przynajmniej THRESHOLD znakw.",required:"Warto jest wymagana."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt-br",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Pgina:",first:"Primeira Pgina",next:"Prxima Pgina",previous:"Pgina Anterior",last:"ltima Pgina"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordenao"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar arquivo",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visveis como pdf",
exporterSelectedAsPdf:"Exportar dados selecionados como pdf",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas no puderam ser derivados. O arquivo tem um cabealho?",noObjects:"Objetos no puderam ser derivados. Havia dados no arquivo, alm dos cabealhos?",invalidCsv:"Arquivo no pode ser processado.  um CSV vlido?",invalidJson:"Arquivo no pode ser processado.  um Json vlido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."},pagination:{aria:{pageToFirst:"Primeira pgina",pageBack:"Pgina anterior",pageSelected:"Pgina Selecionada",pageForward:"Proxima",pageToLast:"Anterior"},sizes:"itens por pgina",totalItems:"itens",through:"atravs dos",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Itens Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Pgina:",first:"Primeira Pgina",next:"Prxima Pgina",previous:"Pgina Anterior",last:"ltima Pgina"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordenao"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar ficheiro",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas no puderam ser derivados. O ficheiro tem um cabealho?",noObjects:"Objetos no puderam ser derivados. Havia dados no ficheiro, alm dos cabealhos?",invalidCsv:"Ficheiro no pode ser processado.  um CSV vlido?",invalidJson:"Ficheiro no pode ser processado.  um Json vlido?",jsonNotArray:"Ficheiro json importado tem que conter um array. Interrompendo."},pagination:{aria:{pageToFirst:"Primeira pgina",pageBack:"Pgina anterior",pageSelected:"Pgina Selecionada",pageForward:"Prxima",pageToLast:"Anterior"},sizes:"itens por pgina",totalItems:"itens",through:"atravs dos",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ro",{headerCell:{aria:{defaultFilterLabel:"Filtru pentru coloana",removeFilter:"Sterge filtru",columnMenuButtonLabel:"Column Menu"},priority:"Prioritate:",filterLabel:"Filtru pentru coloana:"},aggregate:{label:"Elemente"},groupPanel:{description:"Trage un cap de coloana aici pentru a grupa elementele dupa coloana respectiva"},search:{placeholder:"Cauta...",showingItems:"Arata elementele:",selectedItems:"Elementele selectate:",totalItems:"Total elemente:",size:"Marime pagina:",first:"Prima pagina",next:"Pagina urmatoare",previous:"Pagina anterioara",last:"Ultima pagina"},menu:{text:"Alege coloane:"},sort:{ascending:"Ordoneaza crescator",descending:"Ordoneaza descrescator",none:"Fara ordonare",remove:"Sterge ordonarea"},column:{hide:"Ascunde coloana"},aggregation:{count:"total linii: ",sum:"total: ",avg:"medie: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin la stanga",pinRight:"Pin la dreapta",unpin:"Sterge pinul"},columnMenu:{close:"Inchide"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Coloane:",importerTitle:"Incarca fisier",exporterAllAsCsv:"Exporta toate datele ca csv",exporterVisibleAsCsv:"Exporta datele vizibile ca csv",exporterSelectedAsCsv:"Exporta datele selectate ca csv",exporterAllAsPdf:"Exporta toate datele ca pdf",exporterVisibleAsPdf:"Exporta datele vizibile ca pdf",exporterSelectedAsPdf:"Exporta datele selectate ca csv pdf",clearAllFilters:"Sterge toate filtrele"},importer:{noHeaders:"Numele coloanelor nu a putut fi incarcat, acest fisier are un header?",noObjects:"Datele nu au putut fi incarcate, exista date in fisier in afara numelor de coloane?",invalidCsv:"Fisierul nu a putut fi procesat, ati incarcat un CSV valid ?",invalidJson:"Fisierul nu a putut fi procesat, ati incarcat un Json valid?",jsonNotArray:"Json-ul incarcat trebuie sa contina un array, inchidere."},pagination:{aria:{pageToFirst:"Prima pagina",pageBack:"O pagina inapoi",pageSelected:"Pagina selectata",pageForward:"O pagina inainte",pageToLast:"Ultima pagina"},sizes:"Elemente per pagina",totalItems:"elemente",through:"prin",of:"of"},grouping:{group:"Grupeaza",ungroup:"Opreste gruparea",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ru",{headerCell:{aria:{defaultFilterLabel:" ",removeFilter:" ",columnMenuButtonLabel:" "},priority:":",filterLabel:" : "},aggregate:{label:""},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:" :",selectedItems:" :",totalItems:" :",size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",none:" ",remove:" "},column:{hide:" "},aggregation:{count:" : ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:" ",pinRight:" ",unpin:""},columnMenu:{close:""},gridMenu:{aria:{buttonLabel:""},columns:":",importerTitle:" ",exporterAllAsCsv:"   CSV",exporterVisibleAsCsv:"    CSV",exporterSelectedAsCsv:"    CSV",exporterAllAsPdf:"   PDF",exporterVisibleAsPdf:"    PDF",exporterSelectedAsPdf:"    PDF",clearAllFilters:"  "},importer:{noHeaders:"    ,     ?",noObjects:"   ,       ?",invalidCsv:"   ,   CSV-?",invalidJson:"   ,   JSON?",jsonNotArray:" JSON-   ,  ."},pagination:{aria:{pageToFirst:" ",pageBack:" ",pageSelected:" ",pageForward:" ",pageToLast:" "},sizes:"  ",totalItems:"",through:"",of:""},grouping:{group:"",ungroup:"",aggregate_count:": Count",aggregate_sum:" : ",aggregate_max:" : ",aggregate_min:" : ",aggregate_avg:" : ",aggregate_remove:" : "}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem nzov stpca pre zoskupenie poda toho stpca."},search:{placeholder:"Hadaj...",showingItems:"Zobrazujem poloky:",selectedItems:"Vybrat poloky:",totalItems:"Poet poloiek:",size:"Poet:",first:"Prv strana",next:"alia strana",previous:"Predchdzajca strana",last:"Posledn strana"},menu:{text:"Vyberte stpce:"},sort:{ascending:"Zotriedi vzostupne",descending:"Zotriedi zostupne",remove:"Vymaza triedenie"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sv",{aggregate:{label:"Artiklar"},groupPanel:{description:"Dra en kolumnrubrik hit och slpp den fr att gruppera efter den kolumnen."},search:{placeholder:"Sk...",showingItems:"Visar artiklar:",selectedItems:"Valda artiklar:",totalItems:"Antal artiklar:",size:"Sidstorlek:",first:"Frsta sidan",next:"Nsta sida",previous:"Fregende sida",last:"Sista sidan"},menu:{text:"Vlj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",remove:"Inaktivera sortering"},column:{hide:"Gm kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Fst vnster",pinRight:"Fst hger",unpin:"Lsgr"},gridMenu:{columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF",clearAllFilters:"Rengr alla filter"},importer:{noHeaders:"Kolumnnamn kunde inte hrledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte hrledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, r den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, r den en giltig JSON?",jsonNotArray:"Importerad JSON-fil mste innehlla ett flt. Import avbruten."},pagination:{sizes:"Artiklar per sida",totalItems:"Artiklar"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ta",{aggregate:{label:""},groupPanel:{description:"          "},search:{placeholder:" ...",showingItems:" :",selectedItems:"  :",totalItems:" :",size:" : ",first:" ",next:" ",previous:"  ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:" "},column:{hide:"   "},aggregation:{count:" :",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:"  ",pinRight:" ",unpin:""},gridMenu:{columns:":",importerTitle:" : ",exporterAllAsCsv:"  : csv",exporterVisibleAsCsv:"  : csv",exporterSelectedAsCsv:"  : csv",exporterAllAsPdf:"  : pdf",exporterVisibleAsPdf:"  : pdf",exporterSelectedAsPdf:"  : pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"   ,   ?",noObjects:"  ,      ? ",invalidCsv:"   ,  ? - csv",invalidJson:"   ,  ? - json",jsonNotArray:"   ,    : json"},pagination:{sizes:" / ",totalItems:" "},grouping:{group:"",ungroup:"",aggregate_count:" : ",aggregate_sum:" : ",aggregate_max:" : ",aggregate_min:" : ",aggregate_avg:" : ",aggregate_remove:" : "}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("tr",{headerCell:{aria:{defaultFilterLabel:"Stun iin filtre",removeFilter:"Filtreyi Kaldr",columnMenuButtonLabel:"Stun Mens"},priority:"ncelik:",filterLabel:"Stun iin filtre: "},aggregate:{label:"kaytlar"},groupPanel:{description:"Stuna gre gruplamak iin stun baln buraya srkleyin ve brakn."},search:{placeholder:"Arama...",showingItems:"Gsterilen Kayt:",selectedItems:"Seili Kayt:",totalItems:"Toplam Kayt:",size:"Sayfa Boyutu:",first:"lk Sayfa",next:"Sonraki Sayfa",previous:"nceki Sayfa",last:"Son Sayfa"},menu:{text:"Stunlar Se:"},sort:{ascending:"Artan Srada Srala",descending:"Azalan Srada Srala",none:"Sralama Yapma",remove:"Sralamay Kaldr"},column:{hide:"Stunu Gizle"},aggregation:{count:"toplam satr: ",sum:"toplam: ",avg:"ort: ",min:"min: ",max:"maks: "},pinning:{pinLeft:"Sola Sabitle",pinRight:"Saa Sabitle",unpin:"Sabitlemeyi Kaldr"},columnMenu:{close:"Kapat"},gridMenu:{aria:{buttonLabel:"Tablo Men"},columns:"Stunlar:",importerTitle:"Dosya ieri aktar",exporterAllAsCsv:"Btn veriyi CSV olarak dar aktar",exporterVisibleAsCsv:"Grnen veriyi CSV olarak dar aktar",exporterSelectedAsCsv:"Seili veriyi CSV olarak dar aktar",exporterAllAsPdf:"Btn veriyi PDF olarak dar aktar",exporterVisibleAsPdf:"Grnen veriyi PDF olarak dar aktar",exporterSelectedAsPdf:"Seili veriyi PDF olarak dar aktar",clearAllFilters:"Btn filtreleri kaldr"},importer:{noHeaders:"Stun isimleri retilemiyor, dosyann bir bal var m?",noObjects:"Nesneler retilemiyor, dosyada balktan baka bir veri var m?",invalidCsv:"Dosya ilenemedi, geerli bir CSV dosyas m?",invalidJson:"Dosya ilenemedi, geerli bir Json dosyas m?",jsonNotArray:"Alnan Json dosyasnda bir dizi bulunmaldr, ilem iptal ediliyor."},pagination:{aria:{pageToFirst:"lk sayfaya",pageBack:"Geri git",pageSelected:"Seili sayfa",pageForward:"leri git",pageToLast:"Sona git"},sizes:"Sayfadaki nesne says",totalItems:"kaytlar",through:"",of:""},grouping:{group:"Grupla",ungroup:"Gruplama",aggregate_count:"Yekun: Say",aggregate_sum:"Yekun: Toplam",aggregate_max:"Yekun: Maks",aggregate_min:"Yekun: Min",aggregate_avg:"Yekun: Ort",aggregate_remove:"Yekun: Sil"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ua",{headerCell:{aria:{defaultFilterLabel:" ",removeFilter:" ",columnMenuButtonLabel:" "},priority:":",filterLabel:" : "},aggregate:{label:""},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:" :",selectedItems:" :",totalItems:" :",size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",none:" ",remove:" "},column:{hide:" "},aggregation:{count:" : ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:" ",pinRight:" ",unpin:""},columnMenu:{close:""},gridMenu:{aria:{buttonLabel:""},columns:":",importerTitle:" ",exporterAllAsCsv:"   CSV",exporterVisibleAsCsv:"    CSV",exporterSelectedAsCsv:"    CSV",exporterAllAsPdf:"   PDF",exporterVisibleAsPdf:"    PDF",exporterSelectedAsPdf:"    PDF",clearAllFilters:"  "},importer:{noHeaders:"    ,     ?",noObjects:"   ,       ?",invalidCsv:"   ,    CSV-?",invalidJson:"   ,    JSON?",jsonNotArray:"JSON-     ,  ."},pagination:{aria:{pageToFirst:" ",pageBack:" ",pageSelected:" ",pageForward:" ",pageToLast:" "},sizes:"  ",totalItems:"",through:"",of:""},grouping:{group:"",ungroup:"",aggregate_count:": ",aggregate_sum:" : ",aggregate_max:" : ",aggregate_min:" : ",aggregate_avg:" : ",aggregate_remove:" : "}}),e}])}])}(),function(){var e=["uiT","uiTranslate"],t=["t","uiTranslate"],n=angular.module("ui.grid.i18n");n.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"}),n.service("i18nService",["$log","i18nConstants","$rootScope",function(e,t,n){var i={_langs:{},current:null,get:function(e){return this._langs[e.toLowerCase()]},add:function(e,t){var n=e.toLowerCase();this._langs[n]||(this._langs[n]={}),angular.extend(this._langs[n],t)},getAllLangs:function(){var e=[];if(!this._langs)return e;for(var t in this._langs)e.push(t);return e},setCurrent:function(e){this.current=e.toLowerCase()},getCurrentLang:function(){return this.current}},r={add:function(e,t){"object"==typeof e?angular.forEach(e,function(e){e&&i.add(e,t)}):i.add(e,t)},getAllLangs:function(){return i.getAllLangs()},get:function(e){var t=e?e:r.getCurrentLang();return i.get(t)},getSafeText:function(e,n){var o=n?n:r.getCurrentLang(),a=i.get(o);if(!a)return t.MISSING;for(var s=e.split("."),l=a,c=0;c<s.length;++c){if(void 0===l[s[c]]||null===l[s[c]])return t.MISSING;l=l[s[c]]}return l},setCurrentLang:function(e){e&&(i.setCurrent(e),n.$broadcast(t.UPDATE_EVENT))},getCurrentLang:function(){var e=i.getCurrentLang();return e||(e=t.DEFAULT_LANG,i.setCurrent(e)),e}};return r}]);var i=function(e,t){return{compile:function(){return{pre:function(n,i,r){var o=t.LOCALE_DIRECTIVE_ALIAS,a=n.$eval(r[o]);a?n.$watch(r[o],function(){e.setCurrentLang(a)}):r.$$observers&&r.$observe(o,function(){e.setCurrentLang(r[o]||t.DEFAULT_LANG)})}}}}};n.directive("uiI18n",["i18nService","i18nConstants",i]);var r=function(t,n,i){return{restrict:"EA",compile:function(){return{pre:function(r,o,a){var s,l=e[0],c=e[1],u=a[l]||a[c]||o.html(),d=i.MISSING+u;if(a.$$observers){var h=a[l]?l:c;s=a.$observe(h,function(e){e&&o.html(t(e)(n.getCurrentLang())||d)})}var m=t(u),p=r.$on(i.UPDATE_EVENT,function(e){s?s(a[l]||a[c]):o.html(m(n.get())||d)});r.$on("$destroy",p),o.html(m(n.get())||d)}}}}};angular.forEach(e,function(e){n.directive(e,["$parse","i18nService","i18nConstants",r])});var o=function(e,t,n){return function(i){var r=e(i);return r(t.get())||n.MISSING+i}};angular.forEach(t,function(e){n.filter(e,["$parse","i18nService","i18nConstants",o])})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-cn",{headerCell:{aria:{defaultFilterLabel:"",removeFilter:"",columnMenuButtonLabel:""},priority:":",filterLabel:": "},aggregate:{label:""},groupPanel:{description:""},search:{placeholder:"",showingItems:"",selectedItems:"",totalItems:"",size:"",first:"",next:"",previous:"",last:""},menu:{text:""},sort:{ascending:"",descending:"",none:"",remove:""},column:{hide:""},aggregation:{count:"",sum:"",avg:"",min:"",max:""},pinning:{pinLeft:"",pinRight:"",unpin:""},columnMenu:{close:""},gridMenu:{aria:{buttonLabel:""},columns:"",importerTitle:"",exporterAllAsCsv:"CSV",exporterVisibleAsCsv:"CSV",exporterSelectedAsCsv:"CSV",exporterAllAsPdf:"PDF",exporterVisibleAsPdf:"PDF",exporterSelectedAsPdf:"PDF",clearAllFilters:""},importer:{noHeaders:"",noObjects:"",invalidCsv:"CSV",invalidJson:"JSON",jsonNotArray:"JSON"},pagination:{aria:{pageToFirst:"",pageBack:"",pageSelected:"",pageForward:"",pageToLast:""},sizes:"",totalItems:"",through:"",of:""},grouping:{group:"",ungroup:"",aggregate_count:": ",aggregate_sum:": ",aggregate_max:": ",aggregate_min:": ",aggregate_avg:": ",aggregate_remove:": "}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-tw",{aggregate:{label:""},groupPanel:{description:""},search:{placeholder:"",showingItems:"",selectedItems:"",totalItems:"",size:"",first:"",next:"",previous:"",last:""},menu:{text:""},sort:{ascending:"",descending:"",remove:""},column:{hide:""},aggregation:{count:"",sum:"",avg:"",min:"",max:""},pinning:{pinLeft:"",pinRight:"",unpin:""},gridMenu:{columns:"",importerTitle:"",exporterAllAsCsv:"CSV",exporterVisibleAsCsv:"CSV",exporterSelectedAsCsv:"CSV",exporterAllAsPdf:"PDF",exporterVisibleAsPdf:"PDF",exporterSelectedAsPdf:"PDF",clearAllFilters:""},importer:{noHeaders:"",noObjects:"",invalidCsv:"CSV",invalidJson:"JSON",jsonNotArray:"JSON"},pagination:{sizes:"",totalItems:""}}),e}])}])}(),function(){"use strict";var e=angular.module("ui.grid.autoResize",["ui.grid"]);e.directive("uiGridAutoResize",["$timeout","gridUtil",function(e,t){return{require:"uiGrid",scope:!1,link:function(e,n,i,r){function getDimensions(){a=t.elementHeight(n),o=t.elementWidth(n)}function startTimeout(){clearTimeout(s),s=setTimeout(function(){var i=t.elementHeight(n),s=t.elementWidth(n);i!==a||s!==o?(r.grid.gridHeight=i,r.grid.gridWidth=s,r.grid.api.core.raise.gridDimensionChanged(a,o,i,s),e.$apply(function(){r.grid.refresh().then(function(){getDimensions(),startTimeout()})})):startTimeout()},250)}var o,a;getDimensions();var s;startTimeout(),e.$on("$destroy",function(){clearTimeout(s)})}}}])}(),function(){"use strict";var e=angular.module("ui.grid.cellNav",["ui.grid"]);e.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3,PG_UP:4,PG_DOWN:5},EVENT_TYPE:{KEYDOWN:0,CLICK:1,CLEAR:2}}),e.factory("uiGridCellNavFactory",["gridUtil","uiGridConstants","uiGridCellNavConstants","GridRowColumn","$q",function(e,t,n,i,r){var o=function(e,t,n,i){this.rows=e.visibleRowCache,this.columns=t.visibleColumnCache,this.leftColumns=n?n.visibleColumnCache:[],this.rightColumns=i?i.visibleColumnCache:[],this.bodyContainer=e};return o.prototype.getFocusableCols=function(){var e=this.leftColumns.concat(this.columns,this.rightColumns);return e.filter(function(e){return e.colDef.allowCellFocus})},o.prototype.getFocusableRows=function(){return this.rows.filter(function(e){return e.allowCellFocus!==!1})},o.prototype.getNextRowCol=function(e,t,i){switch(e){case n.direction.LEFT:return this.getRowColLeft(t,i);case n.direction.RIGHT:return this.getRowColRight(t,i);case n.direction.UP:return this.getRowColUp(t,i);case n.direction.DOWN:return this.getRowColDown(t,i);case n.direction.PG_UP:return this.getRowColPageUp(t,i);case n.direction.PG_DOWN:return this.getRowColPageDown(t,i)}},o.prototype.initializeSelection=function(){var e=this.getFocusableCols(),t=this.getFocusableRows();if(0===e.length||0===t.length)return null;return new i(t[0],e[0])},o.prototype.getRowColLeft=function(e,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(e);o===-1&&(o=1);var s=0===o?n.length-1:o-1;return s>=o?0===a?new i(e,n[s]):new i(r[a-1],n[s]):new i(e,n[s])},o.prototype.getRowColRight=function(e,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(e);o===-1&&(o=0);var s=o===n.length-1?0:o+1;return s<=o?a===r.length-1?new i(e,n[s]):new i(r[a+1],n[s]):new i(e,n[s])},o.prototype.getRowColDown=function(e,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(e);return o===-1&&(o=0),a===r.length-1?new i(e,n[o]):new i(r[a+1],n[o])},o.prototype.getRowColPageDown=function(e,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(e);o===-1&&(o=0);var s=this.bodyContainer.minRowsToRender();return a>=r.length-s?new i(r[r.length-1],n[o]):new i(r[a+s],n[o])},o.prototype.getRowColUp=function(e,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(e);return o===-1&&(o=0),0===a?new i(e,n[o]):new i(r[a-1],n[o])},o.prototype.getRowColPageUp=function(e,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(e);o===-1&&(o=0);var s=this.bodyContainer.minRowsToRender();return a-s<0?new i(r[0],n[o]):new i(r[a-s],n[o])},o}]),e.service("uiGridCellNavService",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory","GridRowColumn","ScrollEvent",function(e,t,n,i,r,o,a){var s={initializeGrid:function(e){e.registerColumnBuilder(s.cellNavColumnBuilder),e.cellNav={},e.cellNav.lastRowCol=null,e.cellNav.focusedCells=[],s.defaultGridOptions(e.options);var t={events:{cellNav:{navigate:function(e,t){},viewPortKeyDown:function(e,t){},viewPortKeyPress:function(e,t){}}},methods:{cellNav:{scrollToFocus:function(t,n){return s.scrollToFocus(e,t,n)},getFocusedCell:function(){return e.cellNav.lastRowCol},getCurrentSelection:function(){return e.cellNav.focusedCells},rowColSelectIndex:function(t){for(var n=-1,i=0;i<e.cellNav.focusedCells.length;i++)if(e.cellNav.focusedCells[i].col.uid===t.col.uid&&e.cellNav.focusedCells[i].row.uid===t.row.uid){n=i;break}return n}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.modifierKeysToMultiSelectCells=e.modifierKeysToMultiSelectCells===!0,e.keyDownOverrides=e.keyDownOverrides||[]},decorateRenderContainers:function(e){var t=e.hasRightContainer()?e.renderContainers.right:null,n=e.hasLeftContainer()?e.renderContainers.left:null;null!==n&&(e.renderContainers.left.cellNav=new r(e.renderContainers.body,n,t,e.renderContainers.body)),null!==t&&(e.renderContainers.right.cellNav=new r(e.renderContainers.body,t,e.renderContainers.body,n)),e.renderContainers.body.cellNav=new r(e.renderContainers.body,e.renderContainers.body,n,t)},getDirection:function(e){return e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey?n.direction.LEFT:e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB?n.direction.RIGHT:e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey?n.direction.UP:e.keyCode===t.keymap.PG_UP?n.direction.PG_UP:e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER&&!e.ctrlKey&&!e.altKey?n.direction.DOWN:e.keyCode===t.keymap.PG_DOWN?n.direction.PG_DOWN:null},cellNavColumnBuilder:function(e,t,n){var r=[];return e.allowCellFocus=void 0===e.allowCellFocus||e.allowCellFocus,i.all(r)},scrollToFocus:function(e,t,n){var i=null,r=null;return"undefined"!=typeof t&&null!==t&&(i=e.getRow(t)),"undefined"!=typeof n&&null!==n&&(r=e.getColumn(n.name?n.name:n.field)),e.api.core.scrollToIfNecessary(i,r).then(function(){var t={row:i,col:r};null!==i&&null!==r&&e.cellNav.broadcastCellNav(t)})},getLeftWidth:function(e,t){var n=0;if(!t)return n;var i=e.renderContainers.body.visibleColumnCache.indexOf(t);e.renderContainers.body.visibleColumnCache.forEach(function(e,t){t<i&&(n+=e.drawnWidth)});var r=0===i?0:(i+1)/e.renderContainers.body.visibleColumnCache.length;return n+=t.drawnWidth*r}};return s}]),e.directive("uiGridCellnav",["gridUtil","uiGridCellNavService","uiGridCellNavConstants","uiGridConstants","GridRowColumn","$timeout","$compile",function(e,t,n,i,r,o,a){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,controller:function(){},compile:function(){return{pre:function(e,o,a,s){var l=e,c=s.grid;t.initializeGrid(c),s.cellNav={},s.cellNav.makeRowCol=function(e){return e instanceof r||(e=new r(e.row,e.col)),e},s.cellNav.getActiveCell=function(){var e=o[0].getElementsByClassName("ui-grid-cell-focus");if(e.length>0)return e[0]},s.cellNav.broadcastCellNav=c.cellNav.broadcastCellNav=function(e,t,i){t=!(void 0===t||!t),e=s.cellNav.makeRowCol(e),s.cellNav.broadcastFocus(e,t,i),l.$broadcast(n.CELL_NAV_EVENT,e,t,i)},s.cellNav.clearFocus=c.cellNav.clearFocus=function(){c.cellNav.focusedCells=[],l.$broadcast(n.CELL_NAV_EVENT)},s.cellNav.broadcastFocus=function(e,t,n){t=!(void 0===t||!t),e=s.cellNav.makeRowCol(e);var i=e.row,o=e.col,a=s.grid.api.cellNav.rowColSelectIndex(e);if(null===c.cellNav.lastRowCol||a===-1){var l=new r(i,o);null!==c.cellNav.lastRowCol&&c.cellNav.lastRowCol.row===l.row&&c.cellNav.lastRowCol.col===l.col||(c.api.cellNav.raise.navigate(l,c.cellNav.lastRowCol,n),c.cellNav.lastRowCol=l),s.grid.options.modifierKeysToMultiSelectCells&&t?c.cellNav.focusedCells.push(e):c.cellNav.focusedCells=[e]}else c.options.modifierKeysToMultiSelectCells&&t&&a>=0&&c.cellNav.focusedCells.splice(a,1)},s.cellNav.handleKeyDown=function(e){var r=t.getDirection(e);if(null===r)return null;var o="body";e.uiGridTargetRenderContainerId&&(o=e.uiGridTargetRenderContainerId);var a=s.grid.api.cellNav.getFocusedCell();if(a){var l=s.grid.renderContainers[o].cellNav.getNextRowCol(r,a.row,a.col),u=s.grid.renderContainers[o].cellNav.getFocusableCols(),d=s.grid.api.cellNav.rowColSelectIndex(l);return r===n.direction.LEFT&&l.col===u[u.length-1]&&l.row===a.row&&e.keyCode===i.keymap.TAB&&e.shiftKey?(c.cellNav.focusedCells.splice(d,1),s.cellNav.clearFocus(),!0):r!==n.direction.RIGHT||l.col!==u[0]||l.row!==a.row||e.keyCode!==i.keymap.TAB||e.shiftKey?(c.scrollToIfNecessary(l.row,l.col).then(function(){s.cellNav.broadcastCellNav(l,null,e)}),e.stopPropagation(),e.preventDefault(),!1):(c.cellNav.focusedCells.splice(d,1),s.cellNav.clearFocus(),!0)}}},post:function(e,t,i,r){function addAriaLiveRegion(){var i='<div id="'+o.id+'-aria-speakable" class="ui-grid-a11y-ariascreenreader-speakable ui-grid-offscreen" aria-live="assertive" role="region" aria-atomic="true" aria-hidden="false" aria-relevant="additions" >&nbsp;</div>',r=a(i)(e);t.prepend(r),e.$on(n.CELL_NAV_EVENT,function(e,t,n,i){function setNotifyText(e){e!==r.text()&&(r[0].style.clip="rect(0px,0px,0px,0px)",r[0].innerHTML="",r[0].style.visibility="hidden",r[0].style.visibility="visible",""!==e&&(r[0].style.clip="auto",r[0].appendChild(document.createTextNode(e+" ")),
r[0].style.visibility="hidden",r[0].style.visibility="visible"))}if(!i||"focus"!==i.type){for(var a=[],s=o.api.cellNav.getCurrentSelection(),l=0;l<s.length;l++)a.push(o.getCellDisplayValue(s[l].row,s[l].col));var c=a.toString();setNotifyText(c)}})}var o=r.grid;addAriaLiveRegion()}}}}}]),e.directive("uiGridRenderContainer",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","$compile","uiGridCellNavConstants",function(e,t,n,i,r,o,a){return{replace:!0,priority:-99999,require:["^uiGrid","uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{post:function(t,i,s,l){var c=l[0],u=l[1],d=l[2];if(c.grid.api.cellNav){var h=u.containerId,m=c.grid;if(r.decorateRenderContainers(m),"body"===h){c.grid.options.modifierKeysToMultiSelectCells?i.attr("aria-multiselectable",!0):i.attr("aria-multiselectable",!1);var p=o('<div class="ui-grid-focuser" role="region" aria-live="assertive" aria-atomic="false" tabindex="0" aria-controls="'+m.id+"-aria-speakable "+m.id+'-grid-container" aria-owns="'+m.id+'-grid-container"></div>')(t);i.append(p),p.on("focus",function(e){e.uiGridTargetRenderContainerId=h;var t=c.grid.api.cellNav.getFocusedCell();null===t&&(t=c.grid.renderContainers[h].cellNav.getNextRowCol(a.direction.DOWN,null,null),t.row&&t.col&&c.cellNav.broadcastCellNav(t))}),d.setAriaActivedescendant=function(e){i.attr("aria-activedescendant",e)},d.removeAriaActivedescendant=function(e){i.attr("aria-activedescendant")===e&&i.attr("aria-activedescendant","")},c.focus=function(){n.focus.byElement(p[0])};var f=null;p.on("keydown",function(e){e.uiGridTargetRenderContainerId=h;var t=c.grid.api.cellNav.getFocusedCell(),n=c.grid.options.keyDownOverrides.some(function(t){return Object.keys(t).every(function(n){return t[n]===e[n]})}),i=n?null:c.cellNav.handleKeyDown(e);null===i&&(c.grid.api.cellNav.raise.viewPortKeyDown(e,t),f=t)}),p.on("keypress",function(t){f&&(e(function(){c.grid.api.cellNav.raise.viewPortKeyPress(t,f)},4),f=null)}),t.$on("$destroy",function(){p.off()})}}}}}}}]),e.directive("uiGridViewport",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","uiGridCellNavConstants","$log","$compile",function(e,t,n,i,r,o,a,s){return{replace:!0,priority:-99999,require:["^uiGrid","^uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{pre:function(e,t,n,i){},post:function(e,t,n,i){var r=i[0],o=i[1];if(r.grid.api.cellNav){var a=o.containerId;if("body"===a){var s=r.grid;s.api.core.on.scrollBegin(e,function(e){var t=r.grid.api.cellNav.getFocusedCell();null!==t&&o.colContainer.containsColumn(t.col)&&r.cellNav.clearFocus()}),s.api.core.on.scrollEnd(e,function(e){var t=r.grid.api.cellNav.getFocusedCell();null!==t&&o.colContainer.containsColumn(t.col)&&r.cellNav.broadcastCellNav(t)}),s.api.cellNav.on.navigate(e,function(){r.focus()})}}}}}}}]),e.directive("uiGridCell",["$timeout","$document","uiGridCellNavService","gridUtil","uiGridCellNavConstants","uiGridConstants","GridRowColumn",function(e,t,n,i,r,o,a){return{priority:-150,restrict:"A",require:["^uiGrid","?^uiGridCellnav"],scope:!1,link:function(t,n,i,s){function preventMouseDown(e){e.preventDefault()}function refreshCellFocus(){var e=u.cellNav.focusedCells.some(function(e,n){return e.row===t.row&&e.col===t.col});e?setFocused():clearFocus()}function setFocused(){if(!t.focused){var e=n.find("div");e.addClass("ui-grid-cell-focus"),n.attr("aria-selected",!0),c.setAriaActivedescendant(n.attr("id")),t.focused=!0}}function clearFocus(){if(t.focused){var e=n.find("div");e.removeClass("ui-grid-cell-focus"),n.attr("aria-selected",!1),c.removeAriaActivedescendant(n.attr("id")),t.focused=!1}}var l=s[0],c=s[1];if(l.grid.api.cellNav&&t.col.colDef.allowCellFocus){var u=l.grid;t.focused=!1,n.attr("tabindex",-1),n.find("div").on("click",function(e){l.cellNav.broadcastCellNav(new a(t.row,t.col),e.ctrlKey||e.metaKey,e),e.stopPropagation(),t.$apply()}),n.on("mousedown",preventMouseDown),l.grid.api.edit&&(l.grid.api.edit.on.beginCellEdit(t,function(){n.off("mousedown",preventMouseDown)}),l.grid.api.edit.on.afterCellEdit(t,function(){n.on("mousedown",preventMouseDown)}),l.grid.api.edit.on.cancelCellEdit(t,function(){n.on("mousedown",preventMouseDown)})),refreshCellFocus(),n.on("focus",function(e){l.cellNav.broadcastCellNav(new a(t.row,t.col),!1,e),e.stopPropagation(),t.$apply()}),t.$on(r.CELL_NAV_EVENT,refreshCellFocus);var d=l.grid.registerDataChangeCallback(function(t){clearFocus(),e(refreshCellFocus)},[o.dataChange.ROW]);t.$on("$destroy",function(){d(),n.find("div").off(),n.off()})}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.edit",["ui.grid"]);e.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}}),e.service("uiGridEditService",["$q","uiGridConstants","gridUtil",function(e,t,n){var i={initializeGrid:function(e){i.defaultGridOptions(e.options),e.registerColumnBuilder(i.editColumnBuilder),e.edit={};var t={events:{edit:{afterCellEdit:function(e,t,n,i){},beginCellEdit:function(e,t,n){},cancelCellEdit:function(e,t){}}},methods:{edit:{}}};e.api.registerEventsFromObject(t.events)},defaultGridOptions:function(e){e.cellEditableCondition=void 0===e.cellEditableCondition||e.cellEditableCondition,e.enableCellEditOnFocus=void 0!==e.enableCellEditOnFocus&&e.enableCellEditOnFocus},editColumnBuilder:function(t,i,r){var o=[];return t.enableCellEdit=void 0===t.enableCellEdit?void 0===r.enableCellEdit?"object"!==t.type:r.enableCellEdit:t.enableCellEdit,t.cellEditableCondition=void 0===t.cellEditableCondition?r.cellEditableCondition:t.cellEditableCondition,t.enableCellEdit&&(t.editableCellTemplate=t.editableCellTemplate||r.editableCellTemplate||"ui-grid/cellEditor",o.push(n.getTemplate(t.editableCellTemplate).then(function(e){i.editableCellTemplate=e},function(e){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+t.editableCellTemplate+"'")}))),t.enableCellEditOnFocus=void 0===t.enableCellEditOnFocus?r.enableCellEditOnFocus:t.enableCellEditOnFocus,e.all(o)},isStartEditKey:function(e){return!(e.metaKey||e.keyCode===t.keymap.ESC||e.keyCode===t.keymap.SHIFT||e.keyCode===t.keymap.CTRL||e.keyCode===t.keymap.ALT||e.keyCode===t.keymap.WIN||e.keyCode===t.keymap.CAPSLOCK||e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey||e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB||e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey||e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER)}};return i}]),e.directive("uiGridEdit",["gridUtil","uiGridEditService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(r.grid)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridViewport",["uiGridEditConstants",function(e){return{replace:!0,priority:-99998,require:["^uiGrid","^uiGridRenderContainer"],scope:!1,compile:function(){return{post:function(t,n,i,r){var o=r[0];if(o.grid.api.edit&&o.grid.api.cellNav){var a=r[1].containerId;"body"===a&&(t.$on(e.events.CANCEL_CELL_EDIT,function(){o.focus()}),t.$on(e.events.END_CELL_EDIT,function(){o.focus()}))}}}}}}]),e.directive("uiGridCell",["$compile","$injector","$timeout","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService","$rootScope","$q",function(e,t,n,i,r,o,a,s,l,c){var u=500;if(t.has("uiGridCellNavService")){t.get("uiGridCellNavService")}return{priority:-100,restrict:"A",scope:!1,require:"?^uiGrid",link:function(t,d,h,m){function registerBeginEditEvents(){d.on("dblclick",beginEdit),d.on("touchstart",touchStart),m&&m.grid.api.cellNav&&(w=m.grid.api.cellNav.on.viewPortKeyDown(t,function(e,n){null!==n&&(n.row!==t.row||n.col!==t.col||t.col.colDef.enableCellEditOnFocus||beginEditKeyDown(e))}),_=m.grid.api.cellNav.on.navigate(t,function(e,i,r){t.col.colDef.enableCellEditOnFocus&&(i&&e.row===i.row&&e.col===i.col||e.row!==t.row||e.col!==t.col||n(function(){beginEdit(r)}))})),t.beginEditEventsWired=!0}function touchStart(e){"undefined"!=typeof e.originalEvent&&void 0!==e.originalEvent&&(e=e.originalEvent),d.on("touchend",touchEnd),v=n(function(){},u),v.then(function(){setTimeout(beginEdit,0),d.off("touchend",touchEnd)})}function touchEnd(e){n.cancel(v),d.off("touchend",touchEnd)}function cancelBeginEditEvents(){d.off("dblclick",beginEdit),d.off("keydown",beginEditKeyDown),d.off("touchstart",touchStart),_(),w(),t.beginEditEventsWired=!1}function beginEditKeyDown(e){s.isStartEditKey(e)&&beginEdit(e)}function shouldEdit(e,n){return!n.isSaving&&(angular.isFunction(e.colDef.cellEditableCondition)?e.colDef.cellEditableCondition(t):e.colDef.cellEditableCondition)}function beginEdit(e){t.grid.api.core.scrollToIfNecessary(t.row,t.col).then(function(){beginEditAfterScroll(e)})}function beginEditAfterScroll(s){if(!b&&shouldEdit(t.col,t.row)){var u=t.row.getQualifiedColField(t.col);t.col.colDef.editModelField&&(u=o.preEval("row.entity."+t.col.colDef.editModelField)),g=a(u),f=g(t),p=t.col.editableCellTemplate,p=p.replace(i.MODEL_COL_FIELD,u),p=p.replace(i.COL_FIELD,"grid.getCellValue(row, col)");var h=t.col.colDef.editDropdownFilter?"|"+t.col.colDef.editDropdownFilter:"";p=p.replace(i.CUSTOM_FILTERS,h);var m="text";switch(t.col.colDef.type){case"boolean":m="checkbox";break;case"number":m="number";break;case"date":m="date"}p=p.replace("INPUT_TYPE",m);var v=t.col.colDef.editDropdownOptionsFunction;if(v)c.when(v(t.row.entity,t.col.colDef)).then(function(e){t.editDropdownOptionsArray=e});else{var _=t.col.colDef.editDropdownRowEntityOptionsArrayPath;_?t.editDropdownOptionsArray=resolveObjectFromPath(t.row.entity,_):t.editDropdownOptionsArray=t.col.colDef.editDropdownOptionsArray}t.editDropdownIdLabel=t.col.colDef.editDropdownIdLabel?t.col.colDef.editDropdownIdLabel:"id",t.editDropdownValueLabel=t.col.colDef.editDropdownValueLabel?t.col.colDef.editDropdownValueLabel:"value";var w=function(){b=!0,cancelBeginEditEvents();var n=angular.element(p);d.append(n),y=t.$new(),e(n)(y);var i=angular.element(d.children()[0]);i.addClass("ui-grid-cell-contents-hidden")};l.$$phase?w():t.$apply(w);var x=t.col.grid.api.core.on.scrollBegin(t,function(){t.grid.disableScrolling||(endEdit(),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,g(t),f),x(),C(),S())}),C=t.$on(r.events.END_CELL_EDIT,function(){endEdit(),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,g(t),f),C(),x(),S()}),S=t.$on(r.events.CANCEL_CELL_EDIT,function(){cancelEdit(),S(),x(),C()});t.$broadcast(r.events.BEGIN_CELL_EDIT,s),n(function(){t.grid.api.edit.raise.beginCellEdit(t.row.entity,t.col.colDef,s)})}}function endEdit(){if(t.grid.disableScrolling=!1,b){m&&m.grid.api.cellNav&&m.focus();var e=angular.element(d.children()[0]);y.$destroy();for(var n=d.children(),r=1;r<n.length;r++)angular.element(n[r]).remove();e.removeClass("ui-grid-cell-contents-hidden"),b=!1,registerBeginEditEvents(),t.grid.api.core.notifyDataChange(i.dataChange.EDIT)}}function cancelEdit(){t.grid.disableScrolling=!1,b&&(g.assign(t,f),t.$apply(),t.grid.api.edit.raise.cancelCellEdit(t.row.entity,t.col.colDef),endEdit())}function resolveObjectFromPath(e,t){t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var n=t.split(".");n.length;){var i=n.shift();if(!(i in e))return;e=e[i]}return e}var p,f,g,v,y,b=!1;if(t.col.colDef.enableCellEdit){var _=function(){},w=function(){},x=function(){t.col.colDef.enableCellEdit&&t.row.enableCellEdit!==!1?t.beginEditEventsWired||registerBeginEditEvents():t.beginEditEventsWired&&cancelBeginEditEvents()};x();var C=t.$watch("row",function(e,t){e!==t&&x()});t.$on("$destroy",function(){C(),d.off()})}}}}]),e.directive("uiGridEditor",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout","uiGridEditService",function(e,t,n,i,r){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer","ngModel"],compile:function(){return{pre:function(e,t,n){},post:function(e,o,a,s){var l,c,u;s[0]&&(l=s[0]),s[1]&&(c=s[1]),s[2]&&(u=s[2]),e.$on(n.events.BEGIN_CELL_EDIT,function(t,n){if(i(function(){if(o[0].focus(),!o[0].select||!e.col.colDef.enableCellEditOnFocus&&l&&l.grid.api.cellNav)try{o[0].setSelectionRange(o[0].value.length,o[0].value.length)}catch(e){}else o[0].select()}),l&&l.grid.api.cellNav)var a=l.grid.api.cellNav.on.viewPortKeyPress(e,function(e,t){r.isStartEditKey(e)&&(u.$setViewValue(String.fromCharCode("number"==typeof e.which?e.which:e.keyCode),e),u.$render()),a()});o.on("mousedown",function(t){"checkbox"===o[0].type&&(o.off("blur",e.stopEdit),i(function(){o.focus(),o.on("blur",e.stopEdit)}))}),o.on("blur",e.stopEdit)}),e.deepEdit=!1,e.stopEdit=function(t){e.inputForm&&!e.inputForm.$valid?(t.stopPropagation(),e.$emit(n.events.CANCEL_CELL_EDIT)):e.$emit(n.events.END_CELL_EDIT),e.deepEdit=!1},o.on("click",function(t){"checkbox"!==o[0].type&&(e.deepEdit=!0,i(function(){e.grid.disableScrolling=!0}))}),o.on("keydown",function(i){switch(i.keyCode){case t.keymap.ESC:i.stopPropagation(),e.$emit(n.events.CANCEL_CELL_EDIT)}if(!e.deepEdit||i.keyCode!==t.keymap.LEFT&&i.keyCode!==t.keymap.RIGHT&&i.keyCode!==t.keymap.UP&&i.keyCode!==t.keymap.DOWN)if(l&&l.grid.api.cellNav)i.uiGridTargetRenderContainerId=c.containerId,null!==l.cellNav.handleKeyDown(i)&&e.stopEdit(i);else switch(i.keyCode){case t.keymap.ENTER:case t.keymap.TAB:i.stopPropagation(),i.preventDefault(),e.stopEdit(i)}else i.stopPropagation();return!0}),e.$on("$destroy",function(){o.off()})}}}}}]),e.directive("uiGridEditor",["$filter",function(e){function parseDateString(e){if("undefined"==typeof e||""===e)return null;var t=e.split("-");if(3!==t.length)return null;var n=parseInt(t[0],10),i=parseInt(t[1],10),r=parseInt(t[2],10);return i<1||n<1||r<1?null:new Date(n,i-1,r)}return{priority:-100,require:"?ngModel",link:function(t,n,i,r){2===angular.version.minor&&i.type&&"date"===i.type&&r&&(r.$formatters.push(function(t){return r.$setValidity(null,!t||!isNaN(t.getTime())),e("date")(t,"yyyy-MM-dd")}),r.$parsers.push(function(e){if(e&&e.length>0){var t=parseDateString(e);return r.$setValidity(null,t&&!isNaN(t.getTime())),t}return r.$setValidity(null,!0),null}))}}}]),e.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants","$timeout",function(e,t,n){return{require:["?^uiGrid","?^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,t,n){},post:function(i,r,o,a){var s=a[0],l=a[1];i.$on(t.events.BEGIN_CELL_EDIT,function(){n(function(){r[0].focus()}),r[0].style.width=r[0].parentElement.offsetWidth-1+"px",r.on("blur",function(e){i.stopEdit(e)})}),i.stopEdit=function(e){i.$emit(t.events.END_CELL_EDIT)},r.on("keydown",function(n){switch(n.keyCode){case e.keymap.ESC:n.stopPropagation(),i.$emit(t.events.CANCEL_CELL_EDIT)}if(s&&s.grid.api.cellNav)n.uiGridTargetRenderContainerId=l.containerId,null!==s.cellNav.handleKeyDown(n)&&i.stopEdit(n);else switch(n.keyCode){case e.keymap.ENTER:case e.keymap.TAB:n.stopPropagation(),n.preventDefault(),i.stopEdit(n)}return!0}),i.$on("$destroy",function(){r.off()})}}}}}]),e.directive("uiGridEditFileChooser",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout",function(e,t,n,i){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(e,t,n){},post:function(t,i,r,o){var a,s;o[0]&&(a=o[0]),o[1]&&(s=o[1]);var l=(a.grid,function(i){var r=i.srcElement||i.target;r&&r.files&&r.files.length>0?("function"==typeof t.col.colDef.editFileChooserCallback?t.col.colDef.editFileChooserCallback(t.row,t.col,r.files):e.logError("You need to set colDef.editFileChooserCallback to use the file chooser"),r.form.reset(),t.$emit(n.events.END_CELL_EDIT)):t.$emit(n.events.CANCEL_CELL_EDIT)});i[0].addEventListener("change",l,!1),t.$on(n.events.BEGIN_CELL_EDIT,function(){i[0].focus(),i[0].select(),i.on("blur",function(e){t.$emit(n.events.END_CELL_EDIT)})}),t.$on("$destroy",function(){i.off(),i[0].removeEventListener("change",l,!1)})}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.emptyBaseLayer",["ui.grid"]);e.service("uiGridBaseLayerService",["gridUtil","$compile",function(e,t){var n={initializeGrid:function(e,t){e.baseLayer={emptyRows:[]},e.options.enableEmptyGridBaseLayer!==!1&&(e.options.enableEmptyGridBaseLayer=!t)},setNumberOfEmptyRows:function(e,t){var n=t.options.rowHeight,i=Math.ceil(e/n);if(i>0){t.baseLayer.emptyRows=[];for(var r=0;r<i;r++)t.baseLayer.emptyRows.push({})}}};return n}]),e.directive("uiGridEmptyBaseLayer",["gridUtil","uiGridBaseLayerService","$parse",function(e,t,n){return{require:"^uiGrid",scope:!1,compile:function(e,i){return{pre:function(e,i,r,o){var a=n(r.uiGridEmptyBaseLayer)(e)===!1;t.initializeGrid(o.grid,a)},post:function(e,n,i,r){function heightHasChanged(){var e=o.getViewportHeight();return e!==a&&(a=e,!0)}function getEmptyBaseLayerCss(e){return".grid"+r.grid.id+" .ui-grid-render-container .ui-grid-empty-base-layer-container.ui-grid-canvas { height: "+e+"px; }"}if(r.grid.options.enableEmptyGridBaseLayer){var o=r.grid.renderContainers.body,a=o.getViewportHeight();r.grid.registerStyleComputation({func:function(){return heightHasChanged()&&t.setNumberOfEmptyRows(a,r.grid),getEmptyBaseLayerCss(a)}})}}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,t,n){return{priority:-200,scope:!1,compile:function(e,t){var i=n.get("ui-grid/emptyBaseLayerContainer");return e.prepend(i),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.expandable",["ui.grid"]);e.service("uiGridExpandableService",["gridUtil","$compile",function(e,t){var n={initializeGrid:function(t){t.expandable={},t.expandable.expandedAll=!1,t.options.enableExpandable=t.options.enableExpandable!==!1,t.options.expandableRowHeight=t.options.expandableRowHeight||150,t.options.expandableRowHeaderWidth=t.options.expandableRowHeaderWidth||40,t.options.enableExpandable&&!t.options.expandableRowTemplate&&(e.logError("You have not set the expandableRowTemplate, disabling expandable module"),t.options.enableExpandable=!1);var i={events:{expandable:{rowExpandedBeforeStateChanged:function(e,t){},rowExpandedStateChanged:function(e,t){}}},methods:{expandable:{toggleRowExpansion:function(e){var i=t.getRow(e);null!==i&&n.toggleRowExpansion(t,i)},expandAllRows:function(){n.expandAllRows(t)},collapseAllRows:function(){n.collapseAllRows(t)},toggleAllRows:function(){n.toggleAllRows(t)},expandRow:function(e){var i=t.getRow(e);null===i||i.isExpanded||n.toggleRowExpansion(t,i)},collapseRow:function(e){var i=t.getRow(e);null!==i&&i.isExpanded&&n.toggleRowExpansion(t,i)},getExpandedRows:function(){return n.getExpandedRows(t).map(function(e){return e.entity})}}}};t.api.registerEventsFromObject(i.events),t.api.registerMethodsFromObject(i.methods)},toggleRowExpansion:function(e,t){e.api.expandable.raise.rowExpandedBeforeStateChanged(t),t.isExpanded=!t.isExpanded,angular.isUndefined(t.expandedRowHeight)&&(t.expandedRowHeight=e.options.expandableRowHeight),t.isExpanded?t.height=t.grid.options.rowHeight+t.expandedRowHeight:(t.height=t.grid.options.rowHeight,e.expandable.expandedAll=!1),e.api.expandable.raise.rowExpandedStateChanged(t)},expandAllRows:function(e,t){e.renderContainers.body.visibleRowCache.forEach(function(t){t.isExpanded||n.toggleRowExpansion(e,t)}),e.expandable.expandedAll=!0,e.queueGridRefresh()},collapseAllRows:function(e){e.renderContainers.body.visibleRowCache.forEach(function(t){t.isExpanded&&n.toggleRowExpansion(e,t)}),e.expandable.expandedAll=!1,e.queueGridRefresh()},toggleAllRows:function(e){e.expandable.expandedAll?n.collapseAllRows(e):n.expandAllRows(e)},getExpandedRows:function(e){return e.rows.filter(function(e){return e.isExpanded})}};return n}]),e.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,i,r,o){if(e.initializeGrid(o.grid),o.grid.options.enableExpandable&&o.grid.options.enableExpandableRowHeader!==!1){var a={name:"expandableButtons",displayName:"",exporterSuppressExport:!0,enableColumnResizing:!1,enableColumnMenu:!1,width:o.grid.options.expandableRowHeaderWidth||40};a.cellTemplate=t.get("ui-grid/expandableRowHeader"),a.headerCellTemplate=t.get("ui-grid/expandableTopRowHeader"),o.grid.addRowHeaderColumn(a,-90)}},post:function(e,t,n,i){}}}}}]),e.directive("uiGrid",["uiGridExpandableService","$templateCache",function(e,t){return{replace:!0,priority:599,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,i){i.grid.api.core.on.renderingComplete(e,function(){e.row&&e.row.grid&&e.row.grid.options&&e.row.grid.options.enableExpandable&&(i.grid.parentRow=e.row)})},post:function(e,t,n,i){}}}}}]),e.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$compile","uiGridConstants","gridUtil","$interval","$log",function(e,t,n,i,r,o,a){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function(e,t,i,o){r.getTemplate(e.grid.options.expandableRowTemplate).then(function(i){if(e.grid.options.expandableRowScope){var r=e.grid.options.expandableRowScope;for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}var a=angular.element(i);t.append(a),a=n(a)(e),e.row.expandedRendered=!0})},post:function(e,t,n,i){e.$on("$destroy",function(){e.row.expandedRendered=!1})}}}}}]),e.directive("uiGridRow",["$compile","gridUtil","$templateCache",function(e,t,n){return{priority:-200,scope:!1,compile:function(e,t){return{pre:function(e,t,n,i){e.grid.options.enableExpandable&&(e.expandableRow={},e.expandableRow.shouldRenderExpand=function(){var t="body"===e.colContainer.name&&e.grid.options.enableExpandable!==!1&&e.row.isExpanded&&(!e.grid.isScrollingVertically||e.row.expandedRendered);return t},e.expandableRow.shouldRenderFiller=function(){var t=e.row.isExpanded&&("body"!==e.colContainer.name||e.grid.isScrollingVertically&&!e.row.expandedRendered);return t})},post:function(e,t,n,i){}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,t,n){return{priority:-200,scope:!1,compile:function(e,t){var i=angular.element(e.children().children()[0]),r=n.get("ui-grid/expandableScrollFiller"),o=n.get("ui-grid/expandableRow");return i.append(o),i.append(r),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.exporter",["ui.grid"]);e.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",BUTTON_LABEL:"BUTTON_LABEL",FILE_NAME:"FILE_NAME"}),e.service("uiGridExporterService",["$q","uiGridExporterConstants","gridUtil","$compile","$interval","i18nService",function(e,t,n,i,r,o){var a={delay:100,initializeGrid:function(e){e.exporter={},this.defaultGridOptions(e.options);var t={events:{exporter:{}},methods:{exporter:{csvExport:function(t,n){a.csvExport(e,t,n)},pdfExport:function(t,n){a.pdfExport(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods),e.api.core.addToGridMenu?a.addToMenu(e):r(function(){e.api.core.addToGridMenu&&a.addToMenu(e)},this.delay,1)},defaultGridOptions:function(e){e.exporterSuppressMenu=e.exporterSuppressMenu===!0,e.exporterMenuLabel=e.exporterMenuLabel?e.exporterMenuLabel:"Export",e.exporterSuppressColumns=e.exporterSuppressColumns?e.exporterSuppressColumns:[],e.exporterCsvColumnSeparator=e.exporterCsvColumnSeparator?e.exporterCsvColumnSeparator:",",e.exporterCsvFilename=e.exporterCsvFilename?e.exporterCsvFilename:"download.csv",e.exporterPdfFilename=e.exporterPdfFilename?e.exporterPdfFilename:"download.pdf",e.exporterOlderExcelCompatibility=e.exporterOlderExcelCompatibility===!0,e.exporterIsExcelCompatible=e.exporterIsExcelCompatible===!0,e.exporterMenuItemOrder=e.exporterMenuItemOrder?e.exporterMenuItemOrder:200,e.exporterPdfDefaultStyle=e.exporterPdfDefaultStyle?e.exporterPdfDefaultStyle:{fontSize:11},e.exporterPdfTableStyle=e.exporterPdfTableStyle?e.exporterPdfTableStyle:{margin:[0,5,0,15]},e.exporterPdfTableHeaderStyle=e.exporterPdfTableHeaderStyle?e.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"},e.exporterPdfHeader=e.exporterPdfHeader?e.exporterPdfHeader:null,e.exporterPdfFooter=e.exporterPdfFooter?e.exporterPdfFooter:null,e.exporterPdfOrientation=e.exporterPdfOrientation?e.exporterPdfOrientation:"landscape",e.exporterPdfPageSize=e.exporterPdfPageSize?e.exporterPdfPageSize:"A4",e.exporterPdfMaxGridWidth=e.exporterPdfMaxGridWidth?e.exporterPdfMaxGridWidth:720,e.exporterMenuAllData=void 0===e.exporterMenuAllData||e.exporterMenuAllData,e.exporterMenuVisibleData=void 0===e.exporterMenuVisibleData||e.exporterMenuVisibleData,e.exporterMenuSelectedData=void 0===e.exporterMenuSelectedData||e.exporterMenuSelectedData,e.exporterMenuCsv=void 0===e.exporterMenuCsv||e.exporterMenuCsv,e.exporterMenuPdf=void 0===e.exporterMenuPdf||e.exporterMenuPdf,e.exporterPdfCustomFormatter=e.exporterPdfCustomFormatter&&"function"==typeof e.exporterPdfCustomFormatter?e.exporterPdfCustomFormatter:function(e){return e},e.exporterHeaderFilterUseName=e.exporterHeaderFilterUseName===!0,e.exporterFieldCallback=e.exporterFieldCallback?e.exporterFieldCallback:function(e,t,n,i){return i},e.exporterAllDataFn=e.exporterAllDataFn?e.exporterAllDataFn:null,null==e.exporterAllDataFn&&e.exporterAllDataPromise&&(e.exporterAllDataFn=e.exporterAllDataPromise)},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:o.getSafeText("gridMenu.exporterAllAsCsv"),action:function(e){this.grid.api.exporter.csvExport(t.ALL,t.ALL)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.options.exporterMenuAllData},order:e.options.exporterMenuItemOrder},{title:o.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(e){this.grid.api.exporter.csvExport(t.VISIBLE,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.options.exporterMenuVisibleData},order:e.options.exporterMenuItemOrder+1},{title:o.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(e){this.grid.api.exporter.csvExport(t.SELECTED,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.options.exporterMenuSelectedData&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0},order:e.options.exporterMenuItemOrder+2},{title:o.getSafeText("gridMenu.exporterAllAsPdf"),action:function(e){this.grid.api.exporter.pdfExport(t.ALL,t.ALL)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.options.exporterMenuAllData},order:e.options.exporterMenuItemOrder+3},{title:o.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(e){this.grid.api.exporter.pdfExport(t.VISIBLE,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.options.exporterMenuVisibleData},order:e.options.exporterMenuItemOrder+4},{title:o.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(e){this.grid.api.exporter.pdfExport(t.SELECTED,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.options.exporterMenuSelectedData&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0},order:e.options.exporterMenuItemOrder+5}])},csvExport:function(e,t,n){var i=this;this.loadAllDataIfNeeded(e,t,n).then(function(){var r=e.options.showHeader?i.getColumnHeaders(e,n):[],o=i.getData(e,t,n),a=i.formatAsCsv(r,o,e.options.exporterCsvColumnSeparator);i.downloadFile(e.options.exporterCsvFilename,a,e.options.exporterCsvColumnSeparator,e.options.exporterOlderExcelCompatibility,e.options.exporterIsExcelCompatible)})},loadAllDataIfNeeded:function(n,i,r){if(i===t.ALL&&n.rows.length!==n.options.totalItems&&n.options.exporterAllDataFn)return n.options.exporterAllDataFn().then(function(){n.modifyRows(n.options.data)});var o=e.defer();return o.resolve(),o.promise},getColumnHeaders:function(e,n){var i,r=[];if(n===t.ALL)i=e.columns;else{var o=e.renderContainers.left?e.renderContainers.left.visibleColumnCache.filter(function(e){return e.visible}):[],a=e.renderContainers.body?e.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}):[],s=e.renderContainers.right?e.renderContainers.right.visibleColumnCache.filter(function(e){return e.visible}):[];i=o.concat(a,s)}return i.forEach(function(t,n){t.colDef.exporterSuppressExport!==!0&&e.options.exporterSuppressColumns.indexOf(t.name)===-1&&r.push({name:t.field,displayName:e.options.exporterHeaderFilter?e.options.exporterHeaderFilterUseName?e.options.exporterHeaderFilter(t.name):e.options.exporterHeaderFilter(t.displayName):t.displayName,width:t.drawnWidth?t.drawnWidth:t.width,align:"number"===t.colDef.type?"right":"left"})}),r},getData:function(e,i,r,o){var a,s,l=[];switch(i){case t.ALL:a=e.rows;break;case t.VISIBLE:a=e.getVisibleRows();break;case t.SELECTED:e.api.selection?a=e.api.selection.getSelectedGridRows():n.logError("selection feature must be enabled to allow selected rows to be exported")}if(r===t.ALL)s=e.columns;else{var c=e.renderContainers.left?e.renderContainers.left.visibleColumnCache.filter(function(e){return e.visible}):[],u=e.renderContainers.body?e.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}):[],d=e.renderContainers.right?e.renderContainers.right.visibleColumnCache.filter(function(e){return e.visible}):[];s=c.concat(u,d)}return a.forEach(function(n,i){if(n.exporterEnableExporting!==!1){var a=[];s.forEach(function(i,s){if((i.visible||r===t.ALL)&&i.colDef.exporterSuppressExport!==!0&&e.options.exporterSuppressColumns.indexOf(i.name)===-1){var l=o?e.getCellDisplayValue(n,i):e.getCellValue(n,i),c={value:e.options.exporterFieldCallback(e,n,i,l)};i.colDef.exporterPdfAlign&&(c.alignment=i.colDef.exporterPdfAlign),a.push(c)}}),l.push(a)}}),l},formatAsCsv:function(e,t,n){var i=this,r=e.map(function(e){return{value:e.displayName}}),o=r.length>0?i.formatRowAsCsv(this,n)(r)+"\n":"";return o+=t.map(this.formatRowAsCsv(this,n)).join("\n")},formatRowAsCsv:function(e,t){return function(n){return n.map(e.formatFieldAsCsv).join(t)}},formatFieldAsCsv:function(e){return null==e.value?"":"number"==typeof e.value?e.value:"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?'"'+e.value.replace(/"/g,'""')+'"':JSON.stringify(e.value)},isIE:function(){var e=navigator.userAgent.search(/(?:Edge|MSIE|Trident\/.*; rv:)/),t=!1;return e!==-1&&(t=!0),t},downloadFile:function(e,t,n,i,r){var o,a=document,s=a.createElement("a"),l="application/octet-stream;charset=utf-8",c=this.isIE();if(r&&(t="sep="+n+"\r\n"+t),navigator.msSaveBlob)return navigator.msSaveOrOpenBlob(new Blob([i?"\ufeff":"",t],{type:l}),e);if(c){var u=a.createElement("iframe");return document.body.appendChild(u),u.contentWindow.document.open("text/html","replace"),u.contentWindow.document.write(t),u.contentWindow.document.close(),u.contentWindow.focus(),u.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(u),!0}if("download"in s){var d=new Blob([i?"\ufeff":"",t],{type:l});o=URL.createObjectURL(d),s.setAttribute("download",e)}else o="data:"+l+","+encodeURIComponent(t),s.setAttribute("target","_blank");s.href=o,s.setAttribute("style","display:none;"),a.body.appendChild(s),setTimeout(function(){if(s.click)s.click();else if(document.createEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),s.dispatchEvent(e)}a.body.removeChild(s)},this.delay)},pdfExport:function(e,t,n){var i=this;this.loadAllDataIfNeeded(e,t,n).then(function(){var r=i.getColumnHeaders(e,n),o=i.getData(e,t,n),a=i.prepareAsPdf(e,r,o);i.isIE()||navigator.appVersion.indexOf("Edge")!==-1?i.downloadPDF(e.options.exporterPdfFilename,a):pdfMake.createPdf(a).open()})},downloadPDF:function(e,t){var n,i=document;i.createElement("a");n=this.isIE();var r,o=pdfMake.createPdf(t);o.getBuffer(function(t){if(r=new Blob([t]),navigator.msSaveBlob)return navigator.msSaveBlob(r,e);if(n){var o=i.createElement("iframe");return document.body.appendChild(o),o.contentWindow.document.open("text/html","replace"),
o.contentWindow.document.write(r),o.contentWindow.document.close(),o.contentWindow.focus(),o.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(o),!0}})},prepareAsPdf:function(e,t,n){var i=this.calculatePdfHeaderWidths(e,t),r=t.map(function(e){return{text:e.displayName,style:"tableHeader"}}),o=n.map(this.formatRowAsPdf(this)),a=[r].concat(o),s={pageOrientation:e.options.exporterPdfOrientation,pageSize:e.options.exporterPdfPageSize,content:[{style:"tableStyle",table:{headerRows:1,widths:i,body:a}}],styles:{tableStyle:e.options.exporterPdfTableStyle,tableHeader:e.options.exporterPdfTableHeaderStyle},defaultStyle:e.options.exporterPdfDefaultStyle};return e.options.exporterPdfLayout&&(s.layout=e.options.exporterPdfLayout),e.options.exporterPdfHeader&&(s.header=e.options.exporterPdfHeader),e.options.exporterPdfFooter&&(s.footer=e.options.exporterPdfFooter),e.options.exporterPdfCustomFormatter&&(s=e.options.exporterPdfCustomFormatter(s)),s},calculatePdfHeaderWidths:function(e,t){var n=0;t.forEach(function(e){"number"==typeof e.width&&(n+=e.width)});var i=0;t.forEach(function(e){if("*"===e.width&&(i+=100),"string"==typeof e.width&&e.width.match(/(\d)*%/)){var t=parseInt(e.width.match(/(\d)*%/)[0]);e.width=n*t/100,i+=e.width}});var r=n+i;return t.map(function(t){return"*"===t.width?t.width:t.width*e.options.exporterPdfMaxGridWidth/r})},formatRowAsPdf:function(e){return function(t){return t.map(e.formatFieldAsPdfString)}},formatFieldAsPdfString:function(e){var t;return t=null==e.value?"":"number"==typeof e.value?e.value.toString():"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?e.value.replace(/"/g,'""'):JSON.stringify(e.value).replace(/^"/,"").replace(/"$/,""),e.alignment&&"string"==typeof e.alignment&&(t={text:t,alignment:e.alignment}),t}};return a}]),e.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(e,t,n,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,i,r){t.initializeGrid(r.grid),r.grid.exporter.$scope=e}}}])}(),function(){"use strict";var e=angular.module("ui.grid.grouping",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridGroupingConstants",{featureName:"grouping",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridGroupingService",["$q","uiGridGroupingConstants","gridUtil","rowSorter","GridRow","gridClassFactory","i18nService","uiGridConstants","uiGridTreeBaseService",function(e,t,n,i,r,o,a,s,l){var c={initializeGrid:function(e,t){l.initializeGrid(e,t),e.grouping={},e.grouping.groupHeaderCache={},c.defaultGridOptions(e.options),e.registerRowsProcessor(c.groupRows,400),e.registerColumnBuilder(c.groupingColumnBuilder),e.registerColumnsProcessor(c.groupingColumnProcessor,400);var n={events:{grouping:{aggregationChanged:{},groupingChanged:{}}},methods:{grouping:{getGrouping:function(t){var n=c.getGrouping(e);return n.grouping.forEach(function(e){e.colName=e.col.name,delete e.col}),n.aggregations.forEach(function(e){e.colName=e.col.name,delete e.col}),n.aggregations=n.aggregations.filter(function(e){return!e.aggregation.source||"grouping"!==e.aggregation.source}),t&&(n.rowExpandedStates=c.getRowExpandedStates(e.grouping.groupingHeaderCache)),n},setGrouping:function(t){c.setGrouping(e,t)},groupColumn:function(t){var n=e.getColumn(t);c.groupColumn(e,n)},ungroupColumn:function(t){var n=e.getColumn(t);c.ungroupColumn(e,n)},clearGrouping:function(){c.clearGrouping(e)},aggregateColumn:function(t,n,i){var r=e.getColumn(t);c.aggregateColumn(e,r,n,i)}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods),e.api.core.on.sortChanged(t,c.tidyPriorities)},defaultGridOptions:function(e){e.enableGrouping=e.enableGrouping!==!1,e.groupingShowCounts=e.groupingShowCounts!==!1,e.groupingNullLabel="undefined"==typeof e.groupingNullLabel?"Null":e.groupingNullLabel,e.enableGroupHeaderSelection=e.enableGroupHeaderSelection===!0},groupingColumnBuilder:function(e,i,r){if(e.enableGrouping!==!1){"undefined"==typeof i.grouping&&"undefined"!=typeof e.grouping?(i.grouping=angular.copy(e.grouping),"undefined"!=typeof i.grouping.groupPriority&&i.grouping.groupPriority>-1&&(i.treeAggregationFn=l.nativeAggregations()[t.aggregation.COUNT].aggregationFn,i.treeAggregationFinalizerFn=c.groupedFinalizerFn)):"undefined"==typeof i.grouping&&(i.grouping={}),"undefined"!=typeof i.grouping&&"undefined"!=typeof i.grouping.groupPriority&&i.grouping.groupPriority>=0&&(i.suppressRemoveSort=!0);var o={name:"ui.grid.grouping.group",title:a.get().grouping.group,icon:"ui-grid-icon-indent-right",shown:function(){return"undefined"==typeof this.context.col.grouping||"undefined"==typeof this.context.col.grouping.groupPriority||this.context.col.grouping.groupPriority<0},action:function(){c.groupColumn(this.context.col.grid,this.context.col)}},s={name:"ui.grid.grouping.ungroup",title:a.get().grouping.ungroup,icon:"ui-grid-icon-indent-left",shown:function(){return"undefined"!=typeof this.context.col.grouping&&"undefined"!=typeof this.context.col.grouping.groupPriority&&this.context.col.grouping.groupPriority>=0},action:function(){c.ungroupColumn(this.context.col.grid,this.context.col)}},u={name:"ui.grid.grouping.aggregateRemove",title:a.get().grouping.aggregate_remove,shown:function(){return"undefined"!=typeof this.context.col.treeAggregationFn},action:function(){c.aggregateColumn(this.context.col.grid,this.context.col,null)}},d=function(e,t){t=t||a.get().grouping["aggregate_"+e]||e;var r={name:"ui.grid.grouping.aggregate"+e,title:t,shown:function(){return"undefined"==typeof this.context.col.treeAggregation||"undefined"==typeof this.context.col.treeAggregation.type||this.context.col.treeAggregation.type!==e},action:function(){c.aggregateColumn(this.context.col.grid,this.context.col,e)}};n.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.grouping.aggregate"+e)||i.menuItems.push(r)};i.colDef.groupingShowGroupingMenu!==!1&&(n.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.grouping.group")||i.menuItems.push(o),n.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.grouping.ungroup")||i.menuItems.push(s)),i.colDef.groupingShowAggregationMenu!==!1&&(angular.forEach(l.nativeAggregations(),function(e,t){d(t)}),angular.forEach(r.treeCustomAggregations,function(e,t){d(t,e.menuTitle)}),n.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.grouping.aggregateRemove")||i.menuItems.push(u))}},groupingColumnProcessor:function(e,t){return e=c.moveGroupColumns(this,e,t)},groupedFinalizerFn:function(e){var t=this;"undefined"!=typeof e.groupVal?(e.rendered=e.groupVal,t.grid.options.groupingShowCounts&&"date"!==t.colDef.type&&"object"!==t.colDef.type&&(e.rendered+=" ("+e.value+")")):e.rendered=null},moveGroupColumns:function(e,t,n){return e.options.moveGroupColumns===!1?t:(t.forEach(function(e,t){e.groupingPosition=t}),t.sort(function(e,t){var n,i;return n=e.isRowHeader?e.headerPriority:"undefined"==typeof e.grouping||"undefined"==typeof e.grouping.groupPriority||e.grouping.groupPriority<0?null:e.grouping.groupPriority,i=t.isRowHeader?t.headerPriority:"undefined"==typeof t.grouping||"undefined"==typeof t.grouping.groupPriority||t.grouping.groupPriority<0?null:t.grouping.groupPriority,null!==n&&null===i?-1:null!==i&&null===n?1:null!==n&&null!==i?n-i:e.groupingPosition-t.groupingPosition}),t.forEach(function(e,t){delete e.groupingPosition}),t)},groupColumn:function(e,n){"undefined"==typeof n.grouping&&(n.grouping={});var i=c.getGrouping(e);n.grouping.groupPriority=i.grouping.length,n.previousSort=angular.copy(n.sort),n.sort?"undefined"!=typeof n.sort.direction&&null!==n.sort.direction||(n.sort.direction=s.ASC):n.sort={direction:s.ASC},n.treeAggregation={type:t.aggregation.COUNT,source:"grouping"},n.treeAggregationFn=l.nativeAggregations()[t.aggregation.COUNT].aggregationFn,n.treeAggregationFinalizerFn=c.groupedFinalizerFn,e.api.grouping.raise.groupingChanged(n),e.api.core.raise.sortChanged(e,e.getColumnSorting()),e.queueGridRefresh()},ungroupColumn:function(e,t){"undefined"!=typeof t.grouping&&(delete t.grouping.groupPriority,delete t.treeAggregation,delete t.customTreeAggregationFinalizer,t.previousSort&&(t.sort=t.previousSort,delete t.previousSort),c.tidyPriorities(e),e.api.grouping.raise.groupingChanged(t),e.api.core.raise.sortChanged(e,e.getColumnSorting()),e.queueGridRefresh())},aggregateColumn:function(e,t,n){"undefined"!=typeof t.grouping&&"undefined"!=typeof t.grouping.groupPriority&&t.grouping.groupPriority>=0&&c.ungroupColumn(e,t);var i={};"undefined"!=typeof e.options.treeCustomAggregations[n]?i=e.options.treeCustomAggregations[n]:"undefined"!=typeof l.nativeAggregations()[n]&&(i=l.nativeAggregations()[n]),t.treeAggregation={type:n,label:a.get().aggregation[i.label]||i.label},t.treeAggregationFn=i.aggregationFn,t.treeAggregationFinalizerFn=i.finalizerFn,e.api.grouping.raise.aggregationChanged(t),e.queueGridRefresh()},setGrouping:function(e,t){"undefined"!=typeof t&&(c.clearGrouping(e),t.grouping&&t.grouping.length&&t.grouping.length>0&&t.grouping.forEach(function(t){var n=e.getColumn(t.colName);n&&c.groupColumn(e,n)}),t.aggregations&&t.aggregations.length&&t.aggregations.forEach(function(t){var n=e.getColumn(t.colName);n&&c.aggregateColumn(e,n,t.aggregation.type)}),t.rowExpandedStates&&c.applyRowExpandedStates(e.grouping.groupingHeaderCache,t.rowExpandedStates))},clearGrouping:function(e){var t=c.getGrouping(e);t.grouping.length>0&&t.grouping.forEach(function(t){t.col||(t.col=e.getColumn(t.colName)),c.ungroupColumn(e,t.col)}),t.aggregations.length>0&&t.aggregations.forEach(function(t){t.col||(t.col=e.getColumn(t.colName)),c.aggregateColumn(e,t.col,null)})},tidyPriorities:function(e){"undefined"!=typeof e&&"undefined"==typeof e.grid||"undefined"==typeof this.grid||(e=this.grid);var t=[],n=[];e.columns.forEach(function(e,i){"undefined"!=typeof e.grouping&&"undefined"!=typeof e.grouping.groupPriority&&e.grouping.groupPriority>=0?t.push(e):"undefined"!=typeof e.sort&&"undefined"!=typeof e.sort.priority&&e.sort.priority>=0&&n.push(e)}),t.sort(function(e,t){return e.grouping.groupPriority-t.grouping.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.suppressRemoveSort=!0,"undefined"==typeof e.sort&&(e.sort={}),e.sort.priority=t});var i=t.length;n.sort(function(e,t){return e.sort.priority-t.sort.priority}),n.forEach(function(e,t){e.sort.priority=i,e.suppressRemoveSort=e.colDef.suppressRemoveSort,i++})},groupRows:function(e){if(0===e.length)return e;var t=this;t.grouping.oldGroupingHeaderCache=t.grouping.groupingHeaderCache||{},t.grouping.groupingHeaderCache={};for(var n=c.initialiseProcessingState(t),r=function(r,s){var l=t.getCellValue(a,r.col);r.initialised&&0===i.getSortFn(t,r.col,e)(l,r.currentValue)||(c.insertGroupHeader(t,e,o,n,s),o++)},o=0;o<e.length;o++){var a=e[o];a.visible&&n.forEach(r)}return delete t.grouping.oldGroupingHeaderCache,e},initialiseProcessingState:function(e){var t=[],n=c.getGrouping(e);return n.grouping.forEach(function(e,n){t.push({fieldName:e.field,col:e.col,initialised:!1,currentValue:null,currentRow:null})}),t},getGrouping:function(e){var t=[],n=[];return e.columns.forEach(function(e,i){e.grouping&&"undefined"!=typeof e.grouping.groupPriority&&e.grouping.groupPriority>=0&&t.push({field:e.field,col:e,groupPriority:e.grouping.groupPriority,grouping:e.grouping}),e.treeAggregation&&e.treeAggregation.type&&n.push({field:e.field,col:e,aggregation:e.treeAggregation})}),t.sort(function(e,t){return e.groupPriority-t.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.groupPriority=t,delete e.grouping}),{grouping:t,aggregations:n}},insertGroupHeader:function(e,t,n,i,a){var s=(i[a].fieldName,i[a].col),l=e.getCellValue(t[n],s),u=l;"undefined"!=typeof l&&null!==l||(u=e.options.groupingNullLabel);for(var d=function(e){return angular.isObject(e)?JSON.stringify(e):e},h=e.grouping.oldGroupingHeaderCache,m=0;m<a;m++)h&&h[d(i[m].currentValue)]&&(h=h[d(i[m].currentValue)].children);var p;for(h&&h[d(l)]?(p=h[d(l)].row,p.entity={}):(p=new r({},null,e),o.rowTemplateAssigner.call(e,p)),p.entity["$$"+i[a].col.uid]={groupVal:u},p.treeLevel=a,p.groupHeader=!0,p.internalRow=!0,p.enableCellEdit=!1,p.enableSelection=e.options.enableGroupHeaderSelection,i[a].initialised=!0,i[a].currentValue=l,i[a].currentRow=p,c.finaliseProcessingState(i,a+1),t.splice(n,0,p),h=e.grouping.groupingHeaderCache,m=0;m<a;m++)h=h[d(i[m].currentValue)].children;h[d(l)]={row:p,children:{}}},finaliseProcessingState:function(e,t){for(var n=t;n<e.length;n++)e[n].initialised=!1,e[n].currentRow=null,e[n].currentValue=null},getRowExpandedStates:function(e){if("undefined"==typeof e)return{};var t={};return angular.forEach(e,function(e,n){t[n]={state:e.row.treeNode.state},e.children?t[n].children=c.getRowExpandedStates(e.children):t[n].children={}}),t},applyRowExpandedStates:function(e,t){"undefined"!=typeof t&&angular.forEach(t,function(t,n){e[n]&&(e[n].row.treeNode.state=t.state,t.children&&e[n].children&&c.applyRowExpandedStates(e[n].children,t.children))})}};return c}]),e.directive("uiGridGrouping",["uiGridGroupingConstants","uiGridGroupingService","$templateCache",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){r.grid.options.enableGrouping!==!1&&t.initializeGrid(r.grid,e)},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.importer",["ui.grid"]);e.constant("uiGridImporterConstants",{featureName:"importer"}),e.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function(e,t,n,i,r,o,a,s){var l={initializeGrid:function(e,t){t.importer={$scope:e},this.defaultGridOptions(t.options);var n={events:{importer:{}},methods:{importer:{importFile:function(e){l.importThisFile(t,e)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.options.enableImporter&&t.options.importerShowMenu&&(t.api.core.addToGridMenu?l.addToMenu(t):o(function(){t.api.core.addToGridMenu&&l.addToMenu(t)},100,1))},defaultGridOptions:function(e){e.enableImporter||void 0===e.enableImporter?s.hasOwnProperty("File")&&s.hasOwnProperty("FileReader")&&s.hasOwnProperty("FileList")&&s.hasOwnProperty("Blob")?e.enableImporter=!0:(i.logError("The File APIs are not fully supported in this browser, grid importer cannot be used."),e.enableImporter=!1):e.enableImporter=!1,e.importerProcessHeaders=e.importerProcessHeaders||l.processHeaders,e.importerHeaderFilter=e.importerHeaderFilter||function(e){return e},e.importerErrorCallback&&"function"==typeof e.importerErrorCallback||delete e.importerErrorCallback,e.enableImporter!==!0||e.importerDataAddCallback||(i.logError("You have not set an importerDataAddCallback, importer is disabled"),e.enableImporter=!1),e.importerShowMenu=e.importerShowMenu!==!1,e.importerObjectCallback=e.importerObjectCallback||function(e,t){return t}},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:a.getSafeText("gridMenu.importerTitle"),order:150},{templateUrl:"ui-grid/importerMenuItemContainer",action:function(t){this.grid.api.importer.importAFile(e)},order:151}])},importThisFile:function(e,t){if(!t)return void i.logError("No file object provided to importThisFile, should be impossible, aborting");var n=new FileReader;switch(t.type){case"application/json":n.onload=l.importJsonClosure(e);break;default:n.onload=l.importCsvClosure(e)}n.readAsText(t)},importJsonClosure:function(e){return function(t){var n,i=[],r=l.parseJson(e,t);null!==r&&(r.forEach(function(t,r){n=l.newObject(e),angular.extend(n,t),n=e.options.importerObjectCallback(e,n),i.push(n)}),l.addObjects(e,i))}},parseJson:function(e,t){var n;try{n=JSON.parse(t.target.result)}catch(n){return void l.alertError(e,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",t.target.result)}return Array.isArray(n)?n:(l.alertError(e,"importer.jsonNotarray","Import failed, file is not an array, file was: ",t.target.result),[])},importCsvClosure:function(e){return function(t){var n=l.parseCsv(t);if(!n||n.length<1)return void l.alertError(e,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",t.target.result);var i=l.createCsvObjects(e,n);return i&&0!==i.length?void l.addObjects(e,i):void l.alertError(e,"importer.noObjects","Objects were not able to be derived, content was: ",t.target.result)}},parseCsv:function(e){var t=e.target.result;return CSV.parse(t)},createCsvObjects:function(e,t){var n=e.options.importerProcessHeaders(e,t.shift());if(!n||0===n.length)return l.alertError(e,"importer.noHeaders","Column names could not be derived, content was: ",t),[];var i,r=[];return t.forEach(function(t,o){i=l.newObject(e),null!==t&&t.forEach(function(e,t){null!==n[t]&&(i[n[t]]=e)}),i=e.options.importerObjectCallback(e,i),r.push(i)}),r},processHeaders:function(e,t){var n=[];if(e.options.columnDefs&&0!==e.options.columnDefs.length){var i=l.flattenColumnDefs(e,e.options.columnDefs);return t.forEach(function(e,t){i[e]?n.push(i[e]):i[e.toLowerCase()]?n.push(i[e.toLowerCase()]):n.push(null)}),n}return t.forEach(function(e,t){n.push(e.replace(/[^0-9a-zA-Z\-_]/g,"_"))}),n},flattenColumnDefs:function(e,t){var n={};return t.forEach(function(t,i){t.name&&(n[t.name]=t.field||t.name,n[t.name.toLowerCase()]=t.field||t.name),t.field&&(n[t.field]=t.field||t.name,n[t.field.toLowerCase()]=t.field||t.name),t.displayName&&(n[t.displayName]=t.field||t.name,n[t.displayName.toLowerCase()]=t.field||t.name),t.displayName&&e.options.importerHeaderFilter&&(n[e.options.importerHeaderFilter(t.displayName)]=t.field||t.name,n[e.options.importerHeaderFilter(t.displayName).toLowerCase()]=t.field||t.name)}),n},addObjects:function(e,n,i){if(e.api.rowEdit){var r=e.registerDataChangeCallback(function(){e.api.rowEdit.setRowsDirty(n),r()},[t.dataChange.ROW]);e.importer.$scope.$on("$destroy",r)}e.importer.$scope.$apply(e.options.importerDataAddCallback(e,n))},newObject:function(e){return"undefined"!=typeof e.options&&"undefined"!=typeof e.options.importerNewObject?new e.options.importerNewObject:{}},alertError:function(e,t,n,r){e.options.importerErrorCallback?e.options.importerErrorCallback(e,t,n,r):(s.alert(a.getSafeText(t)),i.logError(n+r))}};return l}]),e.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t,n,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,i,r){t.initializeGrid(e,r.grid)}}}]),e.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t,n,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,templateUrl:"ui-grid/importerMenuItem",link:function(e,i,r,o){var a=function(e){var n=e.srcElement||e.target;if(n&&n.files&&1===n.files.length){var i=n.files[0];t.importThisFile(l,i),n.form.reset()}},s=i[0].querySelectorAll(".ui-grid-importer-file-chooser"),l=o.grid;1!==s.length?n.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue"):s[0].addEventListener("change",a,!1)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.infiniteScroll",["ui.grid"]);e.service("uiGridInfiniteScrollService",["gridUtil","$compile","$timeout","uiGridConstants","ScrollEvent","$q",function(e,t,n,i,r,o){var a={initializeGrid:function(e,t){if(a.defaultGridOptions(e.options),e.options.enableInfiniteScroll){e.infiniteScroll={dataLoading:!1},a.setScrollDirections(e,e.options.infiniteScrollUp,e.options.infiniteScrollDown),e.api.core.on.scrollEnd(t,a.handleScroll);var n={events:{infiniteScroll:{needLoadMoreData:function(e,t){},needLoadMoreDataTop:function(e,t){}}},methods:{infiniteScroll:{dataLoaded:function(t,n){a.setScrollDirections(e,t,n);var i=a.adjustScroll(e).then(function(){e.infiniteScroll.dataLoading=!1});return i},resetScroll:function(t,n){a.setScrollDirections(e,t,n),a.adjustInfiniteScrollPosition(e,0)},saveScrollPercentage:function(){e.infiniteScroll.prevScrollTop=e.renderContainers.body.prevScrollTop,e.infiniteScroll.previousVisibleRows=e.getVisibleRowCount()},dataRemovedTop:function(t,n){a.dataRemovedTop(e,t,n)},dataRemovedBottom:function(t,n){a.dataRemovedBottom(e,t,n)},setScrollDirections:function(t,n){a.setScrollDirections(e,t,n)}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)}},defaultGridOptions:function(e){e.enableInfiniteScroll=e.enableInfiniteScroll!==!1,e.infiniteScrollRowsFromEnd=e.infiniteScrollRowsFromEnd||20,e.infiniteScrollUp=e.infiniteScrollUp===!0,e.infiniteScrollDown=e.infiniteScrollDown!==!1},setScrollDirections:function(e,t,n){e.infiniteScroll.scrollUp=t===!0,e.suppressParentScrollUp=t===!0,e.infiniteScroll.scrollDown=n!==!1,e.suppressParentScrollDown=n!==!1},handleScroll:function(e){if(!(e.grid.infiniteScroll&&e.grid.infiniteScroll.dataLoading||"ui.grid.adjustInfiniteScrollPosition"===e.source)&&e.y)if(0===e.y.percentage)e.grid.scrollDirection=i.scrollDirection.UP,a.loadData(e.grid);else if(1===e.y.percentage)e.grid.scrollDirection=i.scrollDirection.DOWN,a.loadData(e.grid);else{var t,n=e.grid.options.infiniteScrollRowsFromEnd/e.grid.renderContainers.body.visibleRowCache.length;e.grid.scrollDirection===i.scrollDirection.UP?(t=e.y.percentage,t<=n&&a.loadData(e.grid)):e.grid.scrollDirection===i.scrollDirection.DOWN&&(t=1-e.y.percentage,t<=n&&a.loadData(e.grid))}},loadData:function(e){e.infiniteScroll.previousVisibleRows=e.renderContainers.body.visibleRowCache.length,e.infiniteScroll.direction=e.scrollDirection,delete e.infiniteScroll.prevScrollTop,e.scrollDirection===i.scrollDirection.UP&&e.infiniteScroll.scrollUp?(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreDataTop()):e.scrollDirection===i.scrollDirection.DOWN&&e.infiniteScroll.scrollDown&&(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreData())},adjustScroll:function(e){var t=o.defer();return n(function(){var r,o,s,l,c;r=e.getViewportHeight()+e.headerHeight-e.renderContainers.body.headerHeight-e.scrollbarHeight,o=e.options.rowHeight,void 0===e.infiniteScroll.direction&&a.adjustInfiniteScrollPosition(e,0),s=e.getVisibleRowCount();var u=o*s;e.infiniteScroll.scrollDown&&r>u&&e.api.infiniteScroll.raise.needLoadMoreData(),e.infiniteScroll.direction===i.scrollDirection.UP&&(l=e.infiniteScroll.prevScrollTop||0,c=l+(s-e.infiniteScroll.previousVisibleRows)*o,a.adjustInfiniteScrollPosition(e,c),n(function(){t.resolve()})),e.infiniteScroll.direction===i.scrollDirection.DOWN&&(c=e.infiniteScroll.prevScrollTop||e.infiniteScroll.previousVisibleRows*o-r,a.adjustInfiniteScrollPosition(e,c),n(function(){t.resolve()}))},0),t.promise},adjustInfiniteScrollPosition:function(e,t){var n=new r(e,null,null,"ui.grid.adjustInfiniteScrollPosition"),i=e.getVisibleRowCount(),o=e.getViewportHeight()+e.headerHeight-e.renderContainers.body.headerHeight-e.scrollbarHeight,a=e.options.rowHeight,s=i*a-o;0===t&&e.infiniteScroll.scrollUp?n.y={percentage:1/s}:n.y={percentage:t/s},e.scrollContainers("",n)},dataRemovedTop:function(e,t,n){var i,r,o,s;a.setScrollDirections(e,t,n),i=e.renderContainers.body.visibleRowCache.length,r=e.infiniteScroll.prevScrollTop,s=e.options.rowHeight,o=r-(e.infiniteScroll.previousVisibleRows-i)*s,a.adjustInfiniteScrollPosition(e,o)},dataRemovedBottom:function(e,t,n){var i;a.setScrollDirections(e,t,n),i=e.infiniteScroll.prevScrollTop,a.adjustInfiniteScrollPosition(e,i)}};return a}]),e.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(e){return{priority:-200,scope:!1,require:"^uiGrid",compile:function(t,n,i){return{pre:function(t,n,i,r){e.initializeGrid(r.grid,t)},post:function(e,t,n){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.moveColumns",["ui.grid"]);e.service("uiGridMoveColumnService",["$q","$timeout","$log","ScrollEvent","uiGridConstants","gridUtil",function(e,t,n,i,r,o){var a={initializeGrid:function(e){var t=this;this.registerPublicApi(e),this.defaultGridOptions(e.options),e.moveColumns={orderCache:[]},e.registerColumnBuilder(t.movableColumnBuilder),e.registerDataChangeCallback(t.verifyColumnOrder,[r.dataChange.COLUMN])},registerPublicApi:function(e){var t=this,n={events:{colMovable:{columnPositionChanged:function(e,t,n){}}},methods:{colMovable:{moveColumn:function(n,i){var r=e.columns;if(!angular.isNumber(n)||!angular.isNumber(i))return void o.logError("MoveColumn: Please provide valid values for originalPosition and finalPosition");for(var a=0,s=0;s<r.length;s++)(angular.isDefined(r[s].colDef.visible)&&r[s].colDef.visible===!1||r[s].isRowHeader===!0)&&a++;if(n>=r.length-a||i>=r.length-a)return void o.logError("MoveColumn: Invalid values for originalPosition, finalPosition");var l=function(e){for(var t=e,n=0;n<=t;n++)angular.isDefined(r[n])&&(angular.isDefined(r[n].colDef.visible)&&r[n].colDef.visible===!1||r[n].isRowHeader===!0)&&t++;return t};t.redrawColumnAtPosition(e,l(n),l(i))}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.enableColumnMoving=e.enableColumnMoving!==!1},movableColumnBuilder:function(t,n,i){var r=[];return t.enableColumnMoving=void 0===t.enableColumnMoving?i.enableColumnMoving:t.enableColumnMoving,e.all(r)},updateColumnCache:function(e){e.moveColumns.orderCache=e.getOnlyDataColumns()},verifyColumnOrder:function(e){var t,n=e.rowHeaderColumns.length;angular.forEach(e.moveColumns.orderCache,function(i,r){if(t=e.columns.indexOf(i),t!==-1&&t-n!==r){var o=e.columns.splice(t,1)[0];e.columns.splice(r+n,0,o)}})},redrawColumnAtPosition:function(e,n,i){var o=e.columns;if(n!==i){var s=n<i?n+1:n-1,l=Math.min(s,i);for(l;l<=Math.max(s,i)&&!o[l].visible;l++);if(!(l>Math.max(s,i))){var c=o[n];if(c.colDef.enableColumnMoving){if(n>i)for(var u=n;u>i;u--)o[u]=o[u-1];else if(i>n)for(var d=n;d<i;d++)o[d]=o[d+1];o[i]=c,a.updateColumnCache(e),e.queueGridRefresh(),t(function(){e.api.core.notifyDataChange(r.dataChange.COLUMN),e.api.colMovable.raise.columnPositionChanged(c.colDef,n,i)})}}}}};return a}]),e.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(e){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,n,i,r){e.initializeGrid(r.grid)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","$document","$log","uiGridConstants","ScrollEvent",function(e,t,n,i,r,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,t,r,o){if(e.col.colDef.enableColumnMoving){var s,l,c,u,d,h,m=angular.element(t[0].querySelectorAll(".ui-grid-cell-contents")),p=!1,f=!1,g=function(t){s=e.grid.element[0].getBoundingClientRect().left,e.grid.hasLeftContainer()&&(s+=e.grid.renderContainers.left.header[0].getBoundingClientRect().width),l=t.pageX||(t.originalEvent?t.originalEvent.pageX:0),c=0,u=s+e.grid.getViewportWidth(),"mousedown"===t.type?(i.on("mousemove",v),i.on("mouseup",y)):"touchstart"===t.type&&(i.on("touchmove",v),i.on("touchend",y))},v=function(e){var t=e.pageX||(e.originalEvent?e.originalEvent.pageX:0),n=t-l;0!==n&&(document.onselectstart=function(){return!1},f=!0,p?p&&(x(n),l=t):w())},y=function(t){if(document.onselectstart=null,d&&(d.remove(),p=!1),_(),b(),f){for(var i=e.grid.columns,r=0,o=0;o<i.length&&i[o].colDef.name!==e.col.colDef.name;o++)r++;var a;if(c<0){var s,l=0;if(e.grid.isRTL()){for(s=r+1;s<i.length;s++)if((angular.isUndefined(i[s].colDef.visible)||i[s].colDef.visible===!0)&&(l+=i[s].drawnWidth||i[s].width||i[s].colDef.width,l>Math.abs(c))){n.redrawColumnAtPosition(e.grid,r,s-1);break}}else for(s=r-1;s>=0;s--)if((angular.isUndefined(i[s].colDef.visible)||i[s].colDef.visible===!0)&&(l+=i[s].drawnWidth||i[s].width||i[s].colDef.width,l>Math.abs(c))){n.redrawColumnAtPosition(e.grid,r,s+1);break}l<Math.abs(c)&&(a=0,e.grid.isRTL()&&(a=i.length-1),n.redrawColumnAtPosition(e.grid,r,a))}else if(c>0){var u,h=0;if(e.grid.isRTL()){for(u=r-1;u>0;u--)if((angular.isUndefined(i[u].colDef.visible)||i[u].colDef.visible===!0)&&(h+=i[u].drawnWidth||i[u].width||i[u].colDef.width,h>c)){n.redrawColumnAtPosition(e.grid,r,u);break}}else for(u=r+1;u<i.length;u++)if((angular.isUndefined(i[u].colDef.visible)||i[u].colDef.visible===!0)&&(h+=i[u].drawnWidth||i[u].width||i[u].colDef.width,h>c)){n.redrawColumnAtPosition(e.grid,r,u-1);break}h<c&&(a=i.length-1,e.grid.isRTL()&&(a=0),n.redrawColumnAtPosition(e.grid,r,a))}}},b=function(){m.on("touchstart",g),m.on("mousedown",g)},_=function(){m.off("touchstart",g),m.off("mousedown",g),i.off("mousemove",v),i.off("touchmove",v),i.off("mouseup",y),i.off("touchend",y)};b();var w=function(){p=!0,d=t.clone(),t.parent().append(d),d.addClass("movingColumn");var n={};n.left=t[0].offsetLeft+"px";var i=e.grid.element[0].getBoundingClientRect().right,r=t[0].getBoundingClientRect().right;r>i&&(h=e.col.drawnWidth+(i-r),n.width=h+"px"),d.css(n)},x=function(t){for(var n=e.grid.columns,i=0,r=0;r<n.length;r++)(angular.isUndefined(n[r].colDef.visible)||n[r].colDef.visible===!0)&&(i+=n[r].drawnWidth||n[r].width||n[r].colDef.width);var l,m=d[0].getBoundingClientRect().left-1,p=d[0].getBoundingClientRect().right;if(l=m-s+t,l=l<u?l:u,(m>=s||t>0)&&(p<=u||t<0))d.css({visibility:"visible",left:d[0].offsetLeft+(l<u?t:u-m)+"px"});else if(i>Math.ceil(o.grid.gridWidth)){t*=8;var f=new a(e.col.grid,null,null,"uiGridHeaderCell.moveElement");f.x={pixels:t},f.grid.scrollContainers("",f)}for(var g=0,v=0;v<n.length;v++)if(angular.isUndefined(n[v].colDef.visible)||n[v].colDef.visible===!0){if(n[v].colDef.name===e.col.colDef.name)break;g+=n[v].drawnWidth||n[v].width||n[v].colDef.width}void 0===e.newScrollLeft?c+=t:c=e.newScrollLeft+l-g,h<e.col.drawnWidth&&(h+=Math.abs(t),d.css({width:h+"px"}))};e.$on("$destroy",_)}}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pagination",["ng","ui.grid"]);e.service("uiGridPaginationService",["gridUtil",function(e){var t={initializeGrid:function(e){t.defaultGridOptions(e.options);var n={events:{pagination:{paginationChanged:function(e,t){}}},methods:{pagination:{getPage:function(){return e.options.enablePagination?e.options.paginationCurrentPage:null},getFirstRowIndex:function(){return e.options.useCustomPagination?e.options.paginationPageSizes.reduce(function(t,n,i){return i<e.options.paginationCurrentPage-1?t+n:t},0):(e.options.paginationCurrentPage-1)*e.options.paginationPageSize},getLastRowIndex:function(){return e.options.useCustomPagination?n.methods.pagination.getFirstRowIndex()+e.options.paginationPageSizes[e.options.paginationCurrentPage-1]:Math.min(e.options.paginationCurrentPage*e.options.paginationPageSize,e.options.totalItems)},getTotalPages:function(){return e.options.enablePagination?e.options.useCustomPagination?e.options.paginationPageSizes.length:0===e.options.totalItems?1:Math.ceil(e.options.totalItems/e.options.paginationPageSize):null},nextPage:function(){e.options.enablePagination&&(e.options.totalItems>0?e.options.paginationCurrentPage=Math.min(e.options.paginationCurrentPage+1,n.methods.pagination.getTotalPages()):e.options.paginationCurrentPage++)},previousPage:function(){e.options.enablePagination&&(e.options.paginationCurrentPage=Math.max(e.options.paginationCurrentPage-1,1))},seek:function(t){if(e.options.enablePagination){if(!angular.isNumber(t)||t<1)throw"Invalid page number: "+t;e.options.paginationCurrentPage=Math.min(t,n.methods.pagination.getTotalPages())}}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods);var i=function(t){if(e.options.useExternalPagination||!e.options.enablePagination)return t;var i=parseInt(e.options.paginationPageSize,10),r=parseInt(e.options.paginationCurrentPage,10),o=t.filter(function(e){return e.visible});e.options.totalItems=o.length;var a=n.methods.pagination.getFirstRowIndex(),s=n.methods.pagination.getLastRowIndex();return a>o.length&&(r=e.options.paginationCurrentPage=1,
a=(r-1)*i),o.slice(a,s)};e.registerRowsProcessor(i,900)},defaultGridOptions:function(t){t.enablePagination=t.enablePagination!==!1,t.enablePaginationControls=t.enablePaginationControls!==!1,t.useExternalPagination=t.useExternalPagination===!0,t.useCustomPagination=t.useCustomPagination===!0,e.isNullOrUndefined(t.totalItems)&&(t.totalItems=0),e.isNullOrUndefined(t.paginationPageSizes)&&(t.paginationPageSizes=[250,500,1e3]),e.isNullOrUndefined(t.paginationPageSize)&&(t.paginationPageSizes.length>0?t.paginationPageSize=t.paginationPageSizes[0]:t.paginationPageSize=0),e.isNullOrUndefined(t.paginationCurrentPage)&&(t.paginationCurrentPage=1),e.isNullOrUndefined(t.paginationTemplate)&&(t.paginationTemplate="ui-grid/pagination")},onPaginationChanged:function(e,t,n){e.api.pagination.raise.paginationChanged(t,n),e.options.useExternalPagination||e.queueGridRefresh()}};return t}]),e.directive("uiGridPagination",["gridUtil","uiGridPaginationService",function(e,t){return{priority:-200,scope:!1,require:"uiGrid",link:{pre:function(n,i,r,o){t.initializeGrid(o.grid),e.getTemplate(o.grid.options.paginationTemplate).then(function(e){var t=angular.element(e);i.append(t),o.innerCompile(t)})}}}}]),e.directive("uiGridPager",["uiGridPaginationService","uiGridConstants","gridUtil","i18nService",function(e,t,n,i){return{priority:-200,scope:!0,require:"^uiGrid",link:function(r,o,a,s){var l=".ui-grid-pager-control-input";r.aria=i.getSafeText("pagination.aria"),r.paginationApi=s.grid.api.pagination,r.sizesLabel=i.getSafeText("pagination.sizes"),r.totalItemsLabel=i.getSafeText("pagination.totalItems"),r.paginationOf=i.getSafeText("pagination.of"),r.paginationThrough=i.getSafeText("pagination.through");var c=s.grid.options;s.grid.renderContainers.body.registerViewportAdjuster(function(e){return e.height=e.height-n.elementHeight(o,"padding"),e});var u=s.grid.registerDataChangeCallback(function(e){e.options.useExternalPagination||(e.options.totalItems=e.rows.length)},[t.dataChange.ROW]);r.$on("$destroy",u);var d=r.$watch("grid.options.paginationCurrentPage + grid.options.paginationPageSize",function(t,n){if(t!==n&&void 0!==n)return!angular.isNumber(c.paginationCurrentPage)||c.paginationCurrentPage<1?void(c.paginationCurrentPage=1):c.totalItems>0&&c.paginationCurrentPage>r.paginationApi.getTotalPages()?void(c.paginationCurrentPage=r.paginationApi.getTotalPages()):void e.onPaginationChanged(r.grid,c.paginationCurrentPage,c.paginationPageSize)});r.$on("$destroy",function(){d()}),r.cantPageForward=function(){return r.paginationApi.getTotalPages()?r.cantPageToLast():c.data.length<1},r.cantPageToLast=function(){var e=r.paginationApi.getTotalPages();return!e||c.paginationCurrentPage>=e},r.cantPageBackward=function(){return c.paginationCurrentPage<=1};var h=function(e){e&&n.focus.bySelector(o,l)};r.pageFirstPageClick=function(){r.paginationApi.seek(1),h(r.cantPageBackward())},r.pagePreviousPageClick=function(){r.paginationApi.previousPage(),h(r.cantPageBackward())},r.pageNextPageClick=function(){r.paginationApi.nextPage(),h(r.cantPageForward())},r.pageLastPageClick=function(){r.paginationApi.seek(r.paginationApi.getTotalPages()),h(r.cantPageToLast())}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pinning",["ui.grid"]);e.constant("uiGridPinningConstants",{container:{LEFT:"left",RIGHT:"right",NONE:""}}),e.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService","uiGridPinningConstants",function(e,t,n,i){var r={initializeGrid:function(e){r.defaultGridOptions(e.options),e.registerColumnBuilder(r.pinningColumnBuilder);var t={events:{pinning:{columnPinned:function(e,t){}}},methods:{pinning:{pinColumn:function(t,n){r.pinColumn(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enablePinning=e.enablePinning!==!1},pinningColumnBuilder:function(t,o,a){if(t.enablePinning=void 0===t.enablePinning?a.enablePinning:t.enablePinning,t.pinnedLeft?(o.renderContainer="left",o.grid.createLeftContainer()):t.pinnedRight&&(o.renderContainer="right",o.grid.createRightContainer()),t.enablePinning){var s={name:"ui.grid.pinning.pinLeft",title:n.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"left"!==this.context.col.renderContainer},action:function(){r.pinColumn(this.context.col.grid,this.context.col,i.container.LEFT)}},l={name:"ui.grid.pinning.pinRight",title:n.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"right"!==this.context.col.renderContainer},action:function(){r.pinColumn(this.context.col.grid,this.context.col,i.container.RIGHT)}},c={name:"ui.grid.pinning.unpin",title:n.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return"undefined"!=typeof this.context.col.renderContainer&&null!==this.context.col.renderContainer&&"body"!==this.context.col.renderContainer},action:function(){r.pinColumn(this.context.col.grid,this.context.col,i.container.NONE)}};e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.pinLeft")||o.menuItems.push(s),e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.pinRight")||o.menuItems.push(l),e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.unpin")||o.menuItems.push(c)}},pinColumn:function(e,t,n){n===i.container.NONE?(t.renderContainer=null,t.colDef.pinnedLeft=t.colDef.pinnedRight=!1):(t.renderContainer=n,n===i.container.LEFT?e.createLeftContainer():n===i.container.RIGHT&&e.createRightContainer()),e.refresh().then(function(){e.api.pinning.raise.columnPinned(t.colDef,n)})}};return r}]),e.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(e,t){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(r.grid)},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.resizeColumns",["ui.grid"]);e.service("uiGridResizeColumnsService",["gridUtil","$q","$timeout",function(e,t,n){var i={defaultGridOptions:function(e){e.enableColumnResizing=e.enableColumnResizing!==!1,e.enableColumnResize===!1&&(e.enableColumnResizing=!1)},colResizerColumnBuilder:function(e,n,i){var r=[];return e.enableColumnResizing=void 0===e.enableColumnResizing?i.enableColumnResizing:e.enableColumnResizing,e.enableColumnResize===!1&&(e.enableColumnResizing=!1),t.all(r)},registerPublicApi:function(e){var t={events:{colResizable:{columnSizeChanged:function(e,t){}}}};e.api.registerEventsFromObject(t.events)},fireColumnSizeChanged:function(t,i,r){n(function(){t.api.colResizable?t.api.colResizable.raise.columnSizeChanged(i,r):e.logError("The resizeable api is not registered, this may indicate that you've included the module but not added the 'ui-grid-resize-columns' directive to your grid definition.  Cannot raise any events.")})},findTargetCol:function(e,t,n){var i=e.getRenderContainer();if("left"===t){var r=i.visibleColumnCache.indexOf(e);return i.visibleColumnCache[r-1*n]}return e}};return i}]),e.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.defaultGridOptions(r.grid.options),r.grid.registerColumnBuilder(t.colResizerColumnBuilder),t.registerPublicApi(r.grid)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants","$timeout",function(e,t,n,i,r,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,i,s,l){var c=l.grid;if(c.options.enableColumnResizing){var u=t.get("ui-grid/columnResizer"),d=1;c.isRTL()&&(e.position="left",d=-1);var h=function(){for(var t=i[0].getElementsByClassName("ui-grid-column-resizer"),o=0;o<t.length;o++)angular.element(t[o]).remove();var a=r.findTargetCol(e.col,"left",d),s=e.col.getRenderContainer();if(a&&0!==s.visibleColumnCache.indexOf(e.col)&&a.colDef.enableColumnResizing!==!1){var l=angular.element(u).clone();l.attr("position","left"),i.prepend(l),n(l)(e)}if(e.col.colDef.enableColumnResizing!==!1){var c=angular.element(u).clone();c.attr("position","right"),i.append(c),n(c)(e)}};h();var m=function(){a(h)},p=c.registerDataChangeCallback(m,[o.dataChange.COLUMN]);e.$on("$destroy",p)}}}}}}]),e.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(e,t,n,i){var r=angular.element('<div class="ui-grid-resize-overlay"></div>'),o={priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(o,a,s,l){function refreshCanvas(e){l.grid.refreshCanvas(!0).then(function(){l.grid.queueGridRefresh()})}function constrainWidth(e,t){var n=t;return e.minWidth&&n<e.minWidth?n=e.minWidth:e.maxWidth&&n>e.maxWidth&&(n=e.maxWidth),n}function moveFunction(e,t){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),u=(e.targetTouches?e.targetTouches[0]:e).clientX-d,u<0?u=0:u>l.grid.gridWidth&&(u=l.grid.gridWidth);var a=i.findTargetCol(o.col,o.position,h);if(a.colDef.enableColumnResizing!==!1){l.grid.element.hasClass("column-resizing")||l.grid.element.addClass("column-resizing");var s=u-c,m=parseInt(a.drawnWidth+s*h,10);u+=(constrainWidth(a,m)-m)*h,r.css({left:u+"px"}),l.fireEvent(n.events.ITEM_DRAGGING)}}function upFunction(e,t){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),l.grid.element.removeClass("column-resizing"),r.remove(),u=(e.changedTouches?e.changedTouches[0]:e).clientX-d;var n=u-c;if(0===n)return f(),void p();var a=i.findTargetCol(o.col,o.position,h);if(a.colDef.enableColumnResizing!==!1){var s=parseInt(a.drawnWidth+n*h,10);a.width=constrainWidth(a,s),a.hasCustomWidth=!0,refreshCanvas(n),i.fireColumnSizeChanged(l.grid,a.colDef,n),f(),p()}}var c=0,u=0,d=0,h=1;l.grid.isRTL()&&(o.position="left",h=-1),"left"===o.position?a.addClass("left"):"right"===o.position&&a.addClass("right");var m=function(t,n){t.originalEvent&&(t=t.originalEvent),t.stopPropagation(),d=l.grid.element[0].getBoundingClientRect().left,c=(t.targetTouches?t.targetTouches[0]:t).clientX-d,l.grid.element.append(r),r.css({left:c}),"touchstart"===t.type?(e.on("touchend",upFunction),e.on("touchmove",moveFunction),a.off("mousedown",m)):(e.on("mouseup",upFunction),e.on("mousemove",moveFunction),a.off("touchstart",m))},p=function(){a.on("mousedown",m),a.on("touchstart",m)},f=function(){e.off("mouseup",upFunction),e.off("touchend",upFunction),e.off("mousemove",moveFunction),e.off("touchmove",moveFunction),a.off("mousedown",m),a.off("touchstart",m)};p();var g=function(e,r){e.stopPropagation();var s=i.findTargetCol(o.col,o.position,h);if(s.colDef.enableColumnResizing!==!1){var c=0,u=0,d=t.closestElm(a,".ui-grid-render-container"),m=d.querySelectorAll("."+n.COL_CLASS_PREFIX+s.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(m,function(e){var n;angular.element(e).parent().hasClass("ui-grid-header-cell")&&(n=angular.element(e).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),t.fakeElement(e,{},function(e){var i=angular.element(e);i.attr("style","float: left");var r=t.elementWidth(i);if(n){var o=t.elementWidth(n);r+=o}r>c&&(c=r,u=c-r)})}),s.width=constrainWidth(s,c),s.hasCustomWidth=!0,refreshCanvas(u),i.fireColumnSizeChanged(l.grid,s.colDef,u)}};a.on("dblclick",g),a.on("$destroy",function(){a.off("dblclick",g),f()})}};return o}])}(),function(){"use strict";var e=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);e.constant("uiGridRowEditConstants",{}),e.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(e,t,n,i,r){var o={initializeGrid:function(e,t){t.rowEdit={};var n={events:{rowEdit:{saveRow:function(e){}}},methods:{rowEdit:{setSavePromise:function(e,n){o.setSavePromise(t,e,n)},getDirtyRows:function(){return t.rowEdit.dirtyRows?t.rowEdit.dirtyRows:[]},getErrorRows:function(){return t.rowEdit.errorRows?t.rowEdit.errorRows:[]},flushDirtyRows:function(){return o.flushDirtyRows(t)},setRowsDirty:function(e){o.setRowsDirty(t,e)},setRowsClean:function(e){o.setRowsClean(t,e)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.api.core.on.renderingComplete(e,function(n){t.api.edit.on.afterCellEdit(e,o.endEditCell),t.api.edit.on.beginCellEdit(e,o.beginEditCell),t.api.edit.on.cancelCellEdit(e,o.cancelEditCell),t.api.cellNav&&t.api.cellNav.on.navigate(e,o.navigate)})},defaultGridOptions:function(e){},saveRow:function(e,t){var n=this;return function(){if(t.isSaving=!0,t.rowEditSavePromise)return t.rowEditSavePromise;var i=e.api.rowEdit.raise.saveRow(t.entity);return t.rowEditSavePromise?t.rowEditSavePromise.then(n.processSuccessPromise(e,t),n.processErrorPromise(e,t)):r.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),i}},setSavePromise:function(e,t,n){var i=e.getRow(t);i.rowEditSavePromise=n},processSuccessPromise:function(e,t){var n=this;return function(){delete t.isSaving,delete t.isDirty,delete t.isError,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,n.removeRow(e.rowEdit.errorRows,t),n.removeRow(e.rowEdit.dirtyRows,t)}},processErrorPromise:function(e,t){return function(){delete t.isSaving,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,t.isError=!0,e.rowEdit.errorRows||(e.rowEdit.errorRows=[]),o.isRowPresent(e.rowEdit.errorRows,t)||e.rowEdit.errorRows.push(t)}},removeRow:function(e,t){"undefined"!=typeof e&&null!==e&&e.forEach(function(n,i){n.uid===t.uid&&e.splice(i,1)})},isRowPresent:function(e,t){var n=!1;return e.forEach(function(e,i){e.uid===t.uid&&(n=!0)}),n},flushDirtyRows:function(e){var n=[];return e.api.rowEdit.getDirtyRows().forEach(function(t){o.saveRow(e,t)(),n.push(t.rowEditSavePromise)}),t.all(n)},endEditCell:function(e,t,n,i){var a=this.grid,s=a.getRow(e);return s?void((n!==i||s.isDirty)&&(a.rowEdit.dirtyRows||(a.rowEdit.dirtyRows=[]),s.isDirty||(s.isDirty=!0,a.rowEdit.dirtyRows.push(s)),delete s.isError,o.considerSetTimer(a,s))):void r.logError("Unable to find rowEntity in grid data, dirty flag cannot be set")},beginEditCell:function(e,t){var n=this.grid,i=n.getRow(e);return i?void o.cancelTimer(n,i):void r.logError("Unable to find rowEntity in grid data, timer cannot be cancelled")},cancelEditCell:function(e,t){var n=this.grid,i=n.getRow(e);return i?void o.considerSetTimer(n,i):void r.logError("Unable to find rowEntity in grid data, timer cannot be set")},navigate:function(e,t){var n=this.grid;e.row.rowEditSaveTimer&&o.cancelTimer(n,e.row),t&&t.row&&t.row!==e.row&&o.considerSetTimer(n,t.row)},considerSetTimer:function(t,n){if(o.cancelTimer(t,n),n.isDirty&&!n.isSaving&&t.options.rowEditWaitInterval!==-1){var i=t.options.rowEditWaitInterval?t.options.rowEditWaitInterval:2e3;n.rowEditSaveTimer=e(o.saveRow(t,n),i,1)}},cancelTimer:function(t,n){n.rowEditSaveTimer&&!n.isSaving&&(e.cancel(n.rowEditSaveTimer),delete n.rowEditSaveTimer)},setRowsDirty:function(e,t){var n;t.forEach(function(t,i){n=e.getRow(t),n?(e.rowEdit.dirtyRows||(e.rowEdit.dirtyRows=[]),n.isDirty||(n.isDirty=!0,e.rowEdit.dirtyRows.push(n)),delete n.isError,o.considerSetTimer(e,n)):r.logError("requested row not found in rowEdit.setRowsDirty, row was: "+t)})},setRowsClean:function(e,t){var n;t.forEach(function(t,i){n=e.getRow(t),n?(delete n.isDirty,o.removeRow(e.rowEdit.dirtyRows,n),o.cancelTimer(e,n),delete n.isError,o.removeRow(e.rowEdit.errorRows,n)):r.logError("requested row not found in rowEdit.setRowsClean, row was: "+t)})}};return o}]),e.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(e,r.grid)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(e,t,n,i){return{priority:-200,scope:!1,compile:function(e,t){var n=angular.element(e.children().children()[0]),i=n.attr("ng-class"),r="";return r=i?i.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}":"{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}",n.attr("ng-class",r),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.saveState",["ui.grid","ui.grid.selection","ui.grid.cellNav","ui.grid.grouping","ui.grid.pinning","ui.grid.treeView"]);e.constant("uiGridSaveStateConstants",{featureName:"saveState"}),e.service("uiGridSaveStateService",["$q","uiGridSaveStateConstants","gridUtil","$compile","$interval","uiGridConstants",function(e,t,n,i,r,o){var a={initializeGrid:function(e){e.saveState={},this.defaultGridOptions(e.options);var t={events:{saveState:{}},methods:{saveState:{save:function(){return a.save(e)},restore:function(t,n){a.restore(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.saveWidths=e.saveWidths!==!1,e.saveOrder=e.saveOrder!==!1,e.saveScroll=e.saveScroll===!0,e.saveFocus=e.saveScroll!==!0&&e.saveFocus!==!1,e.saveVisible=e.saveVisible!==!1,e.saveSort=e.saveSort!==!1,e.saveFilter=e.saveFilter!==!1,e.saveSelection=e.saveSelection!==!1,e.saveGrouping=e.saveGrouping!==!1,e.saveGroupingExpandedStates=e.saveGroupingExpandedStates===!0,e.savePinning=e.savePinning!==!1,e.saveTreeView=e.saveTreeView!==!1},save:function(e){var t={};return t.columns=a.saveColumns(e),t.scrollFocus=a.saveScrollFocus(e),t.selection=a.saveSelection(e),t.grouping=a.saveGrouping(e),t.treeView=a.saveTreeView(e),t.pagination=a.savePagination(e),t},restore:function(e,t,n){n.columns&&a.restoreColumns(e,n.columns),n.scrollFocus&&a.restoreScrollFocus(e,t,n.scrollFocus),n.selection&&a.restoreSelection(e,n.selection),n.grouping&&a.restoreGrouping(e,n.grouping),n.treeView&&a.restoreTreeView(e,n.treeView),n.pagination&&a.restorePagination(e,n.pagination),e.refresh()},saveColumns:function(e){var t=[];return e.getOnlyDataColumns().forEach(function(n){var i={};i.name=n.name,e.options.saveVisible&&(i.visible=n.visible),e.options.saveWidths&&(i.width=n.width),e.options.saveSort&&(i.sort=angular.copy(n.sort)),e.options.saveFilter&&(i.filters=[],n.filters.forEach(function(e){var t={};angular.forEach(e,function(e,n){"condition"!==n&&"$$hashKey"!==n&&"placeholder"!==n&&(t[n]=e)}),i.filters.push(t)})),e.api.pinning&&e.options.savePinning&&(i.pinned=n.renderContainer?n.renderContainer:""),t.push(i)}),t},saveScrollFocus:function(e){if(!e.api.cellNav)return{};var t={};if(e.options.saveFocus){t.focus=!0;var n=e.api.cellNav.getFocusedCell();null!==n&&(null!==n.col&&(t.colName=n.col.colDef.name),null!==n.row&&(t.rowVal=a.getRowVal(e,n.row)))}return(e.options.saveScroll||e.options.saveFocus&&!t.colName&&!t.rowVal)&&(t.focus=!1,e.renderContainers.body.prevRowScrollIndex&&(t.rowVal=a.getRowVal(e,e.renderContainers.body.visibleRowCache[e.renderContainers.body.prevRowScrollIndex])),e.renderContainers.body.prevColScrollIndex&&(t.colName=e.renderContainers.body.visibleColumnCache[e.renderContainers.body.prevColScrollIndex].name)),t},saveSelection:function(e){if(!e.api.selection||!e.options.saveSelection)return[];var t=e.api.selection.getSelectedGridRows().map(function(t){return a.getRowVal(e,t)});return t},saveGrouping:function(e){return e.api.grouping&&e.options.saveGrouping?e.api.grouping.getGrouping(e.options.saveGroupingExpandedStates):{}},savePagination:function(e){return e.api.pagination&&e.options.paginationPageSize?{paginationCurrentPage:e.options.paginationCurrentPage,paginationPageSize:e.options.paginationPageSize}:{}},saveTreeView:function(e){return e.api.treeView&&e.options.saveTreeView?e.api.treeView.getTreeView():{}},getRowVal:function(e,t){if(!t)return null;var n={};return e.options.saveRowIdentity?(n.identity=!0,n.row=e.options.saveRowIdentity(t.entity)):(n.identity=!1,n.row=e.renderContainers.body.visibleRowCache.indexOf(t)),n},restoreColumns:function(e,t){var n=!1;t.forEach(function(t,i){var r=e.getColumn(t.name);if(r&&!e.isRowHeaderColumn(r)){!e.options.saveVisible||r.visible===t.visible&&r.colDef.visible===t.visible||(r.visible=t.visible,r.colDef.visible=t.visible,e.api.core.raise.columnVisibilityChanged(r)),e.options.saveWidths&&r.width!==t.width&&(r.width=t.width,r.hasCustomWidth=!0),!e.options.saveSort||angular.equals(r.sort,t.sort)||void 0===r.sort&&angular.isEmpty(t.sort)||(r.sort=angular.copy(t.sort),n=!0),e.options.saveFilter&&!angular.equals(r.filters,t.filters)&&(t.filters.forEach(function(e,t){angular.extend(r.filters[t],e),"undefined"!=typeof e.term&&null!==e.term||delete r.filters[t].term}),e.api.core.raise.filterChanged()),e.api.pinning&&e.options.savePinning&&r.renderContainer!==t.pinned&&e.api.pinning.pinColumn(r,t.pinned);var o=e.getOnlyDataColumns().indexOf(r);if(o!==-1&&e.options.saveOrder&&o!==i){var a=e.columns.splice(o+e.rowHeaderColumns.length,1)[0];e.columns.splice(i+e.rowHeaderColumns.length,0,a)}}}),n&&e.api.core.raise.sortChanged(e,e.getColumnSorting())},restoreScrollFocus:function(e,t,n){if(e.api.cellNav){var i,r;if(n.colName){var o=e.options.columnDefs.filter(function(e){return e.name===n.colName});o.length>0&&(i=o[0])}n.rowVal&&n.rowVal.row&&(r=n.rowVal.identity?a.findRowByIdentity(e,n.rowVal):e.renderContainers.body.visibleRowCache[n.rowVal.row]);var s=r&&r.entity?r.entity:null;(i||s)&&(n.focus?e.api.cellNav.scrollToFocus(s,i):e.scrollTo(s,i))}},restoreSelection:function(e,t){e.api.selection&&(e.api.selection.clearSelectedRows(),t.forEach(function(t){if(t.identity){var n=a.findRowByIdentity(e,t);n&&e.api.selection.selectRow(n.entity)}else e.api.selection.selectRowByVisibleIndex(t.row)}))},restoreGrouping:function(e,t){e.api.grouping&&"undefined"!=typeof t&&null!==t&&!angular.equals(t,{})&&e.api.grouping.setGrouping(t)},restoreTreeView:function(e,t){e.api.treeView&&"undefined"!=typeof t&&null!==t&&!angular.equals(t,{})&&e.api.treeView.setTreeView(t)},restorePagination:function(e,t){e.api.pagination&&e.options.paginationPageSize&&(e.options.paginationCurrentPage=t.paginationCurrentPage,e.options.paginationPageSize=t.paginationPageSize)},findRowByIdentity:function(e,t){if(!e.options.saveRowIdentity)return null;var n=e.rows.filter(function(n){return e.options.saveRowIdentity(n.entity)===t.row});return n.length>0?n[0]:null}};return a}]),e.directive("uiGridSaveState",["uiGridSaveStateConstants","uiGridSaveStateService","gridUtil","$compile",function(e,t,n,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,i,r){t.initializeGrid(r.grid)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.selection",["ui.grid"]);e.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"}),angular.module("ui.grid").config(["$provide",function(e){e.decorator("GridRow",["$delegate",function(e){return e.prototype.setSelected=function(e){e!==this.isSelected&&(this.isSelected=e,this.grid.selection.selectedCount+=e?1:-1)},e}])}]),e.service("uiGridSelectionService",["$q","$templateCache","uiGridSelectionConstants","gridUtil",function(e,t,n,i){var r={initializeGrid:function(e){e.selection={},e.selection.lastSelectedRow=null,e.selection.selectAll=!1,e.selection.selectedCount=0,r.defaultGridOptions(e.options);var t={events:{selection:{rowSelectionChanged:function(e,t,n){},rowSelectionChangedBatch:function(e,t,n){}}},methods:{selection:{toggleRowSelection:function(t,n){var i=e.getRow(t);null!==i&&r.toggleRowSelection(e,i,n,e.options.multiSelect,e.options.noUnselect)},selectRow:function(t,n){var i=e.getRow(t);null===i||i.isSelected||r.toggleRowSelection(e,i,n,e.options.multiSelect,e.options.noUnselect)},selectRowByVisibleIndex:function(t,n){var i=e.renderContainers.body.visibleRowCache[t];null===i||"undefined"==typeof i||i.isSelected||r.toggleRowSelection(e,i,n,e.options.multiSelect,e.options.noUnselect)},unSelectRow:function(t,n){var i=e.getRow(t);null!==i&&i.isSelected&&r.toggleRowSelection(e,i,n,e.options.multiSelect,e.options.noUnselect)},selectAllRows:function(t){if(e.options.multiSelect!==!1){var n=[];e.rows.forEach(function(i){i.isSelected||i.enableSelection===!1||(i.setSelected(!0),r.decideRaiseSelectionEvent(e,i,n,t))}),r.decideRaiseSelectionBatchEvent(e,n,t),e.selection.selectAll=!0}},selectAllVisibleRows:function(t){if(e.options.multiSelect!==!1){var n=[];e.rows.forEach(function(i){i.visible?i.isSelected||i.enableSelection===!1||(i.setSelected(!0),r.decideRaiseSelectionEvent(e,i,n,t)):i.isSelected&&(i.setSelected(!1),r.decideRaiseSelectionEvent(e,i,n,t))}),r.decideRaiseSelectionBatchEvent(e,n,t),e.selection.selectAll=!0}},clearSelectedRows:function(t){r.clearSelectedRows(e,t)},getSelectedRows:function(){return r.getSelectedRows(e).map(function(e){return e.entity})},getSelectedGridRows:function(){return r.getSelectedRows(e)},getSelectedCount:function(){return e.selection.selectedCount},setMultiSelect:function(t){e.options.multiSelect=t},setModifierKeysToMultiSelect:function(t){e.options.modifierKeysToMultiSelect=t},getSelectAllState:function(){return e.selection.selectAll}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enableRowSelection=e.enableRowSelection!==!1,e.multiSelect=e.multiSelect!==!1,e.noUnselect=e.noUnselect===!0,e.modifierKeysToMultiSelect=e.modifierKeysToMultiSelect===!0,e.enableRowHeaderSelection=e.enableRowHeaderSelection!==!1,"undefined"==typeof e.enableFullRowSelection&&(e.enableFullRowSelection=!e.enableRowHeaderSelection),e.enableSelectAll=e.enableSelectAll!==!1,e.enableSelectionBatchEvent=e.enableSelectionBatchEvent!==!1,e.selectionRowHeaderWidth=angular.isDefined(e.selectionRowHeaderWidth)?e.selectionRowHeaderWidth:30,e.enableFooterTotalSelected=e.enableFooterTotalSelected!==!1,e.isRowSelectable=angular.isDefined(e.isRowSelectable)?e.isRowSelectable:angular.noop},toggleRowSelection:function(e,t,n,i,o){var a=t.isSelected;if(t.enableSelection!==!1||a){var s;i||a?!i&&a&&(s=r.getSelectedRows(e),s.length>1&&(a=!1,r.clearSelectedRows(e,n))):r.clearSelectedRows(e,n),a&&o||(t.setSelected(!a),t.isSelected===!0&&(e.selection.lastSelectedRow=t),s=r.getSelectedRows(e),e.selection.selectAll=e.rows.length===s.length,e.api.selection.raise.rowSelectionChanged(t,n))}},shiftSelect:function(e,t,n,i){if(i){var o=r.getSelectedRows(e),a=o.length>0?e.renderContainers.body.visibleRowCache.indexOf(e.selection.lastSelectedRow):0,s=e.renderContainers.body.visibleRowCache.indexOf(t);if(a>s){var l=a;a=s,s=l}for(var c=[],u=a;u<=s;u++){var d=e.renderContainers.body.visibleRowCache[u];d&&(d.isSelected||d.enableSelection===!1||(d.setSelected(!0),e.selection.lastSelectedRow=d,r.decideRaiseSelectionEvent(e,d,c,n)))}r.decideRaiseSelectionBatchEvent(e,c,n)}},getSelectedRows:function(e){return e.rows.filter(function(e){return e.isSelected})},clearSelectedRows:function(e,t){var n=[];r.getSelectedRows(e).forEach(function(i){i.isSelected&&(i.setSelected(!1),r.decideRaiseSelectionEvent(e,i,n,t))}),r.decideRaiseSelectionBatchEvent(e,n,t),e.selection.selectAll=!1,e.selection.selectedCount=0},decideRaiseSelectionEvent:function(e,t,n,i){e.options.enableSelectionBatchEvent?n.push(t):e.api.selection.raise.rowSelectionChanged(t,i)},decideRaiseSelectionBatchEvent:function(e,t,n){t.length>0&&e.api.selection.raise.rowSelectionChangedBatch(t,n)}};return r}]),e.directive("uiGridSelection",["uiGridSelectionConstants","uiGridSelectionService","$templateCache","uiGridConstants",function(e,t,n,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,r,o,a){if(t.initializeGrid(a.grid),a.grid.options.enableRowHeaderSelection){var s={name:e.selectionRowHeaderColName,displayName:"",width:a.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};a.grid.addRowHeaderColumn(s,0)}var l=!1,c=function(e){return e.forEach(function(e){e.enableSelection=a.grid.options.isRowSelectable(e)}),e},u=function(){a.grid.options.isRowSelectable!==angular.noop&&l!==!0&&(a.grid.registerRowsProcessor(c,500),l=!0)};u();var d=a.grid.registerDataChangeCallback(u,[i.dataChange.OPTIONS]);n.$on("$destroy",d)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService","gridUtil",function(e,t,n){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,i,r,o){function selectButtonClick(e,n){n.stopPropagation(),n.shiftKey?t.shiftSelect(a,e,n,a.options.multiSelect):n.ctrlKey||n.metaKey?t.toggleRowSelection(a,e,n,a.options.multiSelect,a.options.noUnselect):t.toggleRowSelection(a,e,n,a.options.multiSelect&&!a.options.modifierKeysToMultiSelect,a.options.noUnselect)}function selectButtonMouseDown(e){(e.ctrlKey||e.shiftKey)&&(e.target.onselectstart=function(){return!1},window.setTimeout(function(){e.target.onselectstart=null},0))}var a=o.grid;e.selectButtonClick=selectButtonClick,"ie"===n.detectBrowser()&&i.on("mousedown",selectButtonMouseDown),e.$on("$destroy",function(){i.off()})}}}]),e.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function(e,n,i,r){var o=e.col.grid;e.headerButtonClick=function(e,n){o.selection.selectAll?(t.clearSelectedRows(o,n),o.options.noUnselect&&o.api.selection.selectRowByVisibleIndex(0,n),o.selection.selectAll=!1):o.options.multiSelect&&(o.api.selection.selectAllVisibleRows(n),o.selection.selectAll=!0)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(e,t,n,i,r,o){return{priority:-200,scope:!1,compile:function(e,t){var n=angular.element(e.children().children()[0]),i=n.attr("ng-class"),r="";return r=i?i.slice(0,-1)+",'ui-grid-row-selected': row.isSelected}":"{'ui-grid-row-selected': row.isSelected}",n.attr("ng-class",r),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}}]),e.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService","$timeout",function(e,t,n,i,r,o,a){return{priority:-200,restrict:"A",require:"?^uiGrid",scope:!1,link:function(e,n,i,r){function registerRowSelectionEvents(){e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection&&(n.addClass("ui-grid-disable-selection"),n.on("touchstart",u),n.on("touchend",d),n.on("click",c),e.registered=!0)}function deregisterRowSelectionEvents(){e.registered&&(n.removeClass("ui-grid-disable-selection"),n.off("touchstart",u),n.off("touchend",d),n.off("click",c),e.registered=!1)}var s=0,l=300;r.grid.api.cellNav&&r.grid.api.cellNav.on.viewPortKeyDown(e,function(t,n){null!==n&&n.row===e.row&&n.col===e.col&&32===t.keyCode&&"selectionRowHeaderCol"===e.col.colDef.name&&(o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply())});var c=function(t){"ui-grid-icon-minus-squared"!==t.target.className&&"ui-grid-icon-plus-squared"!==t.target.className&&(n.off("touchend",d),t.shiftKey?o.shiftSelect(e.grid,e.row,t,e.grid.options.multiSelect):t.ctrlKey||t.metaKey?o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect,e.grid.options.noUnselect):o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply(),a(function(){n.on("touchend",d)},l))},u=function(e){s=(new Date).getTime(),n.off("click",c)},d=function(e){var t=(new Date).getTime(),i=t-s;
i<l&&c(e),a(function(){n.on("click",c)},l)};registerRowSelectionEvents();var h=e.grid.registerDataChangeCallback(function(){e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection&&!e.registered?registerRowSelectionEvents():e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection||!e.registered||deregisterRowSelectionEvents()},[t.dataChange.OPTIONS]);n.on("$destroy",h)}}}]),e.directive("uiGridGridFooter",["$compile","uiGridConstants","gridUtil",function(e,t,n){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function(t,i){return{pre:function(t,i,r,o){o.grid.options.showGridFooter&&n.getTemplate("ui-grid/gridFooterSelectedItems").then(function(n){var r=angular.element(n),o=e(r)(t);angular.element(i[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(o)})},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.treeBase",["ui.grid"]);e.constant("uiGridTreeBaseConstants",{featureName:"treeBase",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeBaseService",["$q","uiGridTreeBaseConstants","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants","rowSorter",function(e,t,n,i,r,o,a,s){var l={initializeGrid:function(e,t){e.treeBase={},e.treeBase.numberLevels=0,e.treeBase.expandAll=!1,e.treeBase.tree=[],l.defaultGridOptions(e.options),e.registerRowsProcessor(l.treeRows,410),e.registerColumnBuilder(l.treeBaseColumnBuilder),l.createRowHeader(e);var n={events:{treeBase:{rowExpanded:{},rowCollapsed:{}}},methods:{treeBase:{expandAllRows:function(){l.expandAllRows(e)},collapseAllRows:function(){l.collapseAllRows(e)},toggleRowTreeState:function(t){l.toggleRowTreeState(e,t)},expandRow:function(t){l.expandRow(e,t)},expandRowChildren:function(t){l.expandRowChildren(e,t)},collapseRow:function(t){l.collapseRow(e,t)},collapseRowChildren:function(t){l.collapseRowChildren(e,t)},getTreeExpandedState:function(){return{expandedState:l.getTreeState(e)}},setTreeState:function(t){l.setTreeState(e,t)},getRowChildren:function(e){return e.treeNode.children.map(function(e){return e.row})}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.treeRowHeaderBaseWidth=e.treeRowHeaderBaseWidth||30,e.treeIndent=e.treeIndent||10,e.showTreeRowHeader=e.showTreeRowHeader!==!1,e.showTreeExpandNoChildren=e.showTreeExpandNoChildren!==!1,e.treeRowHeaderAlwaysVisible=e.treeRowHeaderAlwaysVisible!==!1,e.treeCustomAggregations=e.treeCustomAggregations||{},e.enableExpandAll=e.enableExpandAll!==!1},treeBaseColumnBuilder:function(e,t,n){"undefined"!=typeof e.customTreeAggregationFn&&(t.treeAggregationFn=e.customTreeAggregationFn),"undefined"!=typeof e.treeAggregationType&&(t.treeAggregation={type:e.treeAggregationType},"undefined"!=typeof n.treeCustomAggregations[e.treeAggregationType]?(t.treeAggregationFn=n.treeCustomAggregations[e.treeAggregationType].aggregationFn,t.treeAggregationFinalizerFn=n.treeCustomAggregations[e.treeAggregationType].finalizerFn,t.treeAggregation.label=n.treeCustomAggregations[e.treeAggregationType].label):"undefined"!=typeof l.nativeAggregations()[e.treeAggregationType]&&(t.treeAggregationFn=l.nativeAggregations()[e.treeAggregationType].aggregationFn,t.treeAggregation.label=l.nativeAggregations()[e.treeAggregationType].label)),"undefined"!=typeof e.treeAggregationLabel&&("undefined"==typeof t.treeAggregation&&(t.treeAggregation={}),t.treeAggregation.label=e.treeAggregationLabel),t.treeAggregationUpdateEntity=e.treeAggregationUpdateEntity!==!1,"undefined"==typeof t.customTreeAggregationFinalizerFn&&(t.customTreeAggregationFinalizerFn=e.customTreeAggregationFinalizerFn)},createRowHeader:function(e){var n={name:t.rowHeaderColName,displayName:"",width:e.options.treeRowHeaderBaseWidth,minWidth:10,cellTemplate:"ui-grid/treeBaseRowHeader",headerCellTemplate:"ui-grid/treeBaseHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};n.visible=e.options.treeRowHeaderAlwaysVisible,e.addRowHeaderColumn(n,-100)},expandAllRows:function(e){e.treeBase.tree.forEach(function(n){l.setAllNodes(e,n,t.EXPANDED)}),e.treeBase.expandAll=!0,e.queueGridRefresh()},collapseAllRows:function(e){e.treeBase.tree.forEach(function(n){l.setAllNodes(e,n,t.COLLAPSED)}),e.treeBase.expandAll=!1,e.queueGridRefresh()},setAllNodes:function(e,n,i){"undefined"!=typeof n.state&&n.state!==i&&(n.state=i,i===t.EXPANDED?e.api.treeBase.raise.rowExpanded(n.row):e.api.treeBase.raise.rowCollapsed(n.row)),n.children&&n.children.forEach(function(t){l.setAllNodes(e,t,i)})},toggleRowTreeState:function(e,n){"undefined"==typeof n.treeLevel||null===n.treeLevel||n.treeLevel<0||(n.treeNode.state===t.EXPANDED?l.collapseRow(e,n):l.expandRow(e,n),e.queueGridRefresh())},expandRow:function(e,n){"undefined"==typeof n.treeLevel||null===n.treeLevel||n.treeLevel<0||n.treeNode.state!==t.EXPANDED&&(n.treeNode.state=t.EXPANDED,e.api.treeBase.raise.rowExpanded(n),e.treeBase.expandAll=l.allExpanded(e.treeBase.tree),e.queueGridRefresh())},expandRowChildren:function(e,n){"undefined"==typeof n.treeLevel||null===n.treeLevel||n.treeLevel<0||(l.setAllNodes(e,n.treeNode,t.EXPANDED),e.treeBase.expandAll=l.allExpanded(e.treeBase.tree),e.queueGridRefresh())},collapseRow:function(e,n){"undefined"==typeof n.treeLevel||null===n.treeLevel||n.treeLevel<0||n.treeNode.state!==t.COLLAPSED&&(n.treeNode.state=t.COLLAPSED,e.treeBase.expandAll=!1,e.api.treeBase.raise.rowCollapsed(n),e.queueGridRefresh())},collapseRowChildren:function(e,n){"undefined"==typeof n.treeLevel||null===n.treeLevel||n.treeLevel<0||(l.setAllNodes(e,n.treeNode,t.COLLAPSED),e.treeBase.expandAll=!1,e.queueGridRefresh())},allExpanded:function(e){var t=!0;return e.forEach(function(e){l.allExpandedInternal(e)||(t=!1)}),t},allExpandedInternal:function(e){if(e.children&&e.children.length>0){if(e.state===t.COLLAPSED)return!1;var n=!0;return e.children.forEach(function(e){l.allExpandedInternal(e)||(n=!1)}),n}return!0},treeRows:function(e){if(0===e.length)return e;var n=this;t.EXPANDED;return n.treeBase.tree=l.createTree(n,e),l.updateRowHeaderWidth(n),l.sortTree(n),l.fixFilter(n),l.renderTree(n.treeBase.tree)},updateRowHeaderWidth:function(e){var n=e.getColumn(t.rowHeaderColName),i=e.options.treeRowHeaderBaseWidth+e.options.treeIndent*Math.max(e.treeBase.numberLevels-1,0);n&&i!==n.width&&(n.width=i,e.queueRefresh());var r=!0;e.options.showTreeRowHeader===!1&&(r=!1),e.options.treeRowHeaderAlwaysVisible===!1&&e.treeBase.numberLevels<=0&&(r=!1),n.visible!==r&&(n.visible=r,n.colDef.visible=r,e.queueGridRefresh())},renderTree:function(e){var n=[];return e.forEach(function(e){e.row.visible&&n.push(e.row),e.state===t.EXPANDED&&e.children&&e.children.length>0&&(n=n.concat(l.renderTree(e.children)))}),n},createTree:function(e,n){var i,r=-1,o=[];e.treeBase.tree=[],e.treeBase.numberLevels=0;var a=l.getAggregations(e),s=function(n){if("undefined"!=typeof n.entity.$$treeLevel&&n.treeLevel!==n.entity.$$treeLevel&&(n.treeLevel=n.entity.$$treeLevel),n.treeLevel<=r){for(;n.treeLevel<=r;){var s=o.pop();l.finaliseAggregations(s),r--}i=o.length>0?l.setCurrentState(o):t.EXPANDED}("undefined"==typeof n.treeLevel||null===n.treeLevel||n.treeLevel<0)&&n.visible&&l.aggregate(e,n,o),l.addOrUseNode(e,n,o,a),"undefined"!=typeof n.treeLevel&&null!==n.treeLevel&&n.treeLevel>=0&&(o.push(n),r++,i=l.setCurrentState(o)),e.treeBase.numberLevels<n.treeLevel+1&&(e.treeBase.numberLevels=n.treeLevel+1)};for(n.forEach(s);o.length>0;){var c=o.pop();l.finaliseAggregations(c)}return e.treeBase.tree},addOrUseNode:function(e,n,i,r){var o=[];r.forEach(function(e){o.push(l.buildAggregationObject(e.col))});var a={state:t.COLLAPSED,row:n,parentRow:null,aggregations:o,children:[]};n.treeNode&&(a.state=n.treeNode.state),i.length>0&&(a.parentRow=i[i.length-1]),n.treeNode=a,0===i.length?e.treeBase.tree.push(a):i[i.length-1].treeNode.children.push(a)},setCurrentState:function(e){var n=t.EXPANDED;return e.forEach(function(e){e.treeNode.state===t.COLLAPSED&&(n=t.COLLAPSED)}),n},sortTree:function(e){e.columns.forEach(function(e){e.sort&&e.sort.ignoreSort&&delete e.sort.ignoreSort}),e.treeBase.tree=l.sortInternal(e,e.treeBase.tree)},sortInternal:function(e,n){var i=n.map(function(e){return e.row});i=s.sort(e,i,e.columns);var r=i.map(function(e){return e.treeNode});return r.forEach(function(n){n.state===t.EXPANDED&&n.children&&n.children.length>0&&(n.children=l.sortInternal(e,n.children))}),r},fixFilter:function(e){var t;e.treeBase.tree.forEach(function(e){e.children&&e.children.length>0&&(t=e.row.visible,l.fixFilterInternal(e.children,t))})},fixFilterInternal:function(e,t){return e.forEach(function(e){e.row.visible&&!t&&(l.setParentsVisible(e),t=!0),e.children&&e.children.length>0&&l.fixFilterInternal(e.children,t&&e.row.visible)&&(t=!0)}),t},setParentsVisible:function(e){for(;e.parentRow;)e.parentRow.visible=!0,e=e.parentRow.treeNode},buildAggregationObject:function(e){var t={col:e};return e.treeAggregation&&e.treeAggregation.type&&(t.type=e.treeAggregation.type),e.treeAggregation&&e.treeAggregation.label&&(t.label=e.treeAggregation.label),t},getAggregations:function(e){var t=[];return e.columns.forEach(function(n){"undefined"!=typeof n.treeAggregationFn&&(t.push(l.buildAggregationObject(n)),e.options.showColumnFooter&&"undefined"==typeof n.colDef.aggregationType&&n.treeAggregation&&(n.treeFooterAggregation=l.buildAggregationObject(n),n.aggregationType=l.treeFooterAggregationType))}),t},aggregate:function(e,t,n){0===n.length&&t.treeNode&&t.treeNode.aggregations&&t.treeNode.aggregations.forEach(function(n){if("undefined"!=typeof n.col.treeFooterAggregation){var i=e.getCellValue(t,n.col),r=Number(i);n.col.treeAggregationFn(n.col.treeFooterAggregation,i,r,t)}}),n.forEach(function(n,i){n.treeNode.aggregations&&n.treeNode.aggregations.forEach(function(n){var r=e.getCellValue(t,n.col),o=Number(r);n.col.treeAggregationFn(n,r,o,t),0===i&&"undefined"!=typeof n.col.treeFooterAggregation&&n.col.treeAggregationFn(n.col.treeFooterAggregation,r,o,t)})})},nativeAggregations:function(){var e={count:{label:o.get().aggregation.count,menuTitle:o.get().grouping.aggregate_count,aggregationFn:function(e,t,n){"undefined"==typeof e.value?e.value=1:e.value++}},sum:{label:o.get().aggregation.sum,menuTitle:o.get().grouping.aggregate_sum,aggregationFn:function(e,t,n){isNaN(n)||("undefined"==typeof e.value?e.value=n:e.value+=n)}},min:{label:o.get().aggregation.min,menuTitle:o.get().grouping.aggregate_min,aggregationFn:function(e,t,n){"undefined"==typeof e.value?e.value=t:"undefined"!=typeof t&&null!==t&&(t<e.value||null===e.value)&&(e.value=t)}},max:{label:o.get().aggregation.max,menuTitle:o.get().grouping.aggregate_max,aggregationFn:function(e,t,n){"undefined"==typeof e.value?e.value=t:"undefined"!=typeof t&&null!==t&&(t>e.value||null===e.value)&&(e.value=t)}},avg:{label:o.get().aggregation.avg,menuTitle:o.get().grouping.aggregate_avg,aggregationFn:function(e,t,n){"undefined"==typeof e.count?e.count=1:e.count++,isNaN(n)||("undefined"==typeof e.value||"undefined"==typeof e.sum?(e.value=n,e.sum=n):(e.sum+=n,e.value=e.sum/e.count))}}};return e},finaliseAggregation:function(e,t){t.col.treeAggregationUpdateEntity&&"undefined"!=typeof e&&"undefined"!=typeof e.entity["$$"+t.col.uid]&&angular.extend(t,e.entity["$$"+t.col.uid]),"function"==typeof t.col.treeAggregationFinalizerFn&&t.col.treeAggregationFinalizerFn(t),"function"==typeof t.col.customTreeAggregationFinalizerFn&&t.col.customTreeAggregationFinalizerFn(t),"undefined"==typeof t.rendered&&(t.rendered=t.label?t.label+t.value:t.value)},finaliseAggregations:function(e){null!=e&&"undefined"!=typeof e.treeNode.aggregations&&e.treeNode.aggregations.forEach(function(t){if(l.finaliseAggregation(e,t),t.col.treeAggregationUpdateEntity){var n={};angular.forEach(t,function(e,i){t.hasOwnProperty(i)&&"col"!==i&&(n[i]=e)}),e.entity["$$"+t.col.uid]=n}})},treeFooterAggregationType:function(e,t){return l.finaliseAggregation(void 0,t.treeFooterAggregation),"undefined"==typeof t.treeFooterAggregation.value||null===t.treeFooterAggregation.rendered?"":t.treeFooterAggregation.rendered}};return l}]),e.directive("uiGridTreeBaseRowHeaderButtons",["$templateCache","uiGridTreeBaseService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,n,i,r){var o=r.grid;e.treeButtonClick=function(e,n){t.toggleRowTreeState(o,e,n)}}}}]),e.directive("uiGridTreeBaseExpandAllButtons",["$templateCache","uiGridTreeBaseService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseExpandAllButtons"),scope:!1,link:function(e,n,i,r){var o=e.col.grid;e.headerButtonClick=function(e,n){o.treeBase.expandAll?t.collapseAllRows(o,n):t.expandAllRows(o,n)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(e,t,n,i){return{priority:-200,scope:!1,compile:function(e,t){var n=angular.element(e.children().children()[0]),i=n.attr("ng-class"),r="";return r=i?i.slice(0,-1)+",'ui-grid-tree-header-row': row.treeLevel > -1}":"{'ui-grid-tree-header-row': row.treeLevel > -1}",n.attr("ng-class",r),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.treeView",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridTreeViewConstants",{featureName:"treeView",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeViewService",["$q","uiGridTreeViewConstants","uiGridTreeBaseConstants","uiGridTreeBaseService","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants",function(e,t,n,i,r,o,a,s,l){var c={initializeGrid:function(e,t){i.initializeGrid(e,t),e.treeView={},e.registerRowsProcessor(c.adjustSorting,60);var n={events:{treeView:{}},methods:{treeView:{}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.enableTreeView=e.enableTreeView!==!1},adjustSorting:function(e){var t=this;return t.columns.forEach(function(e){e.sort&&(e.sort.ignoreSort=!0)}),e}};return c}]),e.directive("uiGridTreeView",["uiGridTreeViewConstants","uiGridTreeViewService","$templateCache",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){r.grid.options.enableTreeView!==!1&&t.initializeGrid(r.grid,e)},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.validate",["ui.grid"]);e.service("uiGridValidateService",["$sce","$q","$http","i18nService","uiGridConstants",function(e,t,n,i,r){var o={validatorFactories:{},setExternalFactoryFunction:function(e){o.externalFactoryFunction=e},clearExternalFactory:function(){delete o.externalFactoryFunction},getValidatorFromExternalFactory:function(e,t){return o.externalFactoryFunction(e,t).validatorFactory(t)},getMessageFromExternalFactory:function(e,t){return o.externalFactoryFunction(e,t).messageFunction(t)},setValidator:function(e,t,n){o.validatorFactories[e]={validatorFactory:t,messageFunction:n}},getValidator:function(e,t){if(o.externalFactoryFunction){var n=o.getValidatorFromExternalFactory(e,t);if(n)return n}if(!o.validatorFactories[e])throw"Invalid validator name: "+e;return o.validatorFactories[e].validatorFactory(t)},getMessage:function(e,t){if(o.externalFactoryFunction){var n=o.getMessageFromExternalFactory(e,t);if(n)return n}return o.validatorFactories[e].messageFunction(t)},isInvalid:function(e,t){return e["$$invalid"+t.name]},setInvalid:function(e,t){e["$$invalid"+t.name]=!0},setValid:function(e,t){delete e["$$invalid"+t.name]},setError:function(e,t,n){e["$$errors"+t.name]||(e["$$errors"+t.name]={}),e["$$errors"+t.name][n]=!0},clearError:function(e,t,n){e["$$errors"+t.name]&&n in e["$$errors"+t.name]&&delete e["$$errors"+t.name][n]},getErrorMessages:function(e,t){var n=[];return e["$$errors"+t.name]&&0!==Object.keys(e["$$errors"+t.name]).length?(Object.keys(e["$$errors"+t.name]).sort().forEach(function(e){n.push(o.getMessage(e,t.validators[e]))}),n):n},getFormattedErrors:function(t,n){var r="",a=o.getErrorMessages(t,n);if(a.length)return a.forEach(function(e){r+=e+"<br/>"}),e.trustAsHtml("<p><b>"+i.getSafeText("validate.error")+"</b></p>"+r)},getTitleFormattedErrors:function(t,n){var r="\n",a="",s=o.getErrorMessages(t,n);if(s.length)return s.forEach(function(e){a+=e+r}),e.trustAsHtml(i.getSafeText("validate.error")+r+a)},runValidators:function(e,n,i,r,a){if(i!==r){if("undefined"==typeof n.name||!n.name)throw new Error("colDef.name is required to perform validation");o.setValid(e,n);var s=function(e,t,n){return function(s){s||(o.setInvalid(e,t),o.setError(e,t,n),a&&a.api.validate.raise.validationFailed(e,t,i,r))}},l=[];for(var c in n.validators){o.clearError(e,n,c);var u=o.getValidator(c,n.validators[c]),d=t.when(u(r,i,e,n)).then(s(e,n,c));l.push(d)}return t.all(l)}},createDefaultValidators:function(){o.setValidator("minLength",function(e){return function(t,n,i,r){return void 0===n||null===n||""===n||n.length>=e}},function(e){return i.getSafeText("validate.minLength").replace("THRESHOLD",e)}),o.setValidator("maxLength",function(e){return function(t,n,i,r){return void 0===n||null===n||""===n||n.length<=e}},function(e){return i.getSafeText("validate.maxLength").replace("THRESHOLD",e)}),o.setValidator("required",function(e){return function(t,n,i,r){return!e||!(void 0===n||null===n||""===n)}},function(e){return i.getSafeText("validate.required")})},initializeGrid:function(e,t){t.validate={isInvalid:o.isInvalid,getFormattedErrors:o.getFormattedErrors,getTitleFormattedErrors:o.getTitleFormattedErrors,runValidators:o.runValidators};var n={events:{validate:{validationFailed:function(e,t,n,i){}}},methods:{validate:{isInvalid:function(e,n){return t.validate.isInvalid(e,n)},getErrorMessages:function(e,n){return t.validate.getErrorMessages(e,n)},getFormattedErrors:function(e,n){return t.validate.getFormattedErrors(e,n)},getTitleFormattedErrors:function(e,n){return t.validate.getTitleFormattedErrors(e,n)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.edit&&t.api.edit.on.afterCellEdit(e,function(e,n,i,r){t.validate.runValidators(e,n,i,r,t)}),o.createDefaultValidators()}};return o}]),e.directive("uiGridValidate",["gridUtil","uiGridValidateService",function(e,t){return{priority:0,replace:!0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(e,r.grid)},post:function(e,t,n,i){}}}}}])}(),angular.module("ui.grid").run(["$templateCache",function(e){"use strict";e.put("ui-grid/ui-grid-filter",'<div class="ui-grid-filter-container" ng-style="col.extraStyle" ng-repeat="colFilter in col.filters" ng-class="{\'ui-grid-filter-cancel-button-hidden\' : colFilter.disableCancelFilterButton === true }"><div ng-if="colFilter.type !== \'select\'"><input type="text" class="ui-grid-filter-input ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}" aria-label="{{colFilter.ariaLabel || aria.defaultFilterLabel}}"><div role="button" class="ui-grid-filter-button" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term !== null && colFilter.term !== \'\'"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div><div ng-if="colFilter.type === \'select\'"><select class="ui-grid-filter-select ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-show="colFilter.selectOptions.length > 0" ng-attr-placeholder="{{colFilter.placeholder || aria.defaultFilterLabel}}" aria-label="{{colFilter.ariaLabel || \'\'}}" ng-options="option.value as option.label for option in colFilter.selectOptions"><option value=""></option></select><div role="button" class="ui-grid-filter-button-select" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term != null"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div></div>'),e.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel ui-grid-footer-aggregates-row"><!-- tfooter --><div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div class="ui-grid-footer-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-footer-cell-row"><div ui-grid-footer-cell role="gridcell" ng-repeat="col in colContainer.renderedColumns track by col.uid" col="col" render-index="$index" class="ui-grid-footer-cell ui-grid-clearfix"></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-grid-footer",'<div class="ui-grid-footer-info ui-grid-grid-footer"><span>{{\'search.totalItems\' | t}} {{grid.rows.length}}</span> <span ng-if="grid.renderContainers.body.visibleRowCache.length !== grid.rows.length" class="ngLabel">({{"search.showingItems" | t}} {{grid.renderContainers.body.visibleRowCache.length}})</span></div>'),e.put("ui-grid/ui-grid-group-panel",'<div class="ui-grid-group-panel"><div ui-t="groupPanel.description" class="description" ng-show="groupings.length == 0"></div><ul ng-show="groupings.length > 0" class="ngGroupList"><li class="ngGroupItem" ng-repeat="group in configGroups"><span class="ngGroupElement"><span class="ngGroupName">{{group.displayName}} <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span></span> <span ng-hide="$last" class="ngGroupArrow"></span></span></li></ul></div>'),e.put("ui-grid/ui-grid-header",'<div role="rowgroup" class="ui-grid-header"><!-- theader --><div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-header-cell-row"><div class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.uid" ui-grid-header-cell col="col" render-index="$index"></div></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-menu-button",'<div class="ui-grid-menu-button"><div role="button" ui-grid-one-bind-id-grid="\'grid-menu\'" class="ui-grid-icon-container" ng-click="toggleMenu()" aria-haspopup="true"><i class="ui-grid-icon-menu" ui-grid-one-bind-aria-label="i18n.aria.buttonLabel">&nbsp;</i></div><div ui-grid-menu menu-items="menuItems"></div></div>'),e.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>'),e.put("ui-grid/ui-grid-row","<div ng-repeat=\"(colRenderIndex, col) in colContainer.renderedColumns track by col.uid\" ui-grid-one-bind-id-grid=\"rowRenderIndex + '-' + col.uid + '-cell'\" class=\"ui-grid-cell\" ng-class=\"{ 'ui-grid-row-header-cell': col.isRowHeader }\" role=\"{{col.isRowHeader ? 'rowheader' : 'gridcell'}}\" ui-grid-cell></div>"),e.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid"><!-- TODO (c0bra): add "scoped" attr here, eventually? --><style ui-grid-style>.grid{{ grid.id }} {\n      /* Styles for the grid */\n    }\n\n    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n      height: {{ grid.options.rowHeight }}px;\n    }\n\n    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n      border-bottom-width: {{ ((grid.getTotalRowHeight() < grid.getViewportHeight()) && \'1\') || \'0\' }}px;\n    }\n\n    {{ grid.verticalScrollbarStyles }}\n    {{ grid.horizontalScrollbarStyles }}\n\n    /*\n    .ui-grid[dir=rtl] .ui-grid-viewport {\n      padding-left: {{ grid.verticalScrollbarWidth }}px;\n    }\n    */\n\n    {{ grid.customStyles }}</style><div class="ui-grid-contents-wrapper"><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"></div><div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"></div><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-horizontal-scrollbar="grid.options.enableHorizontalScrollbar" enable-vertical-scrollbar="grid.options.enableVerticalScrollbar"></div><div ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"></div><div ui-grid-grid-footer ng-if="grid.options.showGridFooter"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenus"></div><div ng-transclude></div></div></div>'),e.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems"><!-- <div class="ui-grid-column-menu">\n    <div class="inner" ng-show="menuShown">\n      <ul>\n        <div ng-show="grid.options.enableSorting">\n          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>\n          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>\n          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>\n        </div>\n      </ul>\n    </div>\n  </div> --></div></div>'),e.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationText() + ( col.getAggregationValue() CUSTOM_FILTERS ) }}</div></div>'),e.put("ui-grid/uiGridHeaderCell",'<div role="columnheader" ng-class="{ \'sortable\': sortable }" ui-grid-one-bind-aria-labelledby-grid="col.uid + \'-header-text \' + col.uid + \'-sortdir-text\'" aria-sort="{{col.sort.direction == asc ? \'ascending\' : ( col.sort.direction == desc ? \'descending\' : (!col.sort.direction ? \'none\' : \'other\'))}}"><div role="button" tabindex="0" class="ui-grid-cell-contents ui-grid-header-cell-primary-focus" col-index="renderIndex" title="TOOLTIP"><span class="ui-grid-header-cell-label" ui-grid-one-bind-id-grid="col.uid + \'-header-text\'">{{ col.displayName CUSTOM_FILTERS }}</span> <span ui-grid-one-bind-id-grid="col.uid + \'-sortdir-text\'" ui-grid-visible="col.sort.direction" aria-label="{{getSortDirectionAriaLabel()}}"><i ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }" title="{{isSortPriorityVisible() ? i18n.headerCell.priority + \' \' + ( col.sort.priority + 1 )  : null}}" aria-hidden="true"></i> <sub ui-grid-visible="isSortPriorityVisible()" class="ui-grid-sort-priority-number">{{col.sort.priority + 1}}</sub></span></div><div role="button" tabindex="0" ui-grid-one-bind-id-grid="col.uid + \'-menu-button\'" class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}" ui-grid-one-bind-aria-label="i18n.headerCell.aria.columnMenuButtonLabel" aria-haspopup="true"><i class="ui-grid-icon-angle-down" aria-hidden="true">&nbsp;</i></div><div ui-grid-filter></div></div>'),e.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu" ng-if="shown"><style ui-grid-style>{{dynamicStyles}}</style><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner"><ul role="menu" class="ui-grid-menu-items"><li ng-repeat="item in menuItems" role="menuitem" ui-grid-menu-item ui-grid-one-bind-id="\'menuitem-\'+$index" action="item.action" name="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl" leave-open="item.leaveOpen" screen-reader-only="item.screenReaderOnly"></li></ul></div></div></div>'),e.put("ui-grid/uiGridMenuItem",'<button type="button" class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\': active(), \'ui-grid-sr-only\': (!focus && screenReaderOnly) }" aria-pressed="{{active()}}" tabindex="0" ng-focus="focus=true" ng-blur="focus=false"><i ng-class="icon" aria-hidden="true">&nbsp;</i> {{ name }}</button>'),e.put("ui-grid/uiGridRenderContainer","<div role=\"grid\" ui-grid-one-bind-id-grid=\"'grid-container'\" class=\"ui-grid-render-container\" ng-style=\"{ 'margin-left': colContainer.getMargin('left') + 'px', 'margin-right': colContainer.getMargin('right') + 'px' }\"><!-- All of these dom elements are replaced in place --><div ui-grid-header></div><div ui-grid-viewport></div><div ng-if=\"colContainer.needsHScrollbarPlaceholder()\" class=\"ui-grid-scrollbar-placeholder\" ng-style=\"{height:colContainer.grid.scrollbarHeight + 'px'}\"></div><ui-grid-footer ng-if=\"grid.options.showColumnFooter\"></ui-grid-footer></div>"),e.put("ui-grid/uiGridViewport",'<div role="rowgroup" class="ui-grid-viewport" ng-style="colContainer.getViewportStyle()"><!-- tbody --><div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by $index" class="ui-grid-row" ng-style="Viewport.rowStyle(rowRenderIndex)"><div role="row" ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>'),e.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="INPUT_TYPE" ng-class="\'colt\' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>'),e.put("ui-grid/fileChooserEditor",'<div><form name="inputForm"><input ng-class="\'colt\' + col.uid" ui-grid-edit-file-chooser type="file" id="files" name="files[]" ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/emptyBaseLayerContainer",'<div class="ui-grid-empty-base-layer-container ui-grid-canvas"><div class="ui-grid-row" ng-repeat="(rowRenderIndex, row) in grid.baseLayer.emptyRows track by $index" ng-style="Viewport.rowStyle(rowRenderIndex)"><div><div><div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell {{ col.getColClass(false) }}"></div></div></div></div></div>'),e.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth()) + \'px\', height: row.expandedRowHeight + \'px\'}"></div>'),e.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-if="!row.groupHeader==true" ng-class="{ \'ui-grid-icon-plus-squared\' : !row.isExpanded, \'ui-grid-icon-minus-squared\' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"></i></div></div>'),e.put("ui-grid/expandableScrollFiller","<div ng-if=\"expandableRow.shouldRenderFiller()\" ng-class=\"{scrollFiller:true, scrollFillerClass:(colContainer.name === 'body')}\" ng-style=\"{ width: (grid.getViewportWidth()) + 'px', height: row.expandedRowHeight + 2 + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }\"><i class=\"ui-grid-icon-spin5 ui-grid-animate-spin\" ng-style=\"{'margin-top': ( row.expandedRowHeight/2 - 5) + 'px', 'margin-left' : ((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5) + 'px'}\"></i></div>"),
e.put("ui-grid/expandableTopRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !grid.expandable.expandedAll, \'ui-grid-icon-minus-squared\' : grid.expandable.expandedAll }" ng-click="grid.api.expandable.toggleAllRows()"></i></div></div>'),e.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT" download="FILE_NAME">LINK_LABEL</a></span>'),e.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"></form></li>'),e.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item></div>"),e.put("ui-grid/pagination",'<div role="contentinfo" class="ui-grid-pager-panel" ui-grid-pager ng-show="grid.options.enablePaginationControls"><div role="navigation" class="ui-grid-pager-container"><div role="menubar" class="ui-grid-pager-control"><button type="button" role="menuitem" class="ui-grid-pager-first" ui-grid-one-bind-title="aria.pageToFirst" ui-grid-one-bind-aria-label="aria.pageToFirst" ng-click="pageFirstPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? \'last-triangle\' : \'first-triangle\'"><div ng-class="grid.isRTL() ? \'last-bar-rtl\' : \'first-bar\'"></div></div></button> <button type="button" role="menuitem" class="ui-grid-pager-previous" ui-grid-one-bind-title="aria.pageBack" ui-grid-one-bind-aria-label="aria.pageBack" ng-click="pagePreviousPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? \'last-triangle prev-triangle\' : \'first-triangle prev-triangle\'"></div></button> <input type="number" ui-grid-one-bind-title="aria.pageSelected" ui-grid-one-bind-aria-label="aria.pageSelected" class="ui-grid-pager-control-input" ng-model="grid.options.paginationCurrentPage" min="1" max="{{ paginationApi.getTotalPages() }}" required> <span class="ui-grid-pager-max-pages-number" ng-show="paginationApi.getTotalPages() > 0"><abbr ui-grid-one-bind-title="paginationOf">/</abbr> {{ paginationApi.getTotalPages() }}</span> <button type="button" role="menuitem" class="ui-grid-pager-next" ui-grid-one-bind-title="aria.pageForward" ui-grid-one-bind-aria-label="aria.pageForward" ng-click="pageNextPageClick()" ng-disabled="cantPageForward()"><div ng-class="grid.isRTL() ? \'first-triangle next-triangle\' : \'last-triangle next-triangle\'"></div></button> <button type="button" role="menuitem" class="ui-grid-pager-last" ui-grid-one-bind-title="aria.pageToLast" ui-grid-one-bind-aria-label="aria.pageToLast" ng-click="pageLastPageClick()" ng-disabled="cantPageToLast()"><div ng-class="grid.isRTL() ? \'first-triangle\' : \'last-triangle\'"><div ng-class="grid.isRTL() ? \'first-bar-rtl\' : \'last-bar\'"></div></div></button></div><div class="ui-grid-pager-row-count-picker" ng-if="grid.options.paginationPageSizes.length > 1 && !grid.options.useCustomPagination"><select ui-grid-one-bind-aria-labelledby-grid="\'items-per-page-label\'" ng-model="grid.options.paginationPageSize" ng-options="o as o for o in grid.options.paginationPageSizes"></select><span ui-grid-one-bind-id-grid="\'items-per-page-label\'" class="ui-grid-pager-row-count-label">&nbsp;{{sizesLabel}}</span></div><span ng-if="grid.options.paginationPageSizes.length <= 1" class="ui-grid-pager-row-count-label">{{grid.options.paginationPageSize}}&nbsp;{{sizesLabel}}</span></div><div class="ui-grid-pager-count-container"><div class="ui-grid-pager-count"><span ng-show="grid.options.totalItems > 0">{{ 1 + paginationApi.getFirstRowIndex() }} <abbr ui-grid-one-bind-title="paginationThrough">-</abbr> {{ 1 + paginationApi.getLastRowIndex() }} {{paginationOf}} {{grid.options.totalItems}} {{totalItemsLabel}}</span></div></div></div>'),e.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex" unselectable="on"></div>'),e.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})</span>'),e.put("ui-grid/selectionHeaderCell",'<div><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll"></ui-grid-selection-select-all-buttons></div></div>'),e.put("ui-grid/selectionRowHeader",'<div class="ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div></div>'),e.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)">&nbsp;</div>'),e.put("ui-grid/selectionSelectAllButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-all-selected\': grid.selection.selectAll}" ng-click="headerButtonClick($event)"></div>'),e.put("ui-grid/treeBaseExpandAllButtons",'<div class="ui-grid-tree-base-row-header-buttons" ng-class="{\'ui-grid-icon-minus-squared\': grid.treeBase.numberLevels > 0 && grid.treeBase.expandAll, \'ui-grid-icon-plus-squared\': grid.treeBase.numberLevels > 0 && !grid.treeBase.expandAll}" ng-click="headerButtonClick($event)"></div>'),e.put("ui-grid/treeBaseHeaderCell",'<div><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-tree-base-expand-all-buttons ng-if="grid.options.enableExpandAll"></ui-grid-tree-base-expand-all-buttons></div></div>'),e.put("ui-grid/treeBaseRowHeader",'<div class="ui-grid-cell-contents"><ui-grid-tree-base-row-header-buttons></ui-grid-tree-base-row-header-buttons></div>'),e.put("ui-grid/treeBaseRowHeaderButtons","<div class=\"ui-grid-tree-base-row-header-buttons\" ng-class=\"{'ui-grid-tree-base-header': row.treeLevel > -1 }\" ng-click=\"treeButtonClick(row, $event)\"><i ng-class=\"{'ui-grid-icon-minus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'expanded', 'ui-grid-icon-plus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'collapsed'}\" ng-style=\"{'padding-left': grid.options.treeIndent * row.treeLevel + 'px'}\"></i> &nbsp;</div>"),e.put("ui-grid/cellTitleValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" title="{{grid.validate.getTitleFormattedErrors(row.entity,col.colDef)}}">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/cellTooltipValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" tooltip-html-unsafe="{{grid.validate.getFormattedErrors(row.entity,col.colDef)}}" tooltip-enable="grid.validate.isInvalid(row.entity,col.colDef)" tooltip-append-to-body="true" tooltip-placement="top" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>')}])},function(e,t){!function(){"use strict";angular.module("ui.tree",[]).constant("treeConfig",{treeClass:"angular-ui-tree",emptyTreeClass:"angular-ui-tree-empty",hiddenClass:"angular-ui-tree-hidden",nodesClass:"angular-ui-tree-nodes",nodeClass:"angular-ui-tree-node",handleClass:"angular-ui-tree-handle",placeholderClass:"angular-ui-tree-placeholder",dragClass:"angular-ui-tree-drag",dragThreshold:3,defaultCollapsed:!1,appendChildOnHover:!0})}(),function(){"use strict";angular.module("ui.tree").controller("TreeHandleController",["$scope","$element",function(e,t){this.scope=e,e.$element=t,e.$nodeScope=null,e.$type="uiTreeHandle"}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodeController",["$scope","$element",function(e,t){function countSubTreeDepth(e){if(!e)return 0;var t,n,i,r=0,o=e.childNodes();if(!o||0===o.length)return 0;for(i=o.length-1;i>=0;i--)t=o[i],n=1+countSubTreeDepth(t),r=Math.max(r,n);return r}this.scope=e,e.$element=t,e.$modelValue=null,e.$parentNodeScope=null,e.$childNodesScope=null,e.$parentNodesScope=null,e.$treeScope=null,e.$handleScope=null,e.$type="uiTreeNode",e.$$allowNodeDrop=!1,e.collapsed=!1,e.expandOnHover=!1,e.init=function(n){var i=n[0];e.$treeScope=n[1]?n[1].scope:null,e.$parentNodeScope=i.scope.$nodeScope,e.$modelValue=i.scope.$modelValue[e.$index],e.$parentNodesScope=i.scope,i.scope.initSubNode(e),t.on("$destroy",function(){i.scope.destroySubNode(e)})},e.index=function(){return e.$parentNodesScope.$modelValue.indexOf(e.$modelValue)},e.dragEnabled=function(){return!(e.$treeScope&&!e.$treeScope.dragEnabled)},e.isSibling=function(t){return e.$parentNodesScope==t.$parentNodesScope},e.isChild=function(t){var n=e.childNodes();return n&&n.indexOf(t)>-1},e.prev=function(){var t=e.index();return t>0?e.siblings()[t-1]:null},e.siblings=function(){return e.$parentNodesScope.childNodes()},e.childNodesCount=function(){return e.childNodes()?e.childNodes().length:0},e.hasChild=function(){return e.childNodesCount()>0},e.childNodes=function(){return e.$childNodesScope&&e.$childNodesScope.$modelValue?e.$childNodesScope.childNodes():null},e.accept=function(t,n){return e.$childNodesScope&&e.$childNodesScope.$modelValue&&e.$childNodesScope.accept(t,n)},e.remove=function(){return e.$parentNodesScope.removeNode(e)},e.toggle=function(){e.collapsed=!e.collapsed,e.$treeScope.$callbacks.toggle(e.collapsed,e)},e.collapse=function(){e.collapsed=!0},e.expand=function(){e.collapsed=!1},e.depth=function(){var t=e.$parentNodeScope;return t?t.depth()+1:1},e.maxSubDepth=function(){return e.$childNodesScope?countSubTreeDepth(e.$childNodesScope):0}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodesController",["$scope","$element",function(e,t){this.scope=e,e.$element=t,e.$modelValue=null,e.$nodeScope=null,e.$treeScope=null,e.$type="uiTreeNodes",e.$nodesMap={},e.nodropEnabled=!1,e.maxDepth=0,e.cloneEnabled=!1,e.initSubNode=function(t){return t.$modelValue?void(e.$nodesMap[t.$modelValue.$$hashKey]=t):null},e.destroySubNode=function(t){return t.$modelValue?void(e.$nodesMap[t.$modelValue.$$hashKey]=null):null},e.accept=function(t,n){return e.$treeScope.$callbacks.accept(t,e,n)},e.beforeDrag=function(t){return e.$treeScope.$callbacks.beforeDrag(t)},e.isParent=function(t){return t.$parentNodesScope==e},e.hasChild=function(){return e.$modelValue.length>0},e.safeApply=function(e){var t=this.$root.$$phase;"$apply"==t||"$digest"==t?e&&"function"==typeof e&&e():this.$apply(e)},e.removeNode=function(t){var n=e.$modelValue.indexOf(t.$modelValue);return n>-1?(e.safeApply(function(){e.$modelValue.splice(n,1)[0]}),e.$treeScope.$callbacks.removed(t)):null},e.insertNode=function(t,n){e.safeApply(function(){e.$modelValue.splice(t,0,n)})},e.childNodes=function(){var t,n=[];if(e.$modelValue)for(t=0;t<e.$modelValue.length;t++)n.push(e.$nodesMap[e.$modelValue[t].$$hashKey]);return n},e.depth=function(){return e.$nodeScope?e.$nodeScope.depth():0},e.outOfDepth=function(t){var n=e.maxDepth||e.$treeScope.maxDepth;return n>0&&e.depth()+t.maxSubDepth()+1>n}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeController",["$scope","$element",function(e,t){this.scope=e,e.$element=t,e.$nodesScope=null,e.$type="uiTree",e.$emptyElm=null,e.$callbacks=null,e.dragEnabled=!0,e.emptyPlaceholderEnabled=!0,e.maxDepth=0,e.dragDelay=0,e.cloneEnabled=!1,e.nodropEnabled=!1,e.isEmpty=function(){return e.$nodesScope&&e.$nodesScope.$modelValue&&0===e.$nodesScope.$modelValue.length},e.place=function(t){e.$nodesScope.$element.append(t),e.$emptyElm.remove()},this.resetEmptyElement=function(){e.$nodesScope.$modelValue&&0!==e.$nodesScope.$modelValue.length||!e.emptyPlaceholderEnabled?e.$emptyElm.remove():t.append(e.$emptyElm)},e.resetEmptyElement=this.resetEmptyElement}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTree",["treeConfig","$window",function(e,t){return{restrict:"A",scope:!0,controller:"TreeController",link:function(n,i,r,o){var a,s,l,c={accept:null,beforeDrag:null},u={};angular.extend(u,e),u.treeClass&&i.addClass(u.treeClass),"table"===i.prop("tagName").toLowerCase()?(n.$emptyElm=angular.element(t.document.createElement("tr")),s=i.find("tr"),l=s.length>0?angular.element(s).children().length:1e6,a=angular.element(t.document.createElement("td")).attr("colspan",l),n.$emptyElm.append(a)):n.$emptyElm=angular.element(t.document.createElement("div")),u.emptyTreeClass&&n.$emptyElm.addClass(u.emptyTreeClass),n.$watch("$nodesScope.$modelValue.length",function(e){angular.isNumber(e)&&o.resetEmptyElement()},!0),n.$watch(r.dragEnabled,function(e){"boolean"==typeof e&&(n.dragEnabled=e)}),n.$watch(r.emptyPlaceholderEnabled,function(e){"boolean"==typeof e&&(n.emptyPlaceholderEnabled=e,o.resetEmptyElement())}),n.$watch(r.nodropEnabled,function(e){"boolean"==typeof e&&(n.nodropEnabled=e)}),n.$watch(r.cloneEnabled,function(e){"boolean"==typeof e&&(n.cloneEnabled=e)}),n.$watch(r.maxDepth,function(e){"number"==typeof e&&(n.maxDepth=e)}),n.$watch(r.dragDelay,function(e){"number"==typeof e&&(n.dragDelay=e)}),c.accept=function(e,t,n){return!(t.nodropEnabled||t.$treeScope.nodropEnabled||t.outOfDepth(e))},c.beforeDrag=function(e){return!0},c.expandTimeoutStart=function(){},c.expandTimeoutCancel=function(){},c.expandTimeoutEnd=function(){},c.removed=function(e){},c.dropped=function(e){},c.dragStart=function(e){},c.dragMove=function(e){},c.dragStop=function(e){},c.beforeDrop=function(e){},c.toggle=function(e,t){},n.$watch(r.uiTree,function(e,t){angular.forEach(e,function(e,t){c[t]&&"function"==typeof e&&(c[t]=e)}),n.$callbacks=c},!0)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeHandle",["treeConfig",function(e){return{require:"^uiTreeNode",restrict:"A",scope:!0,controller:"TreeHandleController",link:function(t,n,i,r){var o={};angular.extend(o,e),o.handleClass&&n.addClass(o.handleClass),t!=r.scope&&(t.$nodeScope=r.scope,r.scope.$handleScope=t)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNode",["treeConfig","UiTreeHelper","$window","$document","$timeout","$q",function(e,t,n,i,r,o){return{require:["^uiTreeNodes","^uiTree"],restrict:"A",controller:"TreeNodeController",link:function(a,s,l,c){var u,d,h,m,p,f,g,v,y,b,_,w,x,C,S,E,T,M,k,A,$,P,L,D,R,I,O,F={},N="ontouchstart"in window,H=null,j=document.body,B=document.documentElement;angular.extend(F,e),F.nodeClass&&s.addClass(F.nodeClass),a.init(c),a.collapsed=!!t.getNodeAttribute(a,"collapsed")||e.defaultCollapsed,a.expandOnHover=!!t.getNodeAttribute(a,"expandOnHover"),a.scrollContainer=t.getNodeAttribute(a,"scrollContainer")||l.scrollContainer||null,a.sourceOnly=a.nodropEnabled||a.$treeScope.nodropEnabled,a.$watch(l.collapsed,function(e){"boolean"==typeof e&&(a.collapsed=e)}),a.$watch("collapsed",function(e){t.setNodeAttribute(a,"collapsed",e),l.$set("collapsed",e)}),a.$watch(l.expandOnHover,function(e){"boolean"!=typeof e&&"number"!=typeof e||(a.expandOnHover=e)}),a.$watch("expandOnHover",function(e){t.setNodeAttribute(a,"expandOnHover",e),l.$set("expandOnHover",e)}),l.$observe("scrollContainer",function(e){"string"==typeof e&&(a.scrollContainer=e)}),a.$watch("scrollContainer",function(e){t.setNodeAttribute(a,"scrollContainer",e),l.$set("scrollContainer",e),g=document.querySelector(e)}),a.$on("angular-ui-tree:collapse-all",function(){a.collapsed=!0}),a.$on("angular-ui-tree:expand-all",function(){a.collapsed=!1}),w=function(e){if((N||2!==e.button&&3!==e.which)&&!(e.uiTreeDragging||e.originalEvent&&e.originalEvent.uiTreeDragging)){var r,o,l,c,g,v,w,x,C,S=angular.element(e.target);if(r=t.treeNodeHandlerContainerOfElement(S),r&&(S=angular.element(r)),o=s.clone(),x=t.elementIsTreeNode(S),C=t.elementIsTreeNodeHandle(S),(x||C)&&!(x&&t.elementContainsTreeNodeHandler(S)||(l=S.prop("tagName").toLowerCase(),"input"==l||"textarea"==l||"button"==l||"select"==l))){for(R=angular.element(e.target),I=R[0].attributes["ui-tree"];R&&R[0]&&R[0]!==s&&!I;){if(R[0].attributes&&(I=R[0].attributes["ui-tree"]),t.nodrag(R))return;R=R.parent()}a.beforeDrag(a)&&(e.uiTreeDragging=!0,e.originalEvent&&(e.originalEvent.uiTreeDragging=!0),e.preventDefault(),g=t.eventObj(e),u=!0,d=t.dragInfo(a),O=d.source.$treeScope.$id,c=s.prop("tagName"),"tr"===c.toLowerCase()?(m=angular.element(n.document.createElement(c)),v=angular.element(n.document.createElement("td")).addClass(F.placeholderClass).attr("colspan",s[0].children.length),m.append(v)):m=angular.element(n.document.createElement(c)).addClass(F.placeholderClass),p=angular.element(n.document.createElement(c)),F.hiddenClass&&p.addClass(F.hiddenClass),h=t.positionStarted(g,s),m.css("height",s.prop("offsetHeight")+"px"),f=angular.element(n.document.createElement(a.$parentNodesScope.$element.prop("tagName"))).addClass(a.$parentNodesScope.$element.attr("class")).addClass(F.dragClass),f.css("width",t.width(s)+"px"),f.css("z-index",9999),w=(s[0].querySelector(".angular-ui-tree-handle")||s[0]).currentStyle,w&&(document.body.setAttribute("ui-tree-cursor",i.find("body").css("cursor")||""),i.find("body").css({cursor:w.cursor+"!important"})),a.sourceOnly&&m.css("display","none"),s.after(m),s.after(p),d.isClone()&&a.sourceOnly?f.append(o):f.append(s),i.find("body").append(f),f.css({left:g.pageX-h.offsetX+"px",top:g.pageY-h.offsetY+"px"}),y={placeholder:m,dragging:f},$(),a.$apply(function(){a.$treeScope.$callbacks.dragStart(d.eventArgs(y,h))}),b=Math.max(j.scrollHeight,j.offsetHeight,B.clientHeight,B.scrollHeight,B.offsetHeight),_=Math.max(j.scrollWidth,j.offsetWidth,B.clientWidth,B.scrollWidth,B.offsetWidth))}}},x=function(e){var i,o,s,l,c,p,w,x,C,S,E,T,M,k,A,$,P,L,R,I,N,j,B,V=t.eventObj(e);if(f){if(e.preventDefault(),n.getSelection?n.getSelection().removeAllRanges():n.document.selection&&n.document.selection.empty(),s=V.pageX-h.offsetX,l=V.pageY-h.offsetY,s<0&&(s=0),l<0&&(l=0),l+10>b&&(l=b-10),s+10>_&&(s=_-10),f.css({left:s+"px",top:l+"px"}),g?(w=g.getBoundingClientRect(),c=g.scrollTop,p=c+g.clientHeight,w.bottom<V.clientY&&p<g.scrollHeight&&(A=Math.min(g.scrollHeight-p,10),g.scrollTop+=A),w.top>V.clientY&&c>0&&($=Math.min(c,10),g.scrollTop-=$)):(c=window.pageYOffset||n.document.documentElement.scrollTop,p=c+(window.innerHeight||n.document.clientHeight||n.document.clientHeight),p<V.pageY&&p<b&&(A=Math.min(b-p,10),window.scrollBy(0,A)),c>V.pageY&&($=Math.min(c,10),window.scrollBy(0,-$))),t.positionMoved(e,h,u),u)return void(u=!1);if(C=V.pageX-(n.pageXOffset||n.document.body.scrollLeft||n.document.documentElement.scrollLeft)-(n.document.documentElement.clientLeft||0),S=V.pageY-(n.pageYOffset||n.document.body.scrollTop||n.document.documentElement.scrollTop)-(n.document.documentElement.clientTop||0),angular.isFunction(f.hide)?f.hide():(E=f[0].style.display,f[0].style.display="none"),n.document.elementFromPoint(C,S),M=angular.element(n.document.elementFromPoint(C,S)),D=t.treeNodeHandlerContainerOfElement(M),D&&(M=angular.element(D)),angular.isFunction(f.show)?f.show():f[0].style.display=E,t.elementIsTree(M)?T=M.controller("uiTree").scope:t.elementIsTreeNodeHandle(M)?T=M.controller("uiTreeHandle").scope:t.elementIsTreeNode(M)?T=M.controller("uiTreeNode").scope:t.elementIsTreeNodes(M)?T=M.controller("uiTreeNodes").scope:t.elementIsPlaceholder(M)?T=M.controller("uiTreeNodes").scope:M.controller("uiTreeNode")&&(T=M.controller("uiTreeNode").scope),R=T&&T.$treeScope&&T.$treeScope.$id&&T.$treeScope.$id===O,R&&h.dirAx)h.distX>0&&(i=d.prev(),i&&!i.collapsed&&i.accept(a,i.childNodesCount())&&(i.$childNodesScope.$element.append(m),d.moveTo(i.$childNodesScope,i.childNodes(),i.childNodesCount()))),h.distX<0&&(o=d.next(),o||(x=d.parentNode(),x&&x.$parentNodesScope.accept(a,x.index()+1)&&(x.$element.after(m),d.moveTo(x.$parentNodesScope,x.siblings(),x.index()+1))));else{if(k=!1,!T)return;if(!T.$treeScope||T.$parent.nodropEnabled||T.$treeScope.nodropEnabled||m.css("display",""),"uiTree"===T.$type&&T.dragEnabled&&(k=T.isEmpty()),"uiTreeHandle"===T.$type&&(T=T.$nodeScope),"uiTreeNode"!==T.$type&&!k)return void(F.appendChildOnHover&&(o=d.next(),!o&&v&&(x=d.parentNode(),x.$element.after(m),d.moveTo(x.$parentNodesScope,x.siblings(),x.index()+1),v=!1)));H&&m.parent()[0]!=H.$element[0]&&(H.resetEmptyElement(),H=null),k?(H=T,T.$nodesScope.accept(a,0)&&(T.place(m),d.moveTo(T.$nodesScope,T.$nodesScope.childNodes(),0))):T.dragEnabled()&&(angular.isDefined(a.expandTimeoutOn)&&a.expandTimeoutOn!==T.id&&(r.cancel(a.expandTimeout),delete a.expandTimeout,delete a.expandTimeoutOn,a.$callbacks.expandTimeoutCancel()),T.collapsed&&(a.expandOnHover===!0||angular.isNumber(a.expandOnHover)&&0===a.expandOnHover?(T.collapsed=!1,T.$treeScope.$callbacks.toggle(!1,T)):a.expandOnHover!==!1&&angular.isNumber(a.expandOnHover)&&a.expandOnHover>0&&angular.isUndefined(a.expandTimeoutOn)&&(a.expandTimeoutOn=T.$id,a.$callbacks.expandTimeoutStart(),a.expandTimeout=r(function(){a.$callbacks.expandTimeoutEnd(),T.collapsed=!1,T.$treeScope.$callbacks.toggle(!1,T)},a.expandOnHover))),M=T.$element,P=t.offset(M),N=t.height(M),j=T.$childNodesScope?T.$childNodesScope.$element:null,B=j?t.height(j):0,N-=B,I=F.appendChildOnHover?.25*N:t.height(M)/2,L=V.pageY<P.top+I,T.$parentNodesScope.accept(a,T.index())?L?(M[0].parentNode.insertBefore(m[0],M[0]),d.moveTo(T.$parentNodesScope,T.siblings(),T.index())):F.appendChildOnHover&&T.accept(a,T.childNodesCount())?(T.$childNodesScope.$element.prepend(m),d.moveTo(T.$childNodesScope,T.childNodes(),0),v=!0):(M.after(m),d.moveTo(T.$parentNodesScope,T.siblings(),T.index()+1)):!L&&T.accept(a,T.childNodesCount())&&(T.$childNodesScope.$element.append(m),d.moveTo(T.$childNodesScope,T.childNodes(),T.childNodesCount())))}a.$apply(function(){a.$treeScope.$callbacks.dragMove(d.eventArgs(y,h))})}},C=function(e){var t=d.eventArgs(y,h);e.preventDefault(),P(),r.cancel(a.expandTimeout),a.$treeScope.$apply(function(){o.when(a.$treeScope.$callbacks.beforeDrop(t)).then(function(e){e!==!1&&a.$$allowNodeDrop?(d.apply(),a.$treeScope.$callbacks.dropped(t)):A()}).catch(function(){A()}).finally(function(){p.replaceWith(a.$element),m.remove(),f&&(f.remove(),f=null),a.$treeScope.$callbacks.dragStop(t),a.$$allowNodeDrop=!1,d=null;var e=document.body.getAttribute("ui-tree-cursor");null!==e&&(i.find("body").css({cursor:e}),document.body.removeAttribute("ui-tree-cursor"))})})},S=function(e){a.dragEnabled()&&w(e)},E=function(e){x(e)},T=function(e){a.$$allowNodeDrop=!0,C(e)},M=function(e){C(e)},k=function(){var e;return{exec:function(t,n){n||(n=0),this.cancel(),e=r(t,n)},cancel:function(){r.cancel(e)}}}(),L=function(e){27===e.keyCode&&T(e)},A=function(){s.bind("touchstart mousedown",function(e){a.dragDelay>0?k.exec(function(){S(e)},a.dragDelay):S(e)}),s.bind("touchend touchcancel mouseup",function(){a.dragDelay>0&&k.cancel()})},A(),$=function(){angular.element(i).bind("touchend",T),angular.element(i).bind("touchcancel",T),angular.element(i).bind("touchmove",E),angular.element(i).bind("mouseup",T),angular.element(i).bind("mousemove",E),angular.element(i).bind("mouseleave",M),angular.element(i).bind("keydown",L)},P=function(){angular.element(i).unbind("touchend",T),angular.element(i).unbind("touchcancel",T),angular.element(i).unbind("touchmove",E),angular.element(i).unbind("mouseup",T),angular.element(i).unbind("mousemove",E),angular.element(i).unbind("mouseleave",M),angular.element(i).unbind("keydown",L)}}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNodes",["treeConfig","$window",function(e){return{require:["ngModel","?^uiTreeNode","^uiTree"],restrict:"A",scope:!0,controller:"TreeNodesController",link:function(t,n,i,r){var o={},a=r[0],s=r[1],l=r[2];angular.extend(o,e),o.nodesClass&&n.addClass(o.nodesClass),s?(s.scope.$childNodesScope=t,t.$nodeScope=s.scope):l.scope.$nodesScope=t,t.$treeScope=l.scope,a&&(a.$render=function(){t.$modelValue=a.$modelValue}),t.$watch(function(){return i.maxDepth},function(e){"number"==typeof e&&(t.maxDepth=e)}),t.$watch(function(){return i.nodropEnabled},function(e){"undefined"!=typeof e&&(t.nodropEnabled=!0)},!0)}}}])}(),function(){"use strict";function findFirstParentElementWithAttribute(e,t){if(void 0===t)return null;for(var n=t.parentNode,i=1,r="function"==typeof n.setAttribute&&n.hasAttribute(e)?n:null;n&&"function"==typeof n.setAttribute&&!n.hasAttribute(e);){if(n=n.parentNode,r=n,n===document.documentElement){r=null;break}i++}return r}angular.module("ui.tree").factory("UiTreeHelper",["$document","$window","treeConfig",function(e,t,n){return{nodesData:{},setNodeAttribute:function(e,t,n){if(!e.$modelValue)return null;var i=this.nodesData[e.$modelValue.$$hashKey];i||(i={},this.nodesData[e.$modelValue.$$hashKey]=i),i[t]=n},getNodeAttribute:function(e,t){if(!e.$modelValue)return null;var n=this.nodesData[e.$modelValue.$$hashKey];return n?n[t]:null},nodrag:function(e){return"undefined"!=typeof e.attr("data-nodrag")&&"false"!==e.attr("data-nodrag")},eventObj:function(e){var t=e;return void 0!==e.targetTouches?t=e.targetTouches.item(0):void 0!==e.originalEvent&&void 0!==e.originalEvent.targetTouches&&(t=e.originalEvent.targetTouches.item(0)),t},dragInfo:function(e){return{source:e,sourceInfo:{cloneModel:e.$treeScope.cloneEnabled===!0?angular.copy(e.$modelValue):void 0,nodeScope:e,index:e.index(),nodesScope:e.$parentNodesScope},index:e.index(),siblings:e.siblings().slice(0),parent:e.$parentNodesScope,resetParent:function(){this.parent=e.$parentNodesScope},moveTo:function(e,t,n){this.parent=e,this.siblings=t.slice(0);var i=this.siblings.indexOf(this.source);i>-1&&(this.siblings.splice(i,1),this.source.index()<n&&n--),this.siblings.splice(n,0,this.source),this.index=n},parentNode:function(){return this.parent.$nodeScope},prev:function(){return this.index>0?this.siblings[this.index-1]:null},next:function(){return this.index<this.siblings.length-1?this.siblings[this.index+1]:null},isClone:function(){return this.source.$treeScope.cloneEnabled===!0},clonedNode:function(e){return angular.copy(e)},isDirty:function(){return this.source.$parentNodesScope!=this.parent||this.source.index()!=this.index},isForeign:function(){return this.source.$treeScope!==this.parent.$treeScope},eventArgs:function(e,t){return{source:this.sourceInfo,dest:{index:this.index,nodesScope:this.parent},elements:e,pos:t}},apply:function(){var e=this.source.$modelValue;this.parent.nodropEnabled||this.parent.$treeScope.nodropEnabled||this.isDirty()&&(this.isClone()&&this.isForeign()?this.parent.insertNode(this.index,this.sourceInfo.cloneModel):(this.source.remove(),this.parent.insertNode(this.index,e)))}}},height:function(e){return e.prop("scrollHeight")},width:function(e){return e.prop("scrollWidth")},offset:function(n){var i=n[0].getBoundingClientRect();return{width:n.prop("offsetWidth"),height:n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].body.scrollTop||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].body.scrollLeft||e[0].documentElement.scrollLeft)}},positionStarted:function(e,t){var n={},i=e.pageX,r=e.pageY;return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(i=e.originalEvent.touches[0].pageX,r=e.originalEvent.touches[0].pageY),n.offsetX=i-this.offset(t).left,n.offsetY=r-this.offset(t).top,n.startX=n.lastX=i,n.startY=n.lastY=r,n.nowX=n.nowY=n.distX=n.distY=n.dirAx=0,n.dirX=n.dirY=n.lastDirX=n.lastDirY=n.distAxX=n.distAxY=0,n},positionMoved:function(e,t,n){var i,r=e.pageX,o=e.pageY;return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(r=e.originalEvent.touches[0].pageX,o=e.originalEvent.touches[0].pageY),t.lastX=t.nowX,t.lastY=t.nowY,t.nowX=r,t.nowY=o,t.distX=t.nowX-t.lastX,t.distY=t.nowY-t.lastY,t.lastDirX=t.dirX,t.lastDirY=t.dirY,t.dirX=0===t.distX?0:t.distX>0?1:-1,t.dirY=0===t.distY?0:t.distY>0?1:-1,i=Math.abs(t.distX)>Math.abs(t.distY)?1:0,n?(t.dirAx=i,void(t.moving=!0)):(t.dirAx!==i?(t.distAxX=0,t.distAxY=0):(t.distAxX+=Math.abs(t.distX),0!==t.dirX&&t.dirX!==t.lastDirX&&(t.distAxX=0),t.distAxY+=Math.abs(t.distY),0!==t.dirY&&t.dirY!==t.lastDirY&&(t.distAxY=0)),void(t.dirAx=i))},elementIsTreeNode:function(e){return"undefined"!=typeof e.attr("ui-tree-node")},elementIsTreeNodeHandle:function(e){return"undefined"!=typeof e.attr("ui-tree-handle")},elementIsTree:function(e){return"undefined"!=typeof e.attr("ui-tree")},elementIsTreeNodes:function(e){return"undefined"!=typeof e.attr("ui-tree-nodes")},elementIsPlaceholder:function(e){return e.hasClass(n.placeholderClass)},elementContainsTreeNodeHandler:function(e){return e[0].querySelectorAll("[ui-tree-handle]").length>=1},treeNodeHandlerContainerOfElement:function(e){return findFirstParentElementWithAttribute("ui-tree-handle",e[0])}}}])}()},function(e,t){!function(e){"use strict";function minErr(e,t){return t=t||Error,function(){var n,i,r=2,o=arguments,a=o[0],s="["+(e?e+":":"")+a+"] ",l=o[1];for(s+=l.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+r;return n<o.length?toDebugString(o[n]):e}),s+="\nhttp://errors.angularjs.org/1.6.2/"+(e?e+"/":"")+a,i=r,n="?";i<o.length;i++,n="&")s+=n+"p"+(i-r)+"="+encodeURIComponent(toDebugString(o[i]));return new t(s)}}function isArrayLike(e){if(null==e||isWindow(e))return!1;if(w(e)||isString(e)||c&&e instanceof c)return!0;var t="length"in Object(e)&&e.length;return isNumber(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function forEach(e,t,n){var r,o;if(e)if(isFunction(e))for(r in e)"prototype"!==r&&"length"!==r&&"name"!==r&&e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else if(w(e)||isArrayLike(e)){var a="object"!=typeof e;for(r=0,o=e.length;r<o;r++)(a||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==forEach)e.forEach(t,n,e);else if(isBlankObject(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)i.call(e,r)&&t.call(n,e[r],r,e);return e}function forEachSorted(e,t,n){for(var i=Object.keys(e).sort(),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function reverseParams(e){return function(t,n){e(n,t)}}function nextUid(){return++b}function setHashKey(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function baseExtend(e,t,n){for(var i=e.$$hashKey,r=0,o=t.length;r<o;++r){var a=t[r];if(isObject(a)||isFunction(a))for(var s=Object.keys(a),l=0,c=s.length;l<c;l++){var u=s[l],d=a[u];n&&isObject(d)?isDate(d)?e[u]=new Date(d.valueOf()):isRegExp(d)?e[u]=new RegExp(d):d.nodeName?e[u]=d.cloneNode(!0):isElement(d)?e[u]=d.clone():(isObject(e[u])||(e[u]=w(d)?[]:{}),baseExtend(e[u],[d],!0)):e[u]=d}}return setHashKey(e,i),e}function extend(e){return baseExtend(e,h.call(arguments,1),!1)}function merge(e){return baseExtend(e,h.call(arguments,1),!0)}function toInt(e){return parseInt(e,10)}function inherit(e,t){return extend(Object.create(e),t)}function noop(){}function identity(e){return e}function valueFn(e){return function(){return e}}function hasCustomToString(e){return isFunction(e.toString)&&e.toString!==f}function isUndefined(e){return"undefined"==typeof e}function isDefined(e){return"undefined"!=typeof e}function isObject(e){return null!==e&&"object"==typeof e}function isBlankObject(e){return null!==e&&"object"==typeof e&&!g(e)}function isString(e){return"string"==typeof e}function isNumber(e){return"number"==typeof e}function isDate(e){return"[object Date]"===f.call(e)}function isFunction(e){return"function"==typeof e}function isRegExp(e){return"[object RegExp]"===f.call(e)}function isWindow(e){return e&&e.window===e}function isScope(e){return e&&e.$evalAsync&&e.$watch}function isFile(e){return"[object File]"===f.call(e)}function isFormData(e){return"[object FormData]"===f.call(e)}function isBlob(e){return"[object Blob]"===f.call(e)}function isBoolean(e){return"boolean"==typeof e}function isPromiseLike(e){return e&&isFunction(e.then)}function isTypedArray(e){return e&&isNumber(e.length)&&x.test(f.call(e))}function isArrayBuffer(e){
return"[object ArrayBuffer]"===f.call(e)}function isElement(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function makeMap(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}function nodeName_(e){return r(e.nodeName||e[0]&&e[0].nodeName)}function includes(e,t){return Array.prototype.indexOf.call(e,t)!==-1}function arrayRemove(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function copy(e,t){function copyRecurse(e,t){var n,r=t.$$hashKey;if(w(e))for(var o=0,a=e.length;o<a;o++)t.push(copyElement(e[o]));else if(isBlankObject(e))for(n in e)t[n]=copyElement(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=copyElement(e[n]));else for(n in e)i.call(e,n)&&(t[n]=copyElement(e[n]));return setHashKey(t,r),t}function copyElement(e){if(!isObject(e))return e;var t=n.indexOf(e);if(t!==-1)return r[t];if(isWindow(e)||isScope(e))throw v("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i=!1,o=copyType(e);return void 0===o&&(o=w(e)?[]:Object.create(g(e)),i=!0),n.push(e),r.push(o),i?copyRecurse(e,o):o}function copyType(e){switch(f.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(copyElement(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(isFunction(e.cloneNode))return e.cloneNode(!0)}var n=[],r=[];if(t){if(isTypedArray(t)||isArrayBuffer(t))throw v("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw v("cpi","Can't copy! Source and destination are identical.");return w(t)?t.length=0:forEach(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),n.push(e),r.push(t),copyRecurse(e,t)}return copyElement(e)}function equals(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,i,r,o=typeof e,a=typeof t;if(o===a&&"object"===o){if(!w(e)){if(isDate(e))return!!isDate(t)&&equals(e.getTime(),t.getTime());if(isRegExp(e))return!!isRegExp(t)&&e.toString()===t.toString();if(isScope(e)||isScope(t)||isWindow(e)||isWindow(t)||w(t)||isDate(t)||isRegExp(t))return!1;r=createMap();for(i in e)if("$"!==i.charAt(0)&&!isFunction(e[i])){if(!equals(e[i],t[i]))return!1;r[i]=!0}for(i in t)if(!(i in r)&&"$"!==i.charAt(0)&&isDefined(t[i])&&!isFunction(t[i]))return!1;return!0}if(!w(t))return!1;if((n=e.length)===t.length){for(i=0;i<n;i++)if(!equals(e[i],t[i]))return!1;return!0}}return!1}function concat(e,t,n){return e.concat(h.call(t,n))}function sliceArgs(e,t){return h.call(e,t||0)}function bind(e,t){var n=arguments.length>2?sliceArgs(arguments,2):[];return!isFunction(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,concat(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function toJsonReplacer(t,n){var i=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=void 0:isWindow(n)?i="$WINDOW":n&&e.document===n?i="$DOCUMENT":isScope(n)&&(i="$SCOPE"),i}function toJson(e,t){if(!isUndefined(e))return isNumber(t)||(t=t?2:null),JSON.stringify(e,toJsonReplacer,t)}function fromJson(e){return isString(e)?JSON.parse(e):e}function timezoneToOffset(e,t){e=e.replace(M,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return _(n)?t:n}function addDateMinutes(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function convertTimezoneToLocal(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset(),r=timezoneToOffset(t,i);return addDateMinutes(e,n*(r-i))}function startingTag(e){e=c(e).clone();try{e.empty()}catch(e){}var t=c("<div>").append(e).html();try{return e[0].nodeType===R?r(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+r(t)})}catch(e){return r(t)}}function tryDecodeURIComponent(e){try{return decodeURIComponent(e)}catch(e){}}function parseKeyValue(e){var t={};return forEach((e||"").split("&"),function(e){var n,r,o;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),n!==-1&&(r=e.substring(0,n),o=e.substring(n+1)),r=tryDecodeURIComponent(r),isDefined(r)&&(o=!isDefined(o)||tryDecodeURIComponent(o),i.call(t,r)?w(t[r])?t[r].push(o):t[r]=[t[r],o]:t[r]=o))}),t}function toKeyValue(e){var t=[];return forEach(e,function(e,n){w(e)?forEach(e,function(e){t.push(encodeUriQuery(n,!0)+(e===!0?"":"="+encodeUriQuery(e,!0)))}):t.push(encodeUriQuery(n,!0)+(e===!0?"":"="+encodeUriQuery(e,!0)))}),t.length?t.join("&"):""}function encodeUriSegment(e){return encodeUriQuery(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function getNgAttribute(e,t){var n,i,r=k.length;for(i=0;i<r;++i)if(n=k[i]+t,isString(n=e.getAttribute(n)))return n;return null}function allowAutoBootstrap(e){var t=e.currentScript,n=t&&t.getAttribute("src");if(!n)return!0;var i=e.createElement("a");if(i.href=n,e.location.origin===i.origin)return!0;switch(i.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}function angularInit(t,n){var i,r,o={};if(forEach(k,function(e){var n=e+"app";!i&&t.hasAttribute&&t.hasAttribute(n)&&(i=t,r=t.getAttribute(n))}),forEach(k,function(e){var n,o=e+"app";!i&&(n=t.querySelector("["+o.replace(":","\\:")+"]"))&&(i=n,r=n.getAttribute(o))}),i){if(!A)return void e.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");o.strictDi=null!==getNgAttribute(i,"strict-di"),n(i,r?[r]:[],o)}}function bootstrap(t,n,i){isObject(i)||(i={});var r={strictDi:!1};i=extend(r,i);var o=function(){if(t=c(t),t.injector()){var r=t[0]===e.document?"document":startingTag(t);throw v("btstrpd","App already bootstrapped with this element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=createInjector(n,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),o},a=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;return e&&a.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(a,"")),e&&!s.test(e.name)?o():(e.name=e.name.replace(s,""),y.resumeBootstrap=function(e){return forEach(e,function(e){n.push(e)}),o()},void(isFunction(y.resumeDeferredBootstrap)&&y.resumeDeferredBootstrap()))}function reloadWithDebugInfo(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function getTestability(e){var t=y.element(e).injector();if(!t)throw v("test","no injector found for element argument to getTestability");return t.get("$$testability")}function snake_case(e,t){return t=t||"_",e.replace($,function(e,n){return(n?t:"")+e.toLowerCase()})}function bindJQuery(){var t;if(!P){var n=T();u=isUndefined(n)?e.jQuery:n?e[n]:void 0,u&&u.fn.on?(c=u,extend(u.fn,{scope:J.scope,isolateScope:J.isolateScope,controller:J.controller,injector:J.injector,inheritedData:J.inheritedData}),t=u.cleanData,u.cleanData=function(e){for(var n,i,r=0;null!=(i=e[r]);r++)n=u._data(i,"events"),n&&n.$destroy&&u(i).triggerHandler("$destroy");t(e)}):c=JQLite,y.element=c,P=!0}}function assertArg(e,t,n){if(!e)throw v("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function assertArgFn(e,t,n){return n&&w(e)&&(e=e[e.length-1]),assertArg(isFunction(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function assertNotHasOwnProperty(e,t){if("hasOwnProperty"===e)throw v("badname","hasOwnProperty is not a valid {0} name",t)}function getter(e,t,n){if(!t)return e;for(var i,r=t.split("."),o=e,a=r.length,s=0;s<a;s++)i=r[s],e&&(e=(o=e)[i]);return!n&&isFunction(e)?bind(o,e):e}function getBlockNodes(e){for(var t,n=e[0],i=e[e.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(t||e[r]!==n)&&(t||(t=c(h.call(e,0,r))),t.push(n));return t||e}function createMap(){return Object.create(null)}function stringify(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!hasCustomToString(e)||w(e)||isDate(e)?toJson(e):e.toString()}return e}function setupModuleLoader(e){function ensure(e,t,n){return e[t]||(e[t]=n())}var t=minErr("$injector"),n=minErr("ng"),i=ensure(e,"angular",Object);return i.$$minErr=i.$$minErr||minErr,ensure(i,"module",function(){var e={};return function(i,r,o){var a=function(e,t){if("hasOwnProperty"===e)throw n("badname","hasOwnProperty is not a valid {0} name",t)};return a(i,"module"),r&&e.hasOwnProperty(i)&&(e[i]=null),ensure(e,i,function(){function invokeLater(t,n,i,r){return r||(r=e),function(){return r[i||"push"]([t,n,arguments]),l}}function invokeLaterAndSetModuleName(t,n,r){return r||(r=e),function(e,o){return o&&isFunction(o)&&(o.$$moduleName=i),r.push([t,n,arguments]),l}}if(!r)throw t("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var e=[],n=[],a=[],s=invokeLater("$injector","invoke","push",n),l={_invokeQueue:e,_configBlocks:n,_runBlocks:a,requires:r,name:i,provider:invokeLaterAndSetModuleName("$provide","provider"),factory:invokeLaterAndSetModuleName("$provide","factory"),service:invokeLaterAndSetModuleName("$provide","service"),value:invokeLater("$provide","value"),constant:invokeLater("$provide","constant","unshift"),decorator:invokeLaterAndSetModuleName("$provide","decorator",n),animation:invokeLaterAndSetModuleName("$animateProvider","register"),filter:invokeLaterAndSetModuleName("$filterProvider","register"),controller:invokeLaterAndSetModuleName("$controllerProvider","register"),directive:invokeLaterAndSetModuleName("$compileProvider","directive"),component:invokeLaterAndSetModuleName("$compileProvider","component"),config:s,run:function(e){return a.push(e),this}};return o&&s(o),l})}})}function shallowCopy(e,t){if(w(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if(isObject(e)){t=t||{};for(var r in e)"$"===r.charAt(0)&&"$"===r.charAt(1)||(t[r]=e[r])}return t||e}function serializeObject(e){var t=[];return JSON.stringify(e,function(e,n){if(n=toJsonReplacer(e,n),isObject(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function toDebugString(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):isUndefined(e)?"undefined":"string"!=typeof e?serializeObject(e):e}function publishExternalAPI(t){extend(t,{bootstrap:bootstrap,copy:copy,extend:extend,merge:merge,equals:equals,element:c,forEach:forEach,injector:createInjector,noop:noop,bind:bind,toJson:toJson,fromJson:fromJson,identity:identity,isUndefined:isUndefined,isDefined:isDefined,isString:isString,isFunction:isFunction,isObject:isObject,isNumber:isNumber,isElement:isElement,isArray:w,version:N,isDate:isDate,lowercase:r,uppercase:o,callbacks:{$$counter:0},getTestability:getTestability,reloadWithDebugInfo:reloadWithDebugInfo,$$minErr:minErr,$$csp:E,$$encodeUriSegment:encodeUriSegment,$$encodeUriQuery:encodeUriQuery,$$stringify:stringify}),(d=setupModuleLoader(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:$$SanitizeUriProvider}),e.provider("$compile",$CompileProvider).directive({a:at,input:Tt,textarea:Tt,form:ht,script:wn,select:Sn,option:En,ngBind:At,ngBindHtml:Pt,ngBindTemplate:$t,ngClass:Dt,ngClassEven:It,ngClassOdd:Rt,ngCloak:Ot,ngController:Ft,ngForm:mt,ngHide:pn,ngIf:jt,ngInclude:Bt,ngInit:zt,ngNonBindable:on,ngPluralize:cn,ngRepeat:un,ngShow:mn,ngStyle:fn,ngSwitch:gn,ngSwitchWhen:vn,ngSwitchDefault:yn,ngOptions:ln,ngTransclude:_n,ngModel:tn,ngList:Yt,ngChange:Lt,pattern:Mn,ngPattern:Mn,required:Tn,ngRequired:Tn,minlength:An,ngMinlength:An,maxlength:kn,ngMaxlength:kn,ngValue:kt,ngModelOptions:rn}).directive({ngInclude:Vt}).directive(st).directive(Nt),e.provider({$anchorScroll:$AnchorScrollProvider,$animate:fe,$animateCss:ye,$$animateJs:me,$$animateQueue:pe,$$AnimateRunner:ve,$$animateAsyncRun:ge,$browser:$BrowserProvider,$cacheFactory:$CacheFactoryProvider,$controller:$ControllerProvider,$document:$DocumentProvider,$$isDocumentHidden:$$IsDocumentHiddenProvider,$exceptionHandler:$ExceptionHandlerProvider,$filter:$FilterProvider,$$forceReflow:Ee,$interpolate:$InterpolateProvider,$interval:$IntervalProvider,$http:$HttpProvider,$httpParamSerializer:$HttpParamSerializerProvider,$httpParamSerializerJQLike:$HttpParamSerializerJQLikeProvider,$httpBackend:$HttpBackendProvider,$xhrFactory:$xhrFactoryProvider,$jsonpCallbacks:De,$location:$LocationProvider,$log:$LogProvider,$parse:$ParseProvider,$rootScope:$RootScopeProvider,$q:$QProvider,$$q:$$QProvider,$sce:$SceProvider,$sceDelegate:$SceDelegateProvider,$sniffer:$SnifferProvider,$templateCache:$TemplateCacheProvider,$templateRequest:$TemplateRequestProvider,$$testability:$$TestabilityProvider,$timeout:$TimeoutProvider,$window:$WindowProvider,$$rAF:$$RAFProvider,$$jqLite:$$jqLiteProvider,$$Map:ie,$$cookieReader:$$CookieReaderProvider})}])}function jqNextId(){return++j}function cssKebabToCamel(e){return kebabToCamel(e.replace(V,"ms-"))}function fnCamelCaseReplace(e,t){return t.toUpperCase()}function kebabToCamel(e){return e.replace(B,fnCamelCaseReplace)}function jqLiteIsTextNode(e){return!G.test(e)}function jqLiteAcceptsData(e){var t=e.nodeType;return t===L||!t||t===O}function jqLiteHasData(e){for(var t in H[e.ng339])return!0;return!1}function jqLiteCleanData(e){for(var t=0,n=e.length;t<n;t++)jqLiteRemoveData(e[t])}function jqLiteBuildFragment(e,t){var n,i,r,o,a=t.createDocumentFragment(),s=[];if(jqLiteIsTextNode(e))s.push(t.createTextNode(e));else{for(n=a.appendChild(t.createElement("div")),i=(q.exec(e)||["",""])[1].toLowerCase(),r=K[i]||K._default,n.innerHTML=r[1]+e.replace(W,"<$1></$2>")+r[2],o=r[0];o--;)n=n.lastChild;s=concat(s,n.childNodes),n=a.firstChild,n.textContent=""}return a.textContent="",a.innerHTML="",forEach(s,function(e){a.appendChild(e)}),a}function jqLiteParseHTML(t,n){n=n||e.document;var i;return(i=U.exec(t))?[n.createElement(i[1])]:(i=jqLiteBuildFragment(t,n))?i.childNodes:[]}function jqLiteWrapNode(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function JQLite(e){if(e instanceof JQLite)return e;var t;if(isString(e)&&(e=C(e),t=!0),!(this instanceof JQLite)){if(t&&"<"!==e.charAt(0))throw Y("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new JQLite(e)}t?jqLiteAddNodes(this,jqLiteParseHTML(e)):isFunction(e)?jqLiteReady(e):jqLiteAddNodes(this,e)}function jqLiteClone(e){return e.cloneNode(!0)}function jqLiteDealoc(e,t){if(t||jqLiteRemoveData(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),i=0,r=n.length;i<r;i++)jqLiteRemoveData(n[i])}function jqLiteOff(e,t,n,i){if(isDefined(i))throw Y("offargs","jqLite#off() does not support the `selector` argument");var r=jqLiteExpandoStore(e),o=r&&r.events,a=r&&r.handle;if(a)if(t){var s=function(t){var i=o[t];isDefined(n)&&arrayRemove(i||[],n),isDefined(n)&&i&&i.length>0||(e.removeEventListener(t,a),delete o[t])};forEach(t.split(" "),function(e){s(e),z[e]&&s(z[e])})}else for(t in o)"$destroy"!==t&&e.removeEventListener(t,a),delete o[t]}function jqLiteRemoveData(e,t){var n=e.ng339,i=n&&H[n];if(i){if(t)return void delete i.data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),jqLiteOff(e)),delete H[n],e.ng339=void 0}}function jqLiteExpandoStore(e,t){var n=e.ng339,i=n&&H[n];return t&&!i&&(e.ng339=n=jqNextId(),i=H[n]={events:{},data:{},handle:void 0}),i}function jqLiteData(e,t,n){if(jqLiteAcceptsData(e)){var i,r=isDefined(n),o=!r&&t&&!isObject(t),a=!t,s=jqLiteExpandoStore(e,!o),l=s&&s.data;if(r)l[kebabToCamel(t)]=n;else{if(a)return l;if(o)return l&&l[kebabToCamel(t)];for(i in t)l[kebabToCamel(i)]=t[i]}}}function jqLiteHasClass(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function jqLiteRemoveClass(e,t){t&&e.setAttribute&&forEach(t.split(" "),function(t){e.setAttribute("class",C((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+C(t)+" "," ")))})}function jqLiteAddClass(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");forEach(t.split(" "),function(e){e=C(e),n.indexOf(" "+e+" ")===-1&&(n+=e+" ")}),e.setAttribute("class",C(n))}}function jqLiteAddNodes(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;i<n;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function jqLiteController(e,t){return jqLiteInheritedData(e,"$"+(t||"ngController")+"Controller")}function jqLiteInheritedData(e,t,n){e.nodeType===O&&(e=e.documentElement);for(var i=w(t)?t:[t];e;){for(var r=0,o=i.length;r<o;r++)if(isDefined(n=c.data(e,i[r])))return n;e=e.parentNode||e.nodeType===F&&e.host}}function jqLiteEmpty(e){for(jqLiteDealoc(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function jqLiteRemove(e,t){t||jqLiteDealoc(e);var n=e.parentNode;n&&n.removeChild(e)}function jqLiteDocumentLoaded(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):c(n).on("load",t)}function jqLiteReady(t){function trigger(){e.document.removeEventListener("DOMContentLoaded",trigger),e.removeEventListener("load",trigger),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",trigger),e.addEventListener("load",trigger))}function getBooleanAttrName(e,t){var n=Z[t.toLowerCase()];return n&&Q[nodeName_(e)]&&n}function getAliasedAttrName(e){return ee[e]}function createEventHandler(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[i||n.type],o=r?r.length:0;if(o){if(isUndefined(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=r.specialHandlerWrapper||defaultHandlerWrapper;o>1&&(r=shallowCopy(r));for(var l=0;l<o;l++)n.isImmediatePropagationStopped()||s(e,n,r[l])}};return n.elem=e,n}function defaultHandlerWrapper(e,t,n){n.call(e,t)}function specialMouseHandlerWrapper(e,t,n){var i=t.relatedTarget;i&&(i===e||X.call(e,i))||n.call(e,t)}function $$jqLiteProvider(){this.$get=function(){return extend(JQLite,{hasClass:function(e,t){return e.attr&&(e=e[0]),jqLiteHasClass(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),jqLiteAddClass(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),jqLiteRemoveClass(e,t)}})}}function hashKey(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var i=typeof e;return n="function"===i||"object"===i&&null!==e?e.$$hashKey=i+":"+(t||nextUid)():i+":"+e}function NgMapShim(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function stringifyFn(e){return Function.prototype.toString.call(e)}function extractArgs(e){var t=stringifyFn(e).replace(le,""),n=t.match(re)||t.match(oe);return n}function anonFn(e){var t=extractArgs(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function annotate(e,t,n){var i,r,o;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw isString(n)&&n||(n=e.name||anonFn(e)),ce("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);r=extractArgs(e),forEach(r[1].split(ae),function(e){e.replace(se,function(e,t,n){i.push(n)})})}e.$inject=i}}else w(e)?(o=e.length-1,assertArgFn(e[o],"fn"),i=e.slice(0,o)):assertArgFn(e,"fn",!0);return i}function createInjector(e,t){function supportObject(e){return function(t,n){return isObject(t)?void forEach(t,reverseParams(e)):e(t,n)}}function provider(e,t){if(assertNotHasOwnProperty(e,"service"),(isFunction(t)||w(t))&&(t=s.instantiate(t)),!t.$get)throw ce("pget","Provider '{0}' must define $get factory method.",e);return a[e+i]=t}function enforceReturnValue(e,t){return function(){var n=h.invoke(t,this);if(isUndefined(n))throw ce("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function factory(e,t,n){return provider(e,{$get:n!==!1?enforceReturnValue(e,t):t})}function service(e,t){return factory(e,["$injector",function(e){return e.instantiate(t)}])}function value(e,t){return factory(e,valueFn(t),!1)}function constant(e,t){assertNotHasOwnProperty(e,"constant"),a[e]=t,c[e]=t}function decorator(e,t){var n=s.get(e+i),r=n.$get;n.$get=function(){var e=h.invoke(r,n);return h.invoke(t,null,{$delegate:e})}}function loadModules(e){assertArg(isUndefined(e)||w(e),"modulesToLoad","not an array");var t,n=[];return forEach(e,function(e){function runInvokeQueue(e){var t,n;for(t=0,n=e.length;t<n;t++){var i=e[t],r=s.get(i[0]);r[i[1]].apply(r,i[2])}}if(!o.get(e)){o.set(e,!0);try{isString(e)?(t=d(e),n=n.concat(loadModules(t.requires)).concat(t._runBlocks),runInvokeQueue(t._invokeQueue),runInvokeQueue(t._configBlocks)):isFunction(e)?n.push(s.invoke(e)):w(e)?n.push(s.invoke(e)):assertArgFn(e,"module")}catch(t){throw w(e)&&(e=e[e.length-1]),t.message&&t.stack&&t.stack.indexOf(t.message)===-1&&(t=t.message+"\n"+t.stack),ce("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}}),n}function createInternalInjector(e,o){function getService(t,i){if(e.hasOwnProperty(t)){if(e[t]===n)throw ce("cdep","Circular dependency found: {0}",t+" <- "+r.join(" <- "));return e[t]}try{return r.unshift(t),e[t]=n,e[t]=o(t,i),e[t]}catch(i){throw e[t]===n&&delete e[t],i}finally{r.shift()}}function injectionArgs(e,n,i){for(var r=[],o=createInjector.$$annotate(e,t,i),a=0,s=o.length;a<s;a++){var l=o[a];if("string"!=typeof l)throw ce("itkn","Incorrect injection token! Expected service name as string, got {0}",l);r.push(n&&n.hasOwnProperty(l)?n[l]:getService(l,i))}return r}function isClass(e){if(l||"function"!=typeof e)return!1;var t=e.$$ngIsClass;return isBoolean(t)||(t=e.$$ngIsClass=/^(?:class\b|constructor\()/.test(stringifyFn(e))),t}function invoke(e,t,n,i){"string"==typeof n&&(i=n,n=null);var r=injectionArgs(e,n,i);return w(e)&&(e=e[e.length-1]),isClass(e)?(r.unshift(null),new(Function.prototype.bind.apply(e,r))):e.apply(t,r)}function instantiate(e,t,n){var i=w(e)?e[e.length-1]:e,r=injectionArgs(e,t,n);return r.unshift(null),new(Function.prototype.bind.apply(i,r))}return{invoke:invoke,instantiate:instantiate,get:getService,annotate:createInjector.$$annotate,has:function(t){return a.hasOwnProperty(t+i)||e.hasOwnProperty(t)}}}t=t===!0;var n={},i="Provider",r=[],o=new ne,a={$provide:{provider:supportObject(provider),factory:supportObject(factory),service:supportObject(service),value:supportObject(value),constant:supportObject(constant),decorator:decorator}},s=a.$injector=createInternalInjector(a,function(e,t){throw y.isString(t)&&r.push(t),ce("unpr","Unknown provider: {0}",r.join(" <- "))}),c={},u=createInternalInjector(c,function(e,t){var n=s.get(e+i,t);return h.invoke(n.$get,n,void 0,e)}),h=u;a["$injector"+i]={$get:valueFn(u)};var m=loadModules(e);return h=u.get("$injector"),h.strictDi=t,forEach(m,function(e){e&&h.invoke(e)}),h}function $AnchorScrollProvider(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function getFirstAnchor(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===nodeName_(e))return t=e,!0}),t}function getYOffset(){var e=scroll.yOffset;if(isFunction(e))e=e();else if(isElement(e)){var n=e[0],i=t.getComputedStyle(n);e="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else isNumber(e)||(e=0);return e}function scrollTo(e){if(e){e.scrollIntoView();var n=getYOffset();if(n){var i=e.getBoundingClientRect().top;t.scrollBy(0,i-n)}}else t.scrollTo(0,0)}function scroll(e){e=isString(e)?e:isNumber(e)?e.toString():n.hash();var t;e?(t=r.getElementById(e))?scrollTo(t):(t=getFirstAnchor(r.getElementsByName(e)))?scrollTo(t):"top"===e&&scrollTo(null):scrollTo(null)}var r=t.document;return e&&i.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||jqLiteDocumentLoaded(function(){i.$evalAsync(scroll)})}),scroll}]}function mergeClasses(e,t){return e||t?e?t?(w(e)&&(e=e.join(" ")),w(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function extractElementNode(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===de)return n}}function splitClasses(e){isString(e)&&(e=e.split(" "));var t=createMap();return forEach(e,function(e){e.length&&(t[e]=!0)}),t}function prepareAnimateOptions(e){return isObject(e)?e:{}}function Browser(e,t,n,i){function completeOutstandingRequest(e){try{e.apply(null,sliceArgs(arguments,1))}finally{if(d--,0===d)for(;h.length;)try{h.pop()()}catch(e){n.error(e)}}}function getHash(e){var t=e.indexOf("#");return t===-1?"":e.substr(t)}function cacheStateAndFireUrlChange(){v=null,fireStateOrUrlChange()}function cacheState(){m=y(),m=isUndefined(m)?null:m,equals(m,w)&&(m=w),w=m,p=m}function fireStateOrUrlChange(){var e=p;cacheState(),f===r.url()&&e===m||(f=r.url(),p=m,forEach(b,function(e){e(r.url(),m)}))}var r=this,o=e.location,a=e.history,s=e.setTimeout,l=e.clearTimeout,u={};r.isMock=!1;var d=0,h=[];r.$$completeOutstandingRequest=completeOutstandingRequest,r.$$incOutstandingRequestCount=function(){d++},r.notifyWhenNoOutstandingRequests=function(e){0===d?e():h.push(e)};var m,p,f=o.href,g=t.find("base"),v=null,y=i.history?function(){try{return a.state}catch(e){}}:noop;cacheState(),r.url=function(t,n,s){if(isUndefined(s)&&(s=null),o!==e.location&&(o=e.location),a!==e.history&&(a=e.history),t){var l=p===s;if(f===t&&(!i.history||l))return r;var c=f&&stripHash(f)===stripHash(t);return f=t,p=s,!i.history||c&&l?(c||(v=t),n?o.replace(t):c?o.hash=getHash(t):o.href=t,o.href!==t&&(v=t)):(a[n?"replaceState":"pushState"](s,"",t),cacheState()),v&&(v=t),r}return v||o.href.replace(/%27/g,"'")},r.state=function(){return m};var b=[],_=!1,w=null;r.onUrlChange=function(t){return _||(i.history&&c(e).on("popstate",cacheStateAndFireUrlChange),c(e).on("hashchange",cacheStateAndFireUrlChange),_=!0),b.push(t),t},r.$$applicationDestroyed=function(){c(e).off("hashchange popstate",cacheStateAndFireUrlChange)},r.$$checkUrlChange=fireStateOrUrlChange,r.baseHref=function(){var e=g.attr("href");return e?e.replace(/^(https?:)?\/\/[^\/]*/,""):""},r.defer=function(e,t){var n;return d++,n=s(function(){delete u[n],completeOutstandingRequest(e)},t||0),u[n]=!0,n},r.defer.cancel=function(e){return!!u[e]&&(delete u[e],l(e),completeOutstandingRequest(noop),!0)}}function $BrowserProvider(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new Browser(e,i,t,n)}]}function $CacheFactoryProvider(){this.$get=function(){function cacheFactory(t,n){function refresh(e){e!==l&&(c?c===e&&(c=e.n):c=e,link(e.n,e.p),link(e,l),l=e,l.n=null)}function link(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}if(t in e)throw minErr("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var i=0,r=extend({},n,{id:t}),o=createMap(),a=n&&n.capacity||Number.MAX_VALUE,s=createMap(),l=null,c=null;return e[t]={put:function(e,t){if(!isUndefined(t)){if(a<Number.MAX_VALUE){var n=s[e]||(s[e]={key:e});refresh(n)}return e in o||i++,o[e]=t,i>a&&this.remove(c.key),t}},get:function(e){if(a<Number.MAX_VALUE){var t=s[e];if(!t)return;refresh(t)}return o[e]},remove:function(e){if(a<Number.MAX_VALUE){var t=s[e];if(!t)return;t===l&&(l=t.p),t===c&&(c=t.n),link(t.n,t.p),delete s[e]}e in o&&(delete o[e],i--)},removeAll:function(){o=createMap(),i=0,s=createMap(),l=c=null},destroy:function(){o=null,r=null,s=null,delete e[t]},info:function(){return extend({},r,{size:i})}}}var e={};return cacheFactory.info=function(){var t={};return forEach(e,function(e,n){t[n]=e.info()}),t},cacheFactory.get=function(t){return e[t]},cacheFactory}}function $TemplateCacheProvider(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function UNINITIALIZED_VALUE(){}function $CompileProvider(t,n){function parseIsolateBindings(e,t,n){var i=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,r=createMap();return forEach(e,function(e,o){if(e in p)return void(r[o]=p[e]);var a=e.match(i);if(!a)throw be("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e,n?"controller bindings definition":"isolate scope definition");r[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o},a[4]&&(p[e]=r[o])}),r}function parseDirectiveBindings(e,t){var n={isolateScope:null,bindToController:null};if(isObject(e.scope)&&(e.bindToController===!0?(n.bindToController=parseIsolateBindings(e.scope,t,!0),n.isolateScope={}):n.isolateScope=parseIsolateBindings(e.scope,t,!1)),isObject(e.bindToController)&&(n.bindToController=parseIsolateBindings(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw be("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}function assertValidDirectiveName(e){var t=e.charAt(0);if(!t||t!==r(t))throw be("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw be("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}function getDirectiveRequire(e){var t=e.require||e.controller&&e.name;return!w(t)&&isObject(t)&&forEach(t,function(e,n){var i=e.match(h),r=e.substring(i[0].length);r||(t[n]=i[0]+n)}),t}function getDirectiveRestrict(e,t){if(e&&(!isString(e)||!/[EACM]/.test(e)))throw be("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}var o={},a="Directive",s=/^\s*directive:\s*([\w-]+)\s+(.*)$/,u=/(([\w-]+)(?::([^;]+))?;?)/,d=makeMap("ngSrc,ngSrcset,src,srcset"),h=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,m=/^(on[a-z]+|formaction)$/,p=createMap();this.directive=function registerDirective(e,n){return assertArg(e,"name"),assertNotHasOwnProperty(e,"directive"),isString(e)?(assertValidDirectiveName(e),assertArg(n,"directiveFactory"),o.hasOwnProperty(e)||(o[e]=[],t.factory(e+a,["$injector","$exceptionHandler",function(t,n){var i=[];return forEach(o[e],function(r,o){try{var a=t.invoke(r);isFunction(a)?a={compile:valueFn(a)}:!a.compile&&a.link&&(a.compile=valueFn(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||e,a.require=getDirectiveRequire(a),a.restrict=getDirectiveRestrict(a.restrict,e),a.$$moduleName=r.$$moduleName,i.push(a)}catch(e){n(e)}}),i}])),o[e].push(n)):forEach(e,reverseParams(registerDirective)),this},this.component=function(e,t){function factory(e){function makeInjectable(t){return isFunction(t)||w(t)?function(n,i){return e.invoke(t,this,{$element:n,$attrs:i})}:t}var i=t.template||t.templateUrl?t.template:"",r={controller:n,controllerAs:identifierForController(t.controller)||t.controllerAs||"$ctrl",template:makeInjectable(i),templateUrl:makeInjectable(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return forEach(t,function(e,t){"$"===t.charAt(0)&&(r[t]=e)}),r}var n=t.controller||function(){};return forEach(t,function(e,t){"$"===t.charAt(0)&&(factory[t]=e,isFunction(n)&&(n[t]=e))}),factory.$inject=["$injector"],this.directive(e,factory)},this.aHrefSanitizationWhitelist=function(e){return isDefined(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return isDefined(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist();
};var g=!0;this.debugInfoEnabled=function(e){return isDefined(e)?(g=e,this):g};var v=!1;this.preAssignBindingsEnabled=function(e){return isDefined(e)?(v=e,this):v};var y=10;this.onChangesTtl=function(e){return arguments.length?(y=e,this):y};var b=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(b=e,this):b};var _=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(_=e,this):_},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,p,x,S,E,T,M,k,A){function flushOnChangesQueue(){try{if(!--N)throw $=void 0,be("infchng","{0} $onChanges() iterations reached. Aborting!\n",y);T.$apply(function(){for(var e=[],t=0,n=$.length;t<n;++t)try{$[t]()}catch(t){e.push(t)}if($=void 0,e.length)throw e})}finally{N++}}function Attributes(e,t){if(t){var n,i,r,o=Object.keys(t);for(n=0,i=o.length;n<i;n++)r=o[n],this[r]=t[r]}else this.$attr={};this.$$element=e}function setSpecialAttr(e,t,n){D.innerHTML="<span "+t+">";var i=D.firstChild.attributes,r=i[0];i.removeNamedItem(r.name),r.value=n,e.attributes.setNamedItem(r)}function safeAddClass(e,t){try{e.addClass(t)}catch(e){}}function compile(e,t,n,i,r){e instanceof c||(e=c(e));var o=compileNodes(e,t,e,n,i,r);compile.$$addScopeClass(e);var a=null;return function(t,n,i){if(!e)throw be("multilink","This element has already been linked.");assertArg(t,"scope"),r&&r.needsNewScope&&(t=t.$parent.$new()),i=i||{};var s=i.parentBoundTranscludeFn,l=i.transcludeControllers,u=i.futureParentElement;s&&s.$$boundTransclude&&(s=s.$$boundTransclude),a||(a=detectNamespaceForChildElements(u));var d;if(d="html"!==a?c(wrapTemplate(a,c("<div>").append(e).html())):n?J.clone.call(e):e,l)for(var h in l)d.data("$"+h+"Controller",l[h].instance);return compile.$$addScopeInfo(d,t),n&&n(d,t),o&&o(t,d,d,s),n||(e=o=null),d}}function detectNamespaceForChildElements(e){var t=e&&e[0];return t&&"foreignobject"!==nodeName_(t)&&f.call(t).match(/SVG/)?"svg":"html"}function compileNodes(e,t,n,i,r,o){function compositeLinkFn(e,n,i,r){var o,a,s,l,u,d,h,m,g;if(p){var v=n.length;for(g=new Array(v),u=0;u<f.length;u+=3)h=f[u],g[h]=n[h]}else g=n;for(u=0,d=f.length;u<d;)s=g[f[u++]],o=f[u++],a=f[u++],o?(o.scope?(l=e.$new(),compile.$$addScopeInfo(c(s),l)):l=e,m=o.transcludeOnThisElement?createBoundTranscludeFn(e,o.transclude,r):!o.templateOnThisElement&&r?r:!r&&t?createBoundTranscludeFn(e,t):null,o(a,l,s,i,m)):a&&a(e,s.childNodes,void 0,r)}for(var a,s,u,d,h,m,p,f=[],g=w(e)||e instanceof c,v=0;v<e.length;v++)a=new Attributes,11===l&&mergeConsecutiveTextNodes(e,v,g),s=collectDirectives(e[v],[],a,0===v?i:void 0,r),u=s.length?applyDirectivesToNode(s,e[v],a,t,n,null,[],[],o):null,u&&u.scope&&compile.$$addScopeClass(a.$$element),h=u&&u.terminal||!(d=e[v].childNodes)||!d.length?null:compileNodes(d,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||h)&&(f.push(v,u,h),m=!0,p=p||u),o=null;return m?compositeLinkFn:null}function mergeConsecutiveTextNodes(e,t,n){var i,r=e[t],o=r.parentNode;if(r.nodeType===R)for(;;){if(i=o?r.nextSibling:e[t+1],!i||i.nodeType!==R)break;r.nodeValue=r.nodeValue+i.nodeValue,i.parentNode&&i.parentNode.removeChild(i),n&&i===e[t+1]&&e.splice(t+1,1)}}function createBoundTranscludeFn(e,t,n){function boundTranscludeFn(i,r,o,a,s){return i||(i=e.$new(!1,s),i.$$transcluded=!0),t(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var i=boundTranscludeFn.$$slots=createMap();for(var r in t.$$slots)t.$$slots[r]?i[r]=createBoundTranscludeFn(e,t.$$slots[r],n):i[r]=null;return boundTranscludeFn}function collectDirectives(e,t,n,i,r){var o,a,s,l=e.nodeType,c=n.$attr;switch(l){case L:a=nodeName_(e),addDirective(t,directiveNormalize(a),"E",i,r);for(var d,h,m,p,f,g,v=e.attributes,y=0,b=v&&v.length;y<b;y++){var _=!1,w=!1;d=v[y],h=d.name,f=d.value,p=directiveNormalize(h),g=V.test(p),g&&(h=h.replace(we,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var x=p.match(z);x&&directiveIsMultiElement(x[1])&&(_=h,w=h.substr(0,h.length-5)+"end",h=h.substr(0,h.length-6)),m=directiveNormalize(h.toLowerCase()),c[m]=h,!g&&n.hasOwnProperty(m)||(n[m]=f,getBooleanAttrName(e,m)&&(n[m]=!0)),addAttrInterpolateDirective(e,t,f,m,g),addDirective(t,m,"A",i,r,_,w)}if("input"===a&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!F)break;if(s=e.className,isObject(s)&&(s=s.animVal),isString(s)&&""!==s)for(;o=u.exec(s);)m=directiveNormalize(o[2]),addDirective(t,m,"C",i,r)&&(n[m]=C(o[3])),s=s.substr(o.index+o[0].length);break;case R:addTextInterpolateDirective(t,e.nodeValue);break;case I:if(!O)break;collectCommentDirectives(e,t,n,i,r)}return t.sort(byPriority),t}function collectCommentDirectives(e,t,n,i,r){try{var o=s.exec(e.nodeValue);if(o){var a=directiveNormalize(o[1]);addDirective(t,a,"M",i,r)&&(n[a]=C(o[2]))}}catch(e){}}function groupScan(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw be("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType===L&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(r>0)}else i.push(e);return c(i)}function groupElementsLinkFnWrapper(e,t,n){return function(i,r,o,a,s){return r=groupScan(r[0],t,n),e(i,r,o,a,s)}}function compilationGenerator(e,t,n,i,r,o){var a;return e?compile(t,n,i,r,o):function(){return a||(a=compile(t,n,i,r,o),t=n=o=null),a.apply(this,arguments)}}function applyDirectivesToNode(e,t,n,i,r,o,a,s,l){function addLinkFns(e,t,n,i){e&&(n&&(e=groupElementsLinkFnWrapper(e,n,i)),e.require=u.require,e.directiveName=d,(_===u||u.$$isolateScope)&&(e=cloneAndAnnotateFn(e,{isolateScope:!0})),a.push(e)),t&&(n&&(t=groupElementsLinkFnWrapper(t,n,i)),t.require=u.require,t.directiveName=d,(_===u||u.$$isolateScope)&&(t=cloneAndAnnotateFn(t,{isolateScope:!0})),s.push(t))}function nodeLinkFn(e,i,r,o,l){function controllersBoundTransclude(e,t,n,i){var r;if(isScope(e)||(i=n,n=t,t=e,e=void 0),M&&(r=g),n||(n=M?S.parent():S),!i)return l(e,t,r,n,D);var o=l.$$slots[i];if(o)return o(e,t,r,n,D);if(isUndefined(o))throw be("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,startingTag(S))}var u,d,h,m,f,g,C,S,E,T;t===r?(E=n,S=n.$$element):(S=c(r),E=new Attributes(S,n)),f=i,_?m=i.$new(!0):y&&(f=i.$parent),l&&(C=controllersBoundTransclude,C.$$boundTransclude=l,C.isSlotFilled=function(e){return!!l.$$slots[e]}),b&&(g=setupControllers(S,E,C,b,m,i,_)),_&&(compile.$$addScopeInfo(S,m,!0,!(x&&(x===_||x===_.$$originalDirective))),compile.$$addScopeClass(S,!0),m.$$isolateBindings=_.$$isolateBindings,T=initializeDirectiveBindings(i,E,m,m.$$isolateBindings,_),T.removeWatches&&m.$on("$destroy",T.removeWatches));for(var k in g){var A=b[k],$=g[k],P=A.$$bindings.bindToController;if(v){P?$.bindingInfo=initializeDirectiveBindings(f,E,$.instance,P,A):$.bindingInfo={};var L=$();L!==$.instance&&($.instance=L,S.data("$"+A.name+"Controller",L),$.bindingInfo.removeWatches&&$.bindingInfo.removeWatches(),$.bindingInfo=initializeDirectiveBindings(f,E,$.instance,P,A))}else $.instance=$(),S.data("$"+A.name+"Controller",$.instance),$.bindingInfo=initializeDirectiveBindings(f,E,$.instance,P,A)}for(forEach(b,function(e,t){var n=e.require;e.bindToController&&!w(n)&&isObject(n)&&extend(g[t].instance,getControllers(t,n,S,g))}),forEach(g,function(e){var t=e.instance;if(isFunction(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){p(e)}if(isFunction(t.$onInit))try{t.$onInit()}catch(e){p(e)}isFunction(t.$doCheck)&&(f.$watch(function(){t.$doCheck()}),t.$doCheck()),isFunction(t.$onDestroy)&&f.$on("$destroy",function(){t.$onDestroy()})}),u=0,d=a.length;u<d;u++)h=a[u],invokeLinkFn(h,h.isolateScope?m:i,S,E,h.require&&getControllers(h.directiveName,h.require,S,g),C);var D=i;for(_&&(_.template||null===_.templateUrl)&&(D=m),e&&e(D,r.childNodes,void 0,l),u=s.length-1;u>=0;u--)h=s[u],invokeLinkFn(h,h.isolateScope?m:i,S,E,h.require&&getControllers(h.directiveName,h.require,S,g),C);forEach(g,function(e){var t=e.instance;isFunction(t.$postLink)&&t.$postLink()})}l=l||{};for(var u,d,h,m,f,g=-Number.MAX_VALUE,y=l.newScopeDirective,b=l.controllerDirectives,_=l.newIsolateScopeDirective,x=l.templateDirective,S=l.nonTlbTranscludeDirective,E=!1,T=!1,M=l.hasElementTranscludeDirective,k=n.$$element=c(t),A=o,$=i,P=!1,D=!1,R=0,I=e.length;R<I;R++){u=e[R];var O=u.$$start,F=u.$$end;if(O&&(k=groupScan(t,O,F)),h=void 0,g>u.priority)break;if(f=u.scope,f&&(u.templateUrl||(isObject(f)?(assertNoDuplicate("new/isolated scope",_||y,u,k),_=u):assertNoDuplicate("new/isolated scope",_,u,k)),y=y||u),d=u.name,!P&&(u.replace&&(u.templateUrl||u.template)||u.transclude&&!u.$$tlb)){for(var N,H=R+1;N=e[H++];)if(N.transclude&&!N.$$tlb||N.replace&&(N.templateUrl||N.template)){D=!0;break}P=!0}if(!u.templateUrl&&u.controller&&(b=b||createMap(),assertNoDuplicate("'"+d+"' controller",b[d],u,k),b[d]=u),f=u.transclude)if(E=!0,u.$$tlb||(assertNoDuplicate("transclusion",S,u,k),S=u),"element"===f)M=!0,g=u.priority,h=k,k=n.$$element=c(compile.$$createComment(d,n[d])),t=k[0],replaceWith(r,sliceArgs(h),t),h[0].$$parentNode=h[0].parentNode,$=compilationGenerator(D,h,i,g,A&&A.name,{nonTlbTranscludeDirective:S});else{var j=createMap();if(isObject(f)){h=[];var V=createMap(),z=createMap();forEach(f,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,V[e]=t,j[t]=null,z[t]=n}),forEach(k.contents(),function(e){var t=V[directiveNormalize(nodeName_(e))];t?(z[t]=!0,j[t]=j[t]||[],j[t].push(e)):h.push(e)}),forEach(z,function(e,t){if(!e)throw be("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var Y in j)j[Y]&&(j[Y]=compilationGenerator(D,j[Y],i))}else h=c(jqLiteClone(t)).contents();k.empty(),$=compilationGenerator(D,h,i,void 0,void 0,{needsNewScope:u.$$isolateScope||u.$$newScope}),$.$$slots=j}if(u.template)if(T=!0,assertNoDuplicate("template",x,u,k),x=u,f=isFunction(u.template)?u.template(k,n):u.template,f=B(f),u.replace){if(A=u,h=jqLiteIsTextNode(f)?[]:removeComments(wrapTemplate(u.templateNamespace,C(f))),t=h[0],1!==h.length||t.nodeType!==L)throw be("tplrt","Template for directive '{0}' must have exactly one root element. {1}",d,"");replaceWith(r,k,t);var U={$attr:{}},G=collectDirectives(t,[],U),q=e.splice(R+1,e.length-(R+1));(_||y)&&markDirectiveScope(G,_,y),e=e.concat(G).concat(q),mergeTemplateAttributes(n,U),I=e.length}else k.html(f);if(u.templateUrl)T=!0,assertNoDuplicate("template",x,u,k),x=u,u.replace&&(A=u),nodeLinkFn=compileTemplateUrl(e.splice(R,e.length-R),k,n,r,E&&$,a,s,{controllerDirectives:b,newScopeDirective:y!==u&&y,newIsolateScopeDirective:_,templateDirective:x,nonTlbTranscludeDirective:S}),I=e.length;else if(u.compile)try{m=u.compile(k,n,$);var W=u.$$originalDirective||u;isFunction(m)?addLinkFns(null,bind(W,m),O,F):m&&addLinkFns(bind(W,m.pre),bind(W,m.post),O,F)}catch(e){p(e,startingTag(k))}u.terminal&&(nodeLinkFn.terminal=!0,g=Math.max(g,u.priority))}return nodeLinkFn.scope=y&&y.scope===!0,nodeLinkFn.transcludeOnThisElement=E,nodeLinkFn.templateOnThisElement=T,nodeLinkFn.transclude=$,l.hasElementTranscludeDirective=M,nodeLinkFn}function getControllers(e,t,n,i){var r;if(isString(t)){var o=t.match(h),a=t.substring(o[0].length),s=o[1]||o[3],l="?"===o[2];if("^^"===s?n=n.parent():(r=i&&i[a],r=r&&r.instance),!r){var c="$"+a+"Controller";r=s?n.inheritedData(c):n.data(c)}if(!r&&!l)throw be("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,e)}else if(w(t)){r=[];for(var u=0,d=t.length;u<d;u++)r[u]=getControllers(e,t[u],n,i)}else isObject(t)&&(r={},forEach(t,function(t,o){r[o]=getControllers(e,t,n,i)}));return r||null}function setupControllers(e,t,n,i,r,o,a){var s=createMap();for(var l in i){var c=i[l],u={$scope:c===a||c.$$isolateScope?r:o,$element:e,$attrs:t,$transclude:n},d=c.controller;"@"===d&&(d=t[c.name]);var h=E(d,u,!0,c.controllerAs);s[c.name]=h,e.data("$"+c.name+"Controller",h.instance)}return s}function markDirectiveScope(e,t,n){for(var i=0,r=e.length;i<r;i++)e[i]=inherit(e[i],{$$isolateScope:t,$$newScope:n})}function addDirective(e,n,i,r,s,l,c){if(n===s)return null;var u=null;if(o.hasOwnProperty(n))for(var d,h=t.get(n+a),m=0,p=h.length;m<p;m++)if(d=h[m],(isUndefined(r)||r>d.priority)&&d.restrict.indexOf(i)!==-1){if(l&&(d=inherit(d,{$$start:l,$$end:c})),!d.$$bindings){var f=d.$$bindings=parseDirectiveBindings(d,d.name);isObject(f.isolateScope)&&(d.$$isolateBindings=f.isolateScope)}e.push(d),u=d}return u}function directiveIsMultiElement(e){if(o.hasOwnProperty(e))for(var n,i=t.get(e+a),r=0,s=i.length;r<s;r++)if(n=i[r],n.multiElement)return!0;return!1}function mergeTemplateAttributes(e,t){var n=t.$attr,i=e.$attr;forEach(e,function(i,r){"$"!==r.charAt(0)&&(t[r]&&t[r]!==i&&(i.length?i+=("style"===r?";":" ")+t[r]:i=t[r]),e.$set(r,i,!0,n[r]))}),forEach(t,function(t,r){e.hasOwnProperty(r)||"$"===r.charAt(0)||(e[r]=t,"class"!==r&&"style"!==r&&(i[r]=n[r]))})}function compileTemplateUrl(e,t,n,i,r,o,a,s){var l,u,d=[],h=t[0],m=e.shift(),f=inherit(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),g=isFunction(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,v=m.templateNamespace;return t.empty(),x(g).then(function(p){var y,b,_,w;if(p=B(p),m.replace){if(_=jqLiteIsTextNode(p)?[]:removeComments(wrapTemplate(v,C(p))),y=_[0],1!==_.length||y.nodeType!==L)throw be("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,g);b={$attr:{}},replaceWith(i,t,y);var x=collectDirectives(y,[],b);isObject(m.scope)&&markDirectiveScope(x,!0),e=x.concat(e),mergeTemplateAttributes(n,b)}else y=h,t.html(p);for(e.unshift(f),l=applyDirectivesToNode(e,y,n,r,t,m,o,a,s),forEach(i,function(e,n){e===y&&(i[n]=t[0])}),u=compileNodes(t[0].childNodes,r);d.length;){var S=d.shift(),E=d.shift(),T=d.shift(),M=d.shift(),k=t[0];if(!S.$$destroyed){if(E!==h){var A=E.className;s.hasElementTranscludeDirective&&m.replace||(k=jqLiteClone(y)),replaceWith(T,c(E),k),safeAddClass(c(k),A)}w=l.transcludeOnThisElement?createBoundTranscludeFn(S,l.transclude,M):M,l(u,S,k,i,w)}}d=null}).catch(function(e){e instanceof Error&&p(e)}),function(e,t,n,i,r){var o=r;t.$$destroyed||(d?d.push(t,n,i,o):(l.transcludeOnThisElement&&(o=createBoundTranscludeFn(t,l.transclude,r)),l(u,t,n,i,o)))}}function byPriority(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function assertNoDuplicate(e,t,n,i){function wrapModuleNameIfDefined(e){return e?" (module: "+e+")":""}if(t)throw be("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,wrapModuleNameIfDefined(t.$$moduleName),n.name,wrapModuleNameIfDefined(n.$$moduleName),e,startingTag(i))}function addTextInterpolateDirective(e,t){var i=n(t,!0);i&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&compile.$$addBindingClass(t),function(e,t){var r=t.parent();n||compile.$$addBindingClass(r),compile.$$addBindingInfo(r,i.expressions),e.$watch(i,function(e){t[0].nodeValue=e})}}})}function wrapTemplate(t,n){switch(t=r(t||"html")){case"svg":case"math":var i=e.document.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function getTrustedContext(e,t){if("srcdoc"===t)return M.HTML;var n=nodeName_(e);if("src"===t||"ngSrc"===t){if(["img","video","audio","source","track"].indexOf(n)===-1)return M.RESOURCE_URL}else if("xlinkHref"===t||"form"===n&&"action"===t||"link"===n&&"href"===t)return M.RESOURCE_URL}function addAttrInterpolateDirective(e,t,i,r,o){var a=getTrustedContext(e,r),s=!o,l=d[r]||o,c=n(i,s,a,l);if(c){if("multiple"===r&&"select"===nodeName_(e))throw be("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",startingTag(e));if(m.test(r))throw be("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");t.push({priority:100,compile:function(){return{pre:function(e,t,o){var s=o.$$observers||(o.$$observers=createMap()),u=o[r];u!==i&&(c=u&&n(u,!0,a,l),i=u),c&&(o[r]=c(e),(s[r]||(s[r]=[])).$$inter=!0,(o.$$observers&&o.$$observers[r].$$scope||e).$watch(c,function(e,t){"class"===r&&e!==t?o.$updateClass(e,t):o.$set(r,e)}))}}}})}}function replaceWith(t,n,i){var r,o,a=n[0],s=n.length,l=a.parentNode;if(t)for(r=0,o=t.length;r<o;r++)if(t[r]===a){t[r++]=i;for(var u=r,d=u+s-1,h=t.length;u<h;u++,d++)d<h?t[u]=t[d]:delete t[u];t.length-=s-1,t.context===a&&(t.context=i);break}l&&l.replaceChild(i,a);var m=e.document.createDocumentFragment();for(r=0;r<s;r++)m.appendChild(n[r]);for(c.hasData(a)&&(c.data(i,c.data(a)),c(a).off("$destroy")),c.cleanData(m.querySelectorAll("*")),r=1;r<s;r++)delete n[r];n[0]=i,n.length=1}function cloneAndAnnotateFn(e,t){return extend(function(){return e.apply(null,arguments)},e,t)}function invokeLinkFn(e,t,n,i,r,o){try{e(t,n,i,r,o)}catch(e){p(e,startingTag(n))}}function initializeDirectiveBindings(e,t,r,o,a){function recordChanges(t,n,i){!isFunction(r.$onChanges)||n===i||n!==n&&i!==i||($||(e.$$postDigest(flushOnChangesQueue),$=[]),s||(s={},$.push(triggerOnChangesHook)),s[t]&&(i=s[t].previousValue),s[t]=new SimpleChange(i,n))}function triggerOnChangesHook(){r.$onChanges(s),s=void 0}var s,l=[],c={};return forEach(o,function(o,s){var u,d,h,m,p,f=o.attrName,g=o.optional,v=o.mode;switch(v){case"@":g||i.call(t,f)||(r[s]=t[f]=void 0),p=t.$observe(f,function(e){if(isString(e)||isBoolean(e)){var t=r[s];recordChanges(s,e,t),r[s]=e}}),t.$$observers[f].$$scope=e,u=t[f],isString(u)?r[s]=n(u)(e):isBoolean(u)&&(r[s]=u),c[s]=new SimpleChange(_e,r[s]),l.push(p);break;case"=":if(!i.call(t,f)){if(g)break;t[f]=void 0}if(g&&!t[f])break;d=S(t[f]),m=d.literal?equals:function(e,t){return e===t||e!==e&&t!==t},h=d.assign||function(){throw u=r[s]=d(e),be("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[f],f,a.name)},u=r[s]=d(e);var y=function(t){return m(t,r[s])||(m(t,u)?h(e,t=r[s]):r[s]=t),u=t};y.$stateful=!0,p=o.collection?e.$watchCollection(t[f],y):e.$watch(S(t[f],y),null,d.literal),l.push(p);break;case"<":if(!i.call(t,f)){if(g)break;t[f]=void 0}if(g&&!t[f])break;d=S(t[f]);var b=d.literal,_=r[s]=d(e);c[s]=new SimpleChange(_e,r[s]),p=e.$watch(d,function(e,t){if(t===e){if(t===_||b&&equals(t,_))return;t=_}recordChanges(s,e,t),r[s]=e},b),l.push(p);break;case"&":if(d=t.hasOwnProperty(f)?S(t[f]):noop,d===noop&&g)break;r[s]=function(t){return d(e,t)}}}),{initialChanges:c,removeWatches:l.length&&function(){for(var e=0,t=l.length;e<t;++e)l[e]()}}}var $,P=/^\w/,D=e.document.createElement("div"),O=b,F=_,N=y;Attributes.prototype={$normalize:directiveNormalize,$addClass:function(e){e&&e.length>0&&k.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&k.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=tokenDifference(e,t);n&&n.length&&k.addClass(this.$$element,n);var i=tokenDifference(t,e);i&&i.length&&k.removeClass(this.$$element,i)},$set:function(e,t,n,i){var r,o=this.$$element[0],a=getBooleanAttrName(o,e),s=getAliasedAttrName(e),l=e;if(a?(this.$$element.prop(e,t),i=a):s&&(this[s]=t,l=s),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e],i||(this.$attr[e]=i=snake_case(e,"-"))),r=nodeName_(this.$$element),"a"===r&&("href"===e||"xlinkHref"===e)||"img"===r&&"src"===e)this[e]=t=A(t,"src"===e);else if("img"===r&&"srcset"===e&&isDefined(t)){for(var c="",u=C(t),d=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,h=/\s/.test(u)?d:/(,)/,m=u.split(h),f=Math.floor(m.length/2),g=0;g<f;g++){var v=2*g;c+=A(C(m[v]),!0),c+=" "+C(m[v+1])}var y=C(m[2*g]).split(/\s/);c+=A(C(y[0]),!0),2===y.length&&(c+=" "+C(y[1])),this[e]=t=c}n!==!1&&(null===t||isUndefined(t)?this.$$element.removeAttr(i):P.test(i)?this.$$element.attr(i,t):setSpecialAttr(this.$$element[0],i,t));var b=this.$$observers;b&&forEach(b[l],function(e){try{e(t)}catch(e){p(e)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=createMap()),r=i[e]||(i[e]=[]);return r.push(t),T.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(e)||isUndefined(n[e])||t(n[e])}),function(){arrayRemove(r,t)}}};var H=n.startSymbol(),j=n.endSymbol(),B="{{"===H&&"}}"===j?identity:function(e){return e.replace(/\{\{/g,H).replace(/}}/g,j)},V=/^ngAttr[A-Z]/,z=/^(.+)Start$/;return compile.$$addBindingInfo=g?function(e,t){var n=e.data("$binding")||[];w(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:noop,compile.$$addBindingClass=g?function(e){safeAddClass(e,"ng-binding")}:noop,compile.$$addScopeInfo=g?function(e,t,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(r,t)}:noop,compile.$$addScopeClass=g?function(e,t){safeAddClass(e,t?"ng-isolate-scope":"ng-scope")}:noop,compile.$$createComment=function(t,n){var i="";return g&&(i=" "+(t||"")+": ",n&&(i+=n+" ")),e.document.createComment(i)},compile}]}function SimpleChange(e,t){this.previousValue=e,this.currentValue=t}function directiveNormalize(e){return e.replace(we,"").replace(xe,fnCamelCaseReplace)}function tokenDifference(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/);e:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a===r[s])continue e;n+=(n.length>0?" ":"")+a}return n}function removeComments(e){e=c(e);var t=e.length;if(t<=1)return e;for(;t--;){var n=e[t];(n.nodeType===I||n.nodeType===R&&""===n.nodeValue.trim())&&m.call(e,t,1)}return e}function identifierForController(e,t){if(t&&isString(t))return t;if(isString(e)){var n=Se.exec(e);if(n)return n[3]}}function $ControllerProvider(){var e={},t=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){assertNotHasOwnProperty(t,"controller"),isObject(t)?extend(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(n,i){function addIdentifier(e,t,n,i){if(!e||!isObject(e.$scope))throw minErr("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}return function(r,o,a,s){var l,c,u,d;if(a=a===!0,s&&isString(s)&&(d=s),isString(r)){if(c=r.match(Se),!c)throw Ce("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);if(u=c[1],d=d||c[3],r=e.hasOwnProperty(u)?e[u]:getter(o.$scope,u,!0)||(t?getter(i,u,!0):void 0),!r)throw Ce("ctrlreg","The controller with the name '{0}' is not registered.",u);assertArgFn(r,u,!0)}if(a){var h=(w(r)?r[r.length-1]:r).prototype;return l=Object.create(h||null),d&&addIdentifier(o,d,l,u||r.name),extend(function(){var e=n.invoke(r,l,o,u);return e!==l&&(isObject(e)||isFunction(e))&&(l=e,d&&addIdentifier(o,d,l,u||r.name)),l},{instance:l,identifier:d})}return l=n.instantiate(r,o,u),d&&addIdentifier(o,d,l,u||r.name),l}}]}function $DocumentProvider(){this.$get=["$window",function(e){return c(e.document)}]}function $$IsDocumentHiddenProvider(){this.$get=["$document","$rootScope",function(e,t){function changeListener(){i=n.hidden}var n=e[0],i=n&&n.hidden;return e.on("visibilitychange",changeListener),t.$on("$destroy",function(){e.off("visibilitychange",changeListener)}),function(){return i}}]}function $ExceptionHandlerProvider(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function serializeValue(e){return isObject(e)?isDate(e)?e.toISOString():toJson(e):e}function $HttpParamSerializerProvider(){this.$get=function(){return function(e){if(!e)return"";var t=[];return forEachSorted(e,function(e,n){null===e||isUndefined(e)||(w(e)?forEach(e,function(e){t.push(encodeUriQuery(n)+"="+encodeUriQuery(serializeValue(e)))}):t.push(encodeUriQuery(n)+"="+encodeUriQuery(serializeValue(e))))}),t.join("&")}}}function $HttpParamSerializerJQLikeProvider(){this.$get=function(){return function(e){function serialize(e,n,i){null===e||isUndefined(e)||(w(e)?forEach(e,function(e,t){serialize(e,n+"["+(isObject(e)?t:"")+"]")}):isObject(e)&&!isDate(e)?forEachSorted(e,function(e,t){serialize(e,n+(i?"":"[")+t+(i?"":"]"))}):t.push(encodeUriQuery(n)+"="+encodeUriQuery(serializeValue(e))))}if(!e)return"";var t=[];return serialize(e,"",!0),t.join("&")}}}function defaultHttpResponseTransform(e,t){if(isString(e)){var n=e.replace($e,"").trim();if(n){var i=t("Content-Type");(i&&0===i.indexOf(Te)||isJsonLike(n))&&(e=fromJson(n))}}return e}function isJsonLike(e){var t=e.match(ke);return t&&Ae[t[0]].test(e)}function parseHeaders(e){function fillInParsed(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}var t,n=createMap();return isString(e)?forEach(e.split("\n"),function(e){t=e.indexOf(":"),fillInParsed(r(C(e.substr(0,t))),C(e.substr(t+1)))}):isObject(e)&&forEach(e,function(e,t){fillInParsed(r(t),C(e))}),n}function headersGetter(e){var t;return function(n){if(t||(t=parseHeaders(e)),n){var i=t[r(n)];return void 0===i&&(i=null),i}return t}}function transformData(e,t,n,i){return isFunction(i)?i(e,t,n):(forEach(i,function(i){e=i(e,t,n)}),e)}function isSuccess(e){return 200<=e&&e<300}function $HttpProvider(){var e=this.defaults={transformResponse:[defaultHttpResponseTransform],transformRequest:[function(e){return!isObject(e)||isFile(e)||isBlob(e)||isFormData(e)?e:toJson(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:shallowCopy(Me),put:shallowCopy(Me),patch:shallowCopy(Me)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},t=!1;this.useApplyAsync=function(e){return isDefined(e)?(t=!!e,this):t};var n=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(i,a,s,l,c,u,d,h){function $http(t){function chainInterceptors(e,t){for(var n=0,i=t.length;n<i;){var r=t[n++],o=t[n++];e=e.then(r,o)}return t.length=0,e}function completeOutstandingRequest(){i.$$completeOutstandingRequest(noop)}function executeHeaderFns(e,t){var n,i={};return forEach(e,function(e,r){isFunction(e)?(n=e(t),null!=n&&(i[r]=n)):i[r]=e}),i}function mergeHeaders(t){var n,i,o,a=e.headers,s=extend({},t.headers);a=extend({},a.common,a[r(t.method)]);e:for(n in a){i=r(n);for(o in s)if(r(o)===i)continue e;s[n]=a[n]}return executeHeaderFns(s,shallowCopy(t))}function serverRequest(t){var n=t.headers,i=transformData(t.data,headersGetter(n),void 0,t.transformRequest);return isUndefined(i)&&forEach(n,function(e,t){"content-type"===r(t)&&delete n[t]}),isUndefined(t.withCredentials)&&!isUndefined(e.withCredentials)&&(t.withCredentials=e.withCredentials),sendReq(t,i).then(transformResponse,transformResponse)}function transformResponse(e){var t=extend({},e);return t.data=transformData(e.data,e.headers,e.status,n.transformResponse),isSuccess(e.status)?t:u.reject(t)}if(!isObject(t))throw minErr("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);if(!isString(h.valueOf(t.url)))throw minErr("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",t.url);var n=extend({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},t);n.headers=mergeHeaders(t),n.method=o(n.method),n.paramSerializer=isString(n.paramSerializer)?d.get(n.paramSerializer):n.paramSerializer,i.$$incOutstandingRequestCount();var a=[],s=[],l=u.resolve(n);return forEach(p,function(e){(e.request||e.requestError)&&a.unshift(e.request,e.requestError),(e.response||e.responseError)&&s.push(e.response,e.responseError)}),l=chainInterceptors(l,a),l=l.then(serverRequest),l=chainInterceptors(l,s),l=l.finally(completeOutstandingRequest)}function createShortMethods(e){forEach(arguments,function(e){$http[e]=function(t,n){return $http(extend({},n||{},{method:e,url:t}))}})}function createShortMethodsWithData(e){forEach(arguments,function(e){$http[e]=function(t,n,i){return $http(extend({},i||{},{method:e,url:t,data:n}))}})}function sendReq(n,i){function createApplyHandlers(e){if(e){var n={};return forEach(e,function(e,i){n[i]=function(n){function callEventHandler(){e(n)}t?c.$applyAsync(callEventHandler):c.$$phase?callEventHandler():c.$apply(callEventHandler)}}),n}}function done(e,n,i,r){function resolveHttpPromise(){resolvePromise(n,e,i,r)}o&&(isSuccess(e)?o.put(v,[e,n,parseHeaders(i),r]):o.remove(v)),t?c.$applyAsync(resolveHttpPromise):(resolveHttpPromise(),c.$$phase||c.$apply())}function resolvePromise(e,t,i,r){t=t>=-1?t:0,(isSuccess(t)?d.resolve:d.reject)({data:e,status:t,headers:headersGetter(i),config:n,statusText:r})}function resolvePromiseWithResult(e){resolvePromise(e.data,e.status,shallowCopy(e.headers()),e.statusText)}function removePendingReq(){var e=$http.pendingRequests.indexOf(n);e!==-1&&$http.pendingRequests.splice(e,1)}var o,l,d=u.defer(),p=d.promise,f=n.headers,g="jsonp"===r(n.method),v=n.url;if(g?v=h.getTrustedResourceUrl(v):isString(v)||(v=h.valueOf(v)),v=buildUrl(v,n.paramSerializer(n.params)),g&&(v=sanitizeJsonpCallbackParam(v,n.jsonpCallbackParam)),$http.pendingRequests.push(n),p.then(removePendingReq,removePendingReq),!n.cache&&!e.cache||n.cache===!1||"GET"!==n.method&&"JSONP"!==n.method||(o=isObject(n.cache)?n.cache:isObject(e.cache)?e.cache:m),o&&(l=o.get(v),isDefined(l)?isPromiseLike(l)?l.then(resolvePromiseWithResult,resolvePromiseWithResult):w(l)?resolvePromise(l[1],l[0],shallowCopy(l[2]),l[3]):resolvePromise(l,200,{},"OK"):o.put(v,p)),isUndefined(l)){var y=urlIsSameOrigin(n.url)?s()[n.xsrfCookieName||e.xsrfCookieName]:void 0;y&&(f[n.xsrfHeaderName||e.xsrfHeaderName]=y),a(n.method,v,i,done,f,n.timeout,n.withCredentials,n.responseType,createApplyHandlers(n.eventHandlers),createApplyHandlers(n.uploadEventHandlers))}return p}function buildUrl(e,t){return t.length>0&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}function sanitizeJsonpCallbackParam(e,t){if(/[&?][^=]+=JSON_CALLBACK/.test(e))throw Pe("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',e);var n=new RegExp("[&?]"+t+"=");if(n.test(e))throw Pe("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',t,e);return e+=(e.indexOf("?")===-1?"?":"&")+t+"=JSON_CALLBACK"}var m=l("$http");e.paramSerializer=isString(e.paramSerializer)?d.get(e.paramSerializer):e.paramSerializer;var p=[];return forEach(n,function(e){p.unshift(isString(e)?d.get(e):d.invoke(e))}),$http.pendingRequests=[],createShortMethods("get","delete","head","jsonp"),createShortMethodsWithData("post","put","patch"),$http.defaults=e,$http}]}function $xhrFactoryProvider(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function $HttpBackendProvider(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,i){return createHttpBackend(e,i,e.defer,t,n[0])}]}function createHttpBackend(e,t,n,i,o){function jsonpReq(e,t,n){e=e.replace("JSON_CALLBACK",t);var r=o.createElement("script"),a=null;return r.type="text/javascript",r.src=e,r.async=!0,a=function(e){r.removeEventListener("load",a),r.removeEventListener("error",a),o.body.removeChild(r),r=null;var s=-1,l="unknown";e&&("load"!==e.type||i.wasCalled(t)||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},r.addEventListener("load",a),r.addEventListener("error",a),o.body.appendChild(r),a}return function(o,a,s,l,c,u,d,h,m,p){function timeoutRequest(){g&&g(),v&&v.abort()}function completeRequest(e,t,i,r,o){isDefined(b)&&n.cancel(b),g=v=null,e(t,i,r,o)}if(a=a||e.url(),"jsonp"===r(o))var f=i.createCallback(a),g=jsonpReq(a,f,function(e,t){var n=200===e&&i.getResponse(f);completeRequest(l,e,n,"",t),i.removeCallback(f)});else{var v=t(o,a);v.open(o,a,!0),forEach(c,function(e,t){isDefined(e)&&v.setRequestHeader(t,e)}),v.onload=function(){var e=v.statusText||"",t="response"in v?v.response:v.responseText,n=1223===v.status?204:v.status;0===n&&(n=t?200:"file"===urlResolve(a).protocol?404:0),completeRequest(l,n,t,v.getAllResponseHeaders(),e)};var y=function(){completeRequest(l,-1,null,null,"")};if(v.onerror=y,v.onabort=y,v.ontimeout=y,forEach(m,function(e,t){v.addEventListener(t,e)}),forEach(p,function(e,t){v.upload.addEventListener(t,e)}),d&&(v.withCredentials=!0),h)try{v.responseType=h}catch(e){if("json"!==h)throw e}v.send(isUndefined(s)?null:s)}if(u>0)var b=n(timeoutRequest,u);else isPromiseLike(u)&&u.then(timeoutRequest);
}}function $InterpolateProvider(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function escape(e){return"\\\\\\"+e}function unescapeText(n){return n.replace(s,e).replace(l,t)}function constantWatchDelegate(e,t,n,i){var r=e.$watch(function(e){return r(),i(e)},t,n);return r}function $interpolate(s,l,c,u){function parseStringifyInterceptor(e){try{return e=C(e),u&&!isDefined(e)?e:stringify(e)}catch(e){i(Le.interr(s,e))}}if(!s.length||s.indexOf(e)===-1){var d;if(!l){var h=unescapeText(s);d=valueFn(h),d.exp=s,d.expressions=[],d.$$watchDelegate=constantWatchDelegate}return d}u=!!u;for(var m,p,f,g=0,v=[],y=[],b=s.length,_=[],w=[];g<b;){if((m=s.indexOf(e,g))===-1||(p=s.indexOf(t,m+o))===-1){g!==b&&_.push(unescapeText(s.substring(g)));break}g!==m&&_.push(unescapeText(s.substring(g,m))),f=s.substring(m+o,p),v.push(f),y.push(n(f,parseStringifyInterceptor)),g=p+a,w.push(_.length),_.push("")}if(c&&_.length>1&&Le.throwNoconcat(s),!l||v.length){var x=function(e){for(var t=0,n=v.length;t<n;t++){if(u&&isUndefined(e[t]))return;_[w[t]]=e[t]}return _.join("")},C=function(e){return c?r.getTrusted(c,e):r.valueOf(e)};return extend(function(e){var t=0,n=v.length,r=new Array(n);try{for(;t<n;t++)r[t]=y[t](e);return x(r)}catch(e){i(Le.interr(s,e))}},{exp:s,expressions:v,$$watchDelegate:function(e,t){var n;return e.$watchGroup(y,function(i,r){var o=x(i);isFunction(t)&&t.call(this,o,i!==r?n:o,e),n=o})}})}}var o=e.length,a=t.length,s=new RegExp(e.replace(/./g,escape),"g"),l=new RegExp(t.replace(/./g,escape),"g");return $interpolate.startSymbol=function(){return e},$interpolate.endSymbol=function(){return t},$interpolate}]}function $IntervalProvider(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,i,r){function interval(a,s,l,c){function callback(){u?a.apply(null,d):a(p)}var u=arguments.length>4,d=u?sliceArgs(arguments,4):[],h=t.setInterval,m=t.clearInterval,p=0,f=isDefined(c)&&!c,g=(f?i:n).defer(),v=g.promise;return l=isDefined(l)?l:0,v.$$intervalId=h(function(){f?r.defer(callback):e.$evalAsync(callback),g.notify(p++),l>0&&p>=l&&(g.resolve(p),m(v.$$intervalId),delete o[v.$$intervalId]),f||e.$apply()},s),o[v.$$intervalId]=g,v}var o={};return interval.cancel=function(e){return!!(e&&e.$$intervalId in o)&&(o[e.$$intervalId].promise.catch(noop),o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0)},interval}]}function encodePath(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=encodeUriSegment(t[n]);return t.join("/")}function parseAbsoluteUrl(e,t){var n=urlResolve(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=toInt(n.port)||Ie[n.protocol]||null}function parseAppUrl(e,t){if(Fe.test(e))throw Oe("badpath",'Invalid url "{0}".',e);var n="/"!==e.charAt(0);n&&(e="/"+e);var i=urlResolve(e);t.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=parseKeyValue(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function startsWith(e,t){return e.slice(0,t.length)===t}function stripBaseUrl(e,t){if(startsWith(t,e))return t.substr(e.length)}function stripHash(e){var t=e.indexOf("#");return t===-1?e:e.substr(0,t)}function trimEmptyHash(e){return e.replace(/(#.+)|#$/,"$1")}function stripFile(e){return e.substr(0,stripHash(e).lastIndexOf("/")+1)}function serverBase(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function LocationHtml5Url(e,t,n){this.$$html5=!0,n=n||"",parseAbsoluteUrl(e,this),this.$$parse=function(e){var n=stripBaseUrl(t,e);if(!isString(n))throw Oe("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);parseAppUrl(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=toKeyValue(this.$$search),n=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a,s;return isDefined(o=stripBaseUrl(e,i))?(a=o,s=n&&isDefined(o=stripBaseUrl(n,o))?t+(stripBaseUrl("/",o)||o):e+a):isDefined(o=stripBaseUrl(t,i))?s=t+o:t===i+"/"&&(s=t),s&&this.$$parse(s),!!s}}function LocationHashbangUrl(e,t,n){parseAbsoluteUrl(e,this),this.$$parse=function(i){function removeWindowsDriveName(e,t,n){var i,r=/^\/[A-Z]:(\/.*)/;return startsWith(t,n)&&(t=t.replace(n,"")),r.exec(t)?e:(i=r.exec(e),i?i[1]:e)}var r,o=stripBaseUrl(e,i)||stripBaseUrl(t,i);isUndefined(o)||"#"!==o.charAt(0)?this.$$html5?r=o:(r="",isUndefined(o)&&(e=i,this.replace())):(r=stripBaseUrl(n,o),isUndefined(r)&&(r=o)),parseAppUrl(r,this),this.$$path=removeWindowsDriveName(this.$$path,r,e),this.$$compose()},this.$$compose=function(){var t=toKeyValue(this.$$search),i=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+(this.$$url?n+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(t,n){return stripHash(e)===stripHash(t)&&(this.$$parse(t),!0)}}function LocationHashbangInHtml5Url(e,t,n){this.$$html5=!0,LocationHashbangUrl.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a;return e===stripHash(i)?o=i:(a=stripBaseUrl(t,i))?o=e+n+a:t===i+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=toKeyValue(this.$$search),i=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+n+this.$$url,this.$$urlUpdatedByLocation=!0}}function locationGetter(e){return function(){return this[e]}}function locationGetterSetter(e,t){return function(n){return isUndefined(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function $LocationProvider(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return isDefined(t)?(e=t,this):e},this.html5Mode=function(e){return isBoolean(e)?(t.enabled=e,this):isObject(e)?(isBoolean(e.enabled)&&(t.enabled=e.enabled),isBoolean(e.requireBase)&&(t.requireBase=e.requireBase),(isBoolean(e.rewriteLinks)||isString(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,a){function setBrowserUrlWithFallback(e,t,n){var r=s.url(),o=s.$$state;try{i.url(e,t,n),s.$$state=i.state()}catch(e){throw s.url(r),s.$$state=o,e}}function afterLocationChange(e,t){n.$broadcast("$locationChangeSuccess",s.absUrl(),e,s.$$state,t)}var s,l,u,d=i.baseHref(),h=i.url();if(t.enabled){if(!d&&t.requireBase)throw Oe("nobase","$location in HTML5 mode requires a <base> tag to be present!");u=serverBase(h)+(d||"/"),l=r.history?LocationHtml5Url:LocationHashbangInHtml5Url}else u=stripHash(h),l=LocationHashbangUrl;var m=stripFile(u);s=new l(u,m,"#"+e),s.$$parseLinkUrl(h,h),s.$$state=i.state();var p=/^\s*(javascript|mailto):/i;o.on("click",function(e){var r=t.rewriteLinks;if(r&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var l=c(e.target);"a"!==nodeName_(l[0]);)if(l[0]===o[0]||!(l=l.parent())[0])return;if(!isString(r)||!isUndefined(l.attr(r))){var u=l.prop("href"),d=l.attr("href")||l.attr("xlink:href");isObject(u)&&"[object SVGAnimatedString]"===u.toString()&&(u=urlResolve(u.animVal).href),p.test(u)||!u||l.attr("target")||e.isDefaultPrevented()||s.$$parseLinkUrl(u,d)&&(e.preventDefault(),s.absUrl()!==i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}}),trimEmptyHash(s.absUrl())!==trimEmptyHash(h)&&i.url(s.absUrl(),!0);var f=!0;return i.onUrlChange(function(e,t){return startsWith(e,m)?(n.$evalAsync(function(){var i,r=s.absUrl(),o=s.$$state;e=trimEmptyHash(e),s.$$parse(e),s.$$state=t,i=n.$broadcast("$locationChangeStart",e,r,t,o).defaultPrevented,s.absUrl()===e&&(i?(s.$$parse(r),s.$$state=o,setBrowserUrlWithFallback(r,!1,o)):(f=!1,afterLocationChange(r,o)))}),void(n.$$phase||n.$digest())):void(a.location.href=e)}),n.$watch(function(){if(f||s.$$urlUpdatedByLocation){s.$$urlUpdatedByLocation=!1;var e=trimEmptyHash(i.url()),t=trimEmptyHash(s.absUrl()),o=i.state(),a=s.$$replace,l=e!==t||s.$$html5&&r.history&&o!==s.$$state;(f||l)&&(f=!1,n.$evalAsync(function(){var t=s.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,s.$$state,o).defaultPrevented;s.absUrl()===t&&(i?(s.$$parse(e),s.$$state=o):(l&&setBrowserUrlWithFallback(t,a,o===s.$$state?null:s.$$state),afterLocationChange(e,o)))}))}s.$$replace=!1}),s}]}function $LogProvider(){var e=!0,t=this;this.debugEnabled=function(t){return isDefined(t)?(e=t,this):e},this.$get=["$window",function(n){function formatError(e){return e instanceof Error&&(e.stack?e=e.message&&e.stack.indexOf(e.message)===-1?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function consoleLog(e){var t=n.console||{},i=t[e]||t.log||noop,r=!1;try{r=!!i.apply}catch(e){}return r?function(){var e=[];return forEach(arguments,function(t){e.push(formatError(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:consoleLog("log"),info:consoleLog("info"),warn:consoleLog("warn"),error:consoleLog("error"),debug:function(){var n=consoleLog("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function getStringValue(e){return e+""}function ifDefined(e,t){return"undefined"!=typeof e?e:t}function plusFn(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function isStateless(e,t){var n=e(t);return!n.$stateful}function findConstantAndWatchExpressions(e,t){var n,i,r;switch(e.type){case Ye.Program:n=!0,forEach(e.body,function(e){findConstantAndWatchExpressions(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case Ye.Literal:e.constant=!0,e.toWatch=[];break;case Ye.UnaryExpression:findConstantAndWatchExpressions(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case Ye.BinaryExpression:findConstantAndWatchExpressions(e.left,t),findConstantAndWatchExpressions(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Ye.LogicalExpression:findConstantAndWatchExpressions(e.left,t),findConstantAndWatchExpressions(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Ye.ConditionalExpression:findConstantAndWatchExpressions(e.test,t),findConstantAndWatchExpressions(e.alternate,t),findConstantAndWatchExpressions(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Ye.Identifier:e.constant=!1,e.toWatch=[e];break;case Ye.MemberExpression:findConstantAndWatchExpressions(e.object,t),e.computed&&findConstantAndWatchExpressions(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case Ye.CallExpression:r=!!e.filter&&isStateless(t,e.callee.name),n=r,i=[],forEach(e.arguments,function(e){findConstantAndWatchExpressions(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=r?i:[e];break;case Ye.AssignmentExpression:findConstantAndWatchExpressions(e.left,t),findConstantAndWatchExpressions(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Ye.ArrayExpression:n=!0,i=[],forEach(e.elements,function(e){findConstantAndWatchExpressions(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=i;break;case Ye.ObjectExpression:n=!0,i=[],forEach(e.properties,function(e){findConstantAndWatchExpressions(e.value,t),n=n&&e.value.constant&&!e.computed,e.value.constant||i.push.apply(i,e.value.toWatch),e.computed&&(findConstantAndWatchExpressions(e.key,t),e.key.constant||i.push.apply(i,e.key.toWatch))}),e.constant=n,e.toWatch=i;break;case Ye.ThisExpression:e.constant=!1,e.toWatch=[];break;case Ye.LocalsExpression:e.constant=!1,e.toWatch=[]}}function getInputs(e){if(1===e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function isAssignable(e){return e.type===Ye.Identifier||e.type===Ye.MemberExpression}function assignableAST(e){if(1===e.body.length&&isAssignable(e.body[0].expression))return{type:Ye.AssignmentExpression,left:e.body[0].expression,right:{type:Ye.NGValueParameter},operator:"="}}function isLiteral(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===Ye.Literal||e.body[0].expression.type===Ye.ArrayExpression||e.body[0].expression.type===Ye.ObjectExpression)}function isConstant(e){return e.constant}function ASTCompiler(e,t){this.astBuilder=e,this.$filter=t}function ASTInterpreter(e,t){this.astBuilder=e,this.$filter=t}function getValueOf(e){return isFunction(e.valueOf)?e.valueOf():je.call(e)}function $ParseProvider(){var e,t,n=createMap(),i={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){i[e]=t},this.setIdentifierFns=function(n,i){return e=n,t=i,this},this.$get=["$filter",function(r){function $parse(e,t){var i,o,s;switch(typeof e){case"string":if(e=e.trim(),s=e,i=n[s],!i){":"===e.charAt(0)&&":"===e.charAt(1)&&(o=!0,e=e.substring(2));var l=new ze(a),c=new Ue(l,r,a);i=c.parse(e),i.constant?i.$$watchDelegate=constantWatchDelegate:o?i.$$watchDelegate=i.literal?oneTimeLiteralWatchDelegate:oneTimeWatchDelegate:i.inputs&&(i.$$watchDelegate=inputsWatchDelegate),n[s]=i}return addInterceptor(i,t);case"function":return addInterceptor(e,t);default:return addInterceptor(noop,t)}}function expressionInputDirtyCheck(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&!n&&(e=getValueOf(e),"object"==typeof e))&&(e===t||e!==e&&t!==t)}function inputsWatchDelegate(e,t,n,i,r){var o,a=i.inputs;if(1===a.length){var s=expressionInputDirtyCheck;return a=a[0],e.$watch(function(e){var t=a(e);return expressionInputDirtyCheck(t,s,i.literal)||(o=i(e,void 0,void 0,[t]),s=t&&getValueOf(t)),o},t,n,r)}for(var l=[],c=[],u=0,d=a.length;u<d;u++)l[u]=expressionInputDirtyCheck,c[u]=null;return e.$watch(function(e){for(var t=!1,n=0,r=a.length;n<r;n++){var s=a[n](e);(t||(t=!expressionInputDirtyCheck(s,l[n],i.literal)))&&(c[n]=s,l[n]=s&&getValueOf(s))}return t&&(o=i(e,void 0,void 0,c)),o},t,n,r)}function oneTimeWatchDelegate(e,t,n,i,r){function oneTimeWatch(e){return i(e)}function oneTimeListener(e,n,i){a=e,isFunction(t)&&t(e,n,i),isDefined(e)&&i.$$postDigest(function(){isDefined(a)&&o()})}var o,a;return o=i.inputs?inputsWatchDelegate(e,oneTimeListener,n,i,r):e.$watch(oneTimeWatch,oneTimeListener,n)}function oneTimeLiteralWatchDelegate(e,t,n,i){function isAllDefined(e){var t=!0;return forEach(e,function(e){isDefined(e)||(t=!1)}),t}var r,o;return r=e.$watch(function(e){return i(e)},function(e,n,i){o=e,isFunction(t)&&t(e,n,i),isAllDefined(e)&&i.$$postDigest(function(){isAllDefined(o)&&r()})},n)}function constantWatchDelegate(e,t,n,i){var r=e.$watch(function(e){return r(),i(e)},t,n);return r}function addInterceptor(e,t){if(!t)return e;var n=e.$$watchDelegate,i=!1,r=n!==oneTimeLiteralWatchDelegate&&n!==oneTimeWatchDelegate,o=r?function(n,r,o,a){var s=i&&a?a[0]:e(n,r,o,a);return t(s,n,r)}:function(n,i,r,o){var a=e(n,i,r,o),s=t(a,n,i);return isDefined(a)?s:a};return i=!e.inputs,e.$$watchDelegate&&e.$$watchDelegate!==inputsWatchDelegate?(o.$$watchDelegate=e.$$watchDelegate,o.inputs=e.inputs):t.$stateful||(o.$$watchDelegate=inputsWatchDelegate,o.inputs=e.inputs?e.inputs:[e]),o}var o=E().noUnsafeEval,a={csp:o,literals:copy(i),isIdentifierStart:isFunction(e)&&e,isIdentifierContinue:isFunction(t)&&t};return $parse}]}function $QProvider(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,n){return qFactory(function(e){t.$evalAsync(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return isDefined(t)?(e=t,this):e}}function $$QProvider(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,n){return qFactory(function(e){t.defer(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return isDefined(t)?(e=t,this):e}}function qFactory(e,t,n){function defer(){return new Deferred}function Deferred(){var e=this.promise=new Promise;this.resolve=function(t){resolvePromise(e,t)},this.reject=function(t){rejectPromise(e,t)},this.notify=function(t){notifyPromise(e,t)}}function Promise(){this.$$state={status:0}}function processQueue(t){var i,o,a;a=t.pending,t.processScheduled=!1,t.pending=void 0;try{for(var s=0,l=a.length;s<l;++s){t.pur=!0,o=a[s][0],i=a[s][t.status];try{isFunction(i)?resolvePromise(o,i(t.value)):1===t.status?resolvePromise(o,t.value):rejectPromise(o,t.value)}catch(e){rejectPromise(o,e)}}}finally{--r,n&&0===r&&e(processChecks)}}function processChecks(){for(;!r&&o.length;){var e=o.shift();if(!e.pur){e.pur=!0;var n="Possibly unhandled rejection: "+toDebugString(e.value);e.value instanceof Error?t(e.value,n):t(n)}}}function scheduleProcessQueue(t){!n||t.pending||2!==t.status||t.pur||(0===r&&0===o.length&&e(processChecks),o.push(t)),!t.processScheduled&&t.pending&&(t.processScheduled=!0,++r,e(function(){processQueue(t)}))}function resolvePromise(e,t){e.$$state.status||(t===e?$$reject(e,i("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):$$resolve(e,t))}function $$resolve(e,t){function doResolve(t){i||(i=!0,$$resolve(e,t))}function doReject(t){i||(i=!0,$$reject(e,t))}function doNotify(t){notifyPromise(e,t)}var n,i=!1;try{(isObject(t)||isFunction(t))&&(n=t.then),isFunction(n)?(e.$$state.status=-1,n.call(t,doResolve,doReject,doNotify)):(e.$$state.value=t,e.$$state.status=1,scheduleProcessQueue(e.$$state))}catch(e){doReject(e)}}function rejectPromise(e,t){e.$$state.status||$$reject(e,t)}function $$reject(e,t){e.$$state.value=t,e.$$state.status=2,scheduleProcessQueue(e.$$state)}function notifyPromise(n,i){var r=n.$$state.pending;n.$$state.status<=0&&r&&r.length&&e(function(){for(var e,n,o=0,a=r.length;o<a;o++){n=r[o][0],e=r[o][3];try{notifyPromise(n,isFunction(e)?e(i):i)}catch(e){t(e)}}})}function reject(e){var t=new Promise;return rejectPromise(t,e),t}function handleCallback(e,t,n){var i=null;try{isFunction(n)&&(i=n())}catch(e){return reject(e)}return isPromiseLike(i)?i.then(function(){return t(e)},reject):t(e)}function when(e,t,n,i){var r=new Promise;return resolvePromise(r,e),r.then(t,n,i)}function all(e){var t=new Promise,n=0,i=w(e)?[]:{};return forEach(e,function(e,r){n++,when(e).then(function(e){i[r]=e,--n||resolvePromise(t,i)},function(e){rejectPromise(t,e)})}),0===n&&resolvePromise(t,i),t}function race(e){var t=defer();return forEach(e,function(e){when(e).then(t.resolve,t.reject)}),t.promise}function $Q(e){function resolveFn(e){resolvePromise(t,e)}function rejectFn(e){rejectPromise(t,e)}if(!isFunction(e))throw i("norslvr","Expected resolverFn, got '{0}'",e);var t=new Promise;return e(resolveFn,rejectFn),t}var i=minErr("$q",TypeError),r=0,o=[];extend(Promise.prototype,{then:function(e,t,n){if(isUndefined(e)&&isUndefined(t)&&isUndefined(n))return this;var i=new Promise;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),this.$$state.status>0&&scheduleProcessQueue(this.$$state),i},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then(function(t){return handleCallback(t,a,e)},function(t){return handleCallback(t,reject,e)},t)}});var a=when;return $Q.prototype=Promise.prototype,$Q.defer=defer,$Q.reject=reject,$Q.when=when,$Q.resolve=a,$Q.all=all,$Q.race=race,$Q}function $$RAFProvider(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=r,o}]}function $RootScopeProvider(){function createChildScopeClass(e){function ChildScope(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=nextUid(),this.$$ChildScope=null}return ChildScope.prototype=e,ChildScope}var e=10,t=minErr("$rootScope"),n=null,r=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$exceptionHandler","$parse","$browser",function(o,a,s){function destroyChildScope(e){e.currentScope.$$destroyed=!0}function cleanUpScope(e){9===l&&(e.$$childHead&&cleanUpScope(e.$$childHead),e.$$nextSibling&&cleanUpScope(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function Scope(){this.$id=nextUid(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function beginPhase(e){if(c.$$phase)throw t("inprog","{0} already in progress",c.$$phase);c.$$phase=e}function clearPhase(){c.$$phase=null}function incrementWatchersCount(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function decrementListenerCount(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function initWatchVal(){}function flushApplyAsync(){for(;h.length;)try{h.shift()()}catch(e){o(e)}r=null}function scheduleApplyAsync(){null===r&&(r=s.defer(function(){c.$apply(flushApplyAsync)}))}Scope.prototype={constructor:Scope,$new:function(e,t){var n;return t=t||this,e?(n=new Scope,n.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=createChildScopeClass(this)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,(e||t!==this)&&n.$on("$destroy",destroyChildScope),n},$watch:function(e,t,i,r){var o=a(e);if(o.$$watchDelegate)return o.$$watchDelegate(this,t,i,o,e);var s=this,l=s.$$watchers,c={fn:t,last:initWatchVal,get:o,exp:r||e,eq:!!i};return n=null,isFunction(t)||(c.fn=noop),l||(l=s.$$watchers=[],l.$$digestWatchIndex=-1),l.unshift(c),l.$$digestWatchIndex++,incrementWatchersCount(this,1),function(){var e=arrayRemove(l,c);e>=0&&(incrementWatchersCount(s,-1),e<l.$$digestWatchIndex&&l.$$digestWatchIndex--),n=null}},$watchGroup:function(e,t){function watchGroupAction(){a=!1,s?(s=!1,t(i,i,o)):t(i,n,o)}var n=new Array(e.length),i=new Array(e.length),r=[],o=this,a=!1,s=!0;if(!e.length){var l=!0;return o.$evalAsync(function(){l&&t(i,i,o)}),function(){l=!1}}return 1===e.length?this.$watch(e[0],function(e,r,o){i[0]=e,n[0]=r,t(i,e===r?i:n,o)}):(forEach(e,function(e,t){var s=o.$watch(e,function(e,r){i[t]=e,n[t]=r,a||(a=!0,o.$evalAsync(watchGroupAction))});r.push(s)}),function(){for(;r.length;)r.shift()()})},$watchCollection:function(e,t){function $watchCollectionInterceptor(e){n=e;var t,o,a,s,l;if(!isUndefined(n)){if(isObject(n))if(isArrayLike(n)){r!==d&&(r=d,p=r.length=0,c++),t=n.length,p!==t&&(c++,r.length=p=t);for(var u=0;u<t;u++)l=r[u],s=n[u],a=l!==l&&s!==s,a||l===s||(c++,r[u]=s)}else{r!==h&&(r=h={},p=0,c++),t=0;for(o in n)i.call(n,o)&&(t++,s=n[o],l=r[o],o in r?(a=l!==l&&s!==s,a||l===s||(c++,r[o]=s)):(p++,r[o]=s,c++));if(p>t){c++;for(o in r)i.call(n,o)||(p--,delete r[o])}}else r!==n&&(r=n,c++);return c}}function $watchCollectionAction(){if(m?(m=!1,t(n,n,s)):t(n,o,s),l)if(isObject(n))if(isArrayLike(n)){o=new Array(n.length);for(var e=0;e<n.length;e++)o[e]=n[e]}else{o={};for(var r in n)i.call(n,r)&&(o[r]=n[r])}else o=n}$watchCollectionInterceptor.$stateful=!0;var n,r,o,s=this,l=t.length>1,c=0,u=a(e,$watchCollectionInterceptor),d=[],h={},m=!0,p=0;return this.$watch(u,$watchCollectionAction)},$digest:function(){var i,a,l,h,p,f,g,v,y,b,w,x=e,C=this,S=[];beginPhase("$digest"),s.$$checkUrlChange(),this===c&&null!==r&&(s.defer.cancel(r),flushApplyAsync()),n=null;do{g=!1,y=C;for(var E=0;E<u.length;E++){try{w=u[E],w.scope.$eval(w.expression,w.locals)}catch(e){o(e)}n=null}u.length=0;e:do{if(f=y.$$watchers)for(f.$$digestWatchIndex=f.length;f.$$digestWatchIndex--;)try{if(i=f[f.$$digestWatchIndex])if(p=i.get,(a=p(y))===(l=i.last)||(i.eq?equals(a,l):_(a)&&_(l))){if(i===n){g=!1;break e}}else g=!0,n=i,i.last=i.eq?copy(a,null):a,h=i.fn,h(a,l===initWatchVal?a:l,y),x<5&&(b=4-x,S[b]||(S[b]=[]),S[b].push({msg:isFunction(i.exp)?"fn: "+(i.exp.name||i.exp.toString()):i.exp,newVal:a,oldVal:l}))}catch(e){o(e)}if(!(v=y.$$watchersCount&&y.$$childHead||y!==C&&y.$$nextSibling))for(;y!==C&&!(v=y.$$nextSibling);)y=y.$parent}while(y=v);if((g||u.length)&&!x--)throw clearPhase(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,S)}while(g||u.length);for(clearPhase();m<d.length;)try{d[m++]()}catch(e){o(e)}d.length=m=0,s.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===c&&s.$$applicationDestroyed(),incrementWatchersCount(this,-this.$$watchersCount);for(var t in this.$$listenerCount)decrementListenerCount(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=noop,this.$on=this.$watch=this.$watchGroup=function(){return noop},this.$$listeners={},this.$$nextSibling=null,cleanUpScope(this)}},$eval:function(e,t){return a(e)(this,t)},$evalAsync:function(e,t){c.$$phase||u.length||s.defer(function(){u.length&&c.$digest()}),u.push({scope:this,expression:a(e),locals:t})},$$postDigest:function(e){d.push(e)},$apply:function(e){try{beginPhase("$apply");try{return this.$eval(e)}finally{clearPhase()}}catch(e){o(e)}finally{try{c.$digest()}catch(e){throw o(e),e}}},$applyAsync:function(e){function $applyAsyncExpression(){t.$eval(e)}var t=this;e&&h.push($applyAsyncExpression),e=a(e),scheduleApplyAsync()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(t);i!==-1&&(n[i]=null,decrementListenerCount(r,1,e))}},$emit:function(e,t){var n,i,r,a=[],s=this,l=!1,c={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=concat([c],arguments,1);do{for(n=s.$$listeners[e]||a,c.currentScope=s,i=0,r=n.length;i<r;i++)if(n[i])try{n[i].apply(null,u)}catch(e){o(e)}else n.splice(i,1),i--,r--;if(l)return c.currentScope=null,c;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(e,t){var n=this,i=n,r=n,a={name:e,targetScope:n,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return a;for(var s,l,c,u=concat([a],arguments,1);i=r;){for(a.currentScope=i,s=i.$$listeners[e]||[],l=0,c=s.length;l<c;l++)if(s[l])try{s[l].apply(null,u)}catch(e){o(e)}else s.splice(l,1),l--,c--;if(!(r=i.$$listenerCount[e]&&i.$$childHead||i!==n&&i.$$nextSibling))for(;i!==n&&!(r=i.$$nextSibling);)i=i.$parent}return a.currentScope=null,a}};var c=new Scope,u=c.$$asyncQueue=[],d=c.$$postDigestQueue=[],h=c.$$applyAsyncQueue=[],m=0;return c}]}function $$SanitizeUriProvider(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return isDefined(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return isDefined(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r,o=i?t:e;return r=urlResolve(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function snakeToCamel(e){return e.replace(We,fnCamelCaseReplace)}function adjustMatcher(e){if("self"===e)return e;if(isString(e)){if(e.indexOf("***")>-1)throw Ge("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=S(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(isRegExp(e))return new RegExp("^"+e.source+"$");throw Ge("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function adjustMatchers(e){var t=[];return isDefined(e)&&forEach(e,function(e){t.push(adjustMatcher(e))}),t}function $SceDelegateProvider(){this.SCE_CONTEXTS=qe;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=adjustMatchers(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=adjustMatchers(e)),t},this.$get=["$injector",function(n){function matchUrl(e,t){return"self"===e?urlIsSameOrigin(t):!!e.exec(t.href)}function isResourceUrlAllowedByPolicy(n){var i,r,o=urlResolve(n.toString()),a=!1;for(i=0,r=e.length;i<r;i++)if(matchUrl(e[i],o)){a=!0;break}if(a)for(i=0,r=t.length;i<r;i++)if(matchUrl(t[i],o)){a=!1;break}return a}function generateHolderType(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function trustAs(e,t){var n=o.hasOwnProperty(e)?o[e]:null;if(!n)throw Ge("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||isUndefined(t)||""===t)return t;if("string"!=typeof t)throw Ge("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function valueOf(e){return e instanceof r?e.$$unwrapTrustedValue():e}function getTrusted(e,t){if(null===t||isUndefined(t)||""===t)return t;var n=o.hasOwnProperty(e)?o[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===qe.RESOURCE_URL){if(isResourceUrlAllowedByPolicy(t))return t;throw Ge("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===qe.HTML)return i(t);throw Ge("unsafe","Attempting to use an unsafe value in a safe context.")}var i=function(e){throw Ge("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(i=n.get("$sanitize"));var r=generateHolderType(),o={};return o[qe.HTML]=generateHolderType(r),o[qe.CSS]=generateHolderType(r),o[qe.URL]=generateHolderType(r),o[qe.JS]=generateHolderType(r),o[qe.RESOURCE_URL]=generateHolderType(o[qe.URL]),{trustAs:trustAs,getTrusted:getTrusted,valueOf:valueOf}}]}function $SceProvider(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&l<8)throw Ge("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=shallowCopy(qe);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=identity),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return i.getTrusted(e,t)})};var o=i.parseAs,a=i.getTrusted,s=i.trustAs;return forEach(qe,function(e,t){var n=r(t);i[snakeToCamel("parse_as_"+n)]=function(t){return o(e,t)},i[snakeToCamel("get_trusted_"+n)]=function(t){return a(e,t)},i[snakeToCamel("trust_as_"+n)]=function(t){return s(e,t)}}),i}]}function $SnifferProvider(){this.$get=["$window","$document",function(e,t){var n={},i=e.nw&&e.nw.process,o=!i&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id),a=!o&&e.history&&e.history.pushState,s=toInt((/android (\d+)/.exec(r((e.navigator||{}).userAgent))||[])[1]),c=/Boxee/i.test((e.navigator||{}).userAgent),u=t[0]||{},d=u.body&&u.body.style,h=!1,m=!1;return d&&(h=!!("transition"in d||"webkitTransition"in d),m=!!("animation"in d||"webkitAnimation"in d)),{history:!(!a||s<4||c),hasEvent:function(e){if("input"===e&&l)return!1;if(isUndefined(n[e])){var t=u.createElement("div");n[e]="on"+e in t}return n[e]},csp:E(),
transitions:h,animations:m,android:s}}]}function $TemplateRequestProvider(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,i,r,o){function handleRequestFn(a,s){function handleError(e){return s||(e=Ke("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,e.status,e.statusText),t(e)),r.reject(e)}handleRequestFn.totalPendingRequests++,isString(a)&&!isUndefined(n.get(a))||(a=o.getTrustedResourceUrl(a));var l=i.defaults&&i.defaults.transformResponse;return w(l)?l=l.filter(function(e){return e!==defaultHttpResponseTransform}):l===defaultHttpResponseTransform&&(l=null),i.get(a,extend({cache:n,transformResponse:l},e)).finally(function(){handleRequestFn.totalPendingRequests--}).then(function(e){return n.put(a,e.data),e.data},handleError)}return handleRequestFn.totalPendingRequests=0,handleRequestFn}]}function $$TestabilityProvider(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var i={};return i.findBindings=function(e,t,n){var i=e.getElementsByClassName("ng-binding"),r=[];return forEach(i,function(e){var i=y.element(e).data("$binding");i&&forEach(i,function(i){if(n){var o=new RegExp("(^|\\s)"+S(t)+"(\\s|\\||$)");o.test(i)&&r.push(e)}else i.indexOf(t)!==-1&&r.push(e)})}),r},i.findModels=function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=n?"=":"*=",a="["+i[r]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},i.getLocation=function(){return n.url()},i.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},i.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},i}]}function $TimeoutProvider(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,r){function timeout(a,s,l){isFunction(a)||(l=s,s=a,a=noop);var c,u=sliceArgs(arguments,3),d=isDefined(l)&&!l,h=(d?i:n).defer(),m=h.promise;return c=t.defer(function(){try{h.resolve(a.apply(null,u))}catch(e){h.reject(e),r(e)}finally{delete o[m.$$timeoutId]}d||e.$apply()},s),m.$$timeoutId=c,o[c]=h,m}var o={};return timeout.cancel=function(e){return!!(e&&e.$$timeoutId in o)&&(o[e.$$timeoutId].promise.catch(noop),o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},timeout}]}function urlResolve(e){var t=e;return l&&(Xe.setAttribute("href",t),t=Xe.href),Xe.setAttribute("href",t),{href:Xe.href,protocol:Xe.protocol?Xe.protocol.replace(/:$/,""):"",host:Xe.host,search:Xe.search?Xe.search.replace(/^\?/,""):"",hash:Xe.hash?Xe.hash.replace(/^#/,""):"",hostname:Xe.hostname,port:Xe.port,pathname:"/"===Xe.pathname.charAt(0)?Xe.pathname:"/"+Xe.pathname}}function urlIsSameOrigin(e){var t=isString(e)?urlResolve(e):e;return t.protocol===Je.protocol&&t.host===Je.host}function $WindowProvider(){this.$get=valueFn(e)}function $$CookieReader(e){function safeGetCookie(e){try{return e.cookie||""}catch(e){return""}}function safeDecodeURIComponent(e){try{return decodeURIComponent(e)}catch(t){return e}}var t=e[0]||{},n={},i="";return function(){var e,r,o,a,s,l=safeGetCookie(t);if(l!==i)for(i=l,e=i.split("; "),n={},o=0;o<e.length;o++)r=e[o],a=r.indexOf("="),a>0&&(s=safeDecodeURIComponent(r.substring(0,a)),isUndefined(n[s])&&(n[s]=safeDecodeURIComponent(r.substring(a+1))));return n}}function $$CookieReaderProvider(){this.$get=$$CookieReader}function $FilterProvider(e){function register(n,i){if(isObject(n)){var r={};return forEach(n,function(e,t){r[t]=register(t,e)}),r}return e.factory(n+t,i)}var t="Filter";this.register=register,this.$get=["$injector",function(e){return function(n){return e.get(n+t)}}],register("currency",currencyFilter),register("date",dateFilter),register("filter",filterFilter),register("json",jsonFilter),register("limitTo",limitToFilter),register("lowercase",rt),register("number",numberFilter),register("orderBy",orderByFilter),register("uppercase",ot)}function filterFilter(){return function(e,t,n,i){if(!isArrayLike(e)){if(null==e)return e;throw minErr("filter")("notarray","Expected array but received: {0}",e)}i=i||"$";var r,o,a=getTypeForFilter(t);switch(a){case"function":r=t;break;case"boolean":case"null":case"number":case"string":o=!0;case"object":r=createPredicateFn(t,n,i,o);break;default:return e}return Array.prototype.filter.call(e,r)}}function createPredicateFn(e,t,n,i){var o,a=isObject(e)&&n in e;return t===!0?t=equals:isFunction(t)||(t=function(e,t){return!isUndefined(e)&&(null===e||null===t?e===t:!(isObject(t)||isObject(e)&&!hasCustomToString(e))&&(e=r(""+e),t=r(""+t),e.indexOf(t)!==-1))}),o=function(r){return a&&!isObject(r)?deepCompare(r,e[n],t,n,!1):deepCompare(r,e,t,n,i)}}function deepCompare(e,t,n,i,r,o){var a=getTypeForFilter(e),s=getTypeForFilter(t);if("string"===s&&"!"===t.charAt(0))return!deepCompare(e,t.substring(1),n,i,r);if(w(e))return e.some(function(e){return deepCompare(e,t,n,i,r)});switch(a){case"object":var l;if(r){for(l in e)if("$"!==l.charAt(0)&&deepCompare(e[l],t,n,i,!0))return!0;return!o&&deepCompare(e,t,n,i,!1)}if("object"===s){for(l in t){var c=t[l];if(!isFunction(c)&&!isUndefined(c)){var u=l===i,d=u?e:e[l];if(!deepCompare(d,c,n,i,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function getTypeForFilter(e){return null===e?"null":typeof e}function currencyFilter(e){var t=e.NUMBER_FORMATS;return function(e,n,i){return isUndefined(n)&&(n=t.CURRENCY_SYM),isUndefined(i)&&(i=t.PATTERNS[1].maxFrac),null==e?e:formatNumber(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function numberFilter(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:formatNumber(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function parse(e){var t,n,i,r,o,a=0;for((n=e.indexOf(Qe))>-1&&(e=e.replace(Qe,"")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charAt(i)===et;i++);if(i===(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)===et;)o--;for(n-=i,t=[],r=0;i<=o;i++,r++)t[r]=+e.charAt(i)}return n>Ze&&(t=t.splice(0,Ze-1),a=n-1,n=1),{d:t,e:a,i:n}}function roundNumber(e,t,n,i){var r=e.d,o=r.length-e.i;t=isUndefined(t)?Math.min(Math.max(n,o),i):+t;var a=t+e.i,s=r[a];if(a>0){r.splice(Math.max(e.i,a));for(var l=a;l<r.length;l++)r[l]=0}else{o=Math.max(0,o),e.i=1,r.length=Math.max(1,a=t+1),r[0]=0;for(var c=1;c<a;c++)r[c]=0}if(s>=5)if(a-1<0){for(var u=0;u>a;u--)r.unshift(0),e.i++;r.unshift(1),e.i++}else r[a-1]++;for(;o<Math.max(0,t);o++)r.push(0);var d=r.reduceRight(function(e,t,n,i){return t+=e,i[n]=t%10,Math.floor(t/10)},0);d&&(r.unshift(d),e.i++)}function formatNumber(e,t,n,i,r){if(!isString(e)&&!isNumber(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,l=Math.abs(e)+"",c="";if(a)c="";else{o=parse(l),roundNumber(o,r,t.minFrac,t.maxFrac);var u=o.d,d=o.i,h=o.e,m=[];for(s=u.reduce(function(e,t){return e&&!t},!0);d<0;)u.unshift(0),d++;d>0?m=u.splice(d,u.length):(m=u,u=[0]);var p=[];for(u.length>=t.lgSize&&p.unshift(u.splice(-t.lgSize,u.length).join(""));u.length>t.gSize;)p.unshift(u.splice(-t.gSize,u.length).join(""));u.length&&p.unshift(u.join("")),c=p.join(n),m.length&&(c+=i+m.join("")),h&&(c+="e+"+h)}return e<0&&!s?t.negPre+c+t.negSuf:t.posPre+c+t.posSuf}function padNumber(e,t,n,i){var r="";for((e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,r="-")),e=""+e;e.length<t;)e=et+e;return n&&(e=e.substr(e.length-t)),r+e}function dateGetter(e,t,n,i,r){return n=n||0,function(o){var a=o["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&n===-12&&(a=12),padNumber(a,t,i,r)}}function dateStrGetter(e,t,n){return function(i,r){var a=i["get"+e](),s=(n?"STANDALONE":"")+(t?"SHORT":""),l=o(s+e);return r[l][a]}}function timeZoneGetter(e,t,n){var i=-1*n,r=i>=0?"+":"";return r+=padNumber(Math[i>0?"floor":"ceil"](i/60),2)+padNumber(Math.abs(i%60),2)}function getFirstThursdayOfYear(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function getThursdayThisWeek(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function weekGetter(e){return function(t){var n=getFirstThursdayOfYear(t.getFullYear()),i=getThursdayThisWeek(t),r=+i-+n,o=1+Math.round(r/6048e5);return padNumber(o,e)}}function ampmGetter(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function eraGetter(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function longEraGetter(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function dateFilter(e){function jsonStringToDate(e){var n;if(n=e.match(t)){var i=new Date(0),r=0,o=0,a=n[8]?i.setUTCFullYear:i.setFullYear,s=n[8]?i.setUTCHours:i.setHours;n[9]&&(r=toInt(n[9]+n[10]),o=toInt(n[9]+n[11])),a.call(i,toInt(n[1]),toInt(n[2])-1,toInt(n[3]));var l=toInt(n[4]||0)-r,c=toInt(n[5]||0)-o,u=toInt(n[6]||0),d=Math.round(1e3*parseFloat("0."+(n[7]||0)));return s.call(i,l,c,u,d),i}return e}var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(t,n,i){var r,o,a="",s=[];if(n=n||"mediumDate",n=e.DATETIME_FORMATS[n]||n,isString(t)&&(t=it.test(t)?toInt(t):jsonStringToDate(t)),isNumber(t)&&(t=new Date(t)),!isDate(t)||!isFinite(t.getTime()))return t;for(;n;)o=nt.exec(n),o?(s=concat(s,o,1),n=s.pop()):(s.push(n),n=null);var l=t.getTimezoneOffset();return i&&(l=timezoneToOffset(i,l),t=convertTimezoneToLocal(t,i,!0)),forEach(s,function(n){r=tt[n],a+=r?r(t,e.DATETIME_FORMATS,l):"''"===n?"'":n.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),a}}function jsonFilter(){return function(e,t){return isUndefined(t)&&(t=2),toJson(e,t)}}function limitToFilter(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):toInt(t),_(t)?e:(isNumber(e)&&(e=e.toString()),isArrayLike(e)?(n=!n||isNaN(n)?0:toInt(n),n=n<0?Math.max(0,e.length+n):n,t>=0?sliceFn(e,n,n+t):0===n?sliceFn(e,t,e.length):sliceFn(e,Math.max(0,n+t),n)):e)}}function sliceFn(e,t,n){return isString(e)?e.slice(t,n):h.call(e,t,n)}function orderByFilter(e){function processPredicates(t){return t.map(function(t){var n=1,i=identity;if(isFunction(t))i=t;else if(isString(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t),i.constant))){var r=i();i=function(e){return e[r]}}return{get:i,descending:n}})}function isPrimitive(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function objectValue(e){return isFunction(e.valueOf)&&(e=e.valueOf(),isPrimitive(e))?e:hasCustomToString(e)&&(e=e.toString(),isPrimitive(e))?e:e}function getPredicateValue(e,t){var n=typeof e;return null===e?(n="string",e="null"):"object"===n&&(e=objectValue(e)),{value:e,type:n,index:t}}function defaultCompare(e,t){var n=0,i=e.type,r=t.type;if(i===r){var o=e.value,a=t.value;"string"===i?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===i&&(isObject(o)&&(o=e.index),isObject(a)&&(a=t.index)),o!==a&&(n=o<a?-1:1)}else n=i<r?-1:1;return n}return function(e,t,n,i){function getComparisonObject(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:r.map(function(n){return getPredicateValue(n.get(e),t)})}}function doComparison(e,t){for(var n=0,i=r.length;n<i;n++){var s=a(e.predicateValues[n],t.predicateValues[n]);if(s)return s*r[n].descending*o}return a(e.tieBreaker,t.tieBreaker)*o}if(null==e)return e;if(!isArrayLike(e))throw minErr("orderBy")("notarray","Expected array but received: {0}",e);w(t)||(t=[t]),0===t.length&&(t=["+"]);var r=processPredicates(t),o=n?-1:1,a=isFunction(i)?i:defaultCompare,s=Array.prototype.map.call(e,getComparisonObject);return s.sort(doComparison),e=s.map(function(e){return e.value})}}function ngDirective(e){return isFunction(e)&&(e={link:e}),e.restrict=e.restrict||"AC",valueFn(e)}function nullFormRenameControl(e,t){e.$name=t}function FormController(e,t,n,i,r){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=r(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=lt,this.$$element=e,this.$$animate=i,setupValidity(this)}function setupValidity(e){e.$$classCache={},e.$$classCache[Gt]=!(e.$$classCache[Ut]=e.$$element.hasClass(Ut))}function addSetValidityMethod(e){function createAndSet(e,t,i,r){e[t]||(e[t]={}),n(e[t],i,r)}function unsetAndCleanup(e,t,n,r){e[t]&&i(e[t],n,r),isObjectEmpty(e[t])&&(e[t]=void 0)}function cachedToggleClass(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function toggleValidationCss(e,t,n){t=t?"-"+snake_case(t,"-"):"",cachedToggleClass(e,Ut+t,n===!0),cachedToggleClass(e,Gt+t,n===!1)}var t=e.clazz,n=e.set,i=e.unset;t.prototype.$setValidity=function(e,t,r){isUndefined(t)?createAndSet(this,"$pending",e,r):unsetAndCleanup(this,"$pending",e,r),isBoolean(t)?t?(i(this.$error,e,r),n(this.$$success,e,r)):(n(this.$error,e,r),i(this.$$success,e,r)):(i(this.$error,e,r),i(this.$$success,e,r)),this.$pending?(cachedToggleClass(this,ct,!0),this.$valid=this.$invalid=void 0,toggleValidationCss(this,"",null)):(cachedToggleClass(this,ct,!1),this.$valid=isObjectEmpty(this.$error),this.$invalid=!this.$valid,toggleValidationCss(this,"",this.$valid));var o;o=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null),toggleValidationCss(this,e,o),this.$$parentForm.$setValidity(e,o,this)}}function isObjectEmpty(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function stringBasedInputType(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function textInputType(e,t,n,i,r,o){baseInputType(e,t,n,i,r,o),stringBasedInputType(i)}function baseInputType(e,t,i,o,a,s){var l=r(t[0].type);if(!a.android){var c=!1;t.on("compositionstart",function(){c=!0}),t.on("compositionend",function(){c=!1,d()})}var u,d=function(e){if(u&&(s.defer.cancel(u),u=null),!c){var n=t.val(),r=e&&e.type;"password"===l||i.ngTrim&&"false"===i.ngTrim||(n=C(n)),(o.$viewValue!==n||""===n&&o.$$hasNativeValidators)&&o.$setViewValue(n,r)}};if(a.hasEvent("input"))t.on("input",d);else{var h=function(e,t,n){u||(u=s.defer(function(){u=null,t&&t.value===n||d(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||h(e,this,this.value)}),a.hasEvent("paste")&&t.on("paste cut",h)}t.on("change",d),St[l]&&o.$$hasNativeValidators&&l===i.type&&t.on(Ct,function(e){if(!u){var t=this[n],i=t.badInput,r=t.typeMismatch;u=s.defer(function(){u=null,t.badInput===i&&t.typeMismatch===r||d(e)})}}),o.$render=function(){var e=o.$isEmpty(o.$viewValue)?"":o.$viewValue;t.val()!==e&&t.val(e)}}function weekParser(e,t){if(isDate(e))return e;if(isString(e)){_t.lastIndex=0;var n=_t.exec(e);if(n){var i=+n[1],r=+n[2],o=0,a=0,s=0,l=0,c=getFirstThursdayOfYear(i),u=7*(r-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(i,0,c.getDate()+u,o,a,s,l)}}return NaN}function createDateParser(e,t){return function(n,i){var r,o;if(isDate(n))return n;if(isString(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),pt.test(n))return new Date(n);if(e.lastIndex=0,r=e.exec(n))return r.shift(),o=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},forEach(r,function(e,n){n<t.length&&(o[t[n]]=+e)}),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return NaN}}function createDateInputType(e,t,n,i){return function(r,o,a,s,l,c,u){function isValidDate(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function parseObservedDateValue(e){return isDefined(e)&&!isDate(e)?n(e)||void 0:e}badInputChecker(r,o,a,s),baseInputType(r,o,a,s,l,c);var d,h=s&&s.$options.getOption("timezone");if(s.$$parserName=e,s.$parsers.push(function(e){if(s.$isEmpty(e))return null;if(t.test(e)){var i=n(e,d);return h&&(i=convertTimezoneToLocal(i,h)),i}}),s.$formatters.push(function(e){if(e&&!isDate(e))throw Qt("datefmt","Expected `{0}` to be a date",e);return isValidDate(e)?(d=e,d&&h&&(d=convertTimezoneToLocal(d,h,!0)),u("date")(e,i,h)):(d=null,"")}),isDefined(a.min)||a.ngMin){var m;s.$validators.min=function(e){return!isValidDate(e)||isUndefined(m)||n(e)>=m},a.$observe("min",function(e){m=parseObservedDateValue(e),s.$validate()})}if(isDefined(a.max)||a.ngMax){var p;s.$validators.max=function(e){return!isValidDate(e)||isUndefined(p)||n(e)<=p},a.$observe("max",function(e){p=parseObservedDateValue(e),s.$validate()})}}}function badInputChecker(e,t,i,r){var o=t[0],a=r.$$hasNativeValidators=isObject(o.validity);a&&r.$parsers.push(function(e){var i=t.prop(n)||{};return i.badInput||i.typeMismatch?void 0:e})}function numberFormatterParser(e){e.$$parserName="number",e.$parsers.push(function(t){return e.$isEmpty(t)?null:vt.test(t)?parseFloat(t):void 0}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!isNumber(t))throw Qt("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t})}function parseNumberAttrVal(e){return isDefined(e)&&!isNumber(e)&&(e=parseFloat(e)),_(e)?void 0:e}function isNumberInteger(e){return(0|e)===e}function countDecimals(e){var t=e.toString(),n=t.indexOf(".");if(n===-1){if(-1<e&&e<1){var i=/e-(\d+)$/.exec(t);if(i)return Number(i[1])}return 0}return t.length-n-1}function isValidForStep(e,t,n){var i=Number(e),r=!isNumberInteger(i),o=!isNumberInteger(t),a=!isNumberInteger(n);if(r||o||a){var s=r?countDecimals(i):0,l=o?countDecimals(t):0,c=a?countDecimals(n):0,u=Math.max(s,l,c),d=Math.pow(10,u);i*=d,t*=d,n*=d,r&&(i=Math.round(i)),o&&(t=Math.round(t)),a&&(n=Math.round(n))}return(i-t)%n===0}function numberInputType(e,t,n,i,r,o){badInputChecker(e,t,n,i),numberFormatterParser(i),baseInputType(e,t,n,i,r,o);var a,s;if((isDefined(n.min)||n.ngMin)&&(i.$validators.min=function(e){return i.$isEmpty(e)||isUndefined(a)||e>=a},n.$observe("min",function(e){a=parseNumberAttrVal(e),i.$validate()})),(isDefined(n.max)||n.ngMax)&&(i.$validators.max=function(e){return i.$isEmpty(e)||isUndefined(s)||e<=s},n.$observe("max",function(e){s=parseNumberAttrVal(e),i.$validate()})),isDefined(n.step)||n.ngStep){var l;i.$validators.step=function(e,t){return i.$isEmpty(t)||isUndefined(l)||isValidForStep(t,a||0,l)},n.$observe("step",function(e){l=parseNumberAttrVal(e),i.$validate()})}}function rangeInputType(e,t,n,i,r,o){function setInitialValueAndObserver(e,i){t.attr(e,n[e]),n.$observe(e,i)}function minChange(e){if(s=parseNumberAttrVal(e),!_(i.$modelValue))if(a){var n=t.val();s>n&&(n=s,t.val(n)),i.$setViewValue(n)}else i.$validate()}function maxChange(e){if(l=parseNumberAttrVal(e),!_(i.$modelValue))if(a){var n=t.val();l<n&&(t.val(l),n=l<s?s:l),i.$setViewValue(n)}else i.$validate()}function stepChange(e){c=parseNumberAttrVal(e),_(i.$modelValue)||(a&&i.$viewValue!==t.val()?i.$setViewValue(t.val()):i.$validate())}badInputChecker(e,t,n,i),numberFormatterParser(i),baseInputType(e,t,n,i,r,o);var a=i.$$hasNativeValidators&&"range"===t[0].type,s=a?0:void 0,l=a?100:void 0,c=a?1:void 0,u=t[0].validity,d=isDefined(n.min),h=isDefined(n.max),m=isDefined(n.step),p=i.$render;i.$render=a&&isDefined(u.rangeUnderflow)&&isDefined(u.rangeOverflow)?function(){p(),i.$setViewValue(t.val())}:p,d&&(i.$validators.min=a?function(){return!0}:function(e,t){return i.$isEmpty(t)||isUndefined(s)||t>=s},setInitialValueAndObserver("min",minChange)),h&&(i.$validators.max=a?function(){return!0}:function(e,t){return i.$isEmpty(t)||isUndefined(l)||t<=l},setInitialValueAndObserver("max",maxChange)),m&&(i.$validators.step=a?function(){return!u.stepMismatch}:function(e,t){return i.$isEmpty(t)||isUndefined(c)||isValidForStep(t,s||0,c)},setInitialValueAndObserver("step",stepChange))}function urlInputType(e,t,n,i,r,o){baseInputType(e,t,n,i,r,o),stringBasedInputType(i),i.$$parserName="url",i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||ft.test(n)}}function emailInputType(e,t,n,i,r,o){baseInputType(e,t,n,i,r,o),stringBasedInputType(i),i.$$parserName="email",i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||gt.test(n)}}function radioInputType(e,t,n,i){var r=!n.ngTrim||"false"!==C(n.ngTrim);isUndefined(n.name)&&t.attr("name",nextUid());var o=function(e){var o;t[0].checked&&(o=n.value,r&&(o=C(o)),i.$setViewValue(o,e&&e.type))};t.on("click",o),i.$render=function(){var e=n.value;r&&(e=C(e)),t[0].checked=e===i.$viewValue},n.$observe("value",i.$render)}function parseConstantExpr(e,t,n,i,r){var o;if(isDefined(i)){if(o=e(i),!o.constant)throw Qt("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(t)}return r}function checkboxInputType(e,t,n,i,r,o,a,s){var l=parseConstantExpr(s,e,"ngTrueValue",n.ngTrueValue,!0),c=parseConstantExpr(s,e,"ngFalseValue",n.ngFalseValue,!1),u=function(e){i.$setViewValue(t[0].checked,e&&e.type)};t.on("click",u),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return e===!1},i.$formatters.push(function(e){return equals(e,l)}),i.$parsers.push(function(e){return e?l:c})}function classDirective(e,t){function arrayDifference(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var i=0;i<e.length;i++){for(var r=e[i],o=0;o<t.length;o++)if(r===t[o])continue e;n.push(r)}return n}function split(e){return e&&e.split(" ")}function toClassString(e){var t=e;return w(e)?t=e.map(toClassString).join(" "):isObject(e)&&(t=Object.keys(e).filter(function(t){return e[t]}).join(" ")),t}function toFlatValue(e){var t=e;if(w(e))t=e.map(toFlatValue);else if(isObject(e)){var n=!1;t=Object.keys(e).filter(function(t){var i=e[t];return!n&&isUndefined(i)&&(n=!0),i}),n&&t.push(void 0)}return t}e="ngClass"+e;var n;return["$parse",function(i){return{restrict:"AC",link:function(r,o,a){function addClasses(e){e=digestClassCounts(split(e),1),a.$addClass(e)}function removeClasses(e){e=digestClassCounts(split(e),-1),a.$removeClass(e)}function updateClasses(e,t){var n=split(e),i=split(t),r=arrayDifference(n,i),o=arrayDifference(i,n),s=digestClassCounts(r,-1),l=digestClassCounts(o,1);a.$addClass(l),a.$removeClass(s)}function digestClassCounts(e,t){var n=[];return forEach(e,function(e){(t>0||m[e])&&(m[e]=(m[e]||0)+t,m[e]===+(t>0)&&n.push(e))}),n.join(" ")}function ngClassIndexWatchAction(e){e===t?addClasses(s):removeClasses(s),p=e}function ngClassOneTimeWatchAction(e){var t=toClassString(e);t!==s&&ngClassWatchAction(t)}function ngClassWatchAction(e){p===t&&updateClasses(s,e),s=e}var s,l=a[e].trim(),c=":"===l.charAt(0)&&":"===l.charAt(1),u=c?toFlatValue:toClassString,d=i(l,u),h=c?ngClassOneTimeWatchAction:ngClassWatchAction,m=o.data("$classCounts"),p=!0;m||(m=createMap(),o.data("$classCounts",m)),"ngClass"!==e&&(n||(n=i("$index",function(e){return 1&e})),r.$watch(n,ngClassIndexWatchAction)),r.$watch(d,h,c)}}}]}function NgModelController(e,t,n,i,r,o,a,s,l){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=lt,this.$options=en,this.$$parsedNgModel=r(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,this.$$scope=e,this.$$attr=n,this.$$element=i,this.$$animate=o,this.$$timeout=a,this.$$parse=r,this.$$q=s,this.$$exceptionHandler=t,setupValidity(this),setupModelWatcher(this)}function setupModelWatcher(e){e.$$scope.$watch(function(){var t=e.$$ngModelGet(e.$$scope);if(t!==e.$modelValue&&(e.$modelValue===e.$modelValue||t===t)){e.$modelValue=e.$$rawModelValue=t,e.$$parserValid=void 0;for(var n=e.$formatters,i=n.length,r=t;i--;)r=n[i](r);e.$viewValue!==r&&(e.$$updateEmptyClasses(r),e.$viewValue=e.$$lastCommittedViewValue=r,e.$render(),e.$$runValidators(e.$modelValue,e.$viewValue,noop))}return t})}function ModelOptions(e){this.$$options=e}function defaults(e,t){forEach(t,function(t,n){isDefined(e[n])||(e[n]=t)})}var t=/^\/(.+)\/([a-z]*)$/,n="validity",i=Object.prototype.hasOwnProperty,r=function(e){return isString(e)?e.toLowerCase():e},o=function(e){return isString(e)?e.toUpperCase():e},a=function(e){return isString(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},s=function(e){return isString(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)&-33)}):e};"i"!=="I".toLowerCase()&&(r=a,o=s);var l,c,u,d,h=[].slice,m=[].splice,p=[].push,f=Object.prototype.toString,g=Object.getPrototypeOf,v=minErr("ng"),y=e.angular||(e.angular={}),b=0;l=e.document.documentMode;var _=Number.isNaN||function(e){return e!==e};noop.$inject=[],identity.$inject=[];var w=Array.isArray,x=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,C=function(e){return isString(e)?e.trim():e},S=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},E=function(){function noUnsafeEval(){try{return new Function(""),!1}catch(e){return!0}}if(!isDefined(E.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");E.rules={noUnsafeEval:!n||n.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!n||n.indexOf("no-inline-style")!==-1}}else E.rules={noUnsafeEval:noUnsafeEval(),noInlineStyle:!1}}return E.rules},T=function(){if(isDefined(T.name_))return T.name_;var t,n,i,r,o=k.length;for(n=0;n<o;++n)if(i=k[n],t=e.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=t.getAttribute(i+"jq");break}return T.name_=r},M=/:/g,k=["ng-","data-ng-","ng:","x-ng-"],A=allowAutoBootstrap(e.document),$=/[A-Z]/g,P=!1,L=1,D=2,R=3,I=8,O=9,F=11,N={full:"1.6.2",major:1,minor:6,dot:2,codeName:"llamacorn-lovehug"};JQLite.expando="ng339";var H=JQLite.cache={},j=1;JQLite._data=function(e){return this.cache[e[this.expando]]||{}};var B=/-([a-z])/g,V=/^-ms-/,z={mouseleave:"mouseout",mouseenter:"mouseover"},Y=minErr("jqLite"),U=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,G=/<|&#?\w+;/,q=/<([\w:-]+)/,W=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,K={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};K.optgroup=K.option,K.tbody=K.tfoot=K.colgroup=K.caption=K.thead,K.th=K.td;var X=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},J=JQLite.prototype={ready:jqLiteReady,toString:function(){var e=[];return forEach(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return c(e>=0?this[e]:this[this.length+e])},length:0,push:p,sort:[].sort,splice:[].splice},Z={};forEach("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Z[r(e)]=e});var Q={};forEach("input,select,option,textarea,button,form,details".split(","),function(e){Q[e]=!0});var ee={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};forEach({data:jqLiteData,removeData:jqLiteRemoveData,hasData:jqLiteHasData,cleanData:jqLiteCleanData},function(e,t){JQLite[t]=e}),forEach({data:jqLiteData,inheritedData:jqLiteInheritedData,scope:function(e){return c.data(e,"$scope")||jqLiteInheritedData(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return c.data(e,"$isolateScope")||c.data(e,"$isolateScopeNoTemplate")},controller:jqLiteController,injector:function(e){return jqLiteInheritedData(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:jqLiteHasClass,css:function(e,t,n){return t=cssKebabToCamel(t),isDefined(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){var i,o=e.nodeType;if(o!==R&&o!==D&&o!==I&&e.getAttribute){var a=r(t),s=Z[a];return isDefined(n)?void(null===n||n===!1&&s?e.removeAttribute(t):e.setAttribute(t,s?a:n)):(i=e.getAttribute(t),s&&null!==i&&(i=a),null===i?void 0:i)}},prop:function(e,t,n){return isDefined(n)?void(e[t]=n):e[t]},text:function(){function getText(e,t){if(isUndefined(t)){var n=e.nodeType;return n===L||n===R?e.textContent:""}e.textContent=t}return getText.$dv="",getText}(),val:function(e,t){if(isUndefined(t)){if(e.multiple&&"select"===nodeName_(e)){var n=[];return forEach(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n}return e.value}e.value=t},html:function(e,t){return isUndefined(t)?e.innerHTML:(jqLiteDealoc(e,!0),void(e.innerHTML=t))},empty:jqLiteEmpty},function(e,t){JQLite.prototype[t]=function(t,n){var i,r,o=this.length;if(e!==jqLiteEmpty&&isUndefined(2===e.length&&e!==jqLiteHasClass&&e!==jqLiteController?t:n)){if(isObject(t)){for(i=0;i<o;i++)if(e===jqLiteData)e(this[i],t);else for(r in t)e(this[i],r,t[r]);return this}for(var a=e.$dv,s=isUndefined(a)?Math.min(o,1):o,l=0;l<s;l++){var c=e(this[l],t,n);a=a?a+c:c}return a}for(i=0;i<o;i++)e(this[i],t,n);return this}}),forEach({removeData:jqLiteRemoveData,on:function(e,t,n,i){if(isDefined(i))throw Y("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(jqLiteAcceptsData(e)){var r=jqLiteExpandoStore(e,!0),o=r.events,a=r.handle;a||(a=r.handle=createEventHandler(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],l=s.length,c=function(t,i,r){var s=o[t];s||(s=o[t]=[],s.specialHandlerWrapper=i,"$destroy"===t||r||e.addEventListener(t,a)),s.push(n)};l--;)t=s[l],z[t]?(c(z[t],specialMouseHandlerWrapper),c(t,void 0,!0)):c(t)}},off:jqLiteOff,one:function(e,t,n){e=c(e),e.on(t,function onFn(){e.off(t,n),e.off(t,onFn)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;jqLiteDealoc(e),forEach(new JQLite(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return forEach(e.childNodes,function(e){e.nodeType===L&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===L||n===F){t=new JQLite(t);for(var i=0,r=t.length;i<r;i++){var o=t[i];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===L){var n=e.firstChild;forEach(new JQLite(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){jqLiteWrapNode(e,c(t).eq(0).clone()[0])},remove:jqLiteRemove,detach:function(e){jqLiteRemove(e,!0)},after:function(e,t){var n=e,i=e.parentNode;if(i){t=new JQLite(t);for(var r=0,o=t.length;r<o;r++){var a=t[r];i.insertBefore(a,n.nextSibling),n=a}}},addClass:jqLiteAddClass,removeClass:jqLiteRemoveClass,toggleClass:function(e,t,n){t&&forEach(t.split(" "),function(t){var i=n;isUndefined(i)&&(i=!jqLiteHasClass(e,t)),(i?jqLiteAddClass:jqLiteRemoveClass)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==F?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:jqLiteClone,triggerHandler:function(e,t,n){var i,r,o,a=t.type||t,s=jqLiteExpandoStore(e),l=s&&s.events,c=l&&l[a];c&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:noop,type:a,target:e},t.type&&(i=extend(i,t)),r=shallowCopy(c),o=n?[i].concat(n):[i],forEach(r,function(t){i.isImmediatePropagationStopped()||t.apply(e,o)}))}},function(e,t){JQLite.prototype[t]=function(t,n,i){for(var r,o=0,a=this.length;o<a;o++)isUndefined(r)?(r=e(this[o],t,n,i),isDefined(r)&&(r=c(r))):jqLiteAddNodes(r,e(this[o],t,n,i));return isDefined(r)?r:this}}),JQLite.prototype.bind=JQLite.prototype.on,JQLite.prototype.unbind=JQLite.prototype.off;var te=Object.create(null);NgMapShim.prototype={_idx:function(e){return e===this._lastKey?this._lastIndex:(this._lastKey=e,this._lastIndex=this._keys.indexOf(e),this._lastIndex)},_transformKey:function(e){return _(e)?te:e;
},get:function(e){e=this._transformKey(e);var t=this._idx(e);if(t!==-1)return this._values[t]},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);n===-1&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},delete:function(e){e=this._transformKey(e);var t=this._idx(e);return t!==-1&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var ne=NgMapShim,ie=[function(){this.$get=[function(){return ne}]}],re=/^([^(]+?)=>/,oe=/^[^(]*\(\s*([^)]*)\)/m,ae=/,/,se=/^\s*(_?)(\S+?)\1\s*$/,le=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ce=minErr("$injector");createInjector.$$annotate=annotate;var ue=minErr("$animate"),de=1,he="ng-animate",me=function(){this.$get=noop},pe=function(){var e=new ne,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function updateData(e,t,n){var i=!1;return t&&(t=isString(t)?t.split(" "):w(t)?t:[],forEach(t,function(t){t&&(i=!0,e[t]=n)})),i}function handleCSSClassChanges(){forEach(t,function(t){var n=e.get(t);if(n){var i=splitClasses(t.attr("class")),r="",o="";forEach(n,function(e,t){var n=!!i[t];e!==n&&(e?r+=(r.length?" ":"")+t:o+=(o.length?" ":"")+t)}),forEach(t,function(e){r&&jqLiteAddClass(e,r),o&&jqLiteRemoveClass(e,o)}),e.delete(t)}}),t.length=0}function addRemoveClassesPostDigest(n,r,o){var a=e.get(n)||{},s=updateData(a,r,!0),l=updateData(a,o,!1);(s||l)&&(e.set(n,a),t.push(n),1===t.length&&i.$$postDigest(handleCSSClassChanges))}return{enabled:noop,on:noop,off:noop,pin:noop,push:function(e,t,i,r){r&&r(),i=i||{},i.from&&e.css(i.from),i.to&&e.css(i.to),(i.addClass||i.removeClass)&&addRemoveClassesPostDigest(e,i.addClass,i.removeClass);var o=new n;return o.complete(),o}}}]},fe=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw ue("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";t.$$registeredAnimations[n.substr(1)]=r,e.factory(r,i)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+he+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw ue("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',he)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function domInsert(e,t,n){if(n){var i=extractElementNode(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(t,n,i,r){return n=n&&c(n),i=i&&c(i),n=n||i.parent(),domInsert(t,n,i),e.push(t,"enter",prepareAnimateOptions(r))},move:function(t,n,i,r){return n=n&&c(n),i=i&&c(i),n=n||i.parent(),domInsert(t,n,i),e.push(t,"move",prepareAnimateOptions(r))},leave:function(t,n){return e.push(t,"leave",prepareAnimateOptions(n),function(){t.remove()})},addClass:function(t,n,i){return i=prepareAnimateOptions(i),i.addClass=mergeClasses(i.addclass,n),e.push(t,"addClass",i)},removeClass:function(t,n,i){return i=prepareAnimateOptions(i),i.removeClass=mergeClasses(i.removeClass,n),e.push(t,"removeClass",i)},setClass:function(t,n,i,r){return r=prepareAnimateOptions(r),r.addClass=mergeClasses(r.addClass,n),r.removeClass=mergeClasses(r.removeClass,i),e.push(t,"setClass",r)},animate:function(t,n,i,r,o){return o=prepareAnimateOptions(o),o.from=o.from?extend(o.from,n):n,o.to=o.to?extend(o.to,i):i,r=r||"ng-inline-animate",o.tempClasses=mergeClasses(o.tempClasses,r),e.push(t,"animate",o)}}}]}],ge=function(){this.$get=["$$rAF",function(e){function waitForTick(n){t.push(n),t.length>1||e(function(){for(var e=0;e<t.length;e++)t[e]();t=[]})}var t=[];return function(){var e=!1;return waitForTick(function(){e=!0}),function(t){e?t():waitForTick(t)}}}]},ve=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,i,r){function AnimateRunner(e){this.setHost(e);var t=n(),o=function(e){r(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){i()?o(e):t(e)},this._state=0}var o=0,a=1,s=2;return AnimateRunner.chain=function(e,t){function next(){return n===e.length?void t(!0):void e[n](function(e){return e===!1?void t(!1):(n++,void next())})}var n=0;next()},AnimateRunner.all=function(e,t){function onProgress(r){i=i&&r,++n===e.length&&t(i)}var n=0,i=!0;forEach(e,function(e){e.done(onProgress)})},AnimateRunner.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===s?e():this._doneCallbacks.push(e)},progress:noop,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===o&&(t._state=a,t._tick(function(){t._resolve(e)}))},_resolve:function(e){this._state!==s&&(forEach(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=s)}},AnimateRunner}]},ye=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,i){function run(){return e(function(){applyAnimationContents(),o||a.complete(),o=!0}),a}function applyAnimationContents(){r.addClass&&(t.addClass(r.addClass),r.addClass=null),r.removeClass&&(t.removeClass(r.removeClass),r.removeClass=null),r.to&&(t.css(r.to),r.to=null)}var r=i||{};r.$$prepared||(r=copy(r)),r.cleanupStyles&&(r.from=r.to=null),r.from&&(t.css(r.from),r.from=null);var o,a=new n;return{start:run,end:run}}}]},be=minErr("$compile"),_e=new UNINITIALIZED_VALUE;$CompileProvider.$inject=["$provide","$$sanitizeUriProvider"],SimpleChange.prototype.isFirstChange=function(){return this.previousValue===_e};var we=/^((?:x|data)[:\-_])/i,xe=/[:\-_]+(.)/g,Ce=minErr("$controller"),Se=/^(\S+)(\s+as\s+([\w$]+))?$/,Ee=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof c&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Te="application/json",Me={"Content-Type":Te+";charset=utf-8"},ke=/^\[|^\{(?!\{)/,Ae={"[":/]$/,"{":/}$/},$e=/^\)]\}',?\n/,Pe=minErr("$http"),Le=y.$interpolateMinErr=minErr("$interpolate");Le.throwNoconcat=function(e){throw Le("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Le.interr=function(e,t){return Le("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var De=function(){this.$get=["$window",function(e){function createCallback(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var t=e.angular.callbacks,n={};return{createCallback:function(e){var i="_"+(t.$$counter++).toString(36),r="angular.callbacks."+i,o=createCallback(i);return n[r]=t[i]=o,r},wasCalled:function(e){return n[e].called},getResponse:function(e){return n[e].data},removeCallback:function(e){var i=n[e];delete t[i.id],delete n[e]}}}]},Re=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Ie={http:80,https:443,ftp:21},Oe=minErr("$location"),Fe=/^\s*[\\\/]{2,}/,Ne={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:locationGetter("$$absUrl"),url:function(e){if(isUndefined(e))return this.$$url;var t=Re.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:locationGetter("$$protocol"),host:locationGetter("$$host"),port:locationGetter("$$port"),path:locationGetterSetter("$$path",function(e){return e=null!==e?e.toString():"","/"===e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(isString(e)||isNumber(e))e=e.toString(),this.$$search=parseKeyValue(e);else{if(!isObject(e))throw Oe("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=copy(e,{}),forEach(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:isUndefined(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:locationGetterSetter("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};forEach([LocationHashbangInHtml5Url,LocationHashbangUrl,LocationHtml5Url],function(e){e.prototype=Object.create(Ne),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==LocationHtml5Url||!this.$$html5)throw Oe("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=isUndefined(t)?null:t,this.$$urlUpdatedByLocation=!0,this}});var He=minErr("$parse"),je={}.constructor.prototype.valueOf,Be=createMap();forEach("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Be[e]=!0});var Ve={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},ze=function(e){this.options=e};ze.prototype={constructor:ze,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),i=n+this.peek(2),r=Be[t],o=Be[n],a=Be[i];if(r||o||a){var s=a?i:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return t.indexOf(e)!==-1},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||""===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),i=t.charCodeAt(0);return n>=55296&&n<=56319&&i>=56320&&i<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var i=isDefined(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw He("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,i,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=r(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=Ve[o];n+=s||o}r=!1}else if("\\"===o)r=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var Ye=function(e,t){this.lexer=e,this.options=t};Ye.Program="Program",Ye.ExpressionStatement="ExpressionStatement",Ye.AssignmentExpression="AssignmentExpression",Ye.ConditionalExpression="ConditionalExpression",Ye.LogicalExpression="LogicalExpression",Ye.BinaryExpression="BinaryExpression",Ye.UnaryExpression="UnaryExpression",Ye.CallExpression="CallExpression",Ye.MemberExpression="MemberExpression",Ye.Identifier="Identifier",Ye.Literal="Literal",Ye.ArrayExpression="ArrayExpression",Ye.Property="Property",Ye.ObjectExpression="ObjectExpression",Ye.ThisExpression="ThisExpression",Ye.LocalsExpression="LocalsExpression",Ye.NGValueParameter="NGValueParameter",Ye.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:Ye.Program,body:e}},expressionStatement:function(){return{type:Ye.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!isAssignable(e))throw He("lval","Trying to assign a value to a non l-value");e={type:Ye.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:Ye.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:Ye.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:Ye.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:Ye.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:Ye.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:Ye.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:Ye.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:Ye.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=copy(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:Ye.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:Ye.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:Ye.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:Ye.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:Ye.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:Ye.Identifier,name:e.text}},constant:function(){return{type:Ye.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Ye.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:Ye.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Ye.ObjectExpression,properties:t}},throwError:function(e,t){throw He("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw He("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw He("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===i||a===r||!t&&!n&&!i&&!r)return o}return!1},expect:function(e,t,n,i){var r=this.peek(e,t,n,i);return!!r&&(this.tokens.shift(),r)},selfReferential:{this:{type:Ye.ThisExpression},$locals:{type:Ye.LocalsExpression}}},ASTCompiler.prototype={compile:function(e){var t=this,n=this.astBuilder.ast(e);this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},findConstantAndWatchExpressions(n,t.$filter);var i,r="";if(this.stage="assign",i=assignableAST(n)){this.state.computing="assign";var o=this.nextId();this.recurse(i,o),this.return_(o),r="fn.assign="+this.generateFunction("assign","s,v,l")}var a=getInputs(n.body);t.stage="inputs",forEach(a,function(e,n){var i="fn"+n;t.state[i]={vars:[],body:[],own:{}},t.state.computing=i;var r=t.nextId();t.recurse(e,r),t.return_(r),t.state.inputs.push(i),e.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(n);var s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",l=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,getStringValue,ifDefined,plusFn);return this.state=this.stage=void 0,l.literal=isLiteral(n),l.constant=isConstant(n),l},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return forEach(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return forEach(this.state.filters,function(n,i){e.push(n+"=$filter("+t.escape(i)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,i,r,o){var a,s,l,c,u,d=this;if(i=i||noop,!o&&isDefined(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,i,r,!0));switch(e.type){case Ye.Program:forEach(e.body,function(t,n){d.recurse(t.expression,void 0,void 0,function(e){s=e}),n!==e.body.length-1?d.current().body.push(s,";"):d.return_(s)});break;case Ye.Literal:c=this.escape(e.value),this.assign(t,c),i(t||c);break;case Ye.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){s=e}),c=e.operator+"("+this.ifDefined(s,0)+")",this.assign(t,c),i(c);break;case Ye.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){a=e}),this.recurse(e.right,void 0,void 0,function(e){s=e}),c="+"===e.operator?this.plus(a,s):"-"===e.operator?this.ifDefined(a,0)+e.operator+this.ifDefined(s,0):"("+a+")"+e.operator+"("+s+")",this.assign(t,c),i(c);break;case Ye.LogicalExpression:t=t||this.nextId(),d.recurse(e.left,t),d.if_("&&"===e.operator?t:d.not(t),d.lazyRecurse(e.right,t)),i(t);break;case Ye.ConditionalExpression:t=t||this.nextId(),d.recurse(e.test,t),d.if_(t,d.lazyRecurse(e.alternate,t),d.lazyRecurse(e.consequent,t)),i(t);break;case Ye.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",e.name)),function(){d.if_("inputs"===d.stage||"s",function(){r&&1!==r&&d.if_(d.isNull(d.nonComputedMember("s",e.name)),d.lazyAssign(d.nonComputedMember("s",e.name),"{}")),d.assign(t,d.nonComputedMember("s",e.name))})},t&&d.lazyAssign(t,d.nonComputedMember("l",e.name))),i(t);break;case Ye.MemberExpression:a=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),d.recurse(e.object,a,void 0,function(){d.if_(d.notNull(a),function(){e.computed?(s=d.nextId(),d.recurse(e.property,s),d.getStringValue(s),r&&1!==r&&d.if_(d.not(d.computedMember(a,s)),d.lazyAssign(d.computedMember(a,s),"{}")),c=d.computedMember(a,s),d.assign(t,c),n&&(n.computed=!0,n.name=s)):(r&&1!==r&&d.if_(d.isNull(d.nonComputedMember(a,e.property.name)),d.lazyAssign(d.nonComputedMember(a,e.property.name),"{}")),c=d.nonComputedMember(a,e.property.name),d.assign(t,c),n&&(n.computed=!1,n.name=e.property.name))},function(){d.assign(t,"undefined")}),i(t)},!!r);break;case Ye.CallExpression:t=t||this.nextId(),e.filter?(s=d.filter(e.callee.name),l=[],forEach(e.arguments,function(e){var t=d.nextId();d.recurse(e,t),l.push(t)}),c=s+"("+l.join(",")+")",d.assign(t,c),i(t)):(s=d.nextId(),a={},l=[],d.recurse(e.callee,s,a,function(){d.if_(d.notNull(s),function(){forEach(e.arguments,function(t){d.recurse(t,e.constant?void 0:d.nextId(),void 0,function(e){l.push(e)})}),c=a.name?d.member(a.context,a.name,a.computed)+"("+l.join(",")+")":s+"("+l.join(",")+")",d.assign(t,c)},function(){d.assign(t,"undefined")}),i(t)}));break;case Ye.AssignmentExpression:s=this.nextId(),a={},this.recurse(e.left,void 0,a,function(){d.if_(d.notNull(a.context),function(){d.recurse(e.right,s),c=d.member(a.context,a.name,a.computed)+e.operator+s,d.assign(t,c),i(t||c)})},1);break;case Ye.ArrayExpression:l=[],forEach(e.elements,function(t){d.recurse(t,e.constant?void 0:d.nextId(),void 0,function(e){l.push(e)})}),c="["+l.join(",")+"]",this.assign(t,c),i(t||c);break;case Ye.ObjectExpression:l=[],u=!1,forEach(e.properties,function(e){e.computed&&(u=!0)}),u?(t=t||this.nextId(),this.assign(t,"{}"),forEach(e.properties,function(e){e.computed?(a=d.nextId(),d.recurse(e.key,a)):a=e.key.type===Ye.Identifier?e.key.name:""+e.key.value,s=d.nextId(),d.recurse(e.value,s),d.assign(d.member(t,a,e.computed),s)})):(forEach(e.properties,function(t){d.recurse(t.value,e.constant?void 0:d.nextId(),void 0,function(e){l.push(d.escape(t.key.type===Ye.Identifier?t.key.name:""+t.key.value)+":"+e)})}),c="{"+l.join(",")+"}",this.assign(t,c)),i(t||c);break;case Ye.ThisExpression:this.assign(t,"s"),i(t||"s");break;case Ye.LocalsExpression:this.assign(t,"l"),i(t||"l");break;case Ye.NGValueParameter:this.assign(t,"v"),i(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var i=this.current().body;i.push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,i=/[^$_a-zA-Z0-9]/g;return n.test(t)?e+"."+t:e+'["'+t.replace(i,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,i,r,o){var a=this;return function(){a.recurse(e,t,n,i,r,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(isString(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(isNumber(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw He("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},ASTInterpreter.prototype={compile:function(e){var t=this,n=this.astBuilder.ast(e);findConstantAndWatchExpressions(n,t.$filter);var i,r;(i=assignableAST(n))&&(r=this.recurse(i));var o,a=getInputs(n.body);a&&(o=[],forEach(a,function(e,n){var i=t.recurse(e);e.input=i,o.push(i),e.watchId=n}));var s=[];forEach(n.body,function(e){s.push(t.recurse(e.expression))});var l=0===n.body.length?noop:1===n.body.length?s[0]:function(e,t){var n;return forEach(s,function(i){n=i(e,t)}),n};return r&&(l.assign=function(e,t,n){return r(e,n,t)}),o&&(l.inputs=o),l.literal=isLiteral(n),l.constant=isConstant(n),l},recurse:function(e,t,n){var i,r,o,a=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case Ye.Literal:return this.value(e.value,t);case Ye.UnaryExpression:return r=this.recurse(e.argument),this["unary"+e.operator](r,t);case Ye.BinaryExpression:return i=this.recurse(e.left),r=this.recurse(e.right),this["binary"+e.operator](i,r,t);case Ye.LogicalExpression:return i=this.recurse(e.left),r=this.recurse(e.right),this["binary"+e.operator](i,r,t);case Ye.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case Ye.Identifier:return a.identifier(e.name,t,n);case Ye.MemberExpression:return i=this.recurse(e.object,!1,!!n),e.computed||(r=e.property.name),e.computed&&(r=this.recurse(e.property)),e.computed?this.computedMember(i,r,t,n):this.nonComputedMember(i,r,t,n);case Ye.CallExpression:return o=[],forEach(e.arguments,function(e){o.push(a.recurse(e))}),e.filter&&(r=this.$filter(e.callee.name)),e.filter||(r=this.recurse(e.callee,!0)),e.filter?function(e,n,i,a){for(var s=[],l=0;l<o.length;++l)s.push(o[l](e,n,i,a));var c=r.apply(void 0,s,a);return t?{context:void 0,name:void 0,value:c}:c}:function(e,n,i,a){var s,l=r(e,n,i,a);if(null!=l.value){for(var c=[],u=0;u<o.length;++u)c.push(o[u](e,n,i,a));s=l.value.apply(l.context,c)}return t?{value:s}:s};case Ye.AssignmentExpression:return i=this.recurse(e.left,!0,1),r=this.recurse(e.right),function(e,n,o,a){var s=i(e,n,o,a),l=r(e,n,o,a);return s.context[s.name]=l,t?{value:l}:l};case Ye.ArrayExpression:return o=[],forEach(e.elements,function(e){o.push(a.recurse(e))}),function(e,n,i,r){for(var a=[],s=0;s<o.length;++s)a.push(o[s](e,n,i,r));return t?{value:a}:a};case Ye.ObjectExpression:return o=[],forEach(e.properties,function(e){e.computed?o.push({key:a.recurse(e.key),computed:!0,value:a.recurse(e.value)}):o.push({key:e.key.type===Ye.Identifier?e.key.name:""+e.key.value,computed:!1,value:a.recurse(e.value)})}),function(e,n,i,r){for(var a={},s=0;s<o.length;++s)o[s].computed?a[o[s].key(e,n,i,r)]=o[s].value(e,n,i,r):a[o[s].key]=o[s].value(e,n,i,r);return t?{value:a}:a};case Ye.ThisExpression:return function(e){return t?{value:e}:e};case Ye.LocalsExpression:return function(e,n){return t?{value:n}:n};case Ye.NGValueParameter:return function(e,n,i){return t?{value:i}:i}}},"unary+":function(e,t){return function(n,i,r,o){var a=e(n,i,r,o);return a=isDefined(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,i,r,o){var a=e(n,i,r,o);return a=isDefined(a)?-a:-0,t?{value:a}:a}},"unary!":function(e,t){return function(n,i,r,o){var a=!e(n,i,r,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a),l=t(i,r,o,a),c=plusFn(s,l);return n?{value:c}:c}},"binary-":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a),l=t(i,r,o,a),c=(isDefined(s)?s:0)-(isDefined(l)?l:0);return n?{value:c}:c}},"binary*":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)*t(i,r,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)/t(i,r,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)%t(i,r,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)===t(i,r,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)!==t(i,r,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)==t(i,r,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)!=t(i,r,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)<t(i,r,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)>t(i,r,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)<=t(i,r,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)>=t(i,r,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)&&t(i,r,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)||t(i,r,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,i){return function(r,o,a,s){var l=e(r,o,a,s)?t(r,o,a,s):n(r,o,a,s);return i?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n){return function(i,r,o,a){var s=r&&e in r?r:i;n&&1!==n&&s&&null==s[e]&&(s[e]={});var l=s?s[e]:void 0;return t?{context:s,name:e,value:l}:l}},computedMember:function(e,t,n,i){return function(r,o,a,s){var l,c,u=e(r,o,a,s);return null!=u&&(l=t(r,o,a,s),l=getStringValue(l),i&&1!==i&&u&&!u[l]&&(u[l]={}),c=u[l]),n?{context:u,name:l,value:c}:c}},nonComputedMember:function(e,t,n,i){return function(r,o,a,s){var l=e(r,o,a,s);i&&1!==i&&l&&null==l[t]&&(l[t]={});var c=null!=l?l[t]:void 0;return n?{context:l,name:t,value:c}:c}},inputs:function(e,t){return function(n,i,r,o){return o?o[t]:e(n,i,r)}}};var Ue=function(e,t,n){this.lexer=e,
this.$filter=t,this.options=n,this.ast=new Ye(e,n),this.astCompiler=n.csp?new ASTInterpreter(this.ast,t):new ASTCompiler(this.ast,t)};Ue.prototype={constructor:Ue,parse:function(e){return this.astCompiler.compile(e)}};var Ge=minErr("$sce"),qe={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},We=/_([a-z])/g,Ke=minErr("$compile"),Xe=e.document.createElement("a"),Je=urlResolve(e.location.href);$$CookieReader.$inject=["$document"],$FilterProvider.$inject=["$provide"];var Ze=22,Qe=".",et="0";currencyFilter.$inject=["$locale"],numberFilter.$inject=["$locale"];var tt={yyyy:dateGetter("FullYear",4,0,!1,!0),yy:dateGetter("FullYear",2,0,!0,!0),y:dateGetter("FullYear",1,0,!1,!0),MMMM:dateStrGetter("Month"),MMM:dateStrGetter("Month",!0),MM:dateGetter("Month",2,1),M:dateGetter("Month",1,1),LLLL:dateStrGetter("Month",!1,!0),dd:dateGetter("Date",2),d:dateGetter("Date",1),HH:dateGetter("Hours",2),H:dateGetter("Hours",1),hh:dateGetter("Hours",2,-12),h:dateGetter("Hours",1,-12),mm:dateGetter("Minutes",2),m:dateGetter("Minutes",1),ss:dateGetter("Seconds",2),s:dateGetter("Seconds",1),sss:dateGetter("Milliseconds",3),EEEE:dateStrGetter("Day"),EEE:dateStrGetter("Day",!0),a:ampmGetter,Z:timeZoneGetter,ww:weekGetter(2),w:weekGetter(1),G:eraGetter,GG:eraGetter,GGG:eraGetter,GGGG:longEraGetter},nt=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,it=/^-?\d+$/;dateFilter.$inject=["$locale"];var rt=valueFn(r),ot=valueFn(o);orderByFilter.$inject=["$parse"];var at=valueFn({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===f.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),st={};forEach(Z,function(e,t){function defaultLinkFn(e,i,r){e.$watch(r[n],function(e){r.$set(t,!!e)})}if("multiple"!==e){var n=directiveNormalize("ng-"+t),i=defaultLinkFn;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[n]&&defaultLinkFn(e,t,i)}),st[n]=function(){return{restrict:"A",priority:100,link:i}}}}),forEach(ee,function(e,n){st[n]=function(){return{priority:100,link:function(e,i,r){if("ngPattern"===n&&"/"===r.ngPattern.charAt(0)){var o=r.ngPattern.match(t);if(o)return void r.$set("ngPattern",new RegExp(o[1],o[2]))}e.$watch(r[n],function(e){r.$set(n,e)})}}}}),forEach(["src","srcset","href"],function(e){var t=directiveNormalize("ng-"+e);st[t]=function(){return{priority:99,link:function(n,i,r){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===f.call(i.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(t,function(t){return t?(r.$set(a,t),void(l&&o&&i.prop(o,r[a]))):void("href"===e&&r.$set(a,null))})}}}});var lt={$addControl:noop,$$renameControl:nullFormRenameControl,$removeControl:noop,$setValidity:noop,$setDirty:noop,$setPristine:noop,$setSubmitted:noop},ct="ng-pending",ut="ng-submitted";FormController.$inject=["$element","$attrs","$scope","$animate","$interpolate"],FormController.prototype={$rollbackViewValue:function(){forEach(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){forEach(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){assertNotHasOwnProperty(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],forEach(this.$pending,function(t,n){this.$setValidity(n,null,e)},this),forEach(this.$error,function(t,n){this.$setValidity(n,null,e)},this),forEach(this.$$success,function(t,n){this.$setValidity(n,null,e)},this),arrayRemove(this.$$controls,e),e.$$parentForm=lt},$setDirty:function(){this.$$animate.removeClass(this.$$element,qt),this.$$animate.addClass(this.$$element,Wt),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,qt,Wt+" "+ut),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,forEach(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){forEach(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,ut),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},addSetValidityMethod({clazz:FormController,set:function(e,t,n){var i=e[t];if(i){var r=i.indexOf(n);r===-1&&i.push(n)}else e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(arrayRemove(i,n),0===i.length&&delete e[t])}});var dt=function(e){return["$timeout","$parse",function(t,n){function getSetter(e){return""===e?n('this[""]').assign:n(e).assign||noop}var i={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:FormController,compile:function(n,i){n.addClass(qt).addClass(Ut);var r=i.name?"name":!(!e||!i.ngForm)&&"ngForm";return{pre:function(e,n,i,o){var a=o[0];if(!("action"in i)){var s=function(t){e.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),t.preventDefault()};n[0].addEventListener("submit",s),n.on("$destroy",function(){t(function(){n[0].removeEventListener("submit",s)},0,!1)})}var l=o[1]||a.$$parentForm;l.$addControl(a);var c=r?getSetter(a.$name):noop;r&&(c(e,a),i.$observe(r,function(t){a.$name!==t&&(c(e,void 0),a.$$parentForm.$$renameControl(a,t),(c=getSetter(a.$name))(e,a))})),n.on("$destroy",function(){a.$$parentForm.$removeControl(a),c(e,void 0),extend(a,lt)})}}}};return i}]},ht=dt(),mt=dt(!0),pt=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,ft=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,gt=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,vt=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,yt=/^(\d{4,})-(\d{2})-(\d{2})$/,bt=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,_t=/^(\d{4,})-W(\d\d)$/,wt=/^(\d{4,})-(\d\d)$/,xt=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ct="keydown wheel mousedown",St=createMap();forEach("date,datetime-local,month,time,week".split(","),function(e){St[e]=!0});var Et={text:textInputType,date:createDateInputType("date",yt,createDateParser(yt,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":createDateInputType("datetimelocal",bt,createDateParser(bt,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:createDateInputType("time",xt,createDateParser(xt,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:createDateInputType("week",_t,weekParser,"yyyy-Www"),month:createDateInputType("month",wt,createDateParser(wt,["yyyy","MM"]),"yyyy-MM"),number:numberInputType,url:urlInputType,email:emailInputType,radio:radioInputType,range:rangeInputType,checkbox:checkboxInputType,hidden:noop,button:noop,submit:noop,reset:noop,file:noop},Tt=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(o,a,s,l){l[0]&&(Et[r(s.type)]||Et.text)(o,a,s,l[0],t,e,n,i)}}}}],Mt=/^(true|false|\d+)$/,kt=function(){function updateElementValue(e,t,n){var i=isDefined(n)?n:9===l?"":null;e.prop("value",i),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,t){return Mt.test(t.ngValue)?function(e,t,n){var i=e.$eval(n.ngValue);updateElementValue(t,n,i)}:function(e,t,n){e.$watch(n.ngValue,function(e){updateElementValue(t,n,e)})}}}},At=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,i){e.$$addBindingInfo(n,i.ngBind),n=n[0],t.$watch(i.ngBind,function(e){n.textContent=stringify(e)})}}}}],$t=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,i,r){var o=e(i.attr(r.$attr.ngBindTemplate));t.$$addBindingInfo(i,o.expressions),i=i[0],r.$observe("ngBindTemplate",function(e){i.textContent=isUndefined(e)?"":e})}}}}],Pt=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,r){var o=t(r.ngBindHtml),a=t(r.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(i),function(t,i,r){n.$$addBindingInfo(i,r.ngBindHtml),t.$watch(a,function(){var n=o(t);i.html(e.getTrustedHtml(n)||"")})}}}}],Lt=valueFn({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Dt=classDirective("",!0),Rt=classDirective("Odd",0),It=classDirective("Even",1),Ot=ngDirective({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),Ft=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Nt={},Ht={blur:!0,focus:!0};forEach("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=directiveNormalize("ng-"+e);Nt[t]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var a=n(o[t]);return function(t,n){n.on(e,function(n){var r=function(){a(t,{$event:n})};Ht[e]&&i.$$phase?t.$evalAsync(r):t.$apply(r)})}}}}]});var jt=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,l,c;n.$watch(r.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",r.ngIf),s={clone:n},e.enter(n,i.parent(),i)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=getBlockNodes(s.clone),e.leave(c).done(function(e){e!==!1&&(c=null)}),s=null))})}}}],Bt=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:y.noop,compile:function(i,r){var o=r.ngInclude||r.src,a=r.onload||"",s=r.autoscroll;return function(i,r,l,c,u){var d,h,m,p=0,f=function(){h&&(h.remove(),h=null),d&&(d.$destroy(),d=null),m&&(n.leave(m).done(function(e){e!==!1&&(h=null)}),h=m,m=null)};i.$watch(o,function(o){var l=function(e){e===!1||!isDefined(s)||s&&!i.$eval(s)||t()},h=++p;o?(e(o,!0).then(function(e){if(!i.$$destroyed&&h===p){var t=i.$new();c.template=e;var s=u(t,function(e){f(),n.enter(e,null,r).done(l)});d=t,m=s,d.$emit("$includeContentLoaded",o),i.$eval(a)}},function(){i.$$destroyed||h===p&&(f(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(f(),c.template=null)})}}}}],Vt=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){return f.call(i[0]).match(/SVG/)?(i.empty(),void t(jqLiteBuildFragment(o.template,e.document).childNodes)(n,function(e){i.append(e)},{futureParentElement:i})):(i.html(o.template),void t(i.contents())(n))}}}],zt=ngDirective({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Yt=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,i){var r=n.ngList||", ",o="false"!==n.ngTrim,a=o?C(r):r,s=function(e){if(!isUndefined(e)){var t=[];return e&&forEach(e.split(a),function(e){e&&t.push(o?C(e):e)}),t}};i.$parsers.push(s),i.$formatters.push(function(e){if(w(e))return e.join(r)}),i.$isEmpty=function(e){return!e||!e.length}}}},Ut="ng-valid",Gt="ng-invalid",qt="ng-pristine",Wt="ng-dirty",Kt="ng-untouched",Xt="ng-touched",Jt="ng-empty",Zt="ng-not-empty",Qt=minErr("ngModel");NgModelController.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],NgModelController.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var n=this.$$parsedNgModel(t);return isFunction(n)&&(n=e(t)),n},this.$$ngModelSet=function(e,n){isFunction(this.$$parsedNgModel(e))?t(e,{$$$p:n}):this.$$parsedNgModelAssign(e,n)}}else if(!this.$$parsedNgModel.assign)throw Qt("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,startingTag(this.$$element))},$render:noop,$isEmpty:function(e){return isUndefined(e)||""===e||null===e||e!==e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,Zt),this.$$animate.addClass(this.$$element,Jt)):(this.$$animate.removeClass(this.$$element,Jt),this.$$animate.addClass(this.$$element,Zt))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Wt),this.$$animate.addClass(this.$$element,qt)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,qt),this.$$animate.addClass(this.$$element,Wt),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,Kt,Xt)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,Xt,Kt)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!_(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,i=this.$modelValue,r=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(t,e,function(e){r||n===e||(o.$modelValue=e?t:void 0,o.$modelValue!==i&&o.$$writeModelToScope())})}},$$runValidators:function(e,t,n){function processParseErrors(){var e=r.$$parserName||"parse";return isUndefined(r.$$parserValid)?(setValidity(e,null),!0):(r.$$parserValid||(forEach(r.$validators,function(e,t){setValidity(t,null)}),forEach(r.$asyncValidators,function(e,t){setValidity(t,null)})),setValidity(e,r.$$parserValid),r.$$parserValid)}function processSyncValidators(){var n=!0;return forEach(r.$validators,function(i,r){var o=Boolean(i(e,t));n=n&&o,setValidity(r,o)}),!!n||(forEach(r.$asyncValidators,function(e,t){setValidity(t,null)}),!1)}function processAsyncValidators(){var n=[],i=!0;forEach(r.$asyncValidators,function(r,o){var a=r(e,t);if(!isPromiseLike(a))throw Qt("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);setValidity(o,void 0),n.push(a.then(function(){setValidity(o,!0)},function(){i=!1,setValidity(o,!1)}))}),n.length?r.$$q.all(n).then(function(){validationDone(i)},noop):validationDone(!0)}function setValidity(e,t){i===r.$$currentValidationRunId&&r.$setValidity(e,t)}function validationDone(e){i===r.$$currentValidationRunId&&n(e)}this.$$currentValidationRunId++;var i=this.$$currentValidationRunId,r=this;return processParseErrors()&&processSyncValidators()?void processAsyncValidators():void validationDone(!1)},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function writeToModelIfNeeded(){n.$modelValue!==r&&n.$$writeModelToScope()}var e=this.$$lastCommittedViewValue,t=e,n=this;if(this.$$parserValid=!isUndefined(t)||void 0,this.$$parserValid)for(var i=0;i<this.$parsers.length;i++)if(t=this.$parsers[i](t),isUndefined(t)){this.$$parserValid=!1;break}_(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var r=this.$modelValue,o=this.$options.getOption("allowInvalid");this.$$rawModelValue=t,o&&(this.$modelValue=t,writeToModelIfNeeded()),this.$$runValidators(t,this.$$lastCommittedViewValue,function(e){o||(n.$modelValue=e?t:void 0,writeToModelIfNeeded())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),forEach(this.$viewChangeListeners,function(e){try{e()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");isNumber(t[e])?t=t[e]:isNumber(t.default)&&(t=t.default),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;t>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e)}},addSetValidityMethod({clazz:NgModelController,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var en,tn=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:NgModelController,priority:1,compile:function(t){return t.addClass(qt).addClass(Kt).addClass(Ut),{pre:function(e,t,n,i){var r=i[0],o=i[1]||r.$$parentForm,a=i[2];a&&(r.$options=a.$options),r.$$initGetterSetters(),o.$addControl(r),n.$observe("name",function(e){r.$name!==e&&r.$$parentForm.$$renameControl(r,e)}),e.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(t,n,i,r){function setTouched(){o.$setTouched()}var o=r[0];o.$options.getOption("updateOn")&&n.on(o.$options.getOption("updateOn"),function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(setTouched):t.$apply(setTouched))})}}}}}],nn=/(\s+|^)default(\s+|$)/;ModelOptions.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return e=extend({},e),forEach(e,function(n,i){"$inherit"===n?"*"===i?t=!0:(e[i]=this.$$options[i],"updateOn"===i&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===i&&(e.updateOnDefault=!1,e[i]=C(n.replace(nn,function(){return e.updateOnDefault=!0," "})))},this),t&&(delete e["*"],defaults(e,this.$$options)),defaults(e,en.$$options),new ModelOptions(e)}},en=new ModelOptions({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var rn=function(){function NgModelOptionsController(e,t){this.$$attrs=e,this.$$scope=t}return NgModelOptionsController.$inject=["$attrs","$scope"],NgModelOptionsController.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:en,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:NgModelOptionsController}},on=ngDirective({terminal:!0,priority:1e3}),an=minErr("ngOptions"),sn=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ln=["$compile","$document","$parse",function(t,n,i){function parseOptionsExpression(e,t,n){function Option(e,t,n,i,r){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=r}function getOptionValuesKeys(e){var t;if(!a&&isArrayLike(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var r=e.match(sn);if(!r)throw an("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,startingTag(t));var o=r[5]||r[7],a=r[6],s=/ as /.test(r[0])&&r[1],l=r[9],c=i(r[2]?r[1]:o),u=s&&i(s),d=u||c,h=l&&i(l),m=l?function(e,t){return h(n,t)}:function(e){return hashKey(e)},p=function(e,t){return m(e,_(e,t))},f=i(r[2]||r[1]),g=i(r[3]||""),v=i(r[4]||""),y=i(r[8]),b={},_=a?function(e,t){return b[a]=t,b[o]=e,b}:function(e){return b[o]=e,b};return{trackBy:l,getTrackByValue:p,getWatchables:i(y,function(e){var t=[];e=e||[];for(var i=getOptionValuesKeys(e),o=i.length,a=0;a<o;a++){var s=e===i?a:i[a],l=e[s],c=_(l,s),u=m(l,c);if(t.push(u),r[2]||r[1]){var d=f(n,c);t.push(d)}if(r[4]){var h=v(n,c);t.push(h)}}return t}),getOptions:function(){for(var e=[],t={},i=y(n)||[],r=getOptionValuesKeys(i),o=r.length,a=0;a<o;a++){var s=i===r?a:r[a],c=i[s],u=_(c,s),h=d(n,u),b=m(h,u),w=f(n,u),x=g(n,u),C=v(n,u),S=new Option(b,h,w,x,C);e.push(S),t[b]=S}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[p(e)]},getViewValueFromOption:function(e){return l?copy(e.viewValue):e.viewValue}}}}}function ngOptionsPostLink(e,i,a,s){function addOptionElement(e,t){var n=r.cloneNode(!1);t.appendChild(n),updateOptionElement(e,n)}function getAndUpdateSelectedOption(e){var t=v.getOptionFromViewValue(e),n=t&&t.element;return n&&!n.selected&&(n.selected=!0),t}function updateOptionElement(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),t.value=e.selectValue}function updateOptions(){var e=v&&l.readValue();if(v)for(var t=v.items.length-1;t>=0;t--){var n=v.items[t];jqLiteRemove(isDefined(n.group)?n.element.parentNode:n.element)}v=y.getOptions();var r={};if(f&&i.prepend(l.emptyOption),v.items.forEach(function(e){var t;isDefined(e.group)?(t=r[e.group],t||(t=o.cloneNode(!1),b.appendChild(t),t.label=null===e.group?"null":e.group,r[e.group]=t),addOptionElement(e,t)):addOptionElement(e,b)}),i[0].appendChild(b),u.$render(),!u.$isEmpty(e)){var a=l.readValue(),s=y.trackBy||d;(s?equals(e,a):e===a)||(u.$setViewValue(a),u.$render())}}for(var l=s[0],u=s[1],d=a.multiple,h=0,m=i.children(),p=m.length;h<p;h++)if(""===m[h].value){l.hasEmptyOption=!0,l.emptyOption=m.eq(h);break}var f=!!l.emptyOption,g=c(r.cloneNode(!1));g.val("?");var v,y=parseOptionsExpression(a.ngOptions,i,e),b=n[0].createDocumentFragment();l.generateUnknownOptionValue=function(e){return"?"},d?(l.writeValue=function(e){var t=e&&e.map(getAndUpdateSelectedOption)||[];v.items.forEach(function(e){e.element.selected&&!includes(t,e)&&(e.element.selected=!1)})},l.readValue=function(){var e=i.val()||[],t=[];return forEach(e,function(e){var n=v.selectValueMap[e];n&&!n.disabled&&t.push(v.getViewValueFromOption(n))}),t},y.trackBy&&e.$watchCollection(function(){if(w(u.$viewValue))return u.$viewValue.map(function(e){return y.getTrackByValue(e)})},function(){u.$render()})):(l.writeValue=function(e){var t=v.selectValueMap[i.val()],n=v.getOptionFromViewValue(e);t&&t.element.removeAttribute("selected"),n?(i[0].value!==n.selectValue&&(l.removeUnknownOption(),l.unselectEmptyOption(),i[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):f?l.selectEmptyOption():l.unknownOption.parent().length?l.updateUnknownOption(e):l.renderUnknownOption(e)},l.readValue=function(){var e=v.selectValueMap[i.val()];return e&&!e.disabled?(l.unselectEmptyOption(),l.removeUnknownOption(),v.getViewValueFromOption(e)):null},y.trackBy&&e.$watch(function(){return y.getTrackByValue(u.$viewValue)},function(){u.$render()})),f&&(l.emptyOption.remove(),t(l.emptyOption)(e),l.emptyOption[0].nodeType===I?(l.hasEmptyOption=!1,l.registerOption=function(e,t){""===t.val()&&(l.hasEmptyOption=!0,l.emptyOption=t,l.emptyOption.removeClass("ng-scope"),u.$render(),t.on("$destroy",function(){l.hasEmptyOption=!1,l.emptyOption=void 0}))}):l.emptyOption.removeClass("ng-scope")),i.empty(),updateOptions(),e.$watchCollection(y.getWatchables,updateOptions)}var r=e.document.createElement("option"),o=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,i){i[0].registerOption=noop},post:ngOptionsPostLink}}}],cn=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function updateElementText(e){s.text(e||"")}var c,u=l.count,d=l.$attr.when&&s.attr(l.$attr.when),h=l.offset||0,m=a.$eval(d)||{},p={},f=t.startSymbol(),g=t.endSymbol(),v=f+u+"-"+h+g,b=y.noop;forEach(l,function(e,t){var n=o.exec(t);if(n){var i=(n[1]?"-":"")+r(n[2]);m[i]=s.attr(l.$attr[t])}}),forEach(m,function(e,n){p[n]=t(e.replace(i,v))}),a.$watch(u,function(t){var i=parseFloat(t),r=_(i);if(r||i in m||(i=e.pluralCat(i-h)),!(i===c||r&&_(c))){b();var o=p[i];isUndefined(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+d),b=noop,updateElementText()):b=a.$watch(o,updateElementText),c=i}})}}}],un=["$parse","$animate","$compile",function(e,t,n){var r="$$NG_REMOVED",o=minErr("ngRepeat"),a=function(e,t,n,i,r,o,a){e[n]=i,r&&(e[r]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},s=function(e){return e.clone[0]},l=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(c,u){var d=u.ngRepeat,h=n.$$createComment("end ngRepeat",d),m=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!m)throw o("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",d);var p=m[1],f=m[2],g=m[3],v=m[4];if(m=p.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/),!m)throw o("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",p);var y=m[3]||m[1],b=m[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw o("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",g);var _,w,x,C,S={$id:hashKey};return v?_=e(v):(x=function(e,t){return hashKey(t)},C=function(e){return e}),function(e,n,c,u,m){_&&(w=function(t,n,i){return b&&(S[b]=t),S[y]=n,S.$index=i,_(e,S)});var p=createMap();e.$watchCollection(f,function(c){var u,f,v,_,S,E,T,M,k,A,$,P,L=n[0],D=createMap();if(g&&(e[g]=c),isArrayLike(c))k=c,M=w||x;else{M=w||C,k=[];for(var R in c)i.call(c,R)&&"$"!==R.charAt(0)&&k.push(R)}for(_=k.length,$=new Array(_),u=0;u<_;u++)if(S=c===k?u:k[u],E=c[S],T=M(S,E,u),p[T])A=p[T],delete p[T],D[T]=A,$[u]=A;else{if(D[T])throw forEach($,function(e){e&&e.scope&&(p[e.id]=e)}),o("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",d,T,E);$[u]={id:T,scope:void 0,clone:void 0},D[T]=!0}for(var I in p){if(A=p[I],P=getBlockNodes(A.clone),t.leave(P),P[0].parentNode)for(u=0,f=P.length;u<f;u++)P[u][r]=!0;A.scope.$destroy()}for(u=0;u<_;u++)if(S=c===k?u:k[u],E=c[S],A=$[u],A.scope){v=L;do v=v.nextSibling;while(v&&v[r]);s(A)!==v&&t.move(getBlockNodes(A.clone),null,L),L=l(A),a(A.scope,u,y,E,b,S,_)}else m(function(e,n){A.scope=n;var i=h.cloneNode(!1);e[e.length++]=i,t.enter(e,null,L),L=i,A.clone=e,D[A.id]=A,a(A.scope,u,y,E,b,S,_)});p=D})}}}}],dn="ng-hide",hn="ng-hide-animate",mn=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,function(t){e[t?"removeClass":"addClass"](n,dn,{tempClasses:hn})})}}}],pn=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,function(t){e[t?"addClass":"removeClass"](n,dn,{tempClasses:hn})})}}}],fn=ngDirective(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&forEach(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),gn=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,o){var a=r.ngSwitch||r.on,s=[],l=[],c=[],u=[],d=function(e,t){return function(n){n!==!1&&e.splice(t,1)}};n.$watch(a,function(n){for(var i,r;c.length;)e.cancel(c.pop());for(i=0,r=u.length;i<r;++i){var a=getBlockNodes(l[i].clone);u[i].$destroy();var h=c[i]=e.leave(a);h.done(d(c,i))}l.length=0,u.length=0,(s=o.cases["!"+n]||o.cases["?"])&&forEach(s,function(n){n.transclude(function(i,r){u.push(r);var o=n.element;i[i.length++]=t.$$createComment("end ngSwitchWhen");var a={clone:i};l.push(a),e.enter(i,o.parent(),o)})})})}}}],vn=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){var o=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e});forEach(o,function(e){i.cases["!"+e]=i.cases["!"+e]||[],i.cases["!"+e].push({transclude:r,element:t})})}}),yn=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),bn=minErr("ngTransclude"),_n=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,i,r,o){function ngTranscludeCloneAttachFn(e,n){e.length&&notWhitespace(e)?t.append(e):(useFallbackContent(),n.$destroy())}function useFallbackContent(){n(e,function(e){t.append(e)})}function notWhitespace(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];if(i.nodeType!==R||i.nodeValue.trim())return!0}}if(!o)throw bn("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",startingTag(t));i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude="");var a=i.ngTransclude||i.ngTranscludeSlot;o(ngTranscludeCloneAttachFn,null,a),a&&!o.isSlotFilled(a)&&useFallbackContent()}}}}],wn=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"===n.type){var i=n.id,r=t[0].text;e.put(i,r)}}}}],xn={$setViewValue:noop,$render:noop},Cn=["$element","$scope",function(t,n){function scheduleRender(){o||(o=!0,n.$$postDigest(function(){o=!1,i.ngModelCtrl.$render()}))}function scheduleViewValueUpdate(e){a||(a=!0,n.$$postDigest(function(){n.$$destroyed||(a=!1,i.ngModelCtrl.$setViewValue(i.readValue()),e&&i.ngModelCtrl.$render())}))}function setOptionAsSelected(e){e.prop("selected",!0),e.attr("selected",!0)}var i=this,r=new ne;i.selectValueMap={},i.ngModelCtrl=xn,i.multiple=!1,i.unknownOption=c(e.document.createElement("option")),i.hasEmptyOption=!1,i.emptyOption=void 0,i.renderUnknownOption=function(e){var n=i.generateUnknownOptionValue(e);i.unknownOption.val(n),t.prepend(i.unknownOption),setOptionAsSelected(i.unknownOption),t.val(n)},i.updateUnknownOption=function(e){var n=i.generateUnknownOptionValue(e);i.unknownOption.val(n),setOptionAsSelected(i.unknownOption),t.val(n)},i.generateUnknownOptionValue=function(e){return"? "+hashKey(e)+" ?"},i.removeUnknownOption=function(){i.unknownOption.parent()&&i.unknownOption.remove()},i.selectEmptyOption=function(){i.emptyOption&&(t.val(""),setOptionAsSelected(i.emptyOption))},i.unselectEmptyOption=function(){i.hasEmptyOption&&i.emptyOption.removeAttr("selected")},n.$on("$destroy",function(){i.renderUnknownOption=noop}),i.readValue=function(){var e=t.val(),n=e in i.selectValueMap?i.selectValueMap[e]:e;return i.hasOption(n)?n:null},i.writeValue=function(e){var n=t[0].options[t[0].selectedIndex];if(n&&n.removeAttribute("selected"),i.hasOption(e)){i.removeUnknownOption();var r=hashKey(e);t.val(r in i.selectValueMap?r:e);var o=t[0].options[t[0].selectedIndex];setOptionAsSelected(c(o))}else null==e&&i.emptyOption?(i.removeUnknownOption(),i.selectEmptyOption()):i.unknownOption.parent().length?i.updateUnknownOption(e):i.renderUnknownOption(e)},i.addOption=function(e,t){if(t[0].nodeType!==I){assertNotHasOwnProperty(e,'"option value"'),""===e&&(i.hasEmptyOption=!0,i.emptyOption=t);var n=r.get(e)||0;r.set(e,n+1),scheduleRender()}},i.removeOption=function(e){var t=r.get(e);t&&(1===t?(r.delete(e),""===e&&(i.hasEmptyOption=!1,i.emptyOption=void 0)):r.set(e,t-1))},i.hasOption=function(e){return!!r.get(e)};var o=!1,a=!1;i.registerOption=function(e,t,n,r,o){if(n.$attr.ngValue){var a,s=NaN;n.$observe("value",function(e){var n,r=t.prop("selected");isDefined(s)&&(i.removeOption(a),delete i.selectValueMap[s],n=!0),s=hashKey(e),a=e,i.selectValueMap[s]=e,i.addOption(e,t),t.attr("value",s),n&&r&&scheduleViewValueUpdate()})}else r?n.$observe("value",function(e){i.readValue();var n,r=t.prop("selected");isDefined(a)&&(i.removeOption(a),n=!0),a=e,i.addOption(e,t),n&&r&&scheduleViewValueUpdate()}):o?e.$watch(o,function(e,r){n.$set("value",e);var o=t.prop("selected");r!==e&&i.removeOption(r),i.addOption(e,t),r&&o&&scheduleViewValueUpdate()}):i.addOption(n.value,t);n.$observe("disabled",function(e){("true"===e||e&&t.prop("selected"))&&(i.multiple?scheduleViewValueUpdate(!0):(i.ngModelCtrl.$setViewValue(null),
i.ngModelCtrl.$render()))}),t.on("$destroy",function(){var e=i.readValue(),t=n.value;i.removeOption(t),scheduleRender(),(i.multiple&&e&&e.indexOf(t)!==-1||e===t)&&scheduleViewValueUpdate(!0)})}}],Sn=function(){function selectPreLink(e,t,n,i){var r=i[0],o=i[1];if(!o)return void(r.registerOption=noop);if(r.ngModelCtrl=o,t.on("change",function(){r.removeUnknownOption(),e.$apply(function(){o.$setViewValue(r.readValue())})}),n.multiple){r.multiple=!0,r.readValue=function(){var e=[];return forEach(t.find("option"),function(t){if(t.selected&&!t.disabled){var n=t.value;e.push(n in r.selectValueMap?r.selectValueMap[n]:n)}}),e},r.writeValue=function(e){forEach(t.find("option"),function(t){t.selected=!!e&&(includes(e,t.value)||includes(e,r.selectValueMap[t.value]))})};var a,s=NaN;e.$watch(function(){s!==o.$viewValue||equals(a,o.$viewValue)||(a=shallowCopy(o.$viewValue),o.$render()),s=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}}function selectPostLink(e,t,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Cn,priority:1,link:{pre:selectPreLink,post:selectPostLink}}},En=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var i,r;return isDefined(n.ngValue)||(isDefined(n.value)?i=e(n.value,!0):(r=e(t.text(),!0),r||n.$set("value",t.text()))),function(e,t,n){var o="$selectController",a=t.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(e,t,n,i,r)}}}}],Tn=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",function(){i.$validate()}))}}},Mn=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r,o=n.ngPattern||n.pattern;n.$observe("pattern",function(e){if(isString(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw minErr("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",o,e,startingTag(t));r=e||void 0,i.$validate()}),i.$validators.pattern=function(e,t){return i.$isEmpty(t)||isUndefined(r)||r.test(t)}}}}},kn=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=-1;n.$observe("maxlength",function(e){var t=toInt(e);r=_(t)?-1:t,i.$validate()}),i.$validators.maxlength=function(e,t){return r<0||i.$isEmpty(t)||t.length<=r}}}}},An=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=0;n.$observe("minlength",function(e){r=toInt(e)||0,i.$validate()}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=r}}}}};return e.angular.bootstrap?void(e.console&&console.log("WARNING: Tried to load angular more than once.")):(bindJQuery(),publishExternalAPI(y),y.module("ngLocale",[],["$provide",function(e){function getDecimals(e){e+="";var t=e.indexOf(".");return t==-1?0:e.length-t-1}function getVF(e,t){var n=t;void 0===n&&(n=Math.min(getDecimals(e),3));var i=Math.pow(10,n),r=(e*i|0)%i;return{v:n,f:r}}var t={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,n){var i=0|e,r=getVF(e,n);return 1==i&&0==r.v?t.ONE:t.OTHER}})}]),void c(function(){angularInit(e.document,bootstrap)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')},function(e,t){function arrayBufferConcat(){var e=0,t=null;for(var n in arguments)t=arguments[n],e+=t.byteLength;var i=new Uint8Array(e),r=0;for(var n in arguments)t=arguments[n],i.set(new Uint8Array(t),r),r+=t.byteLength;return i.buffer}e.exports=arrayBufferConcat},function(e,t,n){"use strict";var i=n(1),r=n.n(i);t.a=r.a.module("ace.bindHtml",[]).directive("aceBindHtml",["$compile",function(e){return{restrict:"A",link:function(t,n,i){t.$watch(function(){return t.$eval(i.aceBindHtml)},function(r){n.html(r&&r.toString());var o=t;i.aceBindHtmlScope&&(o=t.$eval(i.aceBindHtmlScope)),e(n.contents())(o)})}}}])},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(362),a=n.n(o),s=n(412);n.n(s);t.a=r.a.module("ace.c3",[]).directive("aceC3",function(){return{restrict:"EA",scope:{options:"="},bindToController:!0,controllerAs:"vm",controller:["$scope","$element","$window","$timeout",function(e,t,n,i){var o=this,s=void 0,l=void 0,c=function(){!o.options||o.options.width||o.options.height||s.resize({width:t[0].clientWidth,height:t[0].clientHeight})},u=function(){i.cancel(i),l=i(c,500)};e.$watch(function(){return o.options},function(e){e&&(o.options.bindto=t[0],s=a.a.generate(o.options),i(c))}),r.a.element(n).on("resize",u),e.$on("$destroy",function(){r.a.element(n).off("resize",u)})}]}})},function(e,t,n){"use strict";var i=n(1),r=n.n(i);t.a=r.a.module("ace.disableAnimate",[]).directive("aceDisableAnimate",["$animate",function(e){return{restrict:"AC",link:function(t,n){e.enabled(!1,n)}}}])},function(e,t,n){"use strict";var i=n(1),r=n.n(i);t.a=r.a.module("ace.fileChange",[]).directive("aceFileChange",["$parse",function(e){return{restrict:"A",link:function(t,n,i){var r=e(i.aceFileChange),o=function(e){t.$apply(function(){r(t,{$event:e,files:e.target.files})})};n[0].addEventListener("change",o,!1)}}}])},function(e,t,n){"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(1),r=n.n(i),o=n(33),a=n.n(o);t.a=r.a.module("ace.flow",[]).directive("aceFlow",function(){return{restrict:"EA",scope:{options:"="},bindToController:!0,controllerAs:"vm",controller:["$scope","$element","$timeout",function(e,t,n){var i=this,o=new a.a(i.options);i.options.events&&r.a.forEach(i.options.events,function(e,t){o.on(t,function(){var t=Array.prototype.slice.call(arguments);t.unshift(o),n(function(){e.apply(void 0,_toConsumableArray(t))})})}),i.$onInit=function(){n(function(){var e=t[0].querySelectorAll("[ace-flow-browse]");o.assignBrowse(e);var n=t[0].querySelectorAll("[ace-flow-drop]");o.assignDrop(n),i.options.onInit&&i.options.onInit(o)})},i.$onDestroy=function(){o.cancel()}}]}})},function(e,t,n){"use strict";var i=n(1),r=n.n(i);t.a=r.a.module("ace.mea",[]).directive("aceMea",[function(){return{restrict:"A",link:function(e,t,n){t.on(n.aceMeaEvent||"click touchend",function(){var i=e.$eval(n.aceMea);t.addClass("animated"),i?t.addClass(n.aceMeaTrue):t.addClass(n.aceMeaFalse),e.$apply()}),t.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t.removeClass("animated"),t.removeClass(n.aceMeaTrue),t.removeClass(n.aceMeaFalse)})}}}])},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(456);n.n(o);t.a=r.a.module("ace.openSeadragon",[]).directive("aceOpenSeadragon",["$window",function(e){return{restrict:"AE",template:'<div class="ace-open-seadragon"></div>',replace:!0,link:function(t,n,i){var r=e.OpenSeadragon;r({element:n[0],tileSources:i.aceOpenSeadragon||i.src,prefixUrl:i.prefixUrl||""})}}}])},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(413),a=(n.n(o),n(414)),s=(n.n(a),n(25)),l=n.n(s),c=function(e,t){for(var n="",i=0;i<t;i++)n+=e;return n},u=function(e,t,n){for(var i=0;i<e.length;i++)t.call(n,i,e[i])},d=function recursiveListFormat(e,t){var n="";return t++,n+=c("\t",t-1)+e.outerHTML.substring(0,4),u(e.childNodes,function(e,i){var r=i.nodeName.toLowerCase();return"#comment"===r?void(n+="<!--"+i.nodeValue+"-->"):"#text"===r?void(n+=i.textContent):void(i.outerHTML&&(n+="ul"===r||"ol"===r?"\n"+recursiveListFormat(i,t):"\n"+c("\t",t)+i.outerHTML))}),n+="\n"+c("\t",t-1)+e.outerHTML.substring(e.outerHTML.lastIndexOf("<"))},h=function(e){e=e.replace(/(?:\r\n|\r|\n|\t)/g,"");var t=r.a.element("<div>"+e+"</div>")[0].childNodes;return t.length>0&&(e="",u(t,function(t,n){var i=n.nodeName.toLowerCase();return"#comment"===i?void(e+="<!--"+n.nodeValue+"-->"):"#text"===i?void(e+=n.textContent):void(n.outerHTML&&(e.length>0&&(e+="\n"),e+="ul"===i||"ol"===i?""+d(n,0):""+n.outerHTML))})),e};t.a=r.a.module("ace.richText",[]).filter("prettyHtml",function(){return function(e){return h(e)}}).directive("aceRichText",function(){return{restrict:"EA",require:["aceRichText","ngModel"],scope:{options:"=?",showHtml:"=?"},bindToController:!0,controllerAs:"vm",link:function(e,t,n,i){i[0].ngModel=i[1]},controller:["$scope","$element","$document","$timeout",function(e,t,n,i){"ngInject";function toggleHtml(e){a&&(e&&(r.a.forEach(a.elements,function(e){return r.a.element(e).css("display","none")}),r.a.forEach(a.origElements,function(e){return r.a.element(e).css("display","block")}),t.val(h(o.ngModel.$viewValue))),e||(r.a.forEach(a.origElements,function(e){return r.a.element(e).css("display","none")}),r.a.forEach(a.elements,function(e){return r.a.element(e).css("display","block")}),a.setContent(h(t.val()))))}function init(){a=new l.a(t,o.options||{}),o.ngModel.$render=function(){t.html(o.ngModel.$viewValue||""),a.setContent(o.ngModel.$viewValue||"");var e=a.getExtensionByName("placeholder");e&&e.updatePlaceholder(t[0])};var i=function(e){var t=n[0].createElement("div");t.innerHTML=e;var i=t.textContent||"";return i.trim()};o.ngModel.$isEmpty=function(e){return/[<>]/.test(e)?0===i(e).length:!e||0===e.length},a.subscribe("editableInput",function(e,t){o.ngModel.$setViewValue(h(t.innerHTML.trim()))}),toggleHtml(!1),e.$emit("aceRichText:init",a)}var o=this,a=void 0;e.$watch(function(){return o.showHtml},toggleHtml),e.$watch(function(){return o.ngModel},init),o.$onDestroy=function(){a&&a.destroy()}}]}})},function(e,t,n){"use strict";var i=n(1),r=n.n(i);t.a=r.a.module("ace.smartFloat",[]).directive("aceSmartFloat",["$filter","$timeout",function(e,t){var n=/^\$?\d+.(\d{3})*(,\d*)$/,i=/^\$?\d+,(\d{3})*(\.\d*)$/,r=/^\$?\d+(\.\d*)?$/,o=/^\$?\d+(,\d*)?$/;return{require:"ngModel",link:function(a,s,l,c){var u=void 0;a.$watch(function(){return c.$viewValue},function(e){t.cancel(u),u=t(function(){c.$modelValue=e},1e3)}),c.$parsers.unshift(function(e){return n.test(e)?(c.$setValidity("float",!0),parseFloat(e.replace(".","").replace(",","."))):i.test(e)?(c.$setValidity("float",!0),parseFloat(e.replace(",",""))):r.test(e)?(c.$setValidity("float",!0),parseFloat(e)):o.test(e)?(c.$setValidity("float",!0),parseFloat(e.replace(",","."))):void c.$setValidity("float",!1)}),c.$formatters.unshift(function(t){return e("number")(parseFloat(t),2)})}}}])},function(e,t,n){"use strict";var i=n(1),r=n.n(i);t.a=r.a.module("ace.sortSelect",[]).directive("aceSortSelect",["$rootScope","$timeout",function(e,t){return{restrict:"EA",replace:!0,template:function(t,n){var i={itemName:"item",markupStyle:"list"};r.a.extend(i,e.$eval(n.options));var o="";return"table"===i.markupStyle?(r.a.forEach(t.children(),function(e){o+=e.innerHTML}),'<tbody class="ace-sort-select-container" data-collection-length="{{collection.length}}"><tr class="ace-sort-select-item" ng-repeat="'+i.itemName+' in collection track by $index">'+o+"</tr></tbody>"):(r.a.forEach(t.children(),function(e){o+=e.outerHTML}),'<ul class="ace-sort-select-container" data-collection-length="{{collection.length}}"><li class="ace-sort-select-item" ng-repeat="'+i.itemName+' in collection track by $index">'+o+"</li></ul>")},link:function(e,n,i){var o={sortHandle:".handle",selectCancel:".cancel",markupStyle:"list"};r.a.extend(o,e.options),r.a.extend(e,o);var a=n;n.prepend("<!-- aceSortSelect -->");var s=function(e,t){this.splice(t,0,this.splice(e,1)[0])};e.$sortSelect={};var l=!1,c=void 0,u=void 0,d=void 0,h=void 0,m=void 0;e.$sortSelect.removeItem=function(t,n){d=r.a.element(a[0].querySelectorAll(".ui-selected:not(.ui-sortable-placeholder)"));var i=[];d.length>0&&this.selected?r.a.forEach(d,function(e){i.unshift(r.a.element(e).index())}):i.push(n),d.removeClass("ui-selected"),i.forEach(function(t){e.collection.splice(t,1)})},e.$watch(function(){return e.$eval(i.collection)},function(n){e.collection=n,l?a.sortable("refresh"):n.length&&(l=!0,a.sortable({containment:"parent",items:".ace-sort-select-item",distance:5,tolerance:"pointer",handle:o.sortHandle,helper:function(e,t){return"table"===o.markupStyle?h=t:(h=r.a.element("<div/>").addClass("ace-sort-select-helper"),a.append(h)),h},start:function(e,t){d=r.a.element(a[0].querySelectorAll(".ui-selected:not(.ui-sortable-placeholder)")),d.length>0&&!t.item.hasClass("ui-selected")?(d.removeClass("ui-selected"),d=t.item):0===d.length&&(d=t.item),c=r.a.element(d[0]).index();var n=r.a.element(a[0].querySelectorAll(".ace-sort-select-item:not(.ui-sortable-placeholder)"));m=[],r.a.forEach(n,function(e,t){r.a.element(e).hasClass("ui-selected")&&m.push(t)}),0===m.length&&m.push(c),"list"===o.markupStyle&&(h.append(d.clone()),d.css("display","none"))},stop:function(){d.css("display","table"===o.markupStyle?"table-row":"list-item")},update:function(n,i){u=i.item.index(),a.sortable("cancel");var o=[];u<c?m.forEach(function(t,n){o.push(u+n),s.apply(e.collection,[t,u+n])}):(m.reverse(),m.forEach(function(t,n){o.push(u-n),s.apply(e.collection,[t,u-n])})),e.$$phase||e.$apply(),t(function(){var t=r.a.element(a[0].querySelectorAll(".ui-selected")).length;if(t){d.removeClass("ui-selected");var n=r.a.element(a[0].querySelectorAll(".ace-sort-select-item:not(.ui-sortable-placeholder)"));r.a.forEach(n,function(e,t){o.indexOf(t)!==-1&&r.a.element(e).addClass("ui-selected")})}e.$emit("aceSortSelect:change",e.collection,c,u)})}}),a.selectable({filter:".ace-sort-select-item",cancel:o.selectCancel,selected:function(e,t){r.a.element(t.selected).scope().selected=!0},unselected:function(e,t){r.a.element(t.unselected).scope().selected=!1}}))},!0)}}}])},function(e,t,n){"use strict";var i=n(1),r=n.n(i);t.a=r.a.module("ace.sortable",[]).directive("aceSortable",function(){return{restrict:"A",scope:{collectionFn:"=",indexFn:"=",axis:"=?",draggableSelector:"=?",handleSelector:"=?"},bindToController:!0,controllerAs:"vm",controller:["$document","$scope","$element","$timeout",function(e,t,n,i){var o=this,a=void 0,s=void 0,l="dragging",c="dropping",u="dropping--before",d="dropping--after",h=!1,m=!1,p=void 0,f=void 0,g=function(e,t){this.splice(t,0,this.splice(e,1)[0])};a=o.draggableSelector?r.a.element(n[0].closest(o.draggableSelector)):n,a.attr("draggable",!0),a.on("mousedown",function(e){s=o.handleSelector?r.a.element(n[0].querySelector(o.handleSelector)):n,e.target!==s[0]&&(m=!0)}),e.on("mouseup",function(){m=!1}),a.on("dragstart",function(e){if(m)e.preventDefault();else{h=!0,a.addClass(l);var n=e.dataTransfer||e.originalEvent.dataTransfer,i=o.indexFn(t);n.effectAllowed="copyMove",n.dropEffect="move",n.setData("text/plain",i)}}),a.on("dragend",function(){h=!1,a.removeClass(l)});var v=function(e){if(!h){e.preventDefault();var t=a[0].getBoundingClientRect(),n={width:t.right-t.left,height:t.bottom-t.top,x:(e.originalEvent||e).clientX-t.left,y:(e.originalEvent||e).clientY-t.top},i="y"===o.axis?n.y:n.x,r=("y"===o.axis?n.height:n.width)/2;a.addClass(c),i<r?(p="before",a.removeClass(d),a.addClass(u)):(p="after",a.removeClass(u),a.addClass(d))}},y=function dropHandler(e){e.preventDefault();var n=parseInt((e.dataTransfer||e.originalEvent.dataTransfer).getData("text/plain"),10),r=o.indexFn(t),s=null;"before"===p?s=n<r?r-1:r:"after"===p&&(s=n<r?r:r+1),i.cancel(f),f=i(function(){p=null,t.$apply(function(){var e=t.$emit("aceSortable:change",{collection:o.collectionFn(t),item:o.collectionFn(t)[n],from:n,to:s});e.defaultPrevented||g.apply(o.collectionFn(t),[n,s])}),a.removeClass(c),a.removeClass(u),a.removeClass(d),a.off("drop",dropHandler)},1e3/60)};a.on("dragenter",function(){h||(a.off("dragover",v),a.off("drop",y),a.on("dragover",v),a.on("drop",y))}),a.on("dragleave",function(e){a.removeClass(c),a.removeClass(u),a.removeClass(d)})}]}})},function(e,t,n){"use strict";var i=n(1),r=n.n(i);t.a=r.a.module("ace.srcChange",[]).directive("aceSrcChange",["$timeout",function(e){return{priority:0,restrict:"A",link:function(t,n,i){var r=void 0,o=void 0,a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=";i.$observe("src",function(t){e.cancel(o),o=e(function(){t!==r&&t!==a&&(i.$set("src",a),e(function(){i.$set("src",t)}))},50),r=t})}}}])},function(e,t,n){"use strict";var i=n(1),r=n.n(i);t.a=r.a.module("ace.stopPropagation",[]).directive("aceStopPropagation",[function(){return{priority:0,restrict:"A",link:function(e,t){t.on("keydown keyup keypress",function(e){13===e.keyCode&&(e.preventDefault(),e.stopPropagation())})}}}])},function(e,t,n){"use strict";var i=n(1),r=n.n(i);t.a=r.a.module("ace.syncFocus",[]).directive("aceSyncFocus",["$timeout",function(e){return{restrict:"A",scope:{focusValue:"=aceSyncFocus"},link:function(t,n){t.$watch("focusValue",function(t){e(function(){t===!0?n[0].focus():t===!1&&n[0].blur()})})}}}])},function(e,t,n){"use strict";var i=n(1),r=n.n(i);t.a=r.a.module("ace.videoPreview",[]).directive("aceVideoPreview",["$rootScope","$http","$timeout","apiPrefix",function(e,t,n,i){return{restrict:"EA",replace:!0,template:'<div class="ace-video-preview"><div class="ace-video-preview--message" ng-show="encoding">Encoding in progress</div><img class="ace-video-preview--thumbnail" ng-show="!encoding" ng-src={{thumbnail}}></div>',scope:{video:"="},link:function(r){r.$watch("video",function(e){e&&e.metadata&&("Complete"!==e.metadata.job.status?a(e.metadata.job.id):o(e))});var o=function(t){r.encoding=!1,r.thumbnail="https://"+t.bucket+".s3.amazonaws.com/"+e.slug+"/"+t.mediaType+"/"+t.thumbnail},a=function checkJob(e){r.encoding=!0,t({url:i+"/transcode/job/"+e,method:"GET"}).success(function(t){"Complete"!==t.Status?n(function(){checkJob(e)},5e3):(r.video.metadata.job.status=t.Status,r.video.variants=r.video.variants.map(function(e,n){return e.duration=t.Outputs[n].Duration,e.width=t.Outputs[n].Width,e.height=t.Outputs[n].Height,e}),o(r.video))})}}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(209),r=n(211),o=n(212),a=n(214),s=n(215),l=n(217),c=n(218),u=n(220),d=n(221),h=n(222),m=n(223),p=n(216),f=n(219),g=n(210),v=n(213);n.d(t,"aceBindHtml",function(){return i.a}),n.d(t,"aceDisableAnimate",function(){return r.a}),n.d(t,"aceFileChange",function(){return o.a}),n.d(t,"aceMethodEventAnimate",function(){return a.a}),n.d(t,"aceOpenSeadragon",function(){return s.a}),n.d(t,"aceSmartFloat",function(){return l.a}),n.d(t,"aceSortSelect",function(){return c.a}),n.d(t,"aceSrcChange",function(){return u.a}),n.d(t,"aceStopPropagation",function(){return d.a}),n.d(t,"aceSyncFocus",function(){return h.a}),n.d(t,"aceVideoPreview",function(){return m.a}),n.d(t,"aceRichText",function(){return p.a}),n.d(t,"aceSortable",function(){return f.a}),n.d(t,"aceC3",function(){return g.a}),n.d(t,"aceFlow",function(){return v.a})},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=function(){var e={},t=[],n=[],i=[];return e.setEntityIds=function(e){t=e},e.getEntityIds=function(){return t},e.consolidate=function(e){var t={fields:{}},n={};return e.forEach(function(e){r.a.forEach(e.fields,function(e,t){n[t]||(n[t]=[]),n[t].push(e)})}),r.a.forEach(n,function(n,i){var o=!0;n.forEach(function(t){r.a.equals(e[0].fields[i],t)||(o=!1)}),o&&(t.fields[i]=n[0])}),t},e.setRecentEdits=function(e){n=e},e.getRecentEdits=function(e){var t=n;return e&&(n=[]),t},e.setRecentTrashed=function(e){i=e},e.getRecentTrashed=function(e){var t=i;return e&&(i=[]),t},e};t.a=o},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(0),a=n.n(o),s=n(415),l=n.n(s),c=n(2),u=n.n(c),d=n(14),h=n.n(d),m=n(527),p=n.n(m),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=r.a.module("generalFilters",[]);t.a=g,g.filter("encodeURI",["$window",function(e){"ngInject";return function(t){return e.encodeURI(t)}}]).filter("encodeURIComponent",["$window",function(e){"ngInject";return function(t){return e.encodeURIComponent(t)}}]).filter("fromNow",function(){return function(e){return a()(e).fromNow()}}).filter("pad",function(){return function(e,t,n){return n=n||"0",t=t||2,e=""+e,e.length>=t?e:new Array(t-e.length+1).join(n)+e}}).filter("if",function(){return function(e,t,n){return e?t:n}}).filter("deZero",function(){return function(e){return e+1}}).filter("floor",function(){return function(e){return Math.floor(e)}}).filter("simplifyText",function(){return function(e){return e?(e=e.replace(/<\/(p|h1|h2|h3|h4|h5|h6)\b[^>]*>/gi,"&#13;&#10").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi," ").replace(/\s{2,}/g," "),e=e.replace(/&#13;&#10[^$]/gi,"<br>")):""}}).filter("stripTags",function(){return function(e,t){if(!e)return"";t=((""+(t||"")).toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var n=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,i=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return e.replace(i,"").replace(n,function(e,n){return t.indexOf("<"+n.toLowerCase()+">")>-1?e:""})}}).filter("truncateWords",function(){return function(e,t){if(!e)return"";var n=e.split(" ");return n.length<=t?e:n.slice(0,t).join(" ")+""}}).filter("scotify",function(){return function(e){var t=String(e);return/^mc(.*)$/i.test(t)&&(t=t.substr(0,1)+'<span class="lowercase">'+t.substr(1,1)+"</span>"+t.substr(2)),t}}).filter("spanDescendersInLinks",["$sce",function(e){return function(t){var n=t.match(/(?=<a)[^]+?>(.+?)<\/a>/g);return r.a.forEach(n,function(e){var n=e.match(/>(.+)</)[1],i=n.replace(/(g|j|p|q|y)/g,'<span data-content="$1">$1</span>');t=t.replace(n,i)}),e.trustAsHtml(t)}}]).filter("pluralize",function(){return function(e){if(!e)return"";var t=e;return"us"===e.substr(e.length-2)?t=t.substr(0,t.length-2)+"i":"ch"===e.substr(e.length-2)||"x"===e.charAt(e.length-1)||"s"===e.charAt(e.length-1)?t+="es":"y"===e.charAt(e.length-1)&&["a","e","i","o","u"].indexOf(e.charAt(e.length-2))===-1?t=t.substr(0,t.length-1)+"ies":"is"===e.substr(e.length-2)?t=t.substr(0,t.length-2)+"es":t+="s",t}}).filter("camelCase",function(){return function(e){return e.replace(/-\w/g,function(e){return e[1].toUpperCase()})}}).filter("fileSize",function(){return function(e){var t=0;if(!e)return t;try{t=l()(e)}catch(e){}return t}}).filter("propInArray",function(){return function(e,t,n){return e.filter(function(e){return n.indexOf(e[t])!==-1})}}).filter("trimify",function(){return function(e){return e.replace(/^(-|||\/|:|\s)+/,"").replace(/(-|||\/|:|\s)+$/,"")}}).filter("toTitleCase",function(){return function(e){return e?e.replace(/\w\S*/g,function(e){return/^(and|of)$/i.test(e)?e.toLowerCase():e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}):e}}).filter("toFixed",function(){return function(e,t){return t=void 0!==t?t:2,void 0===e?e:("number"!=typeof e&&(e=Number(e)),e.toFixed(t))}}).filter("booleanify",function(){return function(e){var t=!1;return e!==!0&&"true"!==e&&1!==e&&"1"!==e||(t=!0),t}}).filter("parseDate",["$filter",function(e){"ngInject";return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"short";return t?e("date")(Date.parse(t),n):"-"}}]).filter("decodeEntities",function(){return function(e){return h.a.decode(e)}}).filter("cleanHTML",function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=p()(e,{allowedTags:["p","a","h2","h3","h4","h5","h6","blockquote","caption","strike","code","pre","ul","ol","li","u","b","i","strong","em","sub","sup","hr","br","table","thead","tbody","tr","th","td","entity"],allowedSchemes:["http","https","ftp","mailto","tel","urn"],parser:{lowerCaseTags:!0},transformTags:{a:function(e,t){var n=/https?:\/\//.test(t.href),i={tagName:e,attribs:{href:t.href||""}};return n&&(i.attribs.target="_blank"),i}},exclusiveFilter:function(e){return/^(a|p)$/.test(e.tag)&&!e.text.trim()}});return t&&(n=n.replace(/&nbsp;/gi," ")),n}}).filter("propsFilter",function(){return function(e,t){if(u.a.isArray(e)){var n=function(){var n=[];return e.forEach(function(e){for(var i=!1,r=Object.keys(t),o=0;o<r.length;o++){var a=r[o],s=t[a].toLowerCase();if(e[a]&&e[a].toString().toLowerCase().indexOf(s)!==-1){i=!0;break}}i&&n.push(e)}),{v:n}}();if("object"===("undefined"==typeof n?"undefined":f(n)))return n.v}return e}})},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=r.a.module("proprietaryFilters",[]);t.a=o,o.filter("crossCheck",function(){return function(e){var t=!1;return e!==!0&&"true"!==e&&1!==e&&"1"!==e||(t=!0),t?"mdi mdi-lg mdi-check":"mdi mdi-lg mdi-close"}}).filter("status",function(){return function(e){var t=!1;return e!==!0&&"true"!==e&&1!==e&&"1"!==e||(t=!0),t?"Trashed":"Active"}}).filter("datePublished",["$filter",function(e){"ngInject";return function(t,n){return n.published?e("date")(Date.parse(t),"short"):"-"}}])},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(1),a=n.n(o),s=n(230),l=function(e,t,n,i,o,l,c,u,d,h,m){"ngInject";var p={};return e.$helper=p,p.now=function(){return JSON.stringify(new Date).replace(/"/g,"")},p.testExp=function(e,t){return new RegExp(e).test(t)},p.move=function(e,t){this.splice(t,0,this.splice(e,1)[0])},p.getThumbnailUrl=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h:200;q:60";return t&&t.thumbnailUrl?[e.assistUrl,"proxy","transform",n,t.thumbnailUrl.replace(/https?:\/\//,"")].join("/"):null},p.getFieldThumbnailUrl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h:200;q:60";if(!e)return null;var n=d.field(e.fieldType).thumbnail(e.value);return p.getThumbnailUrl(n,t)},p.getColumnOptions=function(e){var t=u.getByKey("field")[e];if(!t)return null;var n={name:"fields."+e,displayName:t.name,allowCellFocus:!1},i=t.fieldType;return r.a.extend(n,d.field(i).gridOptions),"thumbnail"===n.style&&(n.enableSorting=!1,n.cellTemplate='\n        <div class="ui-grid-cell-contents ui-grid-cell--image">\n          <img ng-if="$root.$helper.getFieldThumbnailUrl(grid.getCellValue(row, col))" ng-src="{{ $root.$helper.getFieldThumbnailUrl(grid.getCellValue(row, col)) }}">\n        </div>\n      '),"boolean"===n.style&&(n.cellTemplate='\n        <div class="ui-grid-cell-contents">\n          <span class="{{grid.getCellValue(row, col).value | crossCheck}}"></span>\n        </div>\n      '),n},p.postPayload=function(e,t){var i=t;r.a.isString(t)||(i=JSON.stringify(i)),i=i.replace(/'/gi,"");var o='<form method="POST" action="'+e+'" target="_blank"><input type="hidden" name="payload" value=\''+i+"' /></form>";o=a.a.element(o),a.a.element(n[0].body).append(o),o[0].submit(),o.remove()},p.mediaPreview=function(e,t){h.showModal({template:s.a,controllerAs:"vm",inputs:{media:e,index:t}})},p.analytics=function(e){return o(function(t,n){i({method:"GET",url:m+"/analytics",params:e||{},cache:!0}).then(function(e){t(e.data)},n)})},p.token=function(){return o(function(t,n){i({method:"GET",url:m+"/token",cache:!1}).then(function(n){e.token=n.data,l(p.getToken,36e5),t(e.token)},n)})},p.oembed=function(e){return o(function(t,n){i({method:"GET",url:m+"/embedly/oembed",params:{url:e}}).then(function(e){var i=e.data[0];return i.error_message?(c.show(c.alert().title("Error").textContent(i.error_message).ok("Close")),void n(i)):void t(i)},n)})},p.getMdChipCollection=function(e){return e.$parent.$mdChipsCtrl.items},p.getMdChipIndex=function(e){return e.$parent.$mdChipsCtrl.items.indexOf(e.$parent.$chip)},p};l.$inject=["$rootScope","$window","$document","$http","$q","$timeout","$mdDialog","AdminFactory","FieldFactory","ModalService","apiPrefix"],t.a=l},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(228),a=r.a.module("helper",[]).config(function(){"ngInject"}).factory("HelperFactory",o.a);t.a=a},function(e,t,n){"use strict";var i=n(458),r=n.n(i);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function Action(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Action),this.name="Action Name",this.settingsTemplate="",Object.assign(this,e)};t.a=i},function(e,t,n){"use strict";var i=n(233),r=n(379),o=(n.n(r),function(){"ngInject";return{restrict:"E",scope:{},controller:i.a,controllerAs:"vm",bindToController:!0}});t.a=o},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function ActionController(){_classCallCheck(this,ActionController)};t.a=i},function(e,t,n){"use strict";var i=n(1),r=(n.n(i),n(231)),o=function(e){"ngInject";var t={},n={registerAction:function(e,n){t[e]=new r.a(n)},action:function(e){return t[e]},actions:function(){return t}};return e.$action=n,n};o.$inject=["$rootScope"],t.a=o},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(232),a=n(234),s=n(238),l=r.a.module("action",[s.a.name]).config(function(){"ngInject"}).factory("ActionFactory",a.a).directive("action",o.a);t.a=l},function(e,t,n){"use strict";var i=n(459),r=n.n(i),o=n(237),a=n(380),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function ActionUrlController(){_classCallCheck(this,ActionUrlController)};t.a=i},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(236),a=n(460),s=n.n(a),l=r.a.module("actionUrl",[]).config(function(){"ngInject"}).run(["ActionFactory",function(e){"ngInject";e.registerAction("url",{name:"URL",settingsTemplate:s.a})}]).directive("actionUrl",o.a);t.a=l},function(e,t,n){"use strict";var i=n(461),r=n.n(i),o=n(240),a=n(381),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(1),r=(n.n(i),function AdminController(e,t,n,i,r,o,a,s,l,c,u,d,h){function sort(e){m.sortColumns=e,getResults(!0)}function getResults(e){if(m.searching)return!1;var t=a.defer();e&&(m.page=0,p={}),m.selectNone();var n={q:[],sort:[],page:m.page,bookmark:p[m.page-1]||null,trashed:"trash"===m.mode};return n.q=n.q.join(" AND "),m.sortColumns.forEach(function(e){var t=e.sort.direction===d.ASC?"-":"",i="";m.columnDefs.forEach(function(e){e.sortType&&(i="<"+e.sortType+">")}),n.sort.push(t+e.name+i)}),m.searching=!0,c.search(m.adminType,n).then(function(n){m.totalItems=n.length,e?m.items=n:m.items=m.items.concat(n),m.grid.data=m.items,t.resolve()}).finally(function(){m.searching=!1}),t.promise}_classCallCheck(this,AdminController);var m=this;m.adminType=i.adminType,m.items=[],m.selected=[],m.totalItems=0,m.searchTerm="",m.page=0,m.filters=[],m.sortColumns=[{name:"name",sort:{direction:d.DESC
}}],m.columnDefs=[],m.sortFields=[],m.searching=!1;var p={},f={schema:{heading:"Schemas",description:"A schema defines the properties of an entity."},field:{heading:"Fields",description:"Manage the fields available to schemas."},action:{heading:"Actions",description:"Configure available actions."},user:{heading:"Users",description:"Create and manage users and their permissions."},taxonomy:{heading:"Taxonomy",description:"Taxonomies are used for classification and to define relationships between entities."}};m.info=f[m.adminType],/schema|field|action|taxonomy/.test(m.adminType)&&(m.columnDefs.push({name:"name",sortType:"string",displayName:"Name"}),m.columnDefs.push({name:"slug",sortType:"string",displayName:"Slug"})),"schema"===m.adminType&&(m.columnDefs.push({name:"fields",displayName:"Fields(s)",cellFilter:"fieldNames",enableSorting:!1}),m.columnDefs.push({name:"actions",displayName:"Actions(s)",cellFilter:"actionNames",enableSorting:!1})),"field"===m.adminType&&(m.columnDefs.push({name:"fieldType",sortType:"string",displayName:"Type",cellFilter:"fieldTypeName"}),m.columnDefs.push({name:"_schemas",displayName:"Schema(s)",cellFilter:"schemaName",enableSorting:!1})),"action"===m.adminType&&(m.columnDefs.push({name:"actionType",sortType:"string",displayName:"Type",cellFilter:"actionTypeName"}),m.columnDefs.push({name:"_schemas",displayName:"Schema(s)",cellFilter:"schemaName",enableSorting:!1})),"user"===m.adminType&&(m.columnDefs.push({name:"email",sortType:"string",displayName:"Email"}),m.columnDefs.push({name:"firstName",sortType:"string",displayName:"First Name"}),m.columnDefs.push({name:"lastName",sortType:"string",displayName:"Last Name"}),m.columnDefs.push({name:"role",sortType:"string",displayName:"Role",cellFilter:"roleName"}),m.columnDefs.push({name:"active",displayName:"Active",cellTemplate:'<div class="ui-grid-cell-contents"><span class="{{grid.getCellValue(row, col) | crossCheck}}"></span></div>',enableSorting:!1})),"taxonomy"===m.adminType&&m.columnDefs.push({name:"modified",sortType:"number",displayName:"Modified",cellFilter:"parseDate"}),m.grid={data:m.items,rowHeight:50,headerRowHeight:45,enableSorting:!0,useExternalSorting:!0,enableColumnMenus:!1,columnDefs:m.columnDefs,infiniteScrollPercentage:10,enableRowHeaderSelection:!1,enableHorizontalScrollbar:d.scrollbars.NEVER,appScopeProvider:m,onRegisterApi:function(e){m.gridApi=e,m.gridApi.core.on.sortChanged(t,function(e,t){sort(t)});var n=0,i=void 0;e.selection.on.rowSelectionChanged(t,function(t,r){r.timeStamp-n<300&&t===i&&m.editItems([t.entity]),n=r.timeStamp,i=t,m.selected=e.selection.getSelectedRows()}),m.gridApi.selection.on.rowSelectionChangedBatch(t,function(){m.selected=m.gridApi.selection.getSelectedRows()}),m.gridApi.infiniteScroll.on.needLoadMoreData(t,function(){m.items.length<m.totalItems&&(m.page++,getResults().then(function(){m.gridApi.infiniteScroll.dataLoaded()}))})}},m.selectAll=function(){m.gridApi.selection.selectAllRows()},m.selectNone=function(){m.gridApi.selection.clearSelectedRows()};var g=function(e){m.items=m.items.map(function(t){var n=t;return e.forEach(function(e){"user"===m.adminType?t.email===e.email&&(n=e):t.slug===e.slug&&(n=e)}),n}),m.grid.data=m.items};m.newItem=function(e){e=e||m.adminType,c.newItem(e).then(function(e){m.items.push(e),o(function(){m.grid.data=m.items})})},m.editItems=function(e,t){t=t||m.adminType,c.editItems(t,e).then(g)},m.deleteItems=function(e,t){t=t||m.adminType;var n=e.map(function(e){return e.name}),i=h.confirm().textContent("Are you sure you want to delete "+n.join(", ")+"?").cancel("Cancel").ok("Delete");h.show(i).then(function(){c.deleteItems(t,e).then(function(e){e.error||getResults(!0)})})},m.cloneItem=function(e,t){t=t||m.adminType,c.cloneItem(t,e[0]).then(function(e){m.items.push(e),o(function(){m.grid.data=m.items})})},o(function(){getResults(!0)})});r.$inject=["$rootScope","$scope","$state","$stateParams","$window","$timeout","$q","$log","ModalService","AdminFactory","HelperFactory","uiGridConstants","$mdDialog"],t.a=r},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(2),a=n.n(o),s=n(252),l=n(253),c=function(e,t,n,i,o,c){"ngInject";var u={};e.$admin=u;var d={},h=void 0,m=void 0,p=[],f=function(){p.forEach(function(e){e()})};u.registerObserverCallback=function(e){p.push(e)},u.loadCurrentUser=function(){return n(function(e,n){t({method:"GET",url:c+"/admin/user/current"}).then(function(t){h=t.data,e(h)},n)})},u.getCurrentUser=function(){return h},u.loadRoles=function(){return n(function(e,n){t({method:"GET",url:c+"/admin/roles"}).then(function(t){m=t.data,e(m)},n)})},u.getRoles=function(){return a.a.values(m)},u.getRolesByKey=function(){return m},u.load=function(e){return n(function(t,n){u.search(e).then(t,n)})};var g=function(e,t){return"field"===e&&!function(){var n={};d[e].forEach(function(e){n[e.slug]=[]}),u.get("schema",!0).forEach(function(e){e.fields.forEach(function(t){n[t.slug].push(e)})}),t=t.map(function(e){return e._schemas=n[e.slug],e})}(),"action"===e&&!function(){var n={};d[e].forEach(function(e){n[e.slug]=[]}),u.get("schema",!0).forEach(function(e){e.actions&&e.actions.forEach(function(t){n[t.slug].push(e)})}),t=t.map(function(e){return e._schemas=n[e.slug],e})}(),t};return u.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=d[e];return n?(n=g(e,n),t&&(n=n.filter(function(e){return e.trashed!==!0})),n):[]},u.getByKey=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};return u.get(e,t).forEach(function(e){n[e.slug]=e}),n},u.search=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(function(n,r){var o={q:i.q||"*:*",sort:i.sort||"<score>",limit:i.limit||200,include_docs:!0};t({method:"GET",url:c+"/admin/"+e+"/list",params:o}).then(function(t){d[e]=t.data.rows.map(function(e){return e.doc}),n(u.get(e,!0))},function(e){return 404===e.status?(console.error(e.data),void n()):void r(e)}).finally(f)})},u.create=function(e,i){return n(function(n,r){t({method:"POST",url:c+"/admin/"+e,data:{item:i}}).then(function(t){i._id=t.data._id,i._rev=t.data._rev,d[e].push(i),n(i)},r).finally(f)})},u.read=function(e,i){return n(function(n,r){t({method:"GET",url:c+"/admin/"+e,params:i}).then(function(e){var t=e.data.rows.map(function(e){return e.value});n(t)},r)})},u.update=function(e,i,o){return n(function(n,a){var s=i.map(function(e){return e=r.a.copy(e),o&&r.a.forEach(o,function(t,n){"_"!==n[0]||/^(_id|_rev)$/.test(n)?/^(slug)$/.test(n)||(e[n]=t):delete e[n]}),e.trashed=!1,e});t({method:"PUT",url:c+"/admin/"+e,data:{items:s}}).then(function(t){if(!t)return a();var i=r.a.isArray(t.data)?t.data:[t.data];s=s.map(function(e){return i.forEach(function(t){e._id===t.id&&(e._rev=t.rev)}),e}),d[e]=d[e].map(function(e){return s.forEach(function(t){t._id===e._id&&r.a.extend(e,t)}),e}),n(g(e,s))},a).finally(f)})},u.newItem=function(e){return n(function(t,n){o.showModal({template:l[e],controller:s.a,controllerAs:"vm",inputs:{mode:"new",adminType:e,items:[]}}).then(function(i){i.result.then(function(i){u.create(e,i.item).then(t,n)})})})},u.editItems=function(e,t){return n(function(n,i){var r=t.length>1;o.showModal({template:l[e+(r?"Multi":"")],controller:s.a,controllerAs:"vm",inputs:{mode:"edit",adminType:e,items:t}}).then(function(t){t.result.then(function(t){u.update(e,t.items,t.item).then(n,i)})})})},u.deleteItems=function(e,i){return n(function(n,r){t({method:"DELETE",url:c+"/admin/"+e,data:{items:i}}).then(n,r).finally(f)})},u.cloneItem=function(e,t){return n(function(n,i){t=r.a.copy(t),t=a.a.omit(t,function(e,t){return"_"===t[0]||"$"===t[0]}),t.name=t.name+" Copy",t.slug="",o.showModal({template:l[e],controller:s.a,controllerAs:"vm",inputs:{mode:"clone",adminType:e,items:[t]}}).then(function(t){t.result.then(function(t){u.create(e,t.item).then(n,i)})})})},u};c.$inject=["$rootScope","$http","$q","$log","ModalService","apiPrefix"],t.a=c},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(3),a=n.n(o),s=n(239),l=n(241),c=n(243),u=r.a.module("admin",[a.a]).directive("admin",s.a).factory("AdminFactory",l.a).factory("AdminFieldSettingsFactory",c.a).config(["$stateProvider",function(e){"ngInject";e.state("admin",{url:"/admin/{adminType:[a-z]{1,20}}",resolve:{fields:["AdminFactory",function(e){return e.load("field")}],schemas:["AdminFactory",function(e){return e.load("schema")}]},views:{content:{template:"<admin></admin>"}},data:{permissions:function(e){return"user"===e.adminType?["user"]:["super"]}}})}]).filter("thumbnailFields",["FieldFactory",function(e){"ngInject";return function(t){return(t||[]).filter(function(t){return e.field(t.fieldType).thumbnailField})}}]).filter("fieldNames",["AdminFactory",function(e){"ngInject";return function(t){if(!t)return"";var n=t.map(function(t){return e.getByKey("field",!0)[t.slug].name});return n.join(", ")}}]).filter("actionNames",["AdminFactory",function(e){"ngInject";return function(t){if(!t)return"";var n=t.map(function(t){return e.getByKey("action")[t.slug].name});return n.join(", ")}}]).filter("fieldTypeName",["FieldFactory",function(e){"ngInject";return function(t){return e.field(t).name}}]).filter("actionTypeName",["ActionFactory",function(e){"ngInject";return function(t){return e.action(t).name}}]).filter("schemaName",function(){return function(e){if(!e)return"";var t=[];return e.forEach(function(e){t.push(e.name)}),t.join(", ")}}).filter("roleName",["AdminFactory",function(e){"ngInject";return function(t){var n=e.getRolesByKey();return n[t]?n[t].name:""}}]);t.a=u},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(247),a=n(250),s=n(245),l=n(248),c={crops:o,videoOutputs:a,audioOutputs:s,thumbnails:l},u=function(e,t){"ngInject";var n={};return n.edit=function(n,i){return e(function(e,o){i=i?r.a.copy(i):{},t.showModal({template:c[n].template,controller:c[n].controller,controllerAs:"vm",inputs:{input:i}}).then(function(t){t.result.then(e,o)})})},n};u.$inject=["$q","ModalService"],t.a=u},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function AudioOutputsController(e,t,n,i){_classCallCheck(this,AudioOutputsController);var r=this;r.output=i,0===Object.keys(r.output).length&&e.$watch(function(){return r.output.name},function(e){void 0!==e&&(r.output.slug=t("camelCase")(n.slugify(e)))}),r.formatOptions=[{value:"mp3",name:"mp3"},{value:"aac",name:"aac"}],r.qualityOptions=[{value:1,name:"Mediocre"},{value:2,name:"Acceptable"},{value:3,name:"Good"},{value:4,name:"Great"},{value:5,name:"Lossless"}]};i.$inject=["$scope","$filter","Slug","input"],t.a=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(244),r=n(462),o=n.n(r);n.d(t,"controller",function(){return i.a}),n.d(t,"template",function(){return o.a})},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function CropsController(e,t,n,i){_classCallCheck(this,CropsController);var r=this;r.crop=i,0===Object.keys(r.crop).length&&e.$watch(function(){return r.crop.name},function(e){void 0!==e&&(r.crop.slug=t("camelCase")(n.slugify(e)))}),r.gravityOptions=[{value:"Center",name:"Center"},{value:"North",name:"North"},{value:"East",name:"East"},{value:"South",name:"South"},{value:"West",name:"West"}]};i.$inject=["$scope","$filter","Slug","input"],t.a=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(246),r=n(463),o=n.n(r);n.d(t,"controller",function(){return i.a}),n.d(t,"template",function(){return o.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(249),r=n(464),o=n.n(r);n.d(t,"controller",function(){return i.a}),n.d(t,"template",function(){return o.a})},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function ThumbnailsController(e,t,n,i){_classCallCheck(this,ThumbnailsController);var r=this;r.thumbnail=i,0===Object.keys(r.thumbnail).length&&e.$watch(function(){return r.thumbnail.name},function(e){void 0!==e&&(r.thumbnail.slug=t("camelCase")(n.slugify(e)))}),r.thumbnailFormatOptions=[{value:"jpg",name:"jpg"},{value:"png",name:"png"}]};i.$inject=["$scope","$filter","Slug","input"],t.a=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(251),r=n(465),o=n.n(r);n.d(t,"controller",function(){return i.a}),n.d(t,"template",function(){return o.a})},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function VideoOutputsController(e,t,n,i,r,o){_classCallCheck(this,VideoOutputsController);var a=this;a.output=o,0===Object.keys(a.output).length&&e.$watch(function(){return a.output.name},function(e){void 0!==e&&(a.output.slug=t("camelCase")(r.slugify(e)))}),a.formatOptions=[{value:"mp4",name:"mp4"},{value:"webm",name:"webm"}],a.qualityOptions=[{value:1,name:"Mediocre"},{value:2,name:"Acceptable"},{value:3,name:"Good"},{value:4,name:"Great"},{value:5,name:"Lossless"}],a.thumbnailAdd=function(){i.edit("thumbnails").then(function(e){a.output.thumbnails||(a.output.thumbnails=[]),a.output.thumbnails.push(e)})},a.thumbnailEdit=function(e){i.edit("thumbnails",e).then(function(t){a.output.thumbnails.splice(a.output.thumbnails.indexOf(e),1,t)})},a.thumbnailDelete=function(e){var t=n.confirm().textContent("Are you sure you want to delete "+e.name+"?").cancel("Cancel").ok("Delete");n.show(t).then(function(){a.output.thumbnails.splice(a.output.thumbnails.indexOf(e),1)})}};i.$inject=["$scope","$filter","$mdDialog","AdminFieldSettingsFactory","Slug","input"],t.a=i},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(1),r=n.n(i),o=function AdminModalController(e,t,n,i,o,a,s,l,c,u,d,h,m){_classCallCheck(this,AdminModalController);var p=this;p.mode=d,p.items=m,"edit"!==p.mode&&!function(){var e=a.get(h).filter(function(e){return!e.trashed}).map(function(e){return"user"===h?e.email:e.slug});p.keyPattern=function(){var t=/^[^\d][a-zA-Z0-9]*$/,n=new RegExp("^("+e.join("|")+")$");return{test:function(e){return(t.test(e)||"user"===h)&&!n.test(e)}}}()}(),1===p.items.length?p.item=r.a.copy(p.items[0]):("schema"===h&&(p.item={name:"",slug:"",fields:[],actions:[]}),"field"===h&&(p.item={name:"",slug:"",fieldType:"text",settings:{}}),"action"===h&&(p.item={name:"",slug:"",actionType:"url"}),"user"===h&&(p.item={email:"",firstName:"",lastName:"",role:"admin",active:!0,trashed:!1}),"taxonomy"===h&&(p.item={name:"",slug:""})),e.$watch(function(){return p.item.name},function(e){void 0!==e&&"edit"!==p.mode&&(p.item.slug=n("camelCase")(u.slugify(e)))});var f=a.getByKey("field"),g=a.getByKey("action");p.item.fields&&(p.item.fields=p.item.fields.map(function(e){return f[e.slug]})),p.item.actions&&(p.item.actions=p.item.actions.map(function(e){return g[e.slug]})),p.item.sortFields&&(p.item.sortFields=p.item.sortFields.map(function(e){return f[e]})),e.$watch(function(){return p.item.fieldType},function(e){e&&(p.fieldSettingsTemplate=s.field(e).settingsTemplate)}),p.item.settings&&p.item.settings.schemas&&(p.item.settings.schemas=p.item.settings.schemas.map(function(e){return a.getByKey("schema")[e.slug]})),p.item.settings&&p.item.settings.taxonomy&&(p.item.settings.taxonomy=a.getByKey("taxonomy")[p.item.settings.taxonomy.slug]),e.$watch(function(){return p.item.actionType},function(e){e&&(p.actionSettingsTemplate=l.action(e).settingsTemplate)}),p.newItem=function(e,t){a.newItem(e).then(function(e){i(function(){t.push(e)})})},p.fieldSettingsAdd=function(e){c.edit(e).then(function(t){p.item.settings[e]||(p.item.settings[e]=[]),p.item.settings[e].push(t)})},p.fieldSettingsEdit=function(e,t){c.edit(e,t).then(function(n){p.item.settings[e].splice(p.item.settings[e].indexOf(t),1,n)})},p.fieldSettingsDelete=function(e,t){var n=o.confirm().textContent("Are you sure you want to delete "+t.name+"?").cancel("Cancel").ok("Delete");o.show(n).then(function(){p.item.settings[e].splice(p.item.settings[e].indexOf(t),1)})},p.save=function(){p.item.fields&&(p.item.fields=p.item.fields.map(function(e){return{slug:e.slug,fieldType:e.fieldType}})),p.item.actions&&(p.item.actions=p.item.actions.map(function(e){return{slug:e.slug,actionType:e.actionType}})),p.item.sortFields&&(p.item.sortFields=p.item.sortFields.map(function(e){return e.slug})),p.item.settings&&p.item.settings.schemas&&(p.item.settings.schemas=p.item.settings.schemas.map(function(e){return{slug:e.slug}})),p.item.settings&&p.item.settings.taxonomy&&(p.item.settings.taxonomy={slug:p.item.settings.taxonomy.slug}),t.close({item:p.item,items:p.items})}};o.$inject=["$scope","$modal","$filter","$timeout","$mdDialog","AdminFactory","FieldFactory","ActionFactory","AdminFieldSettingsFactory","Slug","mode","adminType","items"],t.a=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(466),r=n.n(i),o=n(467),a=n.n(o),s=n(468),l=n.n(s),c=n(469),u=n.n(c),d=n(470),h=n.n(d);n.d(t,"action",function(){return r.a}),n.d(t,"field",function(){return a.a}),n.d(t,"schema",function(){return l.a}),n.d(t,"taxonomy",function(){return u.a}),n.d(t,"user",function(){return h.a})},function(e,t,n){"use strict";var i=n(471),r=n.n(i),o=n(255),a=n(382),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function BatchUploadController(e,t,n){_classCallCheck(this,BatchUploadController);var i=this;i.uploadComplete=!1,i.isUploading=n.isUploading(),i.files=n.uploader()?n.uploader().files:[],n.onComplete(function(e,n,i){var r=!0;e.files.forEach(function(e){"complete"!==e._status&&(r=!1)}),r&&t.go("entityGrid",{schemaSlug:i.schema})}),i.cancel=function(){n.cancel()}};i.$inject=["$scope","$state","BatchUploadFactory"],t.a=i},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(33),a=n.n(o),s=n(34),l=function(e,t,n,i,o,l){"ngInject";var c={},u={image:"jpg,jpeg,png,svg"},d=!1,h=void 0,m=function(){},p=function(){},f=function(){};return c.onStart=function(e){return m=e},c.onProgress=function(e){return p=e},c.onComplete=function(e){return f=e},c.init=function(t,n,g,v){c.cancel(),d=!0;var y={slug:e.slug},b=v.settings||{};"image"===v.fieldType&&(y.resize={maxWidth:0===b.maxWidth?1/0:b.maxWidth||3e3,maxHeight:0===b.maxHeight?1/0:b.maxHeight||2e3,quality:95},b.dzi&&(y.dzi={size:256,overlap:0})),h=new a.a({target:[e.assistUrl,"upload"].join("/"),query:{options:JSON.stringify(y)},headers:{Authorization:"Basic "+e.assistCredentials},initFileFn:function(e){var t=e.file.name;if(!e._prepared){e.pause();var n=new s.a({maxWidth:y.resize.maxWidth,maxHeight:y.resize.maxHeight,quality:y.resize.quality});n.loadImage(e.file).then(function(n){function upload(){e._status="uploading",e.resume()}function cancel(){e._status="canceled"}return e._prepared=!0,e.file=n.blob,e.file.name=t,e.size=e.file.size,e.bootstrap(),n.profile?n.profile&&"RGB"!==n.profile.colorSpace?void i.show(i.confirm().multiple(!0).title("Upload Warning").textContent(t+" is in "+n.profile.colorSpace+" colour space, for best results please convert to sRGB").ok("Upload").cancel("Cancel")).then(upload,cancel):n.profile&&"RGB"===n.profile.colorSpace&&!/sRGB/i.test(n.profile.description)?void i.show(i.confirm().multiple(!0).title("Upload Warning").textContent(t+" has "+n.profile.description+" profile, for best results please convert to sRGB").ok("Upload").cancel("Cancel")).then(upload,cancel):void upload():void i.show(i.confirm().multiple(!0).title("Upload Warning").textContent(t+" has no colour profile, for best results please convert to sRGB").ok("Upload").cancel("Cancel")).then(upload,cancel)})}}}),h.on("fileAdded",function(e){var t=u[v.fieldType].indexOf(e.getExtension())>-1;return t||i.show(i.alert().title("Upload Error").textContent(e.name+" is not a valid file type.").ok("Close")),e.valid=t,t}),h.on("fileSuccess",function(e,n){var i=JSON.parse(n);o.createFile(i).then(function(n){var i=r.a.copy(t);i.fields[v.slug]||(i.fields[v.slug]={}),i.fields[v.slug].value=n,l.createEntity(g.slug,i).then(function(){e._status="complete",f(h,e,i)})})}),h.on("uploadStart",function(){m(h)}),h.on("complete",function(){}),h.on("progress",function(){p(h)}),h.on("error",function(e,t){t._status="error",i.show(i.alert().title("Upload Error").textContent(e).ok("Close"))}),n.forEach(function(e){h.addFile(e)})},c.cancel=function(){h&&(h.cancel(),h=null),d=!1},c.uploader=function(){return h},c.isUploading=function(){return d},c};l.$inject=["$rootScope","$document","$timeout","$mdDialog","FileFactory","EntityFactory"],t.a=l},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(3),a=n.n(o),s=n(254),l=n(256),c=r.a.module("batchUpload",[a.a]).config(["$stateProvider",function(e){"ngInject";e.state("batchUpload",{url:"/batch-upload/{schemaSlug:[a-zA-Z0-9_-]{2,50}}/{fieldSlug:[a-zA-Z0-9_-]{2,50}}",views:{content:{template:"<batch-upload></batch-upload>"}},onEnter:["$state","BatchUploadFactory",function(e,t){}],data:{permissions:"entityCreate"}})}]).factory("BatchUploadFactory",l.a).directive("batchUpload",s.a);t.a=c},function(e,t,n){"use strict";var i=n(472),r=n.n(i),o=n(259),a=n(383),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(0),r=n.n(i),o=function DashboardController(e,t,n,i){_classCallCheck(this,DashboardController);var o=this;o.user=i.getCurrentUser();var a=t.settings();if(a.url&&""!==a.url){var s=new e.URL(a.url||""),l=s.hostname.split(".");l=l.length>=3?l.splice(1).join("."):l.join(".");var c=e.location.hostname.split(".");c=c.length>=3?c.splice(1).join("."):c.join(".");var u=[c,"localhost"],d=u.map(function(e){return"ga:source!~"+e}).join(";");a.ga&&a.ga.view&&(n.analytics({ids:"ga:"+a.ga.view,"start-date":"7daysAgo","end-date":"today",dimensions:"ga:date,ga:nthDay",metrics:"ga:sessions",filters:"ga:hostname=~"+l+";"+d}).then(function(e){if(0!==e.totalResults){var t=e.rows.map(function(e){return{sessions:e[2],date:r()(e[0],"YYYYMMDD").format("DD/MM")}});o.sessionsChart={data:{x:"x ",json:t,keys:{x:"date",value:["sessions"]},names:{sessions:"Sessions"}},axis:{x:{type:"category"}}}}}),n.analytics({ids:"ga:"+a.ga.view,"start-date":"7daysAgo","end-date":"today",dimensions:"ga:source,ga:referralPath",metrics:"ga:sessions",filters:"ga:medium==referral;ga:hostname=~"+l+";"+d,sort:"-ga:sessions"}).then(function(e){if(0===e.totalResults)return void(o.referrals=[]);var t=e.rows.map(function(e){return{source:e[0],fullReferrer:e[0]+e[1],sessions:e[2]}});o.referrals=t.slice(0,10)}))}};o.$inject=["$window","SettingsFactory","HelperFactory","AdminFactory"],t.a=o},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(3),a=n.n(o),s=n(258),l=r.a.module("dashboard",[a.a]).config(["$stateProvider",function(e){"ngInject";e.state("dashboard",{url:"/",views:{content:{template:"<dashboard></dashboard>"}}})}]).directive("dashboard",s.a);t.a=l},function(e,t,n){"use strict";var i=n(474),r=n.n(i),o=n(473),a=n.n(o),s=n(475),l=n.n(s),c=n(262),u=n(384),d=(n.n(u),function(e){"ngInject";var t={order:r.a,discount:a.a,settings:l.a},n=function(n,i){i.html(t[n.template]),e(i.contents())(n)};return{restrict:"E",scope:{template:"="},link:n,controller:c.a,controllerAs:"vm",bindToController:!0}});d.$inject=["$compile"],t.a=d},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(1),r=n.n(i),o=function EcommerceController(e,t,n,i,o,a,s,l,c,u,d,h,m,p,f){_classCallCheck(this,EcommerceController);var g=this,v=(n.$current.locals.globals,n.current.data.ecommerceType),y=u.settings();t.template=v,g.type=v,g.selected=[],g.ecommerceSettings=y,g.saveSettings=function(){u.saveSettings(g.ecommerceSettings).then(function(e){g.ecommerceSettings=e})},g.authenticateWithProvider=function(e){d.authenticateWithProvider(e).then(function(t){return"stripe"===e?void o.get(f+"/stripe/account").then(function(n){t.account=n.data,g.ecommerceSettings[e]=t}):void(g.ecommerceSettings[e]=t)})},g.items=[],g.options={page:0};var b={},_={},w=function(e){e.length&&(g.options.sort=e.map(function(e){var t=e.sort.direction===p.ASC?"-":"",n="";return _[v].forEach(function(e){e.sortType&&(n="<"+e.sortType+">")}),t+"sort."+e.name+n})[0])},x=function(e,t){var n=s.defer();t&&(g.options.page=0,b={});var i=r.a.copy(g.options);return i.bookmark=b[i.page-1]||null,i.q=(i.q||[]).join(" AND "),g.searching=!0,u.search(e,i).then(function(e){b[i.page]=e.bookmark,g.total=e.total,t?g.items=e.results:g.items=g.items.concat(e.results),g.grid.data=g.items,n.resolve()}).finally(function(){g.searching=!1}),n.promise};g.search=function(e,t){if(void 0===e||"keypress"!==e.type||13===e.keyCode){g.searchTerm=t||"";var n=[];if("order"===v&&n.push("test:"+(y.testMode?"true":"false")),""!==g.searchTerm){var i=[];"order"===v&&(i.push("orderId:"+g.searchTerm+"*"),i.push("customer.email:"+g.searchTerm+"*"),i.push("customer.name:"+g.searchTerm+"*")),"discount"===v&&(i.push("name:"+g.searchTerm+"*"),i.push("code:"+g.searchTerm+"*")),n.push("("+i.join(" OR ")+")")}g.options.q=n}};var C=function(e,t,n){return e=e.map(function(e){var i=e;return t.forEach(function(t){e[n]===t[n]&&(i=t)}),i})},S=function(e,t,n){return e=e.filter(function(e){return t.filter(function(t){return t[n]!==e[n]}).length})};_.order=[{name:"orderId",displayName:"Order ID",enableSorting:!1},{name:"customer.name",sortType:"string",displayName:"Customer Name"},{name:"customer.email",sortType:"string",displayName:"Customer Email"},{name:"created",sortType:"number",displayName:"Created",cellFilter:"parseDate"},{name:"status",sortType:"string",displayName:"Order Status",cellFilter:"toTitleCase"},{name:"total",sortType:"number",displayName:"Total",cellFilter:"currency"},{name:"charge",displayName:"Charge Status",cellFilter:"chargeStatus",enableSorting:!1}],g.editOrder=function(e){u.editOrder(e).then(function(e){g.items=C(g.items,[e],"_id"),a(function(){g.grid.data=g.items})})},_.discount=[{name:"name",sortType:"string",displayName:"Name"},{name:"code",sortType:"string",displayName:"Code"},{name:"discountType",sortType:"string",displayName:"Type"},{name:"amount",sortType:"number",displayName:"Amount"},{name:"dateStart",sortType:"number",displayName:"Start Date",cellFilter:"parseDate"},{name:"dateEnd",sortType:"number",displayName:"End Date",cellFilter:"parseDate"}],g.editDiscount=function(e){var t=!e;e&&(e=r.a.copy(e)),u.editDiscount(e).then(function(e){t?g.items.push(e):g.items=C(g.items,[e],"_id"),a(function(){g.grid.data=g.items})})},g.deleteDiscounts=function(e){var t=e.map(function(e){return e.name}),n=c.confirm().textContent("Are you sure you want to delete "+t.join(", ")+"?").cancel("Cancel").ok("Delete");c.show(n).then(function(){u.delete("discount",e).then(function(){g.items=S(g.items,e,"_id"),a(function(){g.grid.data=g.items})})})},g.grid={data:g.items,rowHeight:50,headerRowHeight:45,enableSorting:!0,useExternalSorting:!0,enableColumnMenus:!1,columnDefs:_[v],infiniteScrollPercentage:10,enableRowHeaderSelection:!1,enableHorizontalScrollbar:p.scrollbars.NEVER,appScopeProvider:g,excessRows:20,onRegisterApi:function(e){g.gridApi=e,e.core.on.sortChanged(null,function(e,t){w(t)});var n=0,i=void 0;e.selection.on.rowSelectionChanged(null,function(t,r){r.timeStamp-n<300&&t===i&&("order"===v&&g.editOrder(t.entity),"discount"===v&&g.editDiscount(t.entity)),n=r.timeStamp,i=t,g.selected=e.selection.getSelectedRows()}),e.selection.on.rowSelectionChangedBatch(t,function(t,n){g.selected=e.selection.getSelectedRows()}),e.infiniteScroll.on.needLoadMoreData(null,function(){g.items.length<g.total&&(g.options.page++,x(v).then(function(){e.infiniteScroll.dataLoaded()}))})}},/orders|customers|discounts/.test(n.current.name)&&("order"===v?w([{name:"created",sort:{direction:p.ASC}}]):"discount"===v&&w([{name:"dateEnd",sort:{direction:p.ASC}},{name:"dateStart",sort:{direction:p.ASC}},{name:"name",sort:{direction:p.ASC}}]),g.search(),t.$watch(function(){return g.options},function(){x(v,!0)},!0))};o.$inject=["$rootScope","$scope","$state","$window","$http","$timeout","$q","$log","$mdDialog","EcommerceFactory","SettingsFactory","HelperFactory","ModalService","uiGridConstants","apiPrefix"],t.a=o},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(265),a=function(e,t,n,i,a,s,l,c,u,d,h){"ngInject";var m={};e.$ecom=m;var p=void 0;return m.currencySymbol="",m.settings=function(e){return e&&(p=e),m.currencySymbol=p.currencySymbol,p},m.loadSettings=function(){return i(function(e,t){n({method:"GET",url:h+"/ecommerce/settings"}).then(function(t){e(m.settings(t.data))},t)})},m.saveSettings=function(e){return i(function(t,i){e=r.a.fromJson(r.a.toJson(e)),e.modifiedBy=u.getCurrentUser()._id,e.modified=c.now(),n({method:"PUT",url:h+"/ecommerce/settings",data:{settings:e}}).then(function(e){t(m.settings(e.data))},i)})},m.search=function(e,t){return i(function(i,r){var o={q:t.q||"*:*",sort:t.sort||"<score>",limit:t.limit||200,include_docs:!0};t.bookmark&&(o.bookmark=t.bookmark),n({method:"GET",url:h+"/ecommerce/"+e,params:o}).then(function(e){if(e.data.error)i({});else{var t={total:e.data.total_rows,bookmark:e.data.bookmark,results:e.data.rows.map(function(e){return e.doc})};i(t)}},r)})},m.save=function(e,t){return i(function(i,o){t=r.a.fromJson(r.a.toJson(t)),t.modifiedBy=u.getCurrentUser()._id,t.modified=c.now(),n({method:"POST",url:h+"/ecommerce/"+e,data:{item:t}}).then(function(e){t._rev=e.data._rev,i(t)},o)})},m.delete=function(e,t){return i(function(i,r){n({method:"DELETE",url:h+"/ecommerce/"+e,data:{items:t}}).then(i,r)})},m.editOrder=function(e){return i(function(n,i){d.showModal({template:o.a,controller:["$scope","$modal","HelperFactory","EcommerceFactory","settings","ecommerceSettings","order",function(e,n,i,r,o,a,s){var l=this;l.order=s,e.$watch(function(){return l.order.status},function(e,t){e!==t&&r.save("order",l.order).then(function(e){l.order=e})}),l.close=function(){n.close(l.order)},l.refund=function(){r.refundOrder(l.order).then(function(e){l.order=e})},l.previewEmailTemplate=function(e){t.open(h+"/ecommerce/order/message/"+e+"?orderId="+l.order._id)}}],controllerAs:"vm",inputs:{settings:l.settings(),ecommerceSettings:m.settings(),order:e}}).then(function(e){e.result.then(n,i)})})},m.editDiscount=function(e){return i(function(t,n){e=e||{discountType:"percentage",dateStart:new Date,usageLimit:0},d.showModal({template:o.b,controller:["HelperFactory","discount",function(e,t){var n=this;n.discount=t}],controllerAs:"vm",inputs:{HelperFactory:c,discount:e}}).then(function(e){e.result.then(function(e){m.save("discount",e).then(t,n)})})})},m.refundOrder=function(e){return i(function(t,n){d.showModal({template:o.c,controller:["HelperFactory","order",function(e,t){var n=this;n.order=t,n.amount=n.maxAmount=(n.order.charge.amount-n.order.charge.amountRefunded)/100}],controllerAs:"vm",inputs:{HelperFactory:c,order:e}}).then(function(n){n.result.then(function(n){m.stripeRefund(e,n).then(function(e){t(e.data)}).catch(function(e){s.show(s.alert().title("Refund Error").textContent(e.data.message).ok("Close"))})})})})},m.stripeRefund=function(e,t){return i(function(i,r){n({method:"POST",url:h+"/stripe/refund",data:{order:e,amount:t}}).then(i,r)})},m};a.$inject=["$rootScope","$window","$http","$q","$log","$mdDialog","SettingsFactory","HelperFactory","AdminFactory","ModalService","apiPrefix"],t.a=a},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(3),a=n.n(o),s=n(261),l=n(263),c=r.a.module("ecommerce",[a.a]).config(["$stateProvider","$authProvider",function(e,t){"ngInject";t.oauth2({name:"stripe",authorizationEndpoint:"https://connect.stripe.com/oauth/authorize",
scope:["read_write"],defaultUrlParams:["response_type","client_id","redirect_uri"],responseType:"code",responseParams:{code:"code",clientId:"clientId",redirectUri:"redirectUri"}}),e.state("ecommerce",{abstract:!0}),e.state("ecommerce.orders",{url:"/ecommerce/orders",views:{"content@":{template:"<ecommerce></ecommerce>"}},data:{ecommerceType:"order",permissions:"ecommerce"}}),e.state("ecommerce.discounts",{url:"/ecommerce/discounts",views:{"content@":{template:"<ecommerce></ecommerce>"}},data:{ecommerceType:"discount",permissions:"ecommerce"}}),e.state("ecommerce.settings",{url:"/ecommerce/settings",views:{"content@":{template:"<ecommerce></ecommerce>"}},data:{ecommerceType:"settings",permissions:"ecommerce"}})}]).filter("currency",["$filter","EcommerceFactory",function(e,t){"ngInject";return function(n,i){return i=i||t.currencySymbol,i+e("toFixed")(n)}}]).filter("chargeStatus",["$filter","EcommerceFactory",function(e,t){"ngInject";return function(n){if(!n)return"";var i=t.currencySymbol;return"failed"===n.status?"Unpaid":0===n.amountRefunded?"Paid in full":n.amount===n.amountRefunded?"Full refund":i+e("toFixed")(n.amountRefunded/100)+" refunded"}}]).factory("EcommerceFactory",l.a).directive("ecommerce",s.a);t.a=c},function(e,t,n){"use strict";var i=n(476),r=n.n(i),o=n(477),a=n.n(o),s=n(478),l=n.n(s);n.d(t,"b",function(){return r.a}),n.d(t,"a",function(){return a.a}),n.d(t,"c",function(){return l.a})},function(e,t,n){"use strict";var i=n(479),r=n.n(i),o=n(267),a=n(385),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{mode:"@",entity:"=?",entities:"=?",entityForm:"=?",isModal:"=?"},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(2),r=n.n(i),o=n(1),a=n.n(o),s=n(41),l=n.n(s),c=function EntityController(e,t,n,i,o,s,c,u,d,h,m,p,f,g){_classCallCheck(this,EntityController);var v=this;v.entity=v.entities[0]||{};var y=u.getByKey("schema"),b=u.getByKey("field");if(v.entity.schema&&y[v.entity.schema]&&(v.schema=a.a.copy(y[v.entity.schema])),"singular"===v.mode&&s.id&&y[s.id]&&(v.schema=a.a.copy(y[s.id]),v.entity._id="entity."+v.schema.slug),v.schema.fields=v.schema.fields||[],v.schema.fields.map(function(e){return a.a.extend(e,b[e.slug])}),v.schema.actions=v.schema.actions||[],v.schema.actions.map(function(e){return a.a.extend(e,u.getByKey("action")[e.slug])}),"batchEdit"===v.mode){if(0===v.entities.length)return void o.go("^");v.entity=p.consolidate(v.entities),v.schema.fields.forEach(function(e){e.apply=!1})}v.entity.fields||(v.entity.fields={}),v.entity.published=void 0===v.entity.published||null===v.entity.published||v.entity.published,v.entity.publishedAt=void 0===v.entity.publishedAt||null===v.entity.publishedAt?new Date:v.entity.publishedAt,i.log("schema",v.schema),i.log("entity",v.entity),v.fieldDisabled=function(e){return!!v.entity.trashed||m.field(e.fieldType).modeDisabled[v.mode]};var _={batchUpload:"Batch Upload",batchEdit:"Batch Edit",new:"New"};v.modeBreadcrumb=_[v.mode],"batchUpload"!==v.mode&&!function(){var e=t.$on("$stateChangeStart",function(t,n,i){if(v.entityForm.$dirty){t.preventDefault();var r=c.confirm().textContent("You have unsaved changes, are you sure?").cancel("Cancel").ok("Confirm");c.show(r).then(function(){e(),o.go(n,i)})}})}(),v.currentRevId=v.entity._rev,v.revisions=[],v.restoreRevision=function(e){v.currentRevId=e._rev,v.entity.fields=e.fields},v.showRevisions=function(){d.getRevisions({id:v.entity._id}).then(function(e){v.revisions=e.reverse()})},t.$watch(function(){return v.entity.published},function(e,t){e===!0&&t===!1&&(void 0!==v.entity.publishedAt&&null!==v.entity.publishedAt||(v.entity.publishedAt=new Date))}),v.schema.singular||"batchEdit"===v.mode||t.$watch(function(){return v.entity.fields},function(){v.title=d.getTitleSlug(v.entity).title},!0),v.action=function(t){if("url"===t.actionType){var i=l.a.compile(t.url),r=i(v.entity),o=f.settings().url||"";!/https?:\/\//.test(r)&&o&&(r=o+r);var a=new n.URL(r);a.search+=(/^\?/.test(a.search)?"&":"?")+"token="+e.token,n.open(a)}},v.saveEntity=function(){!v.entity._rev&&v.entities.length<=1?v.createEntity():v.updateEntity()},v.createEntity=function(){v.entityForm.$invalid||d.createEntity(v.schema.slug,v.entity).then(function(e){v.entityForm.$setPristine(),v.schema.singular||o.go("entity",{id:e._id})},i.error)},v.updateEntity=function(){if(!v.entityForm.$invalid){var e=v.entities.map(function(e){return a.a.forEach(v.schema.fields,function(t){("batchEdit"!==v.mode||t.apply)&&v.entity.fields[t.slug]&&(e.fields[t.slug]||(e.fields[t.slug]={}),e.fields[t.slug].value=v.entity.fields[t.slug].value)}),v.batchPublish&&(e.published=v.entity.published,e.publishedAt=v.entity.publishedAt),e});d.updateEntities(e).then(function(e){v.entityForm.$setPristine(),p.setRecentEdits(e)},i.error)}},v.cloneEntity=function(){if(!v.entityForm.$invalid){var e=a.a.copy(v.entity);delete e._id,delete e._rev,delete e.createdBy,d.createEntity(v.schema.slug,e).then(function(e){o.go("entity",{id:e._id})},i.error)}},v.deleteEntity=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=c.confirm().textContent(e?"Delete entity forever? You cannot undo this.":"Delete entity?").cancel("Cancel").ok("Delete");c.show(t).then(function(){d.deleteEntities(v.entity,e).then(function(){e||""===o.previous.name?o.go("trash"):(p.setRecentTrashed([v.entity]),v.back())})})},v.restoreEntity=function(){d.restoreEntities(v.entity).then(function(){o.go("entity",{id:v.entity._id},{reload:!0})})},v.back=function(){v.entity.trashed?o.go("trash"):"new"===v.mode?o.go("entityGrid",{schemaSlug:v.schema.slug}):"batchUpload"===v.mode?o.go("selectSchema"):o.previous?n.history.back():o.go("entityGrid",{schemaSlug:v.schema.slug})},v.nextEntityId=null,v.prevEntityId=null,"normal"===v.mode&&h.states[v.entity.schema]&&!function(){var e=h.states[v.entity.schema].data;e.forEach(function(t,n){t._id===v.entity._id&&(v.nextEntityId=e[n<e.length-1?n+1:0]._id,v.prevEntityId=e[n>0?n-1:e.length-1]._id)})}(),v.nextEntity=function(){o.go("entity",{id:v.nextEntityId})},v.prevEntity=function(){o.go("entity",{id:v.prevEntityId})},v.dropdownMore=(v.schema.actions||[]).map(function(e){return{text:e.name,click:function(){v.action(e)}}}),v.schema.singular||v.dropdownMore.push({text:"Clone",click:function(){v.entityForm.$valid?v.cloneEntity():c.show(c.alert().title("Cannot clone entity").textContent("Please check all fields are valid and retry").ok("Close"))}}),v.dropdownMore.push({text:"History",click:function(){v.showRevisions()}}),t.$on("fieldCtrl:batchUpload",function(e,t,n){g.init(v.entity,n,v.schema,t),o.go("batchUpload",{schemaSlug:v.schema.slug,fieldSlug:t.slug})});var w=r.a.mapValues(b,function(e){var t=r.a.omitBy(e,function(e,t){return t.startsWith("_")});return t.entityId=v.entity._id,t.entityMode=v.mode,t});v.fieldOptions=function(e){return w[e]}};c.$inject=["$rootScope","$scope","$window","$log","$state","$stateParams","$mdDialog","AdminFactory","EntityFactory","EntityGridFactory","FieldFactory","BatchFactory","SettingsFactory","BatchUploadFactory"],t.a=c},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(1),a=n.n(o),s=n(14),l=n.n(s),c=n(41),u=n.n(c),d=n(481),h=n.n(d),m=n(480),p=n.n(m),f=function(e,t,n,i,o,s,c,d,m,f,g,v,y){"ngInject";function prepEntityFromDb(e){return e.published&&(e.publishedAt=new Date(Date.parse(e.publishedAt))),e.fields=r.a.mapValues(e.fields,function(e,t){var n=m.getByKey("field")[t];return e.value=d.field(n.fieldType).fromDb(e.value,n.settings),e}),e}function prepEntitiesFromDb(e){return e.map(function(e){return prepEntityFromDb(e)})}function getEntityById(e){return n(function(n,i){var r=a.a.isArray(e.id),o=!a.a.isArray(e.id)&&void 0!==m.getByKey("schema")[e.id.split(".")[1]],s={method:r?"POST":"GET",url:y+"/entities"};s[r?"data":"params"]=e,t(s).then(function(e){return e.data.length||o?void n(prepEntitiesFromDb(e.data)):i(new Error("Entity(s) not found"))},i)})}function prepEntityToDb(e,t){e=a.a.copy(e);var n=JSON.stringify(new Date).replace(/"/g,""),i=m.getByKey("schema")[t||e.schema];if(!i)throw Error("Schema not found");e.createdBy||(e.createdBy=m.getCurrentUser()._id,e.created=n),e.modifiedBy=m.getCurrentUser()._id,e.modified=n,e.published&&(e.publishedAt=JSON.stringify(e.publishedAt).replace(/"/g,"")),e.schema=i.slug;var o=b.getTitleSlug(e);return e.title=o.title,e.slug=o.slug,e.fields=r.a.mapValues(e.fields,function(e,t){var n=m.getByKey("field")[t];return r.a.find(i.fields,function(e){return e.slug===t})?(e.type="entityField",e.fieldType=n.fieldType,e.value=d.field(n.fieldType).toDb(e.value,n.settings),e):null}),e.fields=r.a.pickBy(e.fields,function(e){return e}),e.thumbnail=b.getEntityThumbnail(e),e}var b={};return e.$entity=b,b.getTitleSlug=function(e){var t=void 0,n=void 0,i=m.getByKey("field"),r={};a.a.forEach(e.fields,function(e,t){e.fieldType=i[t].fieldType,r[t]=o("field2String")(e,10)});var s=m.getByKey("schema")[e.schema],c=s.titleTemplate&&""!==s.titleTemplate?s.titleTemplate:s.singular?s.name:"{{"+s.fields[0].slug+"}}";return t=u.a.compile(c)(r),t=o("trimify")(t),s.slugTemplate&&""!==s.slugTemplate?(n=g.slugify(u.a.compile(s.slugTemplate)(r)),n=o("trimify")(n)):n=g.slugify(t),t=l.a.decode(t),n=l.a.decode(n),{title:t,slug:n}},b.getFieldThumbnail=function(e){var t=d.field(e.fieldType).thumbnail(e.value);return t&&(t.ratio=isNaN(t.width/t.height)?0:t.width/t.height),t},b.getEntityThumbnail=function(e){var t=m.getByKey("schema")[e.schema].thumbnailField;return t&&e.fields[t]?b.getFieldThumbnail(e.fields[t]):null},b.getEntityThumbnailUrl=function(e,t){var n=m.getByKey("schema")[e.schema].thumbnailField;return n&&e.fields[n]?f.getFieldThumbnailUrl(e.fields[n],t):null},b.search=function(e){return n(function(n,i){t({method:"GET",url:y+"/entities/search",params:e||{}}).then(function(e){n(e.data.rows)},i)})},b.filterValues=function(e){return n(function(n,i){e=e||{searchTerm:"",schema:"",fieldSlug:""},t({method:"GET",url:y+"/entities/filterValues",params:e}).then(function(e){var t=e.data.map(function(e,t){return{id:t,title:l.a.decode(e)}});n(t)},i)})},b.getRevisions=function(e){return n(function(n,i){t({method:"GET",url:y+"/entity/revisions",params:e||{}}).then(function(e){n(prepEntitiesFromDb(e.data))},i)})},b.getById=function(e){return n(function(t,n){e.id||n(new Error("Missing id param")),getEntityById(e).then(t,n)})},b.createEntity=function(e,i){return n(function(n,r){i=prepEntityToDb(i,e),t({method:"POST",url:y+"/entity",data:{entity:i}}).then(function(e){c.states[i.schema]&&delete c.states[i.schema],n(e.data)},r)})},b.updateEntities=function(e){return n(function(n,i){var r=a.a.isArray(e);e=r?e:[e],e=e.map(function(e){return prepEntityToDb(e)}),t({method:"PUT",url:y+"/entity",data:{entities:e}}).then(function(t){e.forEach(function(e){t.data.forEach(function(t){e._id===t.id&&(e._rev=t.rev)})}),n(r?e:e[0])},i)})},b.deleteEntities=function(e,i){return n(function(n,r){e=a.a.isArray(e)?e:[e],e=e.map(function(e){return e._id}),t({method:"DELETE",url:y+"/entity",data:{entities:e,forever:i}}).then(function(e){n(e.data)},r)})},b.restoreEntities=function(e){return n(function(n,i){e=a.a.isArray(e)?e:[e],e=e.map(function(e){return e._id}),t({method:"PUT",url:y+"/entity",data:{restore:!0,entities:e}}).then(function(e){n(e.data)},i)})},b.emptyTrash=function(){return n(function(e,n){t({method:"DELETE",url:y+"/entity/trashed"}).then(function(t){e(t.data)},n)})},b.editEntity=function(e){return n(function(t,n){b.getById({id:e._id||e.id,children:1}).then(function(e){v.showModal({template:p.a,controllerAs:"vm",inputs:{mode:"normal",entities:e}}).then(function(e){e.result.then(function(e){b.updateEntities(e).then(t,n)})})})})},b.newEntity=function(e){return n(function(t,n){v.showModal({template:p.a,controllerAs:"vm",inputs:{mode:"new",entities:[{schema:e}]}}).then(function(i){i.result.then(function(i){b.createEntity(e,i).then(function(e){t(e)},n)},n)},n)})},b.selectEntity=function(e){return n(function(t,n){v.showModal({template:h.a,controllerAs:"vm",inputs:{schemaSlug:e}}).then(function(e){e.result.then(function(e){t(e)},n)},n)})},b};f.$inject=["$rootScope","$http","$q","$log","$filter","$timeout","EntityGridFactory","FieldFactory","AdminFactory","HelperFactory","Slug","ModalService","apiPrefix"],t.a=f},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(3),a=n.n(o),s=n(266),l=n(268),c=r.a.module("entity",[a.a]).config(["$stateProvider",function(e){"ngInject";e.state("batchEdit",{url:"/entity/batch",resolve:{entities:["EntityFactory","BatchFactory",function(e,t){return e.getById({id:t.getEntityIds(),children:1})}]},views:{"content@":{template:'<entity mode="batchEdit" entities="vm.entities"></entity>',controller:["entities",function(e){this.entities=e}],controllerAs:"vm"}},data:{permissions:"entityRead,entityUpdate"}}),e.state("newEntity",{url:"/entity/new/{schemaSlug:[a-zA-Z0-9_-]{2,50}}",resolve:{entities:["$stateParams",function(e){return[{schema:e.schemaSlug}]}]},views:{"content@":{template:'<entity mode="new" entities="vm.entities"></entity>',controller:["entities",function(e){this.entities=e}],controllerAs:"vm"}},data:{permissions:"entityCreate"}}),e.state("entity",{url:"/entity/{id:[a-zA-Z0-9_-]{2,50}}",resolve:{entities:["$stateParams","EntityFactory",function(e,t){return t.getById({id:e.id,children:1})}]},views:{content:{template:'<entity mode="normal" entities="vm.entities"></entity>',controller:["entities",function(e){this.entities=e}],controllerAs:"vm"}},data:{permissions:"entityRead"}}),e.state("singularEntity",{url:"/entity/singular/{id:[a-zA-Z0-9_-]{2,50}}",resolve:{entities:["$stateParams","EntityFactory",function(e,t){return t.getById({id:"entity."+e.id,children:1})}]},views:{content:{template:'<entity mode="singular" entities="vm.entities"></entity>',controller:["entities",function(e){this.entities=e}],controllerAs:"vm"}},data:{permissions:"entityRead"}}),e.state("batchUploadEntity",{url:"/entity/batch-upload/{schemaSlug:[a-zA-Z0-9_-]{2,50}}",resolve:{entities:["$stateParams",function(e){return[{schema:e.schemaSlug}]}]},views:{content:{template:'<entity mode="batchUpload" entities="vm.entities"></entity>',controller:["entities",function(e){this.entities=e}],controllerAs:"vm"}},onEnter:["$state","BatchUploadFactory",function(e,t){t.inProgress&&e.go("batchUpload",{schemaSlug:t.schema.slug,fieldSlug:t.field.slug})}],data:{permissions:"entityCreate"}})}]).factory("EntityFactory",l.a).directive("entity",s.a);t.a=c},function(e,t,n){"use strict";var i=n(482),r=n.n(i),o=n(271),a=n(386),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{mode:"@",schema:"=?",selected:"=?"},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(1),r=n.n(i),o=n(14),a=(n.n(o),function EntityGridController(e,t,n,i,o,a,s,l,c,u,d,h,m,p,f,g){function search(e){v.searchTerm=e||"",getResults(!0)}function sort(e){v.sortColumns=e,getResults(!0)}function getResults(e){if(v.searching)return!1;var t=o.defer();e&&(v.page=0,_={},v.selectNone());var n={q:[],sort:[],page:v.page,bookmark:_[v.page-1]||null,trashed:"trash"===v.mode};if("trash"!==v.mode){var i=y.map(function(e){return"schema:"+e});n.q.push("("+i.join(" OR ")+")")}return""!==v.searchTerm&&!function(){var e=[];m.get("field",!0).forEach(function(t){var n=m.getByKey("field")[t.slug].fieldType;/image|video/.test(n)?(e.push("fields."+t.slug+".fileName:"+v.searchTerm+"*"),e.push("fields."+t.slug+".original.fileName:"+v.searchTerm+"*")):e.push("fields."+t.slug+":"+v.searchTerm+"*")}),n.q.push("("+e.join(" OR ")+")")}(),v.filters.forEach(function(e){e.value&&n.q.push("fields."+e.fieldSlug+':"'+e.value.title.toLowerCase()+'"')}),n.q=n.q.join(" AND "),v.sortColumns.forEach(function(e){var t=e.sort.direction===g.ASC?"-":"",i="",r=e.name.replace(/fields\.|\.value/g,""),o=d.getColumnOptions(r);/^(modified|publishedAt)$/.test(r)?i="<number>":/^(slug|title|schema)$/.test(r)?i="<string>":o&&"thumbnail"!==o.style&&(r="fields."+r,i="<string>"),n.sort.push(t+"sort."+r+i)}),v.searching=!0,h.search(n).then(function(i){_[n.page]=i.bookmark,v.totalItems=i.total,e?v.items=i.results:v.items=v.items.concat(i.results),v.grid.data=v.items,t.resolve()}).finally(function(){v.searching=!1}),t.promise}function applyEdits(){var e=f.getRecentEdits(!0),t=f.getRecentTrashed(!0);v.items.forEach(function(n,i){e.forEach(function(e){n._id&&n._id===e._id&&r.a.extend(n,e)}),t.forEach(function(e){n._id&&n._id===e._id&&v.items.splice(i,1)})}),v.grid.data=v.items}_classCallCheck(this,EntityGridController);var v=this;v.items=[],v.selected=[],v.totalItems=0,v.searchTerm="",v.page=0,v.filters=[],v.sortColumns=[{name:"modified",sort:{direction:g.ASC}}],v.columnDefs=[],v.sortFields=[],v.searching=!1;var y=v.schema?[v.schema]:"trash"===v.mode?[]:i.schemaSlug?[i.schemaSlug]:[],b=!1,_={},w=m.getByKey("field"),x=m.getByKey("schema");if(v.schemas=y.map(function(e){return x[e]}),"trash"!==v.mode&&!v.schemas[0])throw Error("Schema not found");v.heading="trash"===v.mode?"Trash":a("pluralize")(v.schemas[0]?v.schemas[0].name:""),v.sortFields=[],v.schemas.forEach(function(e){e.sortFields&&e.sortFields.forEach(function(e){var t=w[e];v.sortFields.indexOf(t)===-1&&v.sortFields.push(t)})}),v.filterFields=a("filterFields")(v.sortFields),"trash"!==v.mode&&0!==v.sortFields.length||v.columnDefs.push({name:"title",displayName:"Title",allowCellFocus:!1},{name:"schema",displayName:"Schema",cellFilter:"schemaSlug2Name",allowCellFocus:!1}),"trash"!==v.mode&&v.sortFields.length>0&&v.sortFields.forEach(function(e){var t=d.getColumnOptions(e.slug);"thumbnail"===t.style&&(b=!0),v.columnDefs.push(t)}),v.columnDefs.push({name:"modified",displayName:"Modified",cellFilter:"parseDate",allowCellFocus:!1}),v.columnDefs.push({name:"publishedAt",displayName:"Published",cellFilter:"datePublished : row.entity",allowCellFocus:!1}),v.grid={data:v.items,rowHeight:b?100:50,headerRowHeight:45,enableSorting:!0,useExternalSorting:!0,enableColumnMenus:!1,columnDefs:v.columnDefs,infiniteScrollPercentage:10,enableRowHeaderSelection:!1,enableHorizontalScrollbar:g.scrollbars.NEVER,appScopeProvider:v,excessRows:20,saveScroll:!0,saveSelection:!0,onRegisterApi:function(e){v.gridApi=e,e.core.on.sortChanged(t,function(e,t){sort(t)});var n=0,i=void 0;e.selection.on.rowSelectionChanged(t,function(t,r){r&&(r.timeStamp-n<300&&t===i&&"modal"!==v.mode&&v.editSelected([t.entity]),n=r.timeStamp,i=t),v.selected=e.selection.getSelectedRows()}),e.selection.on.rowSelectionChangedBatch(t,function(){v.selected=e.selection.getSelectedRows()}),e.infiniteScroll.on.needLoadMoreData(t,function(){v.items.length<v.totalItems&&(v.page++,getResults().then(function(){e.infiniteScroll.dataLoaded()}))})}},v.search=function(e,t){void 0!==e&&"keypress"===e.type&&13!==e.keyCode||search(t)},v.selectAll=function(){v.gridApi.selection.selectAllRows(),v.selected=v.gridApi.selection.getSelectedRows()},v.selectNone=function(){v.gridApi.selection.clearSelectedRows(),v.selected=v.gridApi.selection.getSelectedRows()},v.newEntity=function(){n.go("newEntity",{schemaSlug:y[0]})},v.editSelected=function(e){var t=e.map(function(e){return e._id});t.length>1?(f.setEntityIds(t),n.go("batchEdit")):n.go("entity",{id:t[0]})},v.deleteSelected=function(e,t){t=t||!1;var n=u.confirm().textContent("Delete selected entities?").cancel("Cancel").ok("Delete");u.show(n).then(function(){p.deleteEntities(e,t).then(function(e){e.error||getResults(!0)})})},v.restoreSelected=function(e){var t=u.confirm().textContent("Restore selected entities?").cancel("Cancel").ok("Restore");u.show(t).then(function(){p.restoreEntities(e).then(function(e){e.error||getResults(!0)})})},v.emptyTrash=function(){var e=u.confirm().textContent("Empty the trash?").cancel("Cancel").ok("Confirm");u.show(e).then(function(){p.emptyTrash().then(function(e){e.error||getResults(!0)})})},v.addFilter=function(e){v.filters.push({name:e.name,value:null,fieldSlug:e.slug})},v.removeFilter=function(e){v.filters.splice(e,1),getResults(!0)},v.selectFilter=function(){getResults(!0)},v.filterOptions=function(e,t){return y.length?p.filterValues({searchTerm:t,schema:y.join(","),fieldSlug:e.fieldSlug}):s.error("No schemas specified")};var C=t.$on("$stateChangeStart",function(){C(),"modal"!==v.mode&&(h.states[i.schemaSlug||"trash"]={bookmarks:_,data:v.grid.data,totalItems:v.totalItems,searchTerm:v.searchTerm,page:v.page,sortColumns:v.sortColumns,filters:v.filters,state:v.gridApi.saveState.save()})}),S=h.states[i.schemaSlug||"trash"];"normal"===v.mode&&S?(_=S.bookmarks,v.grid.data=v.items=S.data,v.totalItems=S.totalItems,v.searchTerm=S.searchTerm,v.page=S.page,v.sortColumns=S.sortColumns,v.filters=S.filters,v.showSearch=""!==v.searchTerm,applyEdits(),l(function(){v.gridApi.saveState.restore(v,S.state)})):l(function(){getResults(!0),l(function(){r.a.element(c).triggerHandler("resize")})})});a.$inject=["$rootScope","$scope","$state","$stateParams","$q","$filter","$log","$timeout","$window","$mdDialog","HelperFactory","EntityGridFactory","AdminFactory","EntityFactory","BatchFactory","uiGridConstants"],t.a=a},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=function(e,t,n){"ngInject";var i={states:{},lastResult:{total:0,bookmark:null,results:[]}};return i.search=function(i){return t(function(t,o){var a={q:"*:*",sort:"<score>",limit:100,include_docs:!0};e({method:"GET",url:n+"/entities/search",params:r.a.extend(a,i)}).then(function(e){if(e.data.error)t({});else{var n={total:e.data.total_rows,bookmark:e.data.bookmark,results:e.data.rows.map(function(e){return e.doc})};t(n)}},o)})},i};o.$inject=["$http","$q","apiPrefix"],t.a=o},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(3),a=n.n(o),s=n(270),l=n(272),c=r.a.module("entityGrid",[a.a]).config(["$stateProvider",function(e){"ngInject";e.state("entityGrid",{url:"/entities/{schemaSlug:[a-zA-Z0-9_-]{2,50}}",views:{content:{template:'<entity-grid mode="normal"></entity-grid>'}},data:{permissions:"entityGrid"}}),e.state("trash",{url:"/trash",views:{content:{template:'<entity-grid mode="trash"></entity-grid>'}},data:{permissions:"entityGrid"}})}]).filter("filterFields",function(){return function(e){return(e||[]).filter(function(e){return/text|select|number|date|entity/.test(e.fieldType)})}}).filter("schemaSlug2Name",["AdminFactory",function(e){"ngInject";return function(t){return e.getByKey("schema")[t].name}}]).factory("EntityGridFactory",l.a).directive("entityGrid",s.a);t.a=c},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=function(){function Field(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Field),this.name="Field Name",this.settingsTemplate="",this.thumbnailField=!1,this.gridOptions={style:"string",cellFilter:"field2String",enableSorting:!0},this.modeDisabled={new:!1,batchEdit:!1,batchUpload:!1},Object.assign(this,e)}return i(Field,[{key:"toString",value:function(e){return e||""}},{key:"toDb",value:function(e,t){return e}},{key:"fromDb",value:function(e,t){return e}},{key:"thumbnail",value:function(e){return null}}]),Field}();t.a=r},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(276),a=n(387),s=(n.n(a),function(e){"ngInject";var t=function(t,n){var i=r.a.kebabCase(t.vm.fieldType);n.html("<field-"+i+'\n      field-model="vm.fieldModel"\n      field-options="vm.fieldOptions"\n      field-apply="vm.fieldApply"\n      field-disabled="vm.fieldDisabled"\n      ></field-'+i+">"),e(n.contents())(t)};return{restrict:"E",scope:{fieldType:"=",fieldOptions:"=",fieldModel:"=",fieldApply:"=?",fieldDisabled:"=?"},link:t,controller:o.a,controllerAs:"vm",bindToController:!0}});s.$inject=["$compile"],t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function FieldController(){_classCallCheck(this,FieldController)};t.a=i},function(e,t,n){"use strict";var i=n(1),r=(n.n(i),n(274)),o=function(e){"ngInject";var t={},n={registerField:function(e,n){t[e]=new r.a(n)},field:function(e){return t[e]},fields:function(){return t}};return e.$field=n,n};o.$inject=["$rootScope"],t.a=o},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(14),a=n.n(o),s=n(275),l=n(277),c=n(281),u=n(284),d=n(287),h=n(290),m=n(293),p=n(296),f=n(299),g=n(302),v=n(305),y=n(309),b=n(312),_=n(315),w=n(320),x=n(323),C=n(326),S=n(329),E=n(332),T=n(335),M=r.a.module("field",[c.a.name,u.a.name,d.a.name,h.a.name,m.a.name,p.a.name,f.a.name,g.a.name,v.a.name,y.a.name,b.a.name,_.a.name,w.a.name,x.a.name,C.a.name,S.a.name,E.a.name,T.a.name]).config(function(){"ngInject"}).filter("field2String",["$window","$filter","FieldFactory",function(e,t,n){"ngInject";return function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,r="";if(null===e||void 0===e||null===e.value||void 0===e.value)return r;if(r=n.field(e.fieldType).toString(e.value),"string"!=typeof r)throw Error("Cannot convert "+e.fieldType+" field to string");return r=t("simplifyText")(r),r=t("truncateWords")(r,i),r=a.a.decode(r)}}]).factory("FieldFactory",l.a).directive("field",s.a);t.a=M},function(e,t,n){"use strict";var i=n(483),r=n.n(i),o=n(280),a=n(388),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function FieldAttachmentController(e,t,n,i,r,o,a){_classCallCheck(this,FieldAttachmentController);var s=this,l="pdf,doc,docx,csv,xls,txt";s.flowOptions={target:a+"/upload",query:{options:JSON.stringify(s.fieldOptions)},singleFile:!0,events:{fileAdded:function(e,t){var n=l,i=n.indexOf(t.getExtension())>-1;return i||o.show(o.alert().title("Upload Error").textContent(t.name+" is not a valid file type.").ok("Close")),t.valid=i,i},fileSuccess:function(e,t,n){var i=JSON.parse(n);s.fieldModel=i},filesSubmitted:function(e,t){t.filter(function(e){return e.valid}).length&&e.upload()},uploadStart:function(){s.uploading=!0},complete:function(){s.uploading=!1},progress:function(e){s.progress=Math.round(100*e.progress())},error:function(e,t){o.show(o.alert().title("Upload Error").textContent(t).ok("Close"))}}},s.download=function(){t.open(a+"/file/download/s3?bucket="+s.fieldModel.metadata.s3.bucket+"&key="+s.fieldModel.metadata.s3.src+"&filename="+s.fieldModel.original.fileName)},s.downloadUrl=function(){var e=a+"/file/download/s3/"+s.fieldModel.original.fileName+"?bucket="+s.fieldModel.metadata.s3.bucket+"&key="+s.fieldModel.metadata.s3.src;o.show(o.alert().title("Download URL").textContent(r.protocol()+"://"+r.host()+([80,443].indexOf(r.port())===-1?":"+r.port():"")+e).ok("Close"))}};i.$inject=["$scope","$window","$http","$timeout","$location","$mdDialog","apiPrefix"],t.a=i},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(279),a=n(484),s=n.n(a),l=r.a.module("fieldAttachment",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("attachment",{name:"Attachment",settingsTemplate:s.a,modeDisabled:{batchEdit:!0,batchUpload:!0},toString:function(e){return e.original?e.original.fileName:""}})}]).directive("fieldAttachment",o.a);t.a=l},function(e,t,n){"use strict";var i=n(485),r=n.n(i),o=n(283),a=n(389),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function FieldAudioController(e,t,n,i,r,o){function checkZencoderJob(){n.get(o+"/zencode/job",{params:{id:a.fieldModel.metadata.zencoder.job.id}}).then(function(e){var t=e.data;return/pending|waiting|processing/.test(t.jobState)?void i(checkZencoderJob,1e4):void(a.fieldModel.metadata.zencoder=t)})}_classCallCheck(this,FieldAudioController);var a=this,s="mp3,aac,wav,flac,ogg,wma";a.flowOptions={target:o+"/upload",query:{options:JSON.stringify(a.fieldOptions)},singleFile:!0,events:{fileAdded:function(e,t){var n=s,i=n.indexOf(t.getExtension())>-1;return i||r.show(r.alert().title("Upload Error").textContent(t.name+" is not a valid file type.").ok("Close")),t.valid=i,i},fileSuccess:function(e,t,n){var i=JSON.parse(n);a.fieldModel=i,checkZencoderJob()},filesSubmitted:function(e,t){t.filter(function(e){return e.valid}).length&&e.upload()},uploadStart:function(){a.uploading=!0},complete:function(){a.uploading=!1},progress:function(e){a.progress=Math.round(100*e.progress())},error:function(e,t){r.show(r.alert().title("Upload Error").textContent(t).ok("Close"))}}},a.download=function(){t.open(o+"/file/download/s3?bucket="+a.fieldModel.metadata.s3.bucket+"&key="+a.fieldModel.metadata.s3.src+"&filename="+a.fieldModel.original.fileName)}};i.$inject=["$scope","$window","$http","$timeout","$mdDialog","apiPrefix"],t.a=i},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(282),a=n(486),s=n.n(a),l=r.a.module("fieldAudio",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("audio",{name:"Audio",settingsTemplate:s.a,modeDisabled:{batchEdit:!0,batchUpload:!0},toString:function(e){return e.original?e.original.fileName:""}})}]).directive("fieldAudio",o.a);t.a=l},function(e,t,n){"use strict";var i=n(487),r=n.n(i),o=n(286),a=n(390),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function FieldCheckboxController(){_classCallCheck(this,FieldCheckboxController)};t.a=i},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(285),a=r.a.module("fieldCheckbox",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("checkbox",{name:"Checkbox",gridOptions:{style:"boolean"},toString:function(e){return e?"true":"false"}})}]).directive("fieldCheckbox",o.a);t.a=a},function(e,t,n){"use strict";var i=n(488),r=n.n(i),o=n(289),a=n(391),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function FieldColorController(){_classCallCheck(this,FieldColorController)};t.a=i},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(539),a=(n.n(o),n(417)),s=(n.n(a),n(288)),l=n(489),c=n.n(l),u=r.a.module("fieldColor",["mdColorPicker"]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("color",{name:"Color",settingsTemplate:c.a,formats:[{name:"RGB",value:"rgb"},{name:"RGBA",value:"rgba"},{name:"HEX",value:"hex"}]})}]).directive("fieldColor",s.a);t.a=u},function(e,t,n){"use strict";var i=n(490),r=n.n(i),o=n(292),a=n(392),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(2),r=n.n(i),o=function FieldDateController(){
_classCallCheck(this,FieldDateController);var e=this;r.a.isDate(e.fieldModel)&&!r.a.isNaN(e.fieldModel.getTime())||(e.fieldModel=new Date),!e.fieldModel&&e.fieldOptions.settings.required&&(e.fieldModel=new Date)};t.a=o},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(291),a=n(491),s=n.n(a),l=r.a.module("fieldDate",[]).config(function(){"ngInject"}).run(["$filter","FieldFactory",function(e,t){"ngInject";t.registerField("date",{name:"Date",settingsTemplate:s.a,formats:[{name:"dd/MM/yyyy",value:"dd/MM/yyyy"},{name:"MM/dd/yyyy",value:"MM/dd/yyyy"}],toString:function(t){return e("date")(t,"short")},toDb:function(e,t){return JSON.stringify(e).replace(/"/g,"")},fromDb:function(e,t){return new Date(Date.parse(e))}})}]).directive("fieldDate",o.a);t.a=l},function(e,t,n){"use strict";var i=n(492),r=n.n(i),o=n(295),a=n(393),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function FieldEmbedlyController(e,t){_classCallCheck(this,FieldEmbedlyController);var n=this;n.embedlyRegex=/((http:\/\/(.*youtube\.com\/watch.*|.*\.youtube\.com\/v\/.*|youtu\.be\/.*|.*\.youtube\.com\/user\/.*|.*\.youtube\.com\/.*#.*\/.*|m\.youtube\.com\/watch.*|m\.youtube\.com\/index.*|.*\.youtube\.com\/profile.*|.*\.youtube\.com\/view_play_list.*|.*\.youtube\.com\/playlist.*|www\.youtube\.com\/embed\/.*|www\.vimeo\.com\/groups\/.*\/videos\/.*|www\.vimeo\.com\/.*|vimeo\.com\/groups\/.*\/videos\/.*|vimeo\.com\/.*|vimeo\.com\/m\/#\/.*|player\.vimeo\.com\/.*))|(https:\/\/(.*youtube\.com\/watch.*|.*\.youtube\.com\/v\/.*|www\.youtube\.com\/embed\/.*|www\.vimeo\.com\/.*|vimeo\.com\/.*|player\.vimeo\.com\/.*)))/i;var i=/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#&?]*).*/,r=/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/;n.submitUrl=function(){e(function(){t.oembed(n.fieldModel.url).then(function(e){e.url=e.url||n.fieldModel.url,/youtube/i.test(e.provider_name)&&(e.id=e.url.match(i)[1]),/vimeo/i.test(e.provider_name)&&(e.id=e.url.match(r)[3]),n.fieldModel.oembed=e,n.fieldModel.url=e.url})})}};i.$inject=["$timeout","HelperFactory"],t.a=i},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(294),a=n(493),s=n.n(a),l=r.a.module("fieldEmbedly",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("embedly",{name:"Embed.ly",settingsTemplate:s.a,thumbnailField:!0,gridOptions:{style:"thumbnail"},modeDisabled:{batchEdit:!0,batchUpload:!0},toString:function(e){return e&&e.url?e.url:""},thumbnail:function thumbnail(e){if(!e.oembed)return null;var thumbnail={thumbnailType:"oembed",thumbnailUrl:e.oembed.thumbnail_url,width:e.oembed.thumbnail_width,height:e.oembed.thumbnail_height,oembed:e.oembed};return thumbnail.oembed&&(thumbnail.oembed.ratio=e.oembed.width/e.oembed.height),thumbnail}})}]).directive("fieldEmbedly",o.a);t.a=l},function(e,t,n){"use strict";var i=n(494),r=n.n(i),o=n(298),a=n(394),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(14),r=n.n(i),o=function FieldEntityController(e,t,n,i,o){_classCallCheck(this,FieldEntityController);var a=this;!a.fieldModel&&a.fieldOptions.settings.multiple&&(a.fieldModel=[]);var s=i.getByKey("schema");a.schemas=a.fieldOptions.settings.schemas.map(function(e){return{name:s[e.slug].name,slug:e.slug}}),a.newEntity=function(e){o.newEntity(e).then(function(e){a.fieldOptions.settings.multiple?a.fieldModel.push(e):a.fieldModel=e})},a.search=function(e){return t(function(t,i){var s=a.fieldOptions.settings.schemas.map(function(e){return"schema:"+e.slug});if(!s.length)return n.error("No schemas specified"),t([]);var l=["!trashed:true","("+s.join(" OR ")+")"];""!==e&&l.push("title:"+e+"*"),o.search({q:l.join(" AND "),sort:"sort.title<string>",include_docs:!0}).then(function(e){var n=e.map(function(e){var t=e.doc;return t.id=t._id,t.title=r.a.decode(t.title),t});t(n)})})}};o.$inject=["$scope","$q","$log","AdminFactory","EntityFactory"],t.a=o},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(1),a=n.n(o),s=n(297),l=n(495),c=n.n(l),u=a.a.module("fieldEntity",[]).config(function(){"ngInject"}).run(["FieldFactory","EntityFactory","AdminFactory",function(e,t,n){"ngInject";e.registerField("entity",{name:"Entity",settingsTemplate:c.a,thumbnailField:!0,toString:function(e){return r.a.isArray(e)?e.slice(0,1).map(function(e){return e.title}).join(", "):r.a.isObject(e)?e.title||"":e||""},toDb:function(e,n){return e?(n.multiple||(e=r.a.isObject(e)?[e]:e),e=e.map(function(e){var i={id:e._id||e.id,type:"entity",schema:e.schema,title:e.title,slug:e.slug,published:e.published,thumbnail:e.thumbnail};return e.fields&&(i.thumbnail=t.getEntityThumbnail(e)),n.groupEnabled&&(i.groupBefore=e.groupBefore||!1,i.groupAfter=e.groupAfter||!1),i})):e},fromDb:function(e,t){return e=e||[],t.multiple?e:e.length?e[0]:null},thumbnail:function thumbnail(t){if(!t||!t[0])return null;if(t[0].thumbnail&&t[0].thumbnail.thumbnailUrl)return t[0].thumbnail;var i=n.getByKey("schema")[t[0].schema].thumbnailField,r=n.getByKey("field")[i].fieldType,thumbnail=e.field(r).thumbnail(t[0].thumbnail);return thumbnail}})}]).directive("fieldEntity",s.a);t.a=u},function(e,t,n){"use strict";var i=n(496),r=n.n(i),o=n(301),a=n(395),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(1),r=n.n(i),o=function FieldEntityGridController(e,t,n,i,o){_classCallCheck(this,FieldEntityGridController);var a=this;a.fieldModel||(a.fieldModel=[]);var s=n.getByKey("schema");a.schemas=a.fieldOptions.settings.schemas.map(function(e){return{name:s[e.slug].name,slug:e.slug}}),a.newEntity=function(e){t.newEntity(e).then(function(e){a.fieldModel.push(e)})},a.insertEntity=function(e){t.selectEntity(e).then(function(e){e.forEach(function(e){a.fieldModel.push(e)})})},a.entityEdit=function(e,n){t.editEntity(n).then(function(e){a.fieldModel.splice(a.fieldModel.indexOf(n),1,e)})},a.entityRemove=function(e,t){a.fieldModel.splice(a.fieldModel.indexOf(t),1)};var l=void 0;a.getGrid=function(){if(l)return l;var t=[],n=[],c=[];return a.fieldOptions.settings.schemas.forEach(function(e){s[e.slug].sortFields&&s[e.slug].sortFields.forEach(function(e){n.indexOf(e)===-1&&n.push(e)})}),0===n.length?t.push({name:"title",displayName:"Title"}):n.forEach(function(e){var n=i.getColumnOptions(e);t.push(n)}),c.push('<md-button class="md-icon-button" ng-click="grid.appScope.entityEdit($event, row.entity)"><md-icon md-icon-set="material-icons">create</md-icon></md-button>'),c.push('<md-button class="md-icon-button" ng-click="grid.appScope.entityRemove($event, row.entity)"><md-icon md-icon-set="material-icons">close</md-icon></md-button>'),t.push({name:" ",cellTemplate:'<div class="ui-grid-cell-contents ui-grid-cell--actions">'+c.join("")+"</div>",enableHiding:!1}),l={data:a.fieldModel,rowHeight:70,headerRowHeight:45,enableGridMenu:!0,enableSorting:!1,useExternalSorting:!1,enableColumnMenus:!1,columnDefs:t,enableRowHeaderSelection:!1,enableHorizontalScrollbar:o.scrollbars.NEVER,enableVerticalScrollbar:o.scrollbars.NEVER,appScopeProvider:a,excessRows:1/0,rowTemplate:'<div grid="grid" class="ui-grid-draggable-row" draggable="true"><div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell" ng-class="{ \'ui-grid-row-header-cell\': col.isRowHeader, \'custom\': true }" ui-grid-cell></div></div>',onRegisterApi:function(t){e(function(){var e=t.grid.element[0].querySelector(".ui-grid-render-container");r.a.element(e).off("wheel")}),a.gridApi=t}}}};o.$inject=["$timeout","EntityFactory","AdminFactory","HelperFactory","uiGridConstants"],t.a=o},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(1),a=n.n(o),s=n(300),l=n(497),c=n.n(l),u=a.a.module("fieldEntityGrid",[]).config(function(){"ngInject"}).run(["FieldFactory","EntityFactory","AdminFactory",function(e,t,n){"ngInject";e.registerField("entityGrid",{name:"Entity Grid",settingsTemplate:c.a,thumbnailField:!0,gridOptions:{style:"thumbnail"},toString:function(e){return r.a.isArray(e)?e.slice(0,1).map(function(e){return e.title}).join(", "):r.a.isObject(e)?e.title||"":e||""},toDb:function(e,n){return e?e=e.map(function(e){var i={id:e._id||e.id,type:"entity",schema:e.schema,title:e.title,slug:e.slug,published:e.published,thumbnail:e.thumbnail};return e.fields&&(i.thumbnail=t.getEntityThumbnail(e)),n.groupEnabled&&(i.groupBefore=e.groupBefore||!1,i.groupAfter=e.groupAfter||!1),i}):e},fromDb:function(e,t){return e||[]},thumbnail:function(t){return e.field("entity").thumbnail(t)}})}]).directive("fieldEntityGrid",s.a);t.a=u},function(e,t,n){"use strict";var i=n(498),r=n.n(i),o=n(304),a=n(396),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(2),r=n.n(i),o=function FieldEntityTileController(e,t,n,i,o){function getInsertPoint(){var e=-1;return a.fieldModel.forEach(function(t,n){e===-1&&t.$selected&&(e=n)}),e}_classCallCheck(this,FieldEntityTileController);var a=this;a.fieldModel||(a.fieldModel=[]);var s=n.getByKey("schema");a.schemas=a.fieldOptions.settings.schemas.map(function(e){return{name:s[e.slug].name,slug:e.slug}}),a.newEntity=function(e){i.newEntity(e).then(function(e){var t=getInsertPoint();t>-1?a.fieldModel.splice(t,0,e):a.fieldModel.push(e)})},a.insertEntity=function(e){i.selectEntity(e).then(function(e){var t=getInsertPoint();e=r.a.reverse(e),e.forEach(function(e){t>-1?a.fieldModel.splice(t,0,e):a.fieldModel.push(e)})})},a.entityEdit=function(e,t){e.stopPropagation(),i.editEntity(t).then(function(e){a.fieldModel.splice(a.fieldModel.indexOf(t),1,e)})},a.entityRemove=function(e,t){e.stopPropagation(),a.fieldModel.splice(a.fieldModel.indexOf(t),1)},a.getSortFields=function(e){return n.getByKey("schema")[e].sortFields},a.hasPreview=function(e){return!!a.fieldModel[e]&&n.getByKey("schema")[a.fieldModel[e].schema].thumbnailField},a.preview=function(e,t){e.stopPropagation();var n=[],r=a.fieldModel.indexOf(t);a.fieldModel.forEach(function(e){var t=i.getEntityThumbnail(e);return t?void n.push({type:"image",src:i.getEntityThumbnailUrl(e,"h:1000;q:80")}):void n.push({type:"none"})}),o.mediaPreview(n,r)};var l=function(e){var t=a.fieldModel.indexOf(e),n=0,i=0,r=void 0;for(r=t-1;r>-1&&a.fieldModel[r].groupAfter;r--)n++;for(r=t+1;r<a.fieldModel.length&&a.fieldModel[r].groupBefore;r++)i++;e.$groupSize=n+i+1},c=function(e){var t=a.fieldOptions.settings.groupSizeLimit||1/0,n=a.fieldModel.indexOf(e),i=void 0,r=void 0;n>0&&(i=a.fieldModel[n-1]),n<a.fieldModel.length-1&&(r=a.fieldModel[n+1]),i&&e.$groupSize+i.$groupSize>t&&!e.groupBefore?(e.$groupBeforeDisabled=!0,e.groupBefore=!1,i.$groupAfterDisabled=!0,i.groupAfter=!1):r&&e.$groupSize+r.$groupSize>t&&!e.groupAfter?(e.$groupAfterDisabled=!0,e.groupAfter=!1,r.$groupBeforeDisabled=!0,r.groupBefore=!1):(e.$groupBeforeDisabled=!1,e.$groupAfterDisabled=!1),i&&(e.groupBefore&&!i.groupAfter||!e.groupBefore&&i.groupAfter)&&(e.groupBefore=!1,i.groupAfter=!1)};a.toggleGroupBefore=function(e,t){e.stopPropagation(),t.groupBefore=!t.groupBefore,a.fieldModel[a.fieldModel.indexOf(t)-1].groupAfter=t.groupBefore},a.toggleGroupAfter=function(e,t){e.stopPropagation(),t.groupAfter=!t.groupAfter,a.fieldModel[a.fieldModel.indexOf(t)+1].groupBefore=t.groupAfter},t.$watch(function(){return a.fieldModel},function(e){a.fieldModel.forEach(l),a.fieldModel.forEach(c)},!0),t.$on("aceSortable:change",function(e,t){var n=[];t.collection.forEach(function(e,t){e.$selected&&n.push(t)}),n.length&&!function(){e.preventDefault();var i=!1;n[0]<t.to&&(i=!0,n.reverse()),n.forEach(function(e,n){o.move.apply(a.fieldModel,[e,i?t.to-n:t.to+n])})}()}),a.clickItem=function(e,t){if(!e.metaKey&&!e.ctrlKey&&!e.shiftKey){var n=t.$selected;return a.fieldModel.forEach(function(e,t){e.$selected=!1}),void(t.$selected=!n)}if(!e.shiftKey)return void(t.$selected=!t.$selected);var i=void 0,r=a.fieldModel.indexOf(t),o=[];if(a.fieldModel.forEach(function(e,t){e.$selected&&o.push(t)}),r<o[0])for(i=r;i<o[0];i++)a.fieldModel[i].$selected=!0;else if(r>o[o.length-1])for(i=o[0];i<=r;i++)a.fieldModel[i].$selected=!0},a.getIndex=function(e){return e.$parent.$index},a.getCollection=function(e){return a.fieldModel}};o.$inject=["$rootScope","$scope","AdminFactory","EntityFactory","HelperFactory"],t.a=o},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(1),a=n.n(o),s=n(303),l=n(499),c=n.n(l),u=a.a.module("fieldEntityTile",[]).config(["$mdThemingProvider",function(e){"ngInject";e.theme("selected").backgroundPalette("light-blue").dark(),e.theme("grouped").primaryPalette("teal").dark(),e.theme("ungrouped").primaryPalette("blue-grey").dark()}]).run(["FieldFactory","EntityFactory","AdminFactory",function(e,t,n){"ngInject";e.registerField("entityTile",{name:"Entity Tile",settingsTemplate:c.a,thumbnailField:!0,gridOptions:{style:"thumbnail"},toString:function(e){return r.a.isArray(e)?e.slice(0,1).map(function(e){return e.title}).join(", "):r.a.isObject(e)?e.title||"":e||""},toDb:function(e,n){return e?e=e.map(function(e){var i={id:e._id||e.id,type:"entity",schema:e.schema,title:e.title,slug:e.slug,published:e.published,thumbnail:e.thumbnail};return e.fields&&(i.thumbnail=t.getEntityThumbnail(e)),n.groupEnabled&&(i.groupBefore=e.groupBefore||!1,i.groupAfter=e.groupAfter||!1),i}):e},fromDb:function(e,t){return e||[]},thumbnail:function(t){return e.field("entity").thumbnail(t)}})}]).directive("fieldEntityTile",s.a);t.a=u},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(1),r=n.n(i),o=function CropController(e,t,n,i,o){_classCallCheck(this,CropController);var a=this;a.crops=o.crops?r.a.copy(o.crops):{},a.availableCrops=i,a.activeCrop=0;var s=function(e){e?a.coords={left:e[0],top:e[1],right:e[2],bottom:e[3],width:e[2]-e[0],height:e[3]-e[1]}:a.coords={}};t.$watch(function(){return a.activeCrop},function(e){a.cropSettings=a.availableCrops[a.activeCrop];var t=a.crops[a.cropSettings.slug];s(t)}),t.$watch(function(){return a.coords},function(e){e&&(!Object.keys(e).length||isNaN(e.top)||isNaN(e.left)||isNaN(e.right)||isNaN(e.bottom)||isNaN(e.width)||isNaN(e.height)?a.crops[a.cropSettings.slug]=null:a.crops[a.cropSettings.slug]=[e.left,e.top,e.right,e.bottom])}),a.cropSize=function(){var e=.5*n.innerWidth-100,t=n.innerHeight-250,i=void 0,r=void 0;return o.metadata.width/o.metadata.height>e/t?(i=e,r=i*(o.metadata.height/o.metadata.width)):(r=t,i=r*(o.metadata.width/o.metadata.height)),{width:i,height:r,"vertical-align":"top"}},a.getThumbnail=function(){return[e.assistUrl,"transform",e.slug,"w:600;h:600;q:80",o.fileName].join("/")}};o.$inject=["$rootScope","$scope","$window","availableCrops","image"],t.a=o},function(e,t,n){"use strict";var i=n(502),r=n.n(i),o=n(308),a=n(397),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(500),r=n.n(i),o=n(306),a=n(501),s=n.n(a),l=n(34),c=function FieldImageController(e,t,n,i,a,c,u,d,h,m){_classCallCheck(this,FieldImageController);var p=this,f="normal";n.is("batchUploadEntity")&&(f="batchUpload"),p.download=function(){var t=p.fieldModel.original.fileName.replace(/^(#|\?)/,"_");i.open([e.assistUrl,"download",e.slug,p.fieldModel.fileName,t].join("/"))},p.dzi=function(){m.showModal({template:s.a,controllerAs:"vm",inputs:{image:[e.assistUrl,e.slug,p.fieldModel.dzi.dir,p.fieldModel.dzi.fileName].join("/")}})},p.crop=function(){m.showModal({template:r.a,controller:o.a,controllerAs:"vm",inputs:{availableCrops:p.fieldOptions.settings.crops,image:p.fieldModel}}).then(function(e){e.result.then(function(e){p.fieldModel.crops=e})})},p.preview=function(){h.mediaPreview([{type:"image",src:[e.assistUrl,"transform",e.slug,"h:1000;q:80",p.fieldModel.fileName].join("/")}],0)},p.getThumbnail=function(t){return p.fieldModel?[e.assistUrl,"transform",e.slug,t,p.fieldModel.fileName].join("/"):null};var g=p.fieldOptions.settings||{},v={slug:e.slug};v.resize={maxWidth:0===g.maxWidth?1/0:g.maxWidth||3e3,maxHeight:0===g.maxHeight?1/0:g.maxHeight||2e3,quality:95},g.dzi&&(v.dzi={size:256,overlap:0});var y="jpg,jpeg,png,svg";p.flowOptions={target:[e.assistUrl,"upload"].join("/"),query:{options:JSON.stringify(v)},headers:{Authorization:"Basic "+e.assistCredentials},singleFile:"batchUpload"!==f,initFileFn:function(e){if("batchUpload"!==f){var t=e.file.name;if(!e._prepared){e.pause();var n=new l.a({maxWidth:v.resize.maxWidth,maxHeight:v.resize.maxHeight,quality:v.resize.quality});n.loadImage(e.file).then(function(n){function upload(){e._status="uploading",e.resume()}function cancel(){e._status="canceled",e.cancel()}return e._prepared=!0,e.file=n.blob,e.file.name=t,e.size=e.file.size,e.bootstrap(),n.profile?n.profile&&"RGB"!==n.profile.colorSpace?void a.show(a.confirm().multiple(!0).title("Upload Warning").textContent(t+" is in "+n.profile.colorSpace+" colour space, for best results please convert to sRGB").ok("Upload").cancel("Cancel")).then(upload,cancel):n.profile&&"RGB"===n.profile.colorSpace&&!/sRGB/i.test(n.profile.description)?void a.show(a.confirm().multiple(!0).title("Upload Warning").textContent(t+" has "+n.profile.description+" profile, for best results please convert to sRGB").ok("Upload").cancel("Cancel")).then(upload,cancel):void upload():void a.show(a.confirm().multiple(!0).title("Upload Warning").textContent(t+" has no colour profile, for best results please convert to sRGB").ok("Upload").cancel("Cancel")).then(upload,cancel)})}}},events:{fileAdded:function(e,t){var n=y,i=n.indexOf(t.getExtension())>-1;return i||a.show(a.alert().title("Upload Error").textContent(t.name+" is not a valid file type.").ok("Close")),t.valid=i,i},fileSuccess:function(e,t,n){var i=JSON.parse(n);p.fieldModel&&(p.fieldModel=null),d.createFile(i).then(function(e){p.fieldModel=e})},filesSubmitted:function(e,n){if("batchUpload"===f&&n.filter(function(e){return e.valid}).length){var i=n.map(function(e){return e.file});e.cancel(),t.$emit("fieldCtrl:batchUpload",p.fieldOptions,i)}},uploadStart:function(){p.uploading=!0},complete:function(){p.uploading=!1},progress:function(e){p.progress=Math.round(100*e.progress())},error:function(e,t,n){n.cancel(),a.show(a.alert().title("Upload Error").textContent(t).ok("Close"))}}}};c.$inject=["$rootScope","$scope","$state","$window","$mdDialog","AdminFactory","BatchUploadFactory","FileFactory","HelperFactory","ModalService"],t.a=c},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(197),a=n.n(o),s=n(307),l=n(503),c=n.n(l),u=r.a.module("fieldImage",[a.a]).config(function(){"ngInject"}).run(["$rootScope","FieldFactory",function(e,t){"ngInject";t.registerField("image",{name:"Image",settingsTemplate:c.a,thumbnailField:!0,gridOptions:{style:"thumbnail"},modeDisabled:{batchEdit:!0},toString:function(e){return e.original?e.original.fileName:""},thumbnail:function thumbnail(t){var thumbnail={thumbnailType:"image",thumbnailUrl:[e.assistUrl,e.slug,t.fileName].join("/"),mimeType:t.mimeType,location:t.location,fileName:t.fileName,width:t.metadata?t.metadata.width||0:t.width||0,height:t.metadata?t.metadata.height||0:t.height||0};return t.crops&&(thumbnail.crops=t.crops),t.dzi&&(thumbnail.dzi=t.dzi),thumbnail}})}]).directive("fieldImage",s.a);t.a=u},function(e,t,n){"use strict";var i=n(504),r=n.n(i),o=n(311),a=n(398),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function FieldKeyValueController(){_classCallCheck(this,FieldKeyValueController);var e=this;e.fieldModel||(e.fieldModel=[]),e.getIndex=function(e){return e.$parent.$index},e.getCollection=function(t){return e.fieldModel}};t.a=i},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(1),a=n.n(o),s=n(310),l=n(505),c=n.n(l),u=a.a.module("fieldKeyValue",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("keyValue",{name:"Key/Value",settingsTemplate:c.a,sources:[{name:"Default",value:"default"},{name:"Taxonomy",value:"taxonomy"}],toString:function(e){return r.a.isArray(e)?e.map(function(e){return e.key+": "+e.value}).join(", "):e||""},toDb:function(e,t){return e.map(function(e){return e.type="keyValue",e})}})}]).directive("fieldKeyValue",s.a);t.a=u},function(e,t,n){"use strict";var i=n(506),r=n.n(i),o=n(314),a=n(399),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function FieldNumberController(){_classCallCheck(this,FieldNumberController)};t.a=i},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(313),a=n(507),s=n.n(a),l=r.a.module("fieldNumber",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("number",{name:"Number",settingsTemplate:s.a,formats:[{name:"Default",value:"default"},{name:"Currency",value:"currency"}],toString:function(e){return e.toString()}})}]).directive("fieldNumber",o.a);t.a=l},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(25),r=n.n(i),o=r.a.Extension.extend({name:"bookmark",init:function(){this.options.name&&(this.name=this.options.name),this.button=this.document.createElement("button"),this.button.classList.add("medium-editor-action"),this.button.innerHTML=this.options.buttonHtml,this.button.title=this.options.buttonTitle,this.button.setAttribute("aria-label",this.options.buttonTitle),this.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},handleClick:function(e){var t=this,n=r.a.selection.getSelectionHtml(document),i=window.getSelection(),o=i.getRangeAt(0);this.base.trigger("blur",{},this.base.elements[0]),this.options.bookmarkHtml(n).then(function(e){t.insertHtml(e,i,o),t.base.checkContentChanged()})},insertHtml:function(e,t,n){n.deleteContents();var i=document.createElement("div");i.innerHTML=e;for(var r=document.createDocumentFragment(),o=void 0,a=void 0;o=i.firstChild;)a=r.appendChild(o);n.insertNode(r),a&&(n=n.cloneRange(),n.setStartAfter(a),n.collapse(!0),t.removeAllRanges(),t.addRange(n))}}),a=function(e){function MediumEditorExtension(e){_classCallCheck(this,MediumEditorExtension);var t=_possibleConstructorReturn(this,(MediumEditorExtension.__proto__||Object.getPrototypeOf(MediumEditorExtension)).call(this));return t.options=e,t}return _inherits(MediumEditorExtension,e),MediumEditorExtension}(o);t.a=a},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(25),r=n.n(i),o=r.a.Extension.extend({name:"anchor-preview",options:{hideDelay:500,previewValueSelector:".medium-editor-toolbar-anchor-preview-inner",showWhenToolbarIsVisible:!1,showOnEmptyLinks:!1,showPreviewCallback:function(e,t){},getPreviewTemplate:function(){return'\n        <div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">\n          <div class="medium-editor-toolbar-anchor-preview-inner"></div>\n        </div>\n      '}},init:function(){this.anchorPreview=this.createPreview(),this.getEditorOption("elementsContainer").appendChild(this.anchorPreview),this.attachToEditables()},getInteractionElements:function(){return this.getPreviewElement()},getPreviewElement:function(){return this.anchorPreview},createPreview:function(){var e=this.document.createElement("div");return e.id="medium-editor-anchor-preview-"+this.getEditorId(),e.className="medium-editor-anchor-preview",e.innerHTML=this.options.getPreviewTemplate(),this.on(e,"click",this.handleClick.bind(this)),e},destroy:function(){this.anchorPreview&&(this.anchorPreview.parentNode&&this.anchorPreview.parentNode.removeChild(this.anchorPreview),delete this.anchorPreview)},hidePreview:function(){this.anchorPreview.classList.remove("medium-editor-anchor-preview-active"),this.activeAnchor=null},showPreview:function(e){if(this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||e.getAttribute("data-disable-preview"))return!0;if(this.options.previewValueSelector){var t=this.anchorPreview.querySelector(this.options.previewValueSelector);t.innerHTML="";var n=this.document.createElement("a");n.textContent=e.attributes.href.value,n.href=e.attributes.href.value,t.appendChild(n)}return this.options.showPreviewCallback(e,this.anchorPreview),this.anchorPreview.classList.add("medium-toolbar-arrow-over"),this.anchorPreview.classList.remove("medium-toolbar-arrow-under"),this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this.activeAnchor=e,this.positionPreview(),this.attachPreviewHandlers(),this},positionPreview:function(e){e=e||this.activeAnchor;var t=this.window.innerWidth,n=this.anchorPreview.offsetHeight,i=e.getBoundingClientRect(),r=this.diffLeft,o=this.diffTop,a=this.getEditorOption("elementsContainer"),s=["absolute","fixed"].indexOf(window.getComputedStyle(a).getPropertyValue("position"))>-1,l={},c=void 0,u=void 0,d=this.anchorPreview.offsetWidth/2,h=this.base.getExtensionByName("toolbar");h&&(r=h.diffLeft,o=h.diffTop);var m=r-d;s?(c=a.getBoundingClientRect(),["top","left"].forEach(function(e){l[e]=i[e]-c[e]}),l.width=i.width,l.height=i.height,i=l,t=c.width,u=a.scrollTop):u=this.window.pageYOffset;var p=i.left+i.width/2;u+=n+i.top+i.height-o-this.anchorPreview.offsetHeight,this.anchorPreview.style.top=Math.round(u)+"px",this.anchorPreview.style.right="initial",p<d?(this.anchorPreview.style.left=m+d+"px",this.anchorPreview.style.right="initial"):t-p<d?(this.anchorPreview.style.left="auto",this.anchorPreview.style.right=0):(this.anchorPreview.style.left=m+p+"px",this.anchorPreview.style.right="initial")},attachToEditables:function(){this.subscribe("editableMouseover",this.handleEditableMouseover.bind(this)),this.subscribe("positionedToolbar",this.handlePositionedToolbar.bind(this))},handlePositionedToolbar:function(){this.options.showWhenToolbarIsVisible||this.hidePreview()},handleClick:function(e){var t=this.base.getExtensionByName("anchor"),n=this.activeAnchor;t&&n&&(e.preventDefault(),this.base.selectElement(this.activeAnchor),this.base.delay(function(){if(n){var e={value:n.attributes.href.value,target:n.getAttribute("target"),buttonClass:n.getAttribute("class")};t.showForm(e),n=null}})),this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null,this.activeAnchor&&this.off(this.activeAnchor,"mouseout",this.instanceHandleAnchorMouseout),this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(e){var t=this,n=r.a.util.getClosestTag(e.target,"a");if(n!==!1&&(this.options.showOnEmptyLinks||/href=["']\S+["']/.test(n.outerHTML)&&!/href=["']#\S+["']/.test(n.outerHTML))){var i=this.base.getExtensionByName("toolbar");!this.options.showWhenToolbarIsVisible&&i&&i.isDisplayed&&i.isDisplayed()||(this.activeAnchor&&this.activeAnchor!==n&&this.detachPreviewHandlers(),this.anchorToPreview=n,this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this),this.on(this.anchorToPreview,"mouseout",this.instanceHandleAnchorMouseout),this.base.delay(function(){t.anchorToPreview&&t.showPreview(t.anchorToPreview)}))}},handlePreviewMouseover:function(){this.lastOver=(new Date).getTime(),this.hovering=!0},handlePreviewMouseout:function(e){e.relatedTarget&&/anchor-preview/.test(e.relatedTarget.className)||(this.hovering=!1)},updatePreview:function(){if(!this.hovering){var e=(new Date).getTime()-this.lastOver;e>this.options.hideDelay&&this.detachPreviewHandlers()}},detachPreviewHandlers:function(){clearInterval(this.intervalTimer),this.instanceHandlePreviewMouseover&&(this.off(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.activeAnchor&&(this.off(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout))),this.hidePreview(),this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=(new Date).getTime(),this.hovering=!0,this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this),this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this),this.intervalTimer=setInterval(this.updatePreview.bind(this),200),this.on(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.on(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout)}}),a=function(e){function MediumEditorExtension(e){_classCallCheck(this,MediumEditorExtension);var t=_possibleConstructorReturn(this,(MediumEditorExtension.__proto__||Object.getPrototypeOf(MediumEditorExtension)).call(this));return Object.assign(t.options,e),t}return _inherits(MediumEditorExtension,e),MediumEditorExtension}(o);t.a=a},function(e,t,n){"use strict";var i=n(508),r=n.n(i),o=n(319),a=n(400),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(1),r=n.n(i),o=n(316),a=n(317),s=function FieldRichTextController(e,t,n,i,s,l,c){
function appendBookmarkPreviewEntity(e,t){t.thumbnail&&e.append('\n          <img src="'+c.getThumbnailUrl(t.thumbnail,"h:200;q:60")+'">\n        '),e.append('\n        <div class="md-body-1">'+t.title+"</div>\n      ")}_classCallCheck(this,FieldRichTextController);var u=this,d={name:"insertEntity",buttonTitle:"Insert Entity",buttonHtml:'<i class="mdi mdi-bookmark-outline"></i>',bookmarkHtml:function(e){return n(function(t,n){l.selectEntity(u.fieldOptions.settings.schemas[0].slug).then(function(n){t('<a href="urn:entity:'+n[0]._id+'">'+e+"</a>")},n)})}},h={name:"createEntity",buttonTitle:"Create Entity",buttonHtml:'<i class="mdi mdi-bookmark-plus-outline"></i>',bookmarkHtml:function(e){return n(function(t,n){l.newEntity(u.fieldOptions.settings.schemas[0].slug).then(function(n){t('<a href="urn:entity:'+n._id+'">'+e+"</a>")},n)})}},m=[{name:"bold",contentDefault:'<i class="mdi mdi-format-bold"></i>'},{name:"italic",contentDefault:'<i class="mdi mdi-format-italic"></i>'},{name:"underline",contentDefault:'<i class="mdi mdi-format-underline"></i>'},{name:"anchor",contentDefault:'<i class="mdi mdi-link-variant"></i>'},{name:"h2",contentDefault:'<i class="mdi mdi-format-header-1"></i>'},{name:"h3",contentDefault:'<i class="mdi mdi-format-header-2"></i>'},{name:"h4",contentDefault:'<i class="mdi mdi-format-header-3"></i>'},{name:"h5",contentDefault:'<i class="mdi mdi-format-header-4"></i>'},{name:"superscript",contentDefault:'<i class="mdi mdi-format-superscript"></i>'},{name:"subscript",contentDefault:'<i class="mdi mdi-format-subscript"></i>'},{name:"quote",contentDefault:'<i class="mdi mdi-format-quote"></i>'},{name:"unorderedlist",contentDefault:'<i class="mdi mdi-format-list-bulleted"></i>'},{name:"orderedlist",contentDefault:'<i class="mdi mdi-format-list-numbers"></i>'},{name:"removeFormat",contentDefault:'<i class="mdi mdi-format-clear"></i>'}];u.fieldOptions.settings&&u.fieldOptions.settings.schemas&&u.fieldOptions.settings.schemas.length&&(m.push("insertEntity"),m.push("createEntity"));var p={};u.options={autoLink:!0,imageDragging:!1,anchorPreview:!1,extensions:{imageDragging:{},insertEntity:new o.a(d),createEntity:new o.a(h),bookmarkPreview:new a.a({showPreviewCallback:function(e,t){var n=r.a.element(t.querySelector(".medium-editor-toolbar-anchor-preview-inner"));if(/href=["']urn:entity:(\S+)["']/.test(e.outerHTML)){n.empty();var i=/href=["']urn:entity:(\S+)["']/.exec(e.outerHTML)[1];return p[i]?void appendBookmarkPreviewEntity(n,p[i]):void l.getById({id:i}).then(function(e){p[i]=e[0],appendBookmarkPreviewEntity(n,p[i])})}}})},toolbar:{buttons:m},paste:{forcePlainText:!0,cleanPastedHTML:!0,cleanAttrs:["class","style"],cleanTags:["meta","div","span"]}};var f=t.find("md-input-container");e.$watch(function(){return u.showHtml},function(){u.fieldModel&&(u.fieldModel.html=i("cleanHTML")(u.fieldModel.html))}),e.$on("aceRichText:init",function(e,t){t.subscribe("editablePaste",function(){s(function(){u.fieldModel.html=i("cleanHTML")(u.fieldModel.html,!0)})}),t.subscribe("focus",function(){f.addClass("md-input-focused")}),t.subscribe("blur",function(){f.removeClass("md-input-focused")})})};s.$inject=["$scope","$element","$q","$filter","$timeout","EntityFactory","HelperFactory"],t.a=s},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(318),a=n(509),s=n.n(a),l=r.a.module("fieldRichText",[]).config(function(){"ngInject"}).run(["$filter","FieldFactory",function(e,t){"ngInject";t.registerField("richText",{name:"Rich Text",settingsTemplate:s.a,toString:function(t){return e("cleanHTML")(t.html)},toDb:function(e,t){var n=[],i="href=[\"']urn:entity:(\\S+)[\"']",r=new RegExp(i,"gim"),o=e.html.match(r);return o&&(n=o.map(function(e){r=new RegExp(i,"gim");var t=r.exec(e);return{id:t[1]}})),e.entities=n,e}})}]).directive("fieldRichText",o.a);t.a=l},function(e,t,n){"use strict";var i=n(510),r=n.n(i),o=n(322),a=n(401),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(1),r=n.n(i),o=function FieldSelectController(e,t){_classCallCheck(this,FieldSelectController);var n=this;n.fieldModel||(n.fieldModel=[]),n.search=function(i){return e(function(e,i){var r=(n.fieldOptions.settings.options||[]).map(function(e){return{slug:t.slugify(e),title:e,type:"option"}});e(r)})},n.transformChip=function(e){return r.a.isObject(e)?e:{title:e,type:"new"}}};o.$inject=["$q","Slug"],t.a=o},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(1),a=n.n(o),s=n(321),l=n(511),c=n.n(l),u=a.a.module("fieldSelect",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("select",{name:"Select",settingsTemplate:c.a,toString:function(e){return e?r.a.isArray(e)?e.map(function(e){return e.title}).join(", "):r.a.isObject(e)?e.title||"":e||"":""},toDb:function(e,t){return e&&!r.a.isArray(e)?[e]:e},fromDb:function(e,t){return!t.multiple&&e&&e[0]?e[0]:e}})}]).directive("fieldSelect",s.a);t.a=u},function(e,t,n){"use strict";var i=n(512),r=n.n(i),o=n(325),a=n(402),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(2),r=n.n(i),o=n(1),a=n.n(o),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function FieldTaxonomyController(e,t,n,i){_classCallCheck(this,FieldTaxonomyController);var o=this;o.fieldModel||(o.fieldModel={}),o.fieldModel.type="taxonomy",o.fieldModel.taxonomy=o.fieldOptions.settings.taxonomy,o.fieldModel.terms||(o.fieldModel.terms=[]);var l=[],c=t.getByKey("taxonomy"),u=c[o.fieldOptions.settings.taxonomy.slug],d=function buildTaxonomy(e,t,n){if(e.terms&&e.terms.length){var i=function(){var i=t.slice(0);return i.push({id:e.id,title:e.title,slug:e.slug}),e.terms.forEach(function(e){n.push(buildTaxonomy(e,i,n))}),{v:{id:e.id,title:e.title,slug:e.slug,parents:t,hasChildren:!0}}}();if("object"===("undefined"==typeof i?"undefined":s(i)))return i.v}return{id:e.id,title:e.title,slug:e.slug,parents:t}};u&&((u.terms||[]).forEach(function(e){l.push(d(e,[],l))}),l=l.filter(function(e){return!e.hasChildren})),o.clear=function(){o.fieldModel.terms=[]},o.search=function(t){return e(function(e,n){var i=r.a.isArray(o.fieldModel.terms)?o.fieldModel.terms.map(function(e){return e.id}):[],a=l.filter(function(e){if(i.indexOf(e.id)>-1)return!1;var n=e.parents.map(function(e){return e.title});n.unshift(e.title);var r=n.join(" "),o=new RegExp(t,"gi"),a=o.test(r);return a});e(a)})},o.getParents=function(e){if(!e.parents)return"";var t=e.parents.map(function(e){return e.title});return t.join(" / ")},o.transformChip=function(e){if(a.a.isObject(e))return e;var t=n.newTerm();return t.title=e,t.slug=i.slugify(e),t.parents=[],n.addTerm(o.fieldOptions.settings.taxonomy.slug,t),t}};l.$inject=["$q","AdminFactory","TaxonomyFactory","Slug"],t.a=l},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(1),a=n.n(o),s=n(324),l=n(513),c=n.n(l),u=a.a.module("fieldTaxonomy",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("taxonomy",{name:"Taxonomy",settingsTemplate:c.a,toString:function(e){return e.terms?r.a.isArray(e.terms)?e.terms.map(function(e){return e.title}).join(", "):r.a.isObject(e.terms)?e.terms.title:e||"":""},toDb:function(e,t){var n=e.terms||[];return r.a.isArray(n)||(n=[n]),{taxonomy:t.taxonomy,type:"taxonomy",terms:n}},fromDb:function(e,t){return!t.multiple&&e&&e.terms&&e.terms[0]&&(e.terms=e.terms[0]),e}})}]).directive("fieldTaxonomy",s.a);t.a=u},function(e,t,n){"use strict";var i=n(514),r=n.n(i),o=n(328),a=n(403),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function FieldTextController(){_classCallCheck(this,FieldTextController)};t.a=i},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(327),a=n(515),s=n.n(a),l=r.a.module("fieldText",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("text",{name:"Text",settingsTemplate:s.a,formats:[{name:"Default",value:"default"},{name:"URL",value:"url"},{name:"Email",value:"email"}]})}]).directive("fieldText",o.a);t.a=l},function(e,t,n){"use strict";var i=n(516),r=n.n(i),o=n(331),a=n(404),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?"},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function FieldVideoController(e,t,n,i,r,o){function checkZencoderJob(){n.get(o+"/zencode/job",{params:{id:a.fieldModel.metadata.zencoder.job.id}}).then(function(e){var t=e.data;return/pending|waiting|processing/.test(t.jobState)?void i(checkZencoderJob,1e4):void(a.fieldModel.metadata.zencoder=t)})}_classCallCheck(this,FieldVideoController);var a=this,s="gif,mp4,avi,mov,webm,mkv,flv,ogg,ogv,qt,wmv,mpg,m4v";a.flowOptions={target:o+"/upload",query:{options:JSON.stringify(a.fieldOptions)},singleFile:!0,events:{fileAdded:function(e,t){var n=s,i=n.indexOf(t.getExtension())>-1;return i||r.show(r.alert().title("Upload Error").textContent(t.name+" is not a valid file type.").ok("Close")),t.valid=i,i},fileSuccess:function(e,t,n){var i=JSON.parse(n);a.fieldModel=i,checkZencoderJob()},filesSubmitted:function(e,t){t.filter(function(e){return e.valid}).length&&e.upload()},uploadStart:function(){a.uploading=!0},complete:function(){a.uploading=!1},progress:function(e){a.progress=Math.round(100*e.progress())},error:function(e,t){r.show(r.alert().title("Upload Error").textContent(t).ok("Close"))}}},a.download=function(){t.open(o+"/file/download/s3?bucket="+a.fieldModel.metadata.s3.bucket+"&key="+a.fieldModel.metadata.s3.src+"&filename="+a.fieldModel.original.fileName)}};i.$inject=["$scope","$window","$http","$timeout","$mdDialog","apiPrefix"],t.a=i},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(330),a=n(517),s=n.n(a),l=r.a.module("fieldVideo",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("video",{name:"Video",settingsTemplate:s.a,thumbnailField:!0,gridOptions:{style:"thumbnail"},modeDisabled:{batchEdit:!0,batchUpload:!0},toString:function(e){return e.original?e.original.fileName:""},thumbnail:function(e){var t=void 0,n=void 0,i=void 0;try{t=e.metadata.zencoder.thumbnail.url,n=e.metadata.zencoder.thumbnail.width,i=e.metadata.zencoder.thumbnail.height}catch(e){}return{thumbnailType:"video",thumbnailUrl:t,width:n,height:i}}})}]).directive("fieldVideo",o.a);t.a=l},function(e,t,n){"use strict";var i=n(518),r=n.n(i),o=n(334),a=n(405),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{fieldOptions:"=",fieldModel:"=",fieldApply:"=?",fieldDisabled:"=?"},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function FieldVimeoController(e,t,n,i,r){_classCallCheck(this,FieldVimeoController);var o=this,a=void 0;try{a=r.settings().vimeo.access_token}catch(e){}if(!a)return n.error("Required access_token for '"+o.fieldOptions.name+"' field is missing"),void(o.fieldDisabled=!0);o.embedlyRegex=/((http:\/\/(www\.vimeo\.com\/groups\/.*\/videos\/.*|www\.vimeo\.com\/.*|vimeo\.com\/groups\/.*\/videos\/.*|vimeo\.com\/.*|vimeo\.com\/m\/#\/.*|player\.vimeo\.com\/.*))|(https:\/\/(www\.vimeo\.com\/.*|vimeo\.com\/.*|player\.vimeo\.com\/.*)))/i;var s=/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/;o.submitUrl=function(){e(function(){if(o.fieldModel&&o.fieldModel.url){var e=o.fieldModel.url.match(s)[3];t.get("https://api.vimeo.com/me/videos/"+e,{params:{access_token:a},headers:{Accept:"application/vnd.vimeo.*+json;version=3.2"}}).then(function(t){var n=t.data;if(!n.pictures)return void i.show(i.alert().title("Error").textContent("Thumbnail not found").ok("Close"));var r=n.pictures.sizes[n.pictures.sizes.length-1],a=new URL(r.link),s=n.files.map(function(e){return{width:e.width?e.width:null,height:e.height?e.height:null,fileSize:e.size,mimeType:e.type,url:e.link_secure}}).sort(function(e,t){return e.width?e.width*e.height>t.width*t.height?-1:e.width*e.height<t.width*t.height?1:0:1});o.fieldModel.video={provider:"Vimeo",id:e,title:n.name,description:n.description,tags:n.tags,user:{id:n.user.uri.replace("/users/",""),name:n.user.name},duration:n.duration,width:n.width,height:n.height,thumbnail:{url:a.protocol+"//"+a.host+a.pathname,width:r.width,height:r.height},files:s}},function(e){i.show(i.alert().title("Error").textContent(e.data.error||"Please try again").ok("Close"))})}})}};i.$inject=["$timeout","$http","$log","$mdDialog","SettingsFactory"],t.a=i},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(333),a=n(519),s=n.n(a),l=r.a.module("fieldVimeo",[]).config(function(){"ngInject"}).run(["FieldFactory",function(e){"ngInject";e.registerField("vimeo",{name:"Vimeo",settingsTemplate:s.a,thumbnailField:!0,gridOptions:{style:"thumbnail"},toString:function(e){return e&&e.url?e.url:""},thumbnail:function(e){return e.video?{thumbnailType:"video",thumbnailUrl:e.video.thumbnail.url,width:e.video.thumbnail.width,height:e.video.thumbnail.height}:null}})}]).directive("fieldVimeo",o.a);t.a=l},function(e,t,n){"use strict";var i=n(520),r=n.n(i),o=n(337),a=n(406),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(1),r=(n.n(i),function FileController(e,t,n,i,r,o,a,s,l,c,u,d){function sort(e){h.sortColumns=e,getResults(!0)}function getResults(e){if(h.searching)return!1;var t=r.defer();e&&(h.page=0,m={}),h.selectNone();var n={q:[],sort:[],page:h.page,bookmark:m[h.page-1]||null,trashed:"trash"===h.mode};return"all"!==h.status&&n.q.push("trashed:"+("trashed"===h.status?"true":"false")),n.q=n.q.join(" AND "),h.sortColumns.forEach(function(e){var t=e.sort.direction===u.ASC?"-":"",i="",r=e.name;/^(uploaded|fileSize)$/.test(r)?i="<number>":/^(originalFileName|mimeType|uploadedBy)$/.test(r)&&(i="<string>"),n.sort.push(t+"sort."+r+i)}),h.searching=!0,c.search(n).then(function(i){m[n.page]=i.bookmark,h.totalItems=i.total,e?h.items=i.results:h.items=h.items.concat(i.results),h.grid.data=h.items,t.resolve()}).finally(function(){h.searching=!1}),t.promise}_classCallCheck(this,FileController);var h=this;h.status="active",h.items=[],h.selected=[],h.totalItems=0,h.searchTerm="",h.page=0,h.filters=[],h.sortColumns=[{name:"uploaded",sort:{direction:u.ASC}}],h.columnDefs=[],h.sortFields=[],h.searching=!1;var m={};h.columnDefs.push({name:"original.fileName",displayName:"Name"}),h.columnDefs.push({name:"fileSize",displayName:"Size",cellFilter:"fileSize"}),h.columnDefs.push({name:"mediaType",displayName:"Type"}),h.columnDefs.push({name:"uploadedBy",displayName:"Uploaded By"}),h.columnDefs.push({name:"uploaded",displayName:"Uploaded",cellFilter:"date: 'HH:mm dd/MM/yyyy'"}),h.grid={data:h.items,rowHeight:50,headerRowHeight:45,enableSorting:!0,useExternalSorting:!0,enableColumnMenus:!1,columnDefs:h.columnDefs,infiniteScrollPercentage:10,enableRowHeaderSelection:!1,enableHorizontalScrollbar:u.scrollbars.NEVER,appScopeProvider:h,onRegisterApi:function(e){h.gridApi=e,e.core.on.sortChanged(t,function(e,t){sort(t)});var n=0,i=void 0;e.selection.on.rowSelectionChanged(t,function(t,r){r.timeStamp-n<300&&t===i&&h.downloadSelected(t.entity),n=r.timeStamp,i=t,h.selected=e.selection.getSelectedRows()}),e.selection.on.rowSelectionChangedBatch(t,function(t,n){h.selected=e.selection.getSelectedRows()}),e.infiniteScroll.on.needLoadMoreData(t,function(){h.items.length<h.totalItems&&(h.page++,getResults().then(function(){e.infiniteScroll.dataLoaded()}))})}},h.viewSelected=function(e){n.go("entity",{id:e.entity.id})},h.downloadSelected=function(t){"s3"===t.location&&i.open(d+"/file/download/s3?bucket="+t.metadata.s3.bucket+"&key="+t.metadata.s3.src+"&filename="+t.original.fileName),"assist"===t.location&&i.open(e.assistUrl+"/download/"+e.slug+"/"+t.fileName+"/"+t.original.fileName)},h.isTrashed=function(e){return 0===e.filter(function(e){return"false"===e.trashed}).length},h.deleteSelected=function(e){var t=s.confirm().textContent("Delete selected file(s)?").cancel("Cancel").ok("Delete");s.show(t).then(function(){c.deleteFiles(e).then(function(e){e.error||getResults(!0)})})},h.emptyTrash=function(){var e=s.confirm().textContent("Empty trash?").cancel("Cancel").ok("Confirm");s.show(e).then(function(){c.emptyTrash().then(function(e){e.error||getResults(!0)})})},h.changeStatus=function(){getResults(!0)},h.selectAll=function(){h.gridApi.selection.selectAllRows()},h.selectNone=function(){h.gridApi.selection.clearSelectedRows()},a(function(){getResults(!0)})});r.$inject=["$rootScope","$scope","$state","$window","$q","$log","$timeout","$mdDialog","HelperFactory","FileFactory","uiGridConstants","apiPrefix"],t.a=r},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=function(e,t,n,i,o){"ngInject";var a={},s=[];a.registerObserverCallback=function(e){s.push(e)};var l=function(){s.forEach(function(e){e()})};return a.search=function(n){return t(function(t,i){var r={q:n.q||"*:*",sort:n.sort||"<score>",limit:n.limit||200,include_docs:!0};n.bookmark&&(r.bookmark=n.bookmark),e({method:"GET",url:o+"/file/search",params:r}).then(function(e){if(e.data.error)t({});else{var n={total:e.data.total_rows,bookmark:e.data.bookmark,results:e.data.rows.map(function(e){return e.doc})};n.results=n.results.map(function(e){return e.fileSize=e.fileSize||e.original.fileSize,e}),t(n)}},i)})},a.createFile=function(n){return t(function(t,a){n=r.a.copy(n),n.type="file",n.uploadedBy=i.getCurrentUser()._id,n.uploaded=JSON.stringify(new Date).replace(/"/g,""),e({method:"POST",url:o+"/file",data:{file:n}}).then(function(e){n.id=e.data.id,t(n)},a).finally(l)})},a.deleteFiles=function(n){return t(function(t,i){n=r.a.isArray(n)?n:[n],n=n.map(function(e){return e._id}),e({method:"DELETE",url:o+"/file",data:{files:n}}).then(function(e){t(e.data)},i).finally(l)})},a.emptyTrash=function(){return t(function(t,n){e({method:"DELETE",url:o+"/file/trashed"}).then(function(e){t(e.data)},n).finally(l)})},a};o.$inject=["$http","$q","$log","AdminFactory","apiPrefix"],t.a=o},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(3),a=n.n(o),s=n(336),l=n(338),c=r.a.module("file",[a.a]).config(["$stateProvider",function(e){"ngInject";e.state("file",{url:"/file",views:{content:{template:"<file></file>"}},data:{permissions:"fileRead"}})}]).factory("FileFactory",l.a).directive("file",s.a);t.a=c},function(e,t,n){"use strict";var i=n(521),r=n.n(i),o=n(341),a=n(407),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function MenuController(e,t,n,i,r){_classCallCheck(this,MenuController);var o=this;o.preview=function(){t.open(r.settings().url+"?token="+e.token)};var a=function(){o.dropdownContent=[],o.schemas.forEach(function(e){e.hidden||o.dropdownContent.push({text:e.singular?e.name:n("pluralize")(e.name),schema:e})})},s=function(){o.dropdownTaxonomy=[],o.taxonomies.forEach(function(e){o.dropdownTaxonomy.push({text:e.name,taxonomy:e})})},l=function(){o.schemas=i.get("schema",!0),o.taxonomies=i.get("taxonomy",!0),o.batchUploadSchemas=o.schemas.filter(function(e){if(e.singular)return!1;var t=e.fields.filter(function(e){return/image/.test(e.fieldType)});return 0!==t.length}),a(),s()};l(),i.registerObserverCallback(l)};i.$inject=["$rootScope","$window","$filter","AdminFactory","SettingsFactory"],t.a=i},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(3),a=n.n(o),s=n(340),l=r.a.module("menu",[a.a]).directive("menu",s.a);t.a=l},function(e,t,n){"use strict";var i=n(522),r=n.n(i),o=n(344),a=n(408),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(1),r=(n.n(i),function SettingsController(e,t){_classCallCheck(this,SettingsController);var n=this;n.settings=t.settings(),n.saveSettings=function(){t.saveSettings(n.settings)},n.authenticateWithProvider=function(e){t.authenticateWithProvider(e).then(function(t){n.settings[e]=t})}});r.$inject=["$window","SettingsFactory"],t.a=r},function(e,t,n){"use strict";var i=n(1),r=(n.n(i),function(e,t,n,i,r,o,a,s){"ngInject";var l={},c=void 0;return e.$settings=l,l.settings=function(e){return e&&(c=e),c},l.loadSettings=function(){return i(function(e,t){n({method:"GET",url:s+"/settings"}).then(function(t){e(l.settings(t.data))},t)})},l.saveSettings=function(e){return i(function(t,i){n({method:"PUT",url:s+"/settings",data:{settings:e}}).then(function(e){t(l.settings(e.data))},i)})},l.authenticateWithProvider=function(e){return i(function(i,r){n({method:"GET",url:s+"/auth/"+e+"/config",cache:!0}).then(function(n){a.providers[e].clientId=n.data.clientId,a.providers[e].redirectUri=""+t.location.origin+s+"/auth/"+e,a.providers[e].url=s+"/auth/"+e,a.providers[e].popupOptions={},o.authenticate(e,{clientSecret:n.data.clientSecret}).then(function(e){i(e.data)},r)},r)})},l});r.$inject=["$rootScope","$window","$http","$q","$log","$auth","SatellizerConfig","apiPrefix"],t.a=r},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(3),a=n.n(o),s=n(343),l=n(345),c=r.a.module("settings",[a.a]).config(["$stateProvider","$authProvider",function(e,t){"ngInject";t.instagram({scope:["basic","public_content"]}),t.oauth2({name:"vimeo",authorizationEndpoint:"https://api.vimeo.com/oauth/authorize",scope:["public","private","video_files"],defaultUrlParams:["response_type","client_id","redirect_uri"],responseType:"code",responseParams:{code:"code",clientId:"clientId",redirectUri:"redirectUri"}}),e.state("settings",{url:"/settings",views:{content:{template:"<settings></settings>"}},data:{permissions:"settings"}})}]).factory("SettingsFactory",l.a).directive("settings",s.a);t.a=c},function(e,t,n){"use strict";var i=n(523),r=n.n(i),o=n(348),a=n(409),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(1),r=n.n(i),o=n(524),a=n.n(o),s=function TaxonomyController(e,t,n,i,o,s,l,c,u,d,h){_classCallCheck(this,TaxonomyController);var m=this;m.taxonomy=i.$current.locals.globals.taxonomy,m.termTemplate=a.a,m.taxonomy.terms||(m.taxonomy.terms=[]);var p=r.a.copy(m.taxonomy.terms),f=t.$on("$stateChangeStart",function(e,t,n){if(!r.a.equals(p,m.taxonomy.terms)){e.preventDefault();var o=c.confirm().textContent("You have unsaved changes, are you sure?").cancel("Cancel").ok("Confirm");c.show(o).then(function(){f(),i.go(t,n)})}}),g=function(e,t){var n=e.childNodes(),i=n[0];i.prevTitle=t||i.$modelValue.title,i.$handleScope.$editTitle=!0};m.newTerm=function(){var e=u.newTerm();e.terms=[],m.taxonomy.terms.unshift(e),o(function(){n[0].querySelector(".angular-ui-tree input").focus()})},m.newNode=function(e,t){var n=u.newTerm();n.terms=[],t.$modelValue.terms||(t.$modelValue.terms=[]),t.$modelValue.terms.unshift(n),o(function(){g(t)})},m.removeNode=function(e,t){var n=c.confirm().textContent("Delete term?").cancel("Cancel").ok("Delete");c.show(n).then(function(){u.removeTerm({id:t.$modelValue.id}).catch(function(e){return l.reject(s.error(e))}).then(function(){t.remove(),m.save()})})},m.toggleNode=function(e,t){t.toggle()},m.editNode=function(e,t){t.prevTitle=t.$modelValue.title,t.$handleScope.$editTitle=!0},m.revertNode=function(e,t){o(function(){t.$saving||(""===t.prevTitle?t.remove():(t.$modelValue.title=t.prevTitle,t.$handleScope.$editTitle=!1))},300)},m.saveNode=function(e,t){"keypress"===e.type&&13!==e.keyCode||""!==t.$modelValue.title&&t.$modelValue.id&&(t.$saving=!0,u.editTerm({id:t.$modelValue.id,title:t.$modelValue.title,slug:h.slugify(t.$modelValue.title)}).then(function(){t.prevTitle=t.$modelValue.title,t.$handleScope.$editTitle=!1,m.save(),t.$saving=!1},function(e){t.$modelValue.title=t.prevTitle,t.$saving=!1}))},m.treeOptions={defaultCollapsed:!0,accept:function(){return!0},dropped:function(){r.a.equals(p,m.taxonomy.terms)||m.save()}},m.collapseAll=function(){t.$broadcast("angular-ui-tree:collapse-all")},m.expandAll=function(){t.$broadcast("angular-ui-tree:expand-all")},m.save=function(){u.save(m.taxonomy).then(function(e){m.taxonomy=e[0],p=r.a.copy(m.taxonomy.terms)},function(e){m.taxonomy.terms=p})}};s.$inject=["$rootScope","$scope","$document","$state","$timeout","$log","$q","$mdDialog","TaxonomyFactory","HelperFactory","Slug"],t.a=s},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(541),a=n.n(o),s=function(e,t,n,i,o,s,l,c,u){"ngInject";var d={};e.$taxonomy=d,d.getByKey=function(e){return n(function(n,i){t({method:"GET",url:u+"/taxonomy?slug="+e}).then(function(e){n(e.data)},i)})};var h=function slugifyTerms(e){e.slug=c.slugify(e.title),(e.terms||[]).forEach(function(e){slugifyTerms(e)})};return d.save=function(e){return n(function(t,n){e=r.a.fromJson(r.a.toJson(e)),e.terms.forEach(function(e){h(e)});var i=JSON.stringify(new Date).replace(/"/g,"");e.createdBy||(e.createdBy=s.getCurrentUser()._id,e.created=i),e.modifiedBy=s.getCurrentUser()._id,e.modified=i,s.update("taxonomy",[e],e).then(t,n)})},d.newTerm=function(){return{id:a.a.v4(),title:"",slug:""}},d.addTerm=function(e,i){return n(function(n,r){t({method:"POST",url:u+"/taxonomy/term",data:{taxonomySlug:e,term:i}}).then(n,r)})},d.editTerm=function(e){return n(function(n,i){t({method:"PUT",url:u+"/taxonomy/term",params:e}).then(n,i)})},d.removeTerm=function(e){return n(function(n,i){t({method:"DELETE",url:u+"/taxonomy/term",params:e}).then(n,i)})},d};s.$inject=["$rootScope","$http","$q","$timeout","$log","AdminFactory","HelperFactory","Slug","apiPrefix"],t.a=s},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(3),a=n.n(o),s=n(347),l=n(349),c=r.a.module("taxonomy",[a.a]).config(["$stateProvider","treeConfig",function(e,t){"ngInject";t.defaultCollapsed=!0,t.appendChildOnHover=!1,e.state("taxonomy",{url:"/taxonomy/{taxonomySlug:[a-zA-Z0-9_-]{2,200}}",resolve:{taxonomy:["$stateParams","TaxonomyFactory",function(e,t){return t.getByKey(e.taxonomySlug)}]},views:{content:{template:"<taxonomy></taxonomy>"}},data:{permissions:"taxonomyRead"}})}]).factory("TaxonomyFactory",l.a).directive("taxonomy",s.a);t.a=c},function(e,t,n){"use strict";var i=n(525),r=n.n(i),o=n(352),a=n(410),s=(n.n(a),function(){"ngInject";return{restrict:"E",scope:{},template:r.a,controller:o.a,controllerAs:"vm",bindToController:!0}});t.a=s},function(e,t,n){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function ToolsController(e,t){_classCallCheck(this,ToolsController);var n=this;n.importDbSelected=function(e,t){e.target.form.submit()}};i.$inject=["HelperFactory","apiPrefix"],t.a=i},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(3),a=n.n(o),s=n(351),l=r.a.module("tools",[a.a]).config(["$stateProvider",function(e){"ngInject";e.state("tools",{url:"/tools",views:{content:{template:"<tools></tools>"}},data:{permissions:"super"}})}]).directive("tools",s.a);t.a=l},function(e,t,n){"use strict";var i={33554432:"2.0",34603008:"2.1",37748736:"2.4",67108864:"4.0",69206016:"4.2"},r={0:"Perceptual",1:"Relative",2:"Saturation",3:"Absolute"},o={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Link",abst:"Abstract",spac:"Space",nmcl:"Named color",appl:"Apple",adbe:"Adobe",msft:"Microsoft",sunw:"Sun Microsystems",sgi:"Silicon Graphics",tgnt:"Taligent"},a={desc:"description",cprt:"copyright",dmdd:"deviceModelDescription",vued:"viewingConditionsDescription"},s=function(e,t){var n=e.slice(t,t+4).toString().trim();return n.toLowerCase()in o?o[n.toLowerCase()]:n},l=function(e,t){return 0!==e.readUInt32BE(t)};e.exports.parse=function(e){var t=e.readUInt32BE(0);if(t!==e.length)throw new Error("Invalid ICC profile: length mismatch");var n=e.slice(36,40).toString();if("acsp"!==n)throw new Error("Invalid ICC profile: missing signature");var o={version:i[e.readUInt32BE(8)],intent:r[e.readUInt32BE(64)]};[[4,"cmm"],[12,"deviceClass"],[16,"colorSpace"],[20,"connectionSpace"],[40,"platform"],[48,"manufacturer"],[52,"model"],[80,"creator"]].forEach(function(t){l(e,t[0])&&(o[t[1]]=s(e,t[0]))});for(var c=e.readUInt32BE(128),u=132,d=0;d<c;d++){var h=s(e,u);if(h in a){var m=e.readUInt32BE(u+4),p=e.readUInt32BE(u+8);if(m>e.length)throw new Error("Invalid ICC profile: Tag offset out of bounds");var f=s(e,m);if("desc"===f){var g=e.readUInt32BE(m+8);if(g>p)throw new Error("Invalid ICC profile: Description tag value size out of bounds for "+h);o[a[h]]=e.slice(m+12,m+g+11).toString()}"text"===f&&(o[a[h]]=e.slice(m+8,m+p-7).toString())}u+=12}return o}},function(e,t,n){"use strict";function placeHoldersCount(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function byteLength(e){return 3*e.length/4-placeHoldersCount(e)}function toByteArray(e){var t,n,i,a,s,l,c=e.length;s=placeHoldersCount(e),l=new o(3*c/4-s),i=s>0?c-4:c;var u=0;for(t=0,n=0;t<i;t+=4,n+=3)a=r[e.charCodeAt(t)]<<18|r[e.charCodeAt(t+1)]<<12|r[e.charCodeAt(t+2)]<<6|r[e.charCodeAt(t+3)],l[u++]=a>>16&255,l[u++]=a>>8&255,l[u++]=255&a;return 2===s?(a=r[e.charCodeAt(t)]<<2|r[e.charCodeAt(t+1)]>>4,l[u++]=255&a):1===s&&(a=r[e.charCodeAt(t)]<<10|r[e.charCodeAt(t+1)]<<4|r[e.charCodeAt(t+2)]>>2,l[u++]=a>>8&255,l[u++]=255&a),l}function tripletToBase64(e){return i[e>>18&63]+i[e>>12&63]+i[e>>6&63]+i[63&e]}function encodeChunk(e,t,n){for(var i,r=[],o=t;o<n;o+=3)i=(e[o]<<16)+(e[o+1]<<8)+e[o+2],r.push(tripletToBase64(i));return r.join("")}function fromByteArray(e){for(var t,n=e.length,r=n%3,o="",a=[],s=16383,l=0,c=n-r;l<c;l+=s)a.push(encodeChunk(e,l,l+s>c?c:l+s));return 1===r?(t=e[n-1],o+=i[t>>2],o+=i[t<<4&63],o+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],o+=i[t>>10],o+=i[t>>4&63],o+=i[t<<2&63],o+="="),a.push(o),a.join("")}t.byteLength=byteLength,t.toByteArray=toByteArray,t.fromByteArray=fromByteArray;for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t,n){(function(t,n,i){!function(t){e.exports=t()}(function(){var e,r,o;return function e(t,n,i){function s(o,a){if(!n[o]){if(!t[o]){var l="function"==typeof _dereq_&&_dereq_;if(!a&&l)return l(o,!0);if(r)return r(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){var n=t[o][1][e];return s(n?n:e)},u,u.exports,e,t,n,i)}return n[o].exports}for(var r="function"==typeof _dereq_&&_dereq_,o=0;o<i.length;o++)s(i[o]);
return s}({1:[function(e,t,n){"use strict";t.exports=function(e){function any(e){var n=new t(e),i=n.promise();return n.setHowMany(1),n.setUnwrap(),n.init(),i}var t=e._SomePromiseArray;e.any=function(e){return any(e)},e.prototype.any=function(){return any(this)}}},{}],2:[function(e,n,i){"use strict";function Async(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new a(16),this._normalQueue=new a(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=o}function AsyncInvokeLater(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function AsyncInvoke(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function AsyncSettlePromises(e){this._normalQueue._pushOne(e),this._queueTick()}var r;try{throw new Error}catch(e){r=e}var o=e("./schedule"),a=e("./queue"),s=e("./util");Async.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},Async.prototype.hasCustomScheduler=function(){return this._customScheduler},Async.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},Async.prototype.disableTrampolineIfNecessary=function(){s.hasDevTools&&(this._trampolineEnabled=!1)},Async.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},Async.prototype.fatalError=function(e,n){n?(t.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),t.exit(2)):this.throwLater(e)},Async.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.hasDevTools?(Async.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?AsyncInvokeLater.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},Async.prototype.invoke=function(e,t,n){this._trampolineEnabled?AsyncInvoke.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},Async.prototype.settlePromises=function(e){this._trampolineEnabled?AsyncSettlePromises.call(this,e):this._schedule(function(){e._settlePromises()})}):(Async.prototype.invokeLater=AsyncInvokeLater,Async.prototype.invoke=AsyncInvoke,Async.prototype.settlePromises=AsyncSettlePromises),Async.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),i=e.shift();t.call(n,i)}else t._settlePromises()}},Async.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},Async.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},Async.prototype._reset=function(){this._isTickUsed=!1},n.exports=Async,n.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){var r=!1,o=function(e,t){this._reject(t)},a=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},s=function(e,t){0===(50397184&this._bitField)&&this._resolveCallback(t.target)},l=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){r||(r=!0,e.prototype._propagateFrom=i.propagateFromFunction(),e.prototype._boundValue=i.boundValueFunction());var c=n(o),u=new e(t);u._propagateFrom(this,1);var d=this._target();if(u._setBoundTo(c),c instanceof e){var h={promiseRejectionQueued:!1,promise:u,target:d,bindingPromise:c};d._then(t,a,void 0,u,h),c._then(s,l,void 0,u,h),u._setOnCancel(c)}else u._resolveCallback(d);return u},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=this._bitField&-2097153},e.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t,n){"use strict";function noConflict(){try{Promise===r&&(Promise=i)}catch(e){}return r}var i;"undefined"!=typeof Promise&&(i=Promise);var r=e("./promise")();r.noConflict=noConflict,t.exports=r},{"./promise":22}],5:[function(e,t,n){"use strict";var i=Object.create;if(i){var r=i(null),o=i(null);r[" size"]=o[" size"]=0}t.exports=function(t){function ensureMethod(e,n){var r;if(null!=e&&(r=e[n]),"function"!=typeof r){var o="Object "+i.classString(e)+" has no method '"+i.toString(n)+"'";throw new t.TypeError(o)}return r}function caller(e){var t=this.pop(),n=ensureMethod(e,t);return n.apply(e,this)}function namedGetter(e){return e[this]}function indexedGetter(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}var n,i=e("./util"),r=i.canEvaluate;i.isIdentifier;t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(caller,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t,i="number"==typeof e;if(i)t=indexedGetter;else if(r){var o=n(e);t=null!==o?o:namedGetter}else t=namedGetter;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,n){"use strict";t.exports=function(t,n,i,r){var o=e("./util"),a=o.tryCatch,s=o.errorObj,l=t._async;t.prototype.break=t.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),l.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var i=a(e).call(this._boundValue());i===s&&(this._attachExtraTrace(i.e),l.throwLater(i.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),l.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(t){function catchFilter(e,a,s){return function(l){var c=s._boundValue();e:for(var u=0;u<e.length;++u){var d=e[u];if(d===Error||null!=d&&d.prototype instanceof Error){if(l instanceof d)return r(a).call(c,l)}else if("function"==typeof d){var h=r(d).call(c,l);if(h===o)return h;if(h)return r(a).call(c,l)}else if(n.isObject(l)){for(var m=i(d),p=0;p<m.length;++p){var f=m[p];if(d[f]!=l[f])continue e}return r(a).call(c,l)}}return t}}var n=e("./util"),i=e("./es5").keys,r=n.tryCatch,o=n.errorObj;return catchFilter}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(e){function Context(){this._trace=new Context.CapturedTrace(peekContext())}function createContext(){if(t)return new Context}function peekContext(){var e=n.length-1;if(e>=0)return n[e]}var t=!1,n=[];return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},Context.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},Context.prototype._popContext=function(){if(void 0!==this._trace){var e=n.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},Context.CapturedTrace=null,Context.create=createContext,Context.deactivateLongStackTraces=function(){},Context.activateLongStackTraces=function(){var n=e.prototype._pushContext,i=e.prototype._popContext,r=e._peekContext,o=e.prototype._peekContext,a=e.prototype._promiseCreated;Context.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=i,e._peekContext=r,e.prototype._peekContext=o,e.prototype._promiseCreated=a,t=!1},t=!0,e.prototype._pushContext=Context.prototype._pushContext,e.prototype._popContext=Context.prototype._popContext,e._peekContext=e.prototype._peekContext=peekContext,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},Context}},{}],9:[function(e,n,i){"use strict";n.exports=function(n,i){function generatePromiseLifecycleEventObject(e,t){return{promise:t}}function defaultFireEvent(){return!1}function cancellationExecute(e,t,n){var i=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+u.toString(e));i._attachCancellationCallback(e)})}catch(e){return e}}function cancellationAttachCancellationCallback(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?u.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function cancellationOnCancel(){return this._onCancelField}function cancellationSetOnCancel(e){this._onCancelField=e}function cancellationClearCancellationData(){this._cancellationParent=void 0,this._onCancelField=void 0}function cancellationPropagateFrom(e,t){if(0!==(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!==(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function bindingPropagateFrom(e,t){0!==(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function boundValueFunction(){var e=this._boundTo;return void 0!==e&&e instanceof n?e.isFulfilled()?e.value():void 0:e}function longStackTracesCaptureStackTrace(){this._trace=new CapturedTrace(this._peekContext())}function longStackTracesAttachExtraTrace(e,t){if(d(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var i=parseStackAndMessage(e);u.notEnumerableProp(e,"stack",i.message+"\n"+i.stack.join("\n")),u.notEnumerableProp(e,"__stackCleaned__",!0)}}}function checkForgottenReturns(e,t,n,i,r){if(void 0===e&&null!==t&&w){if(void 0!==r&&r._returnedNonUndefined())return;if(0===(65535&i._bitField))return;n&&(n+=" ");var o="",a="";if(t._trace){for(var s=t._trace.stack.split("\n"),l=cleanStack(s),c=l.length-1;c>=0;--c){var u=l[c];if(!m.test(u)){var d=u.match(p);d&&(o="at "+d[1]+":"+d[2]+":"+d[3]+" ");break}}if(l.length>0)for(var h=l[0],c=0;c<s.length;++c)if(s[c]===h){c>0&&(a="\n"+s[c-1]);break}}var f="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;i._warn(f,!0,t)}}function deprecated(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),warn(n)}function warn(e,t,i){if(P.warnings){var r,o=new c(e);if(t)i._attachExtraTrace(o);else if(P.longStackTraces&&(r=n._peekContext()))r.attachExtraTrace(o);else{var a=parseStackAndMessage(o);o.stack=a.message+"\n"+a.stack.join("\n")}T("warning",o)||formatAndLogError(o,"",!0)}}function reconstructStack(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}function removeDuplicateOrEmptyJumps(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function removeCommonRoots(e){for(var t=e[0],n=1;n<e.length;++n){for(var i=e[n],r=t.length-1,o=t[r],a=-1,s=i.length-1;s>=0;--s)if(i[s]===o){a=s;break}for(var s=a;s>=0;--s){var l=i[s];if(t[r]!==l)break;t.pop(),r--}t=i}}function cleanStack(e){for(var t=[],n=0;n<e.length;++n){var i=e[n],r="    (No stack trace)"===i||f.test(i),o=r&&k(i);r&&!o&&(v&&" "!==i.charAt(0)&&(i="    "+i),t.push(i))}return t}function stackFramesAsArray(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var i=t[n];if("    (No stack trace)"===i||f.test(i))break}return n>0&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}function parseStackAndMessage(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?stackFramesAsArray(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:cleanStack(t)}}function formatAndLogError(e,t,n){if("undefined"!=typeof console){var i;if(u.isObject(e)){var r=e.stack;i=t+g(r,e)}else i=t+String(e);"function"==typeof a?a(i,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(i)}}function fireRejectionEvent(e,t,n,i){var r=!1;try{"function"==typeof t&&(r=!0,"rejectionHandled"===e?t(i):t(n,i))}catch(e){l.throwLater(e)}"unhandledRejection"===e?T(e,n,i)||r||formatAndLogError(n,"Unhandled rejection "):T(e,i)}function formatNonError(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"==typeof e.toString?e.toString():u.toString(e);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(t))try{var i=JSON.stringify(e);t=i}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+snip(t)+">, no stack trace)"}function snip(e){var t=41;return e.length<t?e:e.substr(0,t-3)+"..."}function longStackTracesIsSupported(){return"function"==typeof $}function parseLineInfo(e){var t=e.match(A);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function setBounds(e,t){if(longStackTracesIsSupported()){for(var n,i,r=e.stack.split("\n"),o=t.stack.split("\n"),a=-1,s=-1,l=0;l<r.length;++l){var c=parseLineInfo(r[l]);if(c){n=c.fileName,a=c.line;break}}for(var l=0;l<o.length;++l){var c=parseLineInfo(o[l]);if(c){i=c.fileName,s=c.line;break}}a<0||s<0||!n||!i||n!==i||a>=s||(k=function(e){if(h.test(e))return!0;var t=parseLineInfo(e);return!!(t&&t.fileName===n&&a<=t.line&&t.line<=s)})}}function CapturedTrace(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);$(this,CapturedTrace),t>32&&this.uncycle()}var r,o,a,s=n._getDomain,l=n._async,c=e("./errors").Warning,u=e("./util"),d=u.canAttachTrace,h=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,m=/\((?:timers\.js):\d+:\d+\)/,p=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,f=null,g=null,v=!1,y=!(0==u.env("BLUEBIRD_DEBUG")),b=!(0==u.env("BLUEBIRD_WARNINGS")||!y&&!u.env("BLUEBIRD_WARNINGS")),_=!(0==u.env("BLUEBIRD_LONG_STACK_TRACES")||!y&&!u.env("BLUEBIRD_LONG_STACK_TRACES")),w=0!=u.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(b||!!u.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=e._bitField&-1048577|524288},n.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),l.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){fireRejectionEvent("rejectionHandled",r,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),fireRejectionEvent("unhandledRejection",o,e,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(e,t,n){return warn(e,t,n||this)},n.onPossiblyUnhandledRejection=function(e){var t=s();o="function"==typeof e?null===t?e:u.domainBind(t,e):void 0},n.onUnhandledRejectionHandled=function(e){var t=s();r="function"==typeof e?null===t?e:u.domainBind(t,e):void 0};var x=function(){};n.longStackTraces=function(){if(l.haveItemsQueued()&&!P.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!P.longStackTraces&&longStackTracesIsSupported()){var e=n.prototype._captureStackTrace,t=n.prototype._attachExtraTrace;P.longStackTraces=!0,x=function(){if(l.haveItemsQueued()&&!P.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=e,n.prototype._attachExtraTrace=t,i.deactivateLongStackTraces(),l.enableTrampoline(),P.longStackTraces=!1},n.prototype._captureStackTrace=longStackTracesCaptureStackTrace,n.prototype._attachExtraTrace=longStackTracesAttachExtraTrace,i.activateLongStackTraces(),l.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return P.longStackTraces&&longStackTracesIsSupported()};var C=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return u.global.dispatchEvent(e),function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!u.global.dispatchEvent(n)}}if("function"==typeof Event){var e=new Event("CustomEvent");return u.global.dispatchEvent(e),function(e,t){var n=new Event(e.toLowerCase(),{cancelable:!0});return n.detail=t,!u.global.dispatchEvent(n)}}var e=document.createEvent("CustomEvent");return e.initCustomEvent("testingtheevent",!1,!0,{}),u.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!u.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),S=function(){return u.isNode?function(){return t.emit.apply(t,arguments)}:u.global?function(e){var t="on"+e.toLowerCase(),n=u.global[t];return!!n&&(n.apply(u.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),E={promiseCreated:generatePromiseLifecycleEventObject,promiseFulfilled:generatePromiseLifecycleEventObject,promiseRejected:generatePromiseLifecycleEventObject,promiseResolved:generatePromiseLifecycleEventObject,promiseCancelled:generatePromiseLifecycleEventObject,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:generatePromiseLifecycleEventObject},T=function(e){var t=!1;try{t=S.apply(null,arguments)}catch(e){l.throwLater(e),t=!0}var n=!1;try{n=C(e,E[e].apply(null,arguments))}catch(e){l.throwLater(e),n=!0}return n||t};n.config=function(e){if(e=Object(e),"longStackTraces"in e&&(e.longStackTraces?n.longStackTraces():!e.longStackTraces&&n.hasLongStackTraces()&&x()),"warnings"in e){var t=e.warnings;P.warnings=!!t,w=P.warnings,u.isObject(t)&&"wForgottenReturn"in t&&(w=!!t.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!P.cancellation){if(l.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=cancellationClearCancellationData,n.prototype._propagateFrom=cancellationPropagateFrom,n.prototype._onCancel=cancellationOnCancel,n.prototype._setOnCancel=cancellationSetOnCancel,n.prototype._attachCancellationCallback=cancellationAttachCancellationCallback,n.prototype._execute=cancellationExecute,M=cancellationPropagateFrom,P.cancellation=!0}return"monitoring"in e&&(e.monitoring&&!P.monitoring?(P.monitoring=!0,n.prototype._fireEvent=T):!e.monitoring&&P.monitoring&&(P.monitoring=!1,n.prototype._fireEvent=defaultFireEvent)),n},n.prototype._fireEvent=defaultFireEvent,n.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(e){},n.prototype._attachCancellationCallback=function(e){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(e,t){};var M=bindingPropagateFrom,k=function(){return!1},A=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;u.inherits(CapturedTrace,Error),i.CapturedTrace=CapturedTrace,CapturedTrace.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},i=0,r=this;void 0!==r;++i)t.push(r),r=r._parent;e=this._length=i;for(var i=e-1;i>=0;--i){var o=t[i].stack;void 0===n[o]&&(n[o]=i)}for(var i=0;i<e;++i){var a=t[i].stack,s=n[a];if(void 0!==s&&s!==i){s>0&&(t[s-1]._parent=void 0,t[s-1]._length=1),t[i]._parent=void 0,t[i]._length=1;var l=i>0?t[i-1]:this;s<e-1?(l._parent=t[s+1],l._parent.uncycle(),l._length=l._parent._length+1):(l._parent=void 0,l._length=1);for(var c=l._length+1,u=i-2;u>=0;--u)t[u]._length=c,c++;return}}}},CapturedTrace.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=parseStackAndMessage(e),n=t.message,i=[t.stack],r=this;void 0!==r;)i.push(cleanStack(r.stack.split("\n"))),r=r._parent;removeCommonRoots(i),removeDuplicateOrEmptyJumps(i),u.notEnumerableProp(e,"stack",reconstructStack(n,i)),u.notEnumerableProp(e,"__stackCleaned__",!0)}};var $=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():formatNonError(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,f=e,g=t;var n=Error.captureStackTrace;return k=function(e){return h.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return f=/@/,g=t,v=!0,function(e){e.stack=(new Error).stack};var r;try{throw new Error}catch(e){r="stack"in e}return"stack"in i||!r||"number"!=typeof Error.stackTraceLimit?(g=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?formatNonError(t):t.toString()},null):(f=e,g=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(a=function(e){console.warn(e)},u.isNode&&t.stderr.isTTY?a=function(e,t){var n=t?"[33m":"[31m";console.warn(n+e+"[0m\n")}:u.isNode||"string"!=typeof(new Error).stack||(a=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var P={warnings:b,longStackTraces:!1,cancellation:!1,monitoring:!1};return _&&n.longStackTraces(),{longStackTraces:function(){return P.longStackTraces},warnings:function(){return P.warnings},cancellation:function(){return P.cancellation},monitoring:function(){return P.monitoring},propagateFromFunction:function(){return M},boundValueFunction:function(){return boundValueFunction},checkForgottenReturns:checkForgottenReturns,setBounds:setBounds,warn:warn,deprecated:deprecated,CapturedTrace:CapturedTrace,fireDomEvent:C,fireGlobalEvent:S}}},{"./errors":12,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(e){function returner(){return this.value}function thrower(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(t){return t instanceof e&&t.suppressUnhandledRejections(),this._then(returner,void 0,void 0,{value:t},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(thrower,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,thrower,void 0,{reason:e},void 0);var t=arguments[1],n=function(){throw t};return this.caught(e,n)},e.prototype.catchReturn=function(t){if(arguments.length<=1)return t instanceof e&&t.suppressUnhandledRejections(),this._then(void 0,returner,void 0,{value:t},void 0);var n=arguments[1];n instanceof e&&n.suppressUnhandledRejections();var i=function(){return n};return this.caught(t,i)}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t){function promiseAllThis(){return i(this)}function PromiseMapSeries(e,i){return n(e,i,t,t)}var n=e.reduce,i=e.all;e.prototype.each=function(e){return n(this,e,t,0)._then(promiseAllThis,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return n(this,e,t,t)},e.each=function(e,i){return n(e,i,t,0)._then(promiseAllThis,void 0,void 0,e,void 0)},e.mapSeries=PromiseMapSeries}},{}],12:[function(e,t,n){"use strict";function subError(e,t){function SubError(n){return this instanceof SubError?(c(this,"message","string"==typeof n?n:t),c(this,"name",e),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new SubError(n)}return l(SubError,Error),SubError}function OperationalError(e){return this instanceof OperationalError?(c(this,"name","OperationalError"),c(this,"message",e),this.cause=e,this.isOperational=!0,void(e instanceof Error?(c(this,"message",e.message),c(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new OperationalError(e)}var i,r,o=e("./es5"),a=o.freeze,s=e("./util"),l=s.inherits,c=s.notEnumerableProp,u=subError("Warning","warning"),d=subError("CancellationError","cancellation error"),h=subError("TimeoutError","timeout error"),m=subError("AggregateError","aggregate error");try{i=TypeError,r=RangeError}catch(e){i=subError("TypeError","type error"),r=subError("RangeError","range error")}for(var p="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),f=0;f<p.length;++f)"function"==typeof Array.prototype[p[f]]&&(m.prototype[p[f]]=Array.prototype[p[f]]);o.defineProperty(m.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),m.prototype.isOperational=!0;var g=0;m.prototype.toString=function(){var e=Array(4*g+1).join(" "),t="\n"+e+"AggregateError of:\n";g++,e=Array(4*g+1).join(" ");for(var n=0;n<this.length;++n){for(var i=this[n]===this?"[Circular AggregateError]":this[n]+"",r=i.split("\n"),o=0;o<r.length;++o)r[o]=e+r[o];i=r.join("\n"),t+=i+"\n"}return g--,t},l(OperationalError,Error);var v=Error.__BluebirdErrorTypes__;v||(v=a({CancellationError:d,TimeoutError:h,OperationalError:OperationalError,RejectionError:OperationalError,AggregateError:m}),o.defineProperty(Error,"__BluebirdErrorTypes__",{value:v,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:i,RangeError:r,CancellationError:v.CancellationError,OperationalError:v.OperationalError,TimeoutError:v.TimeoutError,AggregateError:v.AggregateError,Warning:u}},{"./es5":13,"./util":36}],13:[function(e,t,n){var i=function(){"use strict";return void 0===this}();if(i)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var r={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(e){var t=[];for(var n in e)r.call(e,n)&&t.push(n);return t},l=function(e,t){return{value:e[t]}},c=function(e,t,n){return e[t]=n.value,e},u=function(e){return e},d=function(e){try{return Object(e).constructor.prototype}catch(e){return a}},h=function(e){try{return"[object Array]"===o.call(e)}catch(e){return!1}};t.exports={isArray:h,keys:s,names:s,defineProperty:c,getDescriptor:l,freeze:u,getPrototypeOf:d,isES5:i,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,i){return n(this,e,i,t)},e.filter=function(e,i,r){return n(e,i,r,t)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(t,n){function PassThroughHandlerContext(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function FinallyHandlerCancelReaction(e){this.finallyHandler=e}function checkCancel(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function succeed(){return finallyHandler.call(this,this.promise._target()._settledValue())}function fail(e){if(!checkCancel(this,e))return o.e=e,o}function finallyHandler(e){var i=this.promise,a=this.handler;if(!this.called){this.called=!0;var s=this.isFinallyHandler()?a.call(i._boundValue()):a.call(i._boundValue(),e);if(void 0!==s){i._setReturnedNonUndefined();var l=n(s,i);if(l instanceof t){if(null!=this.cancelPromise){if(l._isCancelled()){var c=new r("late cancellation observer");return i._attachExtraTrace(c),o.e=c,o}l.isPending()&&l._attachCancellationCallback(new FinallyHandlerCancelReaction(this))}return l._then(succeed,fail,void 0,this,void 0)}}}return i.isRejected()?(checkCancel(this),o.e=e,o):(checkCancel(this),e)}var i=e("./util"),r=t.CancellationError,o=i.errorObj;return PassThroughHandlerContext.prototype.isFinallyHandler=function(){return 0===this.type},FinallyHandlerCancelReaction.prototype._resultCancelled=function(){checkCancel(this.finallyHandler)},t.prototype._passThrough=function(e,t,n,i){return"function"!=typeof e?this.then():this._then(n,i,void 0,new PassThroughHandlerContext(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,finallyHandler,finallyHandler)},t.prototype.tap=function(e){return this._passThrough(e,1,finallyHandler)},PassThroughHandlerContext}},{"./util":36}],16:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o,a){function promiseFromYieldHandler(e,n,i){for(var o=0;o<n.length;++o){i._pushContext();var a=d(n[o])(e);if(i._popContext(),a===u){i._pushContext();var s=t.reject(u.e);return i._popContext(),s}var l=r(a,i);if(l instanceof t)return l}return null}function PromiseSpawn(e,n,r,o){if(a.cancellation()){var s=new t(i),l=this._finallyPromise=new t(i);this._promise=s.lastly(function(){return l}),s._captureStackTrace(),s._setOnCancel(this)}else{var c=this._promise=new t(i);c._captureStackTrace()}this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof r?[r].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}var s=e("./errors"),l=s.TypeError,c=e("./util"),u=c.errorObj,d=c.tryCatch,h=[];c.inherits(PromiseSpawn,o),PromiseSpawn.prototype._isResolved=function(){return null===this._promise},PromiseSpawn.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},PromiseSpawn.prototype._promiseCancelled=function(){if(!this._isResolved()){var e,n="undefined"!=typeof this._generator.return;if(n)this._promise._pushContext(),e=d(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var i=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=i,this._promise._attachExtraTrace(i),this._promise._pushContext(),e=d(this._generator.throw).call(this._generator,i),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},PromiseSpawn.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=d(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t);
},PromiseSpawn.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=d(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},PromiseSpawn.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},PromiseSpawn.prototype.promise=function(){return this._promise},PromiseSpawn.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},PromiseSpawn.prototype._continue=function(e){var n=this._promise;if(e===u)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(e.e,!1);var i=e.value;if(e.done===!0)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(i);var o=r(i,this._promise);if(!(o instanceof t)&&(o=promiseFromYieldHandler(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",i)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var a=o._bitField;0===(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&a)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&a)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},t.coroutine=function(e,t){if("function"!=typeof e)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,i=PromiseSpawn,r=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new i(void 0,void 0,n,r),a=o.promise();return o._generator=t,o._promiseFulfilled(void 0),a}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new l("expecting a function but got "+c.classString(e));h.push(e)},t.spawn=function(e){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=new PromiseSpawn(e,this),r=i.promise();return i._run(t.spawn),r}}},{"./errors":12,"./util":36}],17:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o,a){var s=e("./util");s.canEvaluate,s.tryCatch,s.errorObj;t.join=function(){var e,t=arguments.length-1;if(t>0&&"function"==typeof arguments[t]){e=arguments[t];var i}var r=[].slice.call(arguments);e&&r.pop();var i=new n(r).promise();return void 0!==e?i.spread(e):i}}},{"./util":36}],18:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o,a){function MappingPromiseArray(e,t,n,i){this.constructor$(e),this._promise._captureStackTrace();var r=s();this._callback=null===r?t:l.domainBind(r,t),this._preservedValues=i===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],d.invoke(this._asyncInit,this,void 0)}function map(e,n,r,o){if("function"!=typeof n)return i("expecting a function but got "+l.classString(n));var a=0;if(void 0!==r){if("object"!=typeof r||null===r)return t.reject(new TypeError("options argument must be an object but it is "+l.classString(r)));if("number"!=typeof r.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(r.concurrency)));a=r.concurrency}return a="number"==typeof a&&isFinite(a)&&a>=1?a:0,new MappingPromiseArray(e,n,a,o).promise()}var s=t._getDomain,l=e("./util"),c=l.tryCatch,u=l.errorObj,d=t._async;l.inherits(MappingPromiseArray,n),MappingPromiseArray.prototype._asyncInit=function(){this._init$(void 0,-2)},MappingPromiseArray.prototype._init=function(){},MappingPromiseArray.prototype._promiseFulfilled=function(e,n){var i=this._values,o=this.length(),s=this._preservedValues,l=this._limit;if(n<0){if(n=n*-1-1,i[n]=e,l>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(l>=1&&this._inFlight>=l)return i[n]=e,this._queue.push(n),!1;null!==s&&(s[n]=e);var d=this._promise,h=this._callback,m=d._boundValue();d._pushContext();var p=c(h).call(m,e,n,o),f=d._popContext();if(a.checkForgottenReturns(p,f,null!==s?"Promise.filter":"Promise.map",d),p===u)return this._reject(p.e),!0;var g=r(p,this._promise);if(g instanceof t){g=g._target();var v=g._bitField;if(0===(50397184&v))return l>=1&&this._inFlight++,i[n]=g,g._proxy(this,(n+1)*-1),!1;if(0===(33554432&v))return 0!==(16777216&v)?(this._reject(g._reason()),!0):(this._cancel(),!0);p=g._value()}i[n]=p}var y=++this._totalResolved;return y>=o&&(null!==s?this._filter(i,s):this._resolve(i),!0)},MappingPromiseArray.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var i=e.pop();this._promiseFulfilled(n[i],i)}},MappingPromiseArray.prototype._filter=function(e,t){for(var n=t.length,i=new Array(n),r=0,o=0;o<n;++o)e[o]&&(i[r++]=t[o]);i.length=r,this._resolve(i)},MappingPromiseArray.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return map(this,e,t,null)},t.map=function(e,t,n,i){return map(e,t,n,i)}}},{"./util":36}],19:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o){var a=e("./util"),s=a.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+a.classString(e));return function(){var i=new t(n);i._captureStackTrace(),i._pushContext();var r=s(e).apply(this,arguments),a=i._popContext();return o.checkForgottenReturns(r,a,"Promise.method",i),i._resolveFromSyncValue(r),i}},t.attempt=t.try=function(e){if("function"!=typeof e)return r("expecting a function but got "+a.classString(e));var i=new t(n);i._captureStackTrace(),i._pushContext();var l;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],u=arguments[2];l=a.isArray(c)?s(e).apply(u,c):s(e).call(u,c)}else l=s(e)();var d=i._popContext();return o.checkForgottenReturns(l,d,"Promise.try",i),i._resolveFromSyncValue(l),i},t.prototype._resolveFromSyncValue=function(e){e===a.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,n){"use strict";function isUntypedError(e){return e instanceof Error&&s.getPrototypeOf(e)===Error.prototype}function wrapAsOperationalError(e){var t;if(isUntypedError(e)){t=new a(e),t.name=e.name,t.message=e.message,t.stack=e.stack;for(var n=s.keys(e),r=0;r<n.length;++r){var o=n[r];l.test(o)||(t[o]=e[o])}return t}return i.markAsOriginatingFromRejection(e),e}function nodebackForPromise(e,t){return function(n,i){if(null!==e){if(n){var o=wrapAsOperationalError(r(n));e._attachExtraTrace(o),e._reject(o)}else if(t){var a=[].slice.call(arguments,1);e._fulfill(a)}else e._fulfill(i);e=null}}}var i=e("./util"),r=i.maybeWrapAsError,o=e("./errors"),a=o.OperationalError,s=e("./es5"),l=/^(?:name|message|stack|cause)$/;t.exports=nodebackForPromise},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,n){"use strict";t.exports=function(t){function spreadAdapter(e,t){var a=this;if(!n.isArray(e))return successAdapter.call(a,e,t);var s=r(t).apply(a._boundValue(),[null].concat(e));s===o&&i.throwLater(s.e)}function successAdapter(e,t){var n=this,a=n._boundValue(),s=void 0===e?r(t).call(a,null):r(t).call(a,null,e);s===o&&i.throwLater(s.e)}function errorAdapter(e,t){var n=this;if(!e){var a=new Error(e+"");a.cause=e,e=a}var s=r(t).call(n._boundValue(),e);s===o&&i.throwLater(s.e)}var n=e("./util"),i=t._async,r=n.tryCatch,o=n.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var n=successAdapter;void 0!==t&&Object(t).spread&&(n=spreadAdapter),this._then(n,errorAdapter,void 0,this,e)}return this}}},{"./util":36}],22:[function(e,n,i){"use strict";n.exports=function(){function Proxyable(){}function check(e,t){if("function"!=typeof t)throw new m("expecting a function but got "+l.classString(t));if(e.constructor!==Promise)throw new m("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function Promise(e){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,e!==f&&(check(this,e),this._resolveFromExecutor(e)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function deferResolve(e){this.promise._resolveCallback(e)}function deferReject(e){this.promise._rejectCallback(e,!1)}function fillTypes(e){var t=new Promise(f);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var i,r=function(){return new m("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},o=function(){return new Promise.PromiseInspection(this._target())},a=function(e){return Promise.reject(new m(e))},s={},l=e("./util");i=l.isNode?function(){var e=t.domain;return void 0===e&&(e=null),e}:function(){return null},l.notEnumerableProp(Promise,"_getDomain",i);var c=e("./es5"),u=e("./async"),d=new u;c.defineProperty(Promise,"_async",{value:d});var h=e("./errors"),m=Promise.TypeError=h.TypeError;Promise.RangeError=h.RangeError;var p=Promise.CancellationError=h.CancellationError;Promise.TimeoutError=h.TimeoutError,Promise.OperationalError=h.OperationalError,Promise.RejectionError=h.OperationalError,Promise.AggregateError=h.AggregateError;var f=function(){},g={},v={},y=e("./thenables")(Promise,f),b=e("./promise_array")(Promise,f,y,a,Proxyable),_=e("./context")(Promise),w=_.create,x=e("./debuggability")(Promise,_),C=(x.CapturedTrace,e("./finally")(Promise,y)),S=e("./catch_filter")(v),E=e("./nodeback"),T=l.errorObj,M=l.tryCatch;return Promise.prototype.toString=function(){return"[object Promise]"},Promise.prototype.caught=Promise.prototype.catch=function(e){var t=arguments.length;if(t>1){var n,i=new Array(t-1),r=0;for(n=0;n<t-1;++n){var o=arguments[n];if(!l.isObject(o))return a("expecting an object but got A catch statement predicate "+l.classString(o));i[r++]=o}return i.length=r,e=arguments[n],this.then(void 0,S(i,e,this))}return this.then(void 0,e)},Promise.prototype.reflect=function(){return this._then(o,o,void 0,this,void 0)},Promise.prototype.then=function(e,t){if(x.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+l.classString(e);arguments.length>1&&(n+=", "+l.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},Promise.prototype.done=function(e,t){var n=this._then(e,t,void 0,void 0,void 0);n._setIsFinal()},Promise.prototype.spread=function(e){return"function"!=typeof e?a("expecting a function but got "+l.classString(e)):this.all()._then(e,void 0,void 0,g,void 0)},Promise.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},Promise.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new b(this).promise()},Promise.prototype.error=function(e){return this.caught(l.originatesFromRejection,e)},Promise.getNewLibraryCopy=n.exports,Promise.is=function(e){return e instanceof Promise},Promise.fromNode=Promise.fromCallback=function(e){var t=new Promise(f);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,i=M(e)(E(t,n));return i===T&&t._rejectCallback(i.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},Promise.all=function(e){return new b(e).promise()},Promise.cast=function(e){var t=y(e);return t instanceof Promise||(t=new Promise(f),t._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},Promise.resolve=Promise.fulfilled=Promise.cast,Promise.reject=Promise.rejected=function(e){var t=new Promise(f);return t._captureStackTrace(),t._rejectCallback(e,!0),t},Promise.setScheduler=function(e){if("function"!=typeof e)throw new m("expecting a function but got "+l.classString(e));return d.setScheduler(e)},Promise.prototype._then=function(e,t,n,r,o){var a=void 0!==o,s=a?o:new Promise(f),c=this._target(),u=c._bitField;a||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&u)?this._boundValue():c===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var h=i();if(0!==(50397184&u)){var m,g,v=c._settlePromiseCtx;0!==(33554432&u)?(g=c._rejectionHandler0,m=e):0!==(16777216&u)?(g=c._fulfillmentHandler0,m=t,c._unsetRejectionIsUnhandled()):(v=c._settlePromiseLateCancellationObserver,g=new p("late cancellation observer"),c._attachExtraTrace(g),m=t),d.invoke(v,c,{handler:null===h?m:"function"==typeof m&&l.domainBind(h,m),promise:s,receiver:r,value:g})}else c._addCallbacks(e,t,s,r,h);return s},Promise.prototype._length=function(){return 65535&this._bitField},Promise.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},Promise.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},Promise.prototype._setLength=function(e){this._bitField=this._bitField&-65536|65535&e},Promise.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},Promise.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},Promise.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},Promise.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},Promise.prototype._isFinal=function(){return(4194304&this._bitField)>0},Promise.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},Promise.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},Promise.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},Promise.prototype._setAsyncGuaranteed=function(){d.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},Promise.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==s)return void 0===t&&this._isBound()?this._boundValue():t},Promise.prototype._promiseAt=function(e){return this[4*e-4+2]},Promise.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},Promise.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},Promise.prototype._boundValue=function(){},Promise.prototype._migrateCallback0=function(e){var t=(e._bitField,e._fulfillmentHandler0),n=e._rejectionHandler0,i=e._promise0,r=e._receiverAt(0);void 0===r&&(r=s),this._addCallbacks(t,n,i,r,null)},Promise.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),i=e._rejectionHandlerAt(t),r=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=s),this._addCallbacks(n,i,r,o,null)},Promise.prototype._addCallbacks=function(e,t,n,i,r){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=i,"function"==typeof e&&(this._fulfillmentHandler0=null===r?e:l.domainBind(r,e)),"function"==typeof t&&(this._rejectionHandler0=null===r?t:l.domainBind(r,t));else{var a=4*o-4;this[a+2]=n,this[a+3]=i,"function"==typeof e&&(this[a+0]=null===r?e:l.domainBind(r,e)),"function"==typeof t&&(this[a+1]=null===r?t:l.domainBind(r,t))}return this._setLength(o+1),o},Promise.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},Promise.prototype._resolveCallback=function(e,t){if(0===(117506048&this._bitField)){if(e===this)return this._rejectCallback(r(),!1);var n=y(e,this);if(!(n instanceof Promise))return this._fulfill(e);t&&this._propagateFrom(n,2);var i=n._target();if(i===this)return void this._reject(r());var o=i._bitField;if(0===(50397184&o)){var a=this._length();a>0&&i._migrateCallback0(this);for(var s=1;s<a;++s)i._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(i)}else if(0!==(33554432&o))this._fulfill(i._value());else if(0!==(16777216&o))this._reject(i._reason());else{var l=new p("late cancellation observer");i._attachExtraTrace(l),this._reject(l)}}},Promise.prototype._rejectCallback=function(e,t,n){var i=l.ensureErrorObject(e),r=i===e;if(!r&&!n&&x.warnings()){var o="a promise was rejected with a non-error: "+l.classString(e);this._warn(o,!0)}this._attachExtraTrace(i,!!t&&r),this._reject(e)},Promise.prototype._resolveFromExecutor=function(e){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,i=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),void 0!==i&&t._rejectCallback(i,!0)},Promise.prototype._settlePromiseFromHandler=function(e,t,n,i){var r=i._bitField;if(0===(65536&r)){i._pushContext();var o;t===g?n&&"number"==typeof n.length?o=M(e).apply(this._boundValue(),n):(o=T,o.e=new m("cannot .spread() a non-array: "+l.classString(n))):o=M(e).call(t,n);var a=i._popContext();r=i._bitField,0===(65536&r)&&(o===v?i._reject(n):o===T?i._rejectCallback(o.e,!1):(x.checkForgottenReturns(o,a,"",i,this),i._resolveCallback(o)))}},Promise.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},Promise.prototype._followee=function(){return this._rejectionHandler0},Promise.prototype._setFollowee=function(e){this._rejectionHandler0=e},Promise.prototype._settlePromise=function(e,t,n,i){var r=e instanceof Promise,a=this._bitField,s=0!==(134217728&a);0!==(65536&a)?(r&&e._invokeInternalOnCancel(),n instanceof C&&n.isFinallyHandler()?(n.cancelPromise=e,M(t).call(n,i)===T&&e._reject(T.e)):t===o?e._fulfill(o.call(n)):n instanceof Proxyable?n._promiseCancelled(e):r||e instanceof b?e._cancel():n.cancel()):"function"==typeof t?r?(s&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,n,i,e)):t.call(n,i,e):n instanceof Proxyable?n._isResolved()||(0!==(33554432&a)?n._promiseFulfilled(i,e):n._promiseRejected(i,e)):r&&(s&&e._setAsyncGuaranteed(),0!==(33554432&a)?e._fulfill(i):e._reject(i))},Promise.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,i=e.receiver,r=e.value;"function"==typeof t?n instanceof Promise?this._settlePromiseFromHandler(t,i,r,n):t.call(i,r,n):n instanceof Promise&&n._reject(r)},Promise.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},Promise.prototype._settlePromise0=function(e,t,n){var i=this._promise0,r=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(i,e,r,t)},Promise.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},Promise.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=r();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!==(134217728&t)?this._settlePromises():d.settlePromises(this))}},Promise.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16))return this._setRejected(),this._fulfillmentHandler0=e,this._isFinal()?d.fatalError(e,l.isNode):void((65535&t)>0?d.settlePromises(this):this._ensurePossibleRejectionHandled())},Promise.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var i=this._fulfillmentHandlerAt(n),r=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(r,i,o,t)}},Promise.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var i=this._rejectionHandlerAt(n),r=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(r,i,o,t)}},Promise.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!==(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var i=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,i,e),this._fulfillPromises(t,i)}this._setLength(0)}this._clearCancellationData()},Promise.prototype._settledValue=function(){var e=this._bitField;return 0!==(33554432&e)?this._rejectionHandler0:0!==(16777216&e)?this._fulfillmentHandler0:void 0},Promise.defer=Promise.pending=function(){x.deprecated("Promise.defer","new Promise");var e=new Promise(f);return{promise:e,resolve:deferResolve,reject:deferReject}},l.notEnumerableProp(Promise,"_makeSelfResolutionError",r),e("./method")(Promise,f,y,a,x),e("./bind")(Promise,f,y,x),e("./cancel")(Promise,b,a,x),e("./direct_resolve")(Promise),e("./synchronous_inspection")(Promise),e("./join")(Promise,b,y,f,d,i),Promise.Promise=Promise,Promise.version="3.4.7",e("./map.js")(Promise,b,a,y,f,x),e("./call_get.js")(Promise),e("./using.js")(Promise,a,y,w,f,x),e("./timers.js")(Promise,f,x),e("./generators.js")(Promise,a,f,y,Proxyable,x),e("./nodeify.js")(Promise),e("./promisify.js")(Promise,f),e("./props.js")(Promise,b,y,a),e("./race.js")(Promise,f,y,a),e("./reduce.js")(Promise,b,a,y,f,x),e("./settle.js")(Promise,b,x),e("./some.js")(Promise,b,a),e("./filter.js")(Promise,f),e("./each.js")(Promise,f),e("./any.js")(Promise),l.toFastProperties(Promise),l.toFastProperties(Promise.prototype),fillTypes({a:1}),fillTypes({b:2}),fillTypes({c:3}),fillTypes(1),fillTypes(function(){}),fillTypes(void 0),fillTypes(!1),fillTypes(new Promise(f)),x.setBounds(u.firstLineError,l.lastLineError),Promise}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o){function toResolutionValue(e){switch(e){case-2:return[];case-3:return{}}}function PromiseArray(e){var i=this._promise=new t(n);e instanceof t&&i._propagateFrom(e,3),i._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var a=e("./util");a.isArray;return a.inherits(PromiseArray,o),PromiseArray.prototype.length=function(){return this._length},PromiseArray.prototype.promise=function(){return this._promise},PromiseArray.prototype._init=function init(e,n){var o=i(this._values,this._promise);if(o instanceof t){o=o._target();var s=o._bitField;if(this._values=o,0===(50397184&s))return this._promise._setAsyncGuaranteed(),o._then(init,this._reject,void 0,this,n);if(0===(33554432&s))return 0!==(16777216&s)?this._reject(o._reason()):this._cancel();o=o._value()}if(o=a.asArray(o),null===o){var l=r("expecting an array or an iterable object but got "+a.classString(o)).reason();return void this._promise._rejectCallback(l,!1)}return 0===o.length?void(n===-5?this._resolveEmptyArray():this._resolve(toResolutionValue(n))):void this._iterate(o)},PromiseArray.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var r=this._promise,o=!1,a=null,s=0;s<n;++s){var l=i(e[s],r);l instanceof t?(l=l._target(),a=l._bitField):a=null,o?null!==a&&l.suppressUnhandledRejections():null!==a?0===(50397184&a)?(l._proxy(this,s),this._values[s]=l):o=0!==(33554432&a)?this._promiseFulfilled(l._value(),s):0!==(16777216&a)?this._promiseRejected(l._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(l,s)}o||r._setAsyncGuaranteed()},PromiseArray.prototype._isResolved=function(){return null===this._values},PromiseArray.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},PromiseArray.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},PromiseArray.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},PromiseArray.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},PromiseArray.prototype._promiseCancelled=function(){return this._cancel(),!0},PromiseArray.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},PromiseArray.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},PromiseArray.prototype.shouldCopyValues=function(){return!0},PromiseArray.prototype.getActualLength=function(e){return e},PromiseArray}},{"./util":36}],24:[function(e,t,n){"use strict";t.exports=function(t,n){function propsFilter(e){return!p.test(e)}function isPromisified(e){try{return e.__isPromisified__===!0}catch(e){return!1}}function hasPromisified(e,t,n){var i=o.getDataPropertyOrDefault(e,t+n,h);return!!i&&isPromisified(i)}function checkValid(e,t,n){for(var i=0;i<e.length;i+=2){var r=e[i];if(n.test(r))for(var o=r.replace(n,""),a=0;a<e.length;a+=2)if(e[a]===o)throw new u("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}function promisifiableMethods(e,t,n,i){for(var r=o.inheritedDataKeys(e),a=[],s=0;s<r.length;++s){var l=r[s],c=e[l],u=i===f||f(l,c,e);"function"!=typeof c||isPromisified(c)||hasPromisified(e,l,t)||!i(l,c,e,u)||a.push(l,c)}return checkValid(a,t,n),a}function makeNodePromisifiedClosure(e,i,c,u,d,h){function promisified(){var o=i;i===r&&(o=this);var c=new t(n);c._captureStackTrace();var u="string"==typeof p&&this!==m?this[p]:e,d=a(c,h);try{u.apply(o,s(arguments,d))}catch(e){c._rejectCallback(l(e),!0,!0)}return c._isFateSealed()||c._setAsyncGuaranteed(),c}var m=function(){return this}(),p=e;return"string"==typeof p&&(e=u),o.notEnumerableProp(promisified,"__isPromisified__",!0),promisified}function promisifyAll(e,t,n,i,a){for(var s=new RegExp(g(t)+"$"),l=promisifiableMethods(e,t,s,n),c=0,u=l.length;c<u;c+=2){var d=l[c],h=l[c+1],m=d+t;if(i===v)e[m]=v(d,r,d,h,t,a);else{var p=i(h,function(){return v(d,r,d,h,t,a)});o.notEnumerableProp(p,"__isPromisified__",!0),e[m]=p}}return o.toFastProperties(e),e}function promisify(e,t,n){return v(e,t,void 0,e,null,n)}var i,r={},o=e("./util"),a=e("./nodeback"),s=o.withAppended,l=o.maybeWrapAsError,c=o.canEvaluate,u=e("./errors").TypeError,d="Async",h={__isPromisified__:!0},m=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],p=new RegExp("^(?:"+m.join("|")+")$"),f=function(e){return o.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},g=function(e){return e.replace(/([$])/,"\\$")},v=c?i:makeNodePromisifiedClosure;t.promisify=function(e,t){if("function"!=typeof e)throw new u("expecting a function but got "+o.classString(e));if(isPromisified(e))return e;t=Object(t);var n=void 0===t.context?r:t.context,i=!!t.multiArgs,a=promisify(e,n,i);return o.copyDescriptors(e,a,propsFilter),a},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new u("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");t=Object(t);var n=!!t.multiArgs,i=t.suffix;"string"!=typeof i&&(i=d);var r=t.filter;"function"!=typeof r&&(r=f);var a=t.promisifier;if("function"!=typeof a&&(a=v),!o.isIdentifier(i))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=o.inheritedDataKeys(e),l=0;l<s.length;++l){var c=e[s[l]];"constructor"!==s[l]&&o.isClass(c)&&(promisifyAll(c.prototype,i,r,a,n),promisifyAll(c,i,r,a,n))}return promisifyAll(e,i,r,a,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,n){"use strict";t.exports=function(t,n,i,r){function PropertiesPromiseArray(e){var t,n=!1;if(void 0!==o&&e instanceof o)t=c(e),n=!0;else{var i=l.keys(e),r=i.length;t=new Array(2*r);for(var a=0;a<r;++a){var s=i[a];t[a]=e[s],t[a+r]=s}}this.constructor$(t),this._isMap=n,this._init$(void 0,-3)}function props(e){var n,o=i(e);return s(o)?(n=o instanceof t?o._then(t.props,void 0,void 0,void 0,void 0):new PropertiesPromiseArray(o).promise(),o instanceof t&&n._propagateFrom(o,2),n):r("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var o,a=e("./util"),s=a.isObject,l=e("./es5");"function"==typeof Map&&(o=Map);var c=function(){function extractEntry(n,i){this[e]=n,this[e+t]=i,e++}var e=0,t=0;return function(n){t=n.size,e=0;var i=new Array(2*n.size);return n.forEach(extractEntry,i),i}}(),u=function(e){for(var t=new o,n=e.length/2|0,i=0;i<n;++i){var r=e[n+i],a=e[i];t.set(r,a)}return t};a.inherits(PropertiesPromiseArray,n),PropertiesPromiseArray.prototype._init=function(){},PropertiesPromiseArray.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;if(n>=this._length){var i;if(this._isMap)i=u(this._values);else{i={};for(var r=this.length(),o=0,a=this.length();o<a;++o)i[this._values[o+r]]=this._values[o]}return this._resolve(i),!0}return!1},PropertiesPromiseArray.prototype.shouldCopyValues=function(){return!1},PropertiesPromiseArray.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return props(this)},t.props=function(e){return props(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function arrayMove(e,t,n,i,r){for(var o=0;o<r;++o)n[o+i]=e[o+t],e[o+t]=void 0}function Queue(e){this._capacity=e,this._length=0,this._front=0}Queue.prototype._willBeOverCapacity=function(e){return this._capacity<e},Queue.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var n=this._front+t&this._capacity-1;this[n]=e,this._length=t+1},Queue.prototype.push=function(e,t,n){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var r=this._front+i-3;this._checkCapacity(i);var o=this._capacity-1;this[r+0&o]=e,this[r+1&o]=t,this[r+2&o]=n,this._length=i},Queue.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},Queue.prototype.length=function(){return this._length},Queue.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},Queue.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var n=this._front,i=this._length,r=n+i&t-1;arrayMove(this,0,this,t,r)},t.exports=Queue},{}],27:[function(e,t,n){"use strict";t.exports=function(t,n,i,r){function race(e,s){var l=i(e);if(l instanceof t)return a(l);if(e=o.asArray(e),null===e)return r("expecting an array or an iterable object but got "+o.classString(e));var c=new t(n);void 0!==s&&c._propagateFrom(s,3);for(var u=c._fulfill,d=c._reject,h=0,m=e.length;h<m;++h){var p=e[h];(void 0!==p||h in e)&&t.cast(p)._then(u,d,void 0,c,null)}return c}var o=e("./util"),a=function(e){return e.then(function(t){return race(t,e)})};t.race=function(e){return race(e,void 0)},t.prototype.race=function(){return race(this,void 0)}}},{"./util":36}],28:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o,a){function ReductionPromiseArray(e,n,i,r){this.constructor$(e);var a=s();this._fn=null===a?n:l.domainBind(a,n),void 0!==i&&(i=t.resolve(i),i._attachCancellationCallback(this)),this._initialValue=i,this._currentCancellable=null,r===o?this._eachValues=Array(this._length):0===r?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function completed(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function reduce(e,t,n,r){if("function"!=typeof t)return i("expecting a function but got "+l.classString(t));var o=new ReductionPromiseArray(e,t,n,r);return o.promise()}function gotAccum(e){this.accum=e,this.array._gotAccum(e);var n=r(this.value,this.array._promise);return n instanceof t?(this.array._currentCancellable=n,n._then(gotValue,void 0,void 0,this,void 0)):gotValue.call(this,n)}function gotValue(e){var n=this.array,i=n._promise,r=c(n._fn);i._pushContext();
var o;o=void 0!==n._eachValues?r.call(i._boundValue(),e,this.index,this.length):r.call(i._boundValue(),this.accum,e,this.index,this.length),o instanceof t&&(n._currentCancellable=o);var s=i._popContext();return a.checkForgottenReturns(o,s,void 0!==n._eachValues?"Promise.each":"Promise.reduce",i),o}var s=t._getDomain,l=e("./util"),c=l.tryCatch;l.inherits(ReductionPromiseArray,n),ReductionPromiseArray.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)},ReductionPromiseArray.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},ReductionPromiseArray.prototype._init=function(){},ReductionPromiseArray.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},ReductionPromiseArray.prototype.shouldCopyValues=function(){return!1},ReductionPromiseArray.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},ReductionPromiseArray.prototype._resultCancelled=function(e){return e===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel()))},ReductionPromiseArray.prototype._iterate=function(e){this._values=e;var n,i,r=e.length;if(void 0!==this._initialValue?(n=this._initialValue,i=0):(n=t.resolve(e[0]),i=1),this._currentCancellable=n,!n.isRejected())for(;i<r;++i){var o={accum:null,value:e[i],index:i,length:r,array:this};n=n._then(gotAccum,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(completed,completed,void 0,n,this)},t.prototype.reduce=function(e,t){return reduce(this,e,t,null)},t.reduce=function(e,t,n,i){return reduce(e,t,n,i)}}},{"./util":36}],29:[function(e,r,o){"use strict";var a,s=e("./util"),l=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},c=s.getNativePromise();if(s.isNode&&"undefined"==typeof MutationObserver){var u=n.setImmediate,d=t.nextTick;a=s.isRecentNode?function(e){u.call(n,e)}:function(e){d.call(t,e)}}else if("function"==typeof c&&"function"==typeof c.resolve){var h=c.resolve();a=function(e){h.then(e)}}else a="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof i?function(e){i(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:l:function(){var e=document.createElement("div"),t={attributes:!0},n=!1,i=document.createElement("div"),r=new MutationObserver(function(){e.classList.toggle("foo"),n=!1});r.observe(i,t);var o=function(){n||(n=!0,i.classList.toggle("foo"))};return function(n){var i=new MutationObserver(function(){i.disconnect(),n()});i.observe(e,t),o()}}();r.exports=a},{"./util":36}],30:[function(e,t,n){"use strict";t.exports=function(t,n,i){function SettledPromiseArray(e){this.constructor$(e)}var r=t.PromiseInspection,o=e("./util");o.inherits(SettledPromiseArray,n),SettledPromiseArray.prototype._promiseResolved=function(e,t){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},SettledPromiseArray.prototype._promiseFulfilled=function(e,t){var n=new r;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},SettledPromiseArray.prototype._promiseRejected=function(e,t){var n=new r;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},t.settle=function(e){return i.deprecated(".settle()",".reflect()"),new SettledPromiseArray(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,n){"use strict";t.exports=function(t,n,i){function SomePromiseArray(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function some(e,t){if((0|t)!==t||t<0)return i("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new SomePromiseArray(e),r=n.promise();return n.setHowMany(t),n.init(),r}var r=e("./util"),o=e("./errors").RangeError,a=e("./errors").AggregateError,s=r.isArray,l={};r.inherits(SomePromiseArray,n),SomePromiseArray.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=s(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},SomePromiseArray.prototype.init=function(){this._initialized=!0,this._init()},SomePromiseArray.prototype.setUnwrap=function(){this._unwrap=!0},SomePromiseArray.prototype.howMany=function(){return this._howMany},SomePromiseArray.prototype.setHowMany=function(e){this._howMany=e},SomePromiseArray.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},SomePromiseArray.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},SomePromiseArray.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},SomePromiseArray.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new a,t=this.length();t<this._values.length;++t)this._values[t]!==l&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},SomePromiseArray.prototype._fulfilled=function(){return this._totalResolved},SomePromiseArray.prototype._rejected=function(){return this._values.length-this.length()},SomePromiseArray.prototype._addRejected=function(e){this._values.push(e)},SomePromiseArray.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},SomePromiseArray.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},SomePromiseArray.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new o(t)},SomePromiseArray.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return some(e,t)},t.prototype.some=function(e){return some(this,e)},t._SomePromiseArray=SomePromiseArray}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function PromiseInspection(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}PromiseInspection.prototype._settledValue=function(){return this._settledValueField};var t=PromiseInspection.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},n=PromiseInspection.prototype.error=PromiseInspection.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=PromiseInspection.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},r=PromiseInspection.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},o=PromiseInspection.prototype.isPending=function(){return 0===(50397184&this._bitField)},a=PromiseInspection.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};PromiseInspection.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},e.prototype.isPending=function(){return o.call(this._target())},e.prototype.isRejected=function(){return r.call(this._target())},e.prototype.isFulfilled=function(){return i.call(this._target())},e.prototype.isResolved=function(){return a.call(this._target())},e.prototype.value=function(){return t.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),n.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=PromiseInspection}},{}],33:[function(e,t,n){"use strict";t.exports=function(t,n){function tryConvertToPromise(e,i){if(o(e)){if(e instanceof t)return e;var a=getThen(e);if(a===r){i&&i._pushContext();var s=t.reject(a.e);return i&&i._popContext(),s}if("function"==typeof a){if(isAnyBluebirdPromise(e)){var s=new t(n);return e._then(s._fulfill,s._reject,void 0,s,null),s}return doThenable(e,a,i)}}return e}function doGetThen(e){return e.then}function getThen(e){try{return doGetThen(e)}catch(e){return r.e=e,r}}function isAnyBluebirdPromise(e){try{return a.call(e,"_promise0")}catch(e){return!1}}function doThenable(e,o,a){function resolve(e){s&&(s._resolveCallback(e),s=null)}function reject(e){s&&(s._rejectCallback(e,c,!0),s=null)}var s=new t(n),l=s;a&&a._pushContext(),s._captureStackTrace(),a&&a._popContext();var c=!0,u=i.tryCatch(o).call(e,resolve,reject);return c=!1,s&&u===r&&(s._rejectCallback(u.e,!0,!0),s=null),l}var i=e("./util"),r=i.errorObj,o=i.isObject,a={}.hasOwnProperty;return tryConvertToPromise}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(t,n,i){function HandleWrapper(e){this.handle=e}function successClear(e){return clearTimeout(this.handle),e}function failureClear(e){throw clearTimeout(this.handle),e}var r=e("./util"),o=t.TimeoutError;HandleWrapper.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(e){return s(+this).thenReturn(e)},s=t.delay=function(e,r){var o,s;return void 0!==r?(o=t.resolve(r)._then(a,null,null,e,void 0),i.cancellation()&&r instanceof t&&o._setOnCancel(r)):(o=new t(n),s=setTimeout(function(){o._fulfill()},+e),i.cancellation()&&o._setOnCancel(new HandleWrapper(s)),o._captureStackTrace()),o._setAsyncGuaranteed(),o};t.prototype.delay=function(e){return s(e,this)};var l=function(e,t,n){var i;i="string"!=typeof t?t instanceof Error?t:new o("operation timed out"):new o(t),r.markAsOriginatingFromRejection(i),e._attachExtraTrace(i),e._reject(i),null!=n&&n.cancel()};t.prototype.timeout=function(e,t){e=+e;var n,r,o=new HandleWrapper(setTimeout(function(){n.isPending()&&l(n,t,r)},e));return i.cancellation()?(r=this.then(),n=r._then(successClear,failureClear,void 0,o,void 0),n._setOnCancel(o)):n=this._then(successClear,failureClear,void 0,o,void 0),n}}},{"./util":36}],35:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o,a){function thrower(e){setTimeout(function(){throw e},0)}function castPreservingDisposable(e){var t=i(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function dispose(e,n){function iterator(){if(r>=a)return s._fulfill();var o=castPreservingDisposable(e[r++]);if(o instanceof t&&o._isDisposable()){try{o=i(o._getDisposer().tryDispose(n),e.promise)}catch(e){return thrower(e)}if(o instanceof t)return o._then(iterator,thrower,null,null,null)}iterator()}var r=0,a=e.length,s=new t(o);return iterator(),s}function Disposer(e,t,n){this._data=e,this._promise=t,this._context=n}function FunctionDisposer(e,t,n){this.constructor$(e,t,n)}function maybeUnwrapDisposer(e){return Disposer.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function ResourceList(e){this.length=e,this.promise=null,this[e-1]=null}var s=e("./util"),l=e("./errors").TypeError,c=e("./util").inherits,u=s.errorObj,d=s.tryCatch,h={};Disposer.prototype.data=function(){return this._data},Disposer.prototype.promise=function(){return this._promise},Disposer.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():h},Disposer.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var i=t!==h?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,i},Disposer.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},c(FunctionDisposer,Disposer),FunctionDisposer.prototype.doDispose=function(e,t){var n=this.data();return n.call(e,e,t)},ResourceList.prototype._resultCancelled=function(){for(var e=this.length,n=0;n<e;++n){var i=this[n];i instanceof t&&i.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return n("you must pass at least 2 arguments to Promise.using");var r=arguments[e-1];if("function"!=typeof r)return n("expecting a function but got "+s.classString(r));var o,l=!0;2===e&&Array.isArray(arguments[0])?(o=arguments[0],e=o.length,l=!1):(o=arguments,e--);for(var c=new ResourceList(e),h=0;h<e;++h){var m=o[h];if(Disposer.isDisposer(m)){var p=m;m=m.promise(),m._setDisposable(p)}else{var f=i(m);f instanceof t&&(m=f._then(maybeUnwrapDisposer,null,null,{resources:c,index:h},void 0))}c[h]=m}for(var g=new Array(c.length),h=0;h<g.length;++h)g[h]=t.resolve(c[h]).reflect();var v=t.all(g).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return u.e=n.error(),u;if(!n.isFulfilled())return void v.cancel();e[t]=n.value()}y._pushContext(),r=d(r);var i=l?r.apply(void 0,e):r(e),o=y._popContext();return a.checkForgottenReturns(i,o,"Promise.using",y),i}),y=v.lastly(function(){var e=new t.PromiseInspection(v);return dispose(c,e)});return c.promise=y,y._setOnCancel(c),y},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new FunctionDisposer(e,this,r());throw new l}}},{"./errors":12,"./util":36}],36:[function(e,i,r){"use strict";function tryCatcher(){try{var e=l;return l=null,e.apply(this,arguments)}catch(e){return s.e=e,s}}function tryCatch(e){return l=e,tryCatcher}function isPrimitive(e){return null==e||e===!0||e===!1||"string"==typeof e||"number"==typeof e}function isObject(e){return"function"==typeof e||"object"==typeof e&&null!==e}function maybeWrapAsError(e){return isPrimitive(e)?new Error(safeToString(e)):e}function withAppended(e,t){var n,i=e.length,r=new Array(i+1);for(n=0;n<i;++n)r[n]=e[n];return r[n]=t,r}function getDataPropertyOrDefault(e,t,n){if(!o.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var i=Object.getOwnPropertyDescriptor(e,t);return null!=i?null==i.get&&null==i.set?i.value:n:void 0}function notEnumerableProp(e,t,n){if(isPrimitive(e))return e;var i={value:n,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(e,t,i),e}function thrower(e){throw e}function isClass(e){try{if("function"==typeof e){var t=o.names(e.prototype),n=o.isES5&&t.length>1,i=t.length>0&&!(1===t.length&&"constructor"===t[0]),r=h.test(e+"")&&o.names(e).length>0;if(n||i||r)return!0}return!1}catch(e){return!1}}function toFastProperties(e){function FakeConstructor(){}FakeConstructor.prototype=e;for(var t=8;t--;)new FakeConstructor;return e}function isIdentifier(e){return m.test(e)}function filledRange(e,t,n){for(var i=new Array(e),r=0;r<e;++r)i[r]=t+r+n;return i}function safeToString(e){try{return e+""}catch(e){return"[no string representation]"}}function isError(e){return null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function markAsOriginatingFromRejection(e){try{notEnumerableProp(e,"isOperational",!0)}catch(e){}}function originatesFromRejection(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||e.isOperational===!0)}function canAttachTrace(e){return isError(e)&&o.propertyIsWritable(e,"stack")}function classString(e){return{}.toString.call(e)}function copyDescriptors(e,t,n){for(var i=o.names(e),r=0;r<i.length;++r){var a=i[r];if(n(a))try{o.defineProperty(t,a,o.getDescriptor(e,a))}catch(e){}}}function env(e){return y?t.env[e]:void 0}function getNativePromise(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(e){}}function domainBind(e,t){return e.bind(t)}var o=e("./es5"),a="undefined"==typeof navigator,s={e:{}},l,c="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof n?n:void 0!==this?this:null,u=function(e,t){function T(){this.constructor=e,this.constructor$=t;for(var i in t.prototype)n.call(t.prototype,i)&&"$"!==i.charAt(i.length-1)&&(this[i+"$"]=t.prototype[i])}var n={}.hasOwnProperty;return T.prototype=t.prototype,e.prototype=new T,e.prototype},d=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(o.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var i=[],r=Object.create(null);null!=e&&!t(e);){var a;try{a=n(e)}catch(e){return i}for(var s=0;s<a.length;++s){var l=a[s];if(!r[l]){r[l]=!0;var c=Object.getOwnPropertyDescriptor(e,l);null!=c&&null==c.get&&null==c.set&&i.push(l)}}e=o.getPrototypeOf(e)}return i}}var i={}.hasOwnProperty;return function(n){if(t(n))return[];var r=[];e:for(var o in n)if(i.call(n,o))r.push(o);else{for(var a=0;a<e.length;++a)if(i.call(e[a],o))continue e;r.push(o)}return r}}(),h=/this\s*\.\s*\S+\s*=/,m=/^[a-z$_][a-z$_0-9]*$/i,p=function(){return"stack"in new Error?function(e){return canAttachTrace(e)?e:new Error(safeToString(e))}:function(e){if(canAttachTrace(e))return e;try{throw new Error(safeToString(e))}catch(e){return e}}}(),f=function(e){return o.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var g="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],i=e[Symbol.iterator]();!(t=i.next()).done;)n.push(t.value);return n};f=function(e){return o.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?g(e):null}}var v="undefined"!=typeof t&&"[object process]"===classString(t).toLowerCase(),y="undefined"!=typeof t&&"undefined"!=typeof t.env,b={isClass:isClass,isIdentifier:isIdentifier,inheritedDataKeys:d,getDataPropertyOrDefault:getDataPropertyOrDefault,thrower:thrower,isArray:o.isArray,asArray:f,notEnumerableProp:notEnumerableProp,isPrimitive:isPrimitive,isObject:isObject,isError:isError,canEvaluate:a,errorObj:s,tryCatch:tryCatch,inherits:u,withAppended:withAppended,maybeWrapAsError:maybeWrapAsError,toFastProperties:toFastProperties,filledRange:filledRange,toString:safeToString,canAttachTrace:canAttachTrace,ensureErrorObject:p,originatesFromRejection:originatesFromRejection,markAsOriginatingFromRejection:markAsOriginatingFromRejection,classString:classString,copyDescriptors:copyDescriptors,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:v,hasEnvVariables:y,env:env,global:c,getNativePromise:getNativePromise,domainBind:domainBind};b.isRecentNode=b.isNode&&function(){var e=t.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),b.isNode&&b.toFastProperties(t);try{throw new Error}catch(e){b.lastLineError=e}i.exports=b},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(t,n(8),n(5),n(166).setImmediate)},function(e,t,n){var i;!function(r){"use strict";var o=r.HTMLCanvasElement&&r.HTMLCanvasElement.prototype,a=r.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),s=a&&r.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),l=r.BlobBuilder||r.WebKitBlobBuilder||r.MozBlobBuilder||r.MSBlobBuilder,c=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,u=(a||l)&&r.atob&&r.ArrayBuffer&&r.Uint8Array&&function(e){var t,n,i,r,o,u,d,h,m;if(t=e.match(c),!t)throw new Error("invalid data URI");for(n=t[2]?t[1]:"text/plain"+(t[3]||";charset=US-ASCII"),i=!!t[4],r=e.slice(t[0].length),o=i?atob(r):decodeURIComponent(r),u=new ArrayBuffer(o.length),d=new Uint8Array(u),h=0;h<o.length;h+=1)d[h]=o.charCodeAt(h);return a?new Blob([s?d:u],{type:n}):(m=new l,m.append(u),m.getBlob(n))};r.HTMLCanvasElement&&!o.toBlob&&(o.mozGetAsFile?o.toBlob=function(e,t,n){e(n&&o.toDataURL&&u?u(this.toDataURL(t,n)):this.mozGetAsFile("blob",t))}:o.toDataURL&&u&&(o.toBlob=function(e,t,n){e(u(this.toDataURL(t,n)))})),i=function(){return u}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}(window)},function(e,t,n){e.exports=n(7),n(36),n(16),n(360),n(35),n(359),n(361)},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(7),n(35)],i=a,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){"use strict";e.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},e.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},e.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":if(!t)return;return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":if(!t)return;return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":if(!t)return;return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},function(e){var t,n=e.tags,i=e.map;for(t in n)n.hasOwnProperty(t)&&(i[n[t]]=t)}(e.ExifMap.prototype),e.ExifMap.prototype.getAll=function(){var e,t,n={};for(e in this)this.hasOwnProperty(e)&&(t=this.tags[e],t&&(n[t]=this.getText(t)));return n}})},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(7),n(16)],i=a,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){"use strict";"fetch"in window&&"Request"in window&&(e.fetchBlob=function(t,n,i){return e.hasMetaOption(i)?fetch(new Request(t,i)).then(function(e){return e.blob()}).then(n).catch(function(e){console.log(e),n()}):void n()})})},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(7),n(36),n(16)],i=a,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){"use strict";var t=e.hasCanvasOption,n=e.hasMetaOption,i=e.transformCoordinates,r=e.getTransformedOptions;e.hasCanvasOption=function(n){return!!n.orientation||t.call(e,n)},e.hasMetaOption=function(t){return t&&t.orientation===!0||n.call(e,t)},e.transformCoordinates=function(t,n){i.call(e,t,n);var r=t.getContext("2d"),o=t.width,a=t.height,s=t.style.width,l=t.style.height,c=n.orientation;if(c&&!(c>8))switch(c>4&&(t.width=a,t.height=o,t.style.width=l,t.style.height=s),c){case 2:r.translate(o,0),r.scale(-1,1);break;case 3:r.translate(o,a),r.rotate(Math.PI);break;case 4:r.translate(0,a),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-a);break;case 7:r.rotate(.5*Math.PI),r.translate(o,-a),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-o,0)}},e.getTransformedOptions=function(t,n,i){var o,a,s=r.call(e,t,n),l=s.orientation;if(l===!0&&i&&i.exif&&(l=i.exif.get("Orientation")),!l||l>8||1===l)return s;o={};for(a in s)s.hasOwnProperty(a)&&(o[a]=s[a]);switch(o.orientation=l,l){case 2:o.left=s.right,o.right=s.left;break;case 3:o.left=s.right,o.top=s.bottom,o.right=s.left,o.bottom=s.top;break;case 4:o.top=s.bottom,o.bottom=s.top;break;case 5:o.left=s.top,o.top=s.left,o.right=s.bottom,o.bottom=s.right;break;case 6:o.left=s.top,o.top=s.right,o.right=s.bottom,o.bottom=s.left;break;case 7:o.left=s.bottom,o.top=s.right,o.right=s.top,o.bottom=s.left;break;case 8:o.left=s.bottom,o.top=s.left,o.right=s.top,o.bottom=s.right}return o.orientation>4&&(o.maxWidth=s.maxHeight,o.maxHeight=s.maxWidth,o.minWidth=s.minHeight,o.minHeight=s.minWidth,o.sourceWidth=s.sourceHeight,o.sourceHeight=s.sourceWidth),o}})},function(e,t,n){var i,r;!function(o){"use strict";function API(e){this.owner=e}function inherit(e,t){if(Object.create)t.prototype=Object.create(e.prototype);else{var n=function(){};n.prototype=e.prototype,t.prototype=new n}return t.prototype.constructor=t,t}function Chart(e){var t=this.internal=new ChartInternal(this);t.loadConfig(e),t.beforeInit(e),t.init(),t.afterInit(e),function bindThis(e,t,n){Object.keys(e).forEach(function(i){t[i]=e[i].bind(n),Object.keys(e[i]).length>0&&bindThis(e[i],t[i],n)})}(a,this,this)}function ChartInternal(e){var t=this;t.d3=o.d3?o.d3:n(37),t.api=e,t.config=t.getDefaultConfig(),t.data={},t.cache={},t.axes={}}function Axis(e){API.call(this,e)}function c3_axis(e,t){function axisX(e,t){e.attr("transform",function(e){return"translate("+Math.ceil(t(e)+d)+", 0)"})}function axisY(e,t){e.attr("transform",function(e){return"translate(0,"+Math.ceil(t(e))+")"})}function scaleExtent(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function generateTicks(e){var t,n,i=[];if(e.ticks)return e.ticks.apply(e,r);for(n=e.domain(),t=Math.ceil(n[0]);t<n[1];t++)i.push(t);return i.length>0&&i[0]>0&&i.unshift(i[0]-(i[1]-i[0])),i}function copyScale(){var e,n=a.copy();return t.isCategory&&(e=a.domain(),n.domain([e[0],e[1]-1])),n}function textFormatted(e){var t=i?i(e):e;return"undefined"!=typeof t?t:""}function getSizeFor1Char(e){if(E)return E;var t={h:11.5,w:5.5};return e.select("text").text(textFormatted).each(function(e){var n=this.getBoundingClientRect(),i=textFormatted(e),r=n.height,o=i?n.width/i.length:void 0;r&&o&&(t.h=r,t.w=o)}).text(""),E=t,t}function transitionise(n){return t.withoutTransition?n:e.transition(n)}function axis(i){i.each(function(){function splitTickText(e,n){function split(e,t){r=void 0;for(var a=1;a<t.length;a++)if(" "===t.charAt(a)&&(r=a),i=t.substr(0,a+1),o=$.w*i.length,n<o)return split(e.concat(t.substr(0,r?r:a)),t.slice(r?r+1:a));return e.concat(t);
}var i,r,o,a=textFormatted(e),s=[];return"[object Array]"===Object.prototype.toString.call(a)?a:((!n||n<=0)&&(n=D?95:t.isCategory?Math.ceil(f(g[1])-f(g[0]))-12:110),split(s,a+""))}function tspanDy(e,t){var n=$.h;return 0===t&&(n="left"===s||"right"===s?-((P[e.index]-1)*($.h/2)-3):".71em"),n}function tickSize(e){var t=a(e)+(o?0:d);return w[0]<t&&t<w[1]?l:0}function textAnchorForText(e){return e?e>0?"start":"end":"middle"}function textTransform(e){return e?"rotate("+e+")":""}function dxForText(e){return e?8*Math.sin(Math.PI*(e/180)):0}function yForText(e){return e?11.5-2.5*(e/15)*(e>0?1:-1):L}var i,r,h,m=axis.g=e.select(this),p=this.__chart__||a,f=this.__chart__=copyScale(),g=u?u:generateTicks(f),v=m.selectAll(".tick").data(g,f),y=v.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),b=v.exit().remove(),_=transitionise(v).style("opacity",1),w=a.rangeExtent?a.rangeExtent():scaleExtent(a.range()),x=m.selectAll(".domain").data([0]),C=(x.enter().append("path").attr("class","domain"),transitionise(x));y.append("line"),y.append("text");var S=y.select("line"),E=_.select("line"),T=y.select("text"),M=_.select("text");t.isCategory?(d=Math.ceil((f(1)-f(0))/2),r=o?0:d,h=o?d:0):d=r=0;var k,A,$=getSizeFor1Char(m.select(".tick")),P=[],L=Math.max(l,0)+c,D="left"===s||"right"===s;k=v.select("text"),A=k.selectAll("tspan").data(function(e,n){var i=t.tickMultiline?splitTickText(e,t.tickWidth):[].concat(textFormatted(e));return P[n]=i.length,i.map(function(e){return{index:n,splitted:e}})}),A.enter().append("tspan"),A.exit().remove(),A.text(function(e){return e.splitted});var R=t.tickTextRotate;switch(s){case"bottom":i=axisX,S.attr("y2",l),T.attr("y",L),E.attr("x1",r).attr("x2",r).attr("y2",tickSize),M.attr("x",0).attr("y",yForText(R)).style("text-anchor",textAnchorForText(R)).attr("transform",textTransform(R)),A.attr("x",0).attr("dy",tspanDy).attr("dx",dxForText(R)),C.attr("d","M"+w[0]+","+n+"V0H"+w[1]+"V"+n);break;case"top":i=axisX,S.attr("y2",-l),T.attr("y",-L),E.attr("x2",0).attr("y2",-l),M.attr("x",0).attr("y",-L),k.style("text-anchor","middle"),A.attr("x",0).attr("dy","0em"),C.attr("d","M"+w[0]+","+-n+"V0H"+w[1]+"V"+-n);break;case"left":i=axisY,S.attr("x2",-l),T.attr("x",-L),E.attr("x2",-l).attr("y1",h).attr("y2",h),M.attr("x",-L).attr("y",d),k.style("text-anchor","end"),A.attr("x",-L).attr("dy",tspanDy),C.attr("d","M"+-n+","+w[0]+"H0V"+w[1]+"H"+-n);break;case"right":i=axisY,S.attr("x2",l),T.attr("x",L),E.attr("x2",l).attr("y2",0),M.attr("x",L).attr("y",0),k.style("text-anchor","start"),A.attr("x",L).attr("dy",tspanDy),C.attr("d","M"+n+","+w[0]+"H0V"+w[1]+"H"+n)}if(f.rangeBand){var I=f,O=I.rangeBand()/2;p=f=function(e){return I(e)+O}}else p.rangeBand?p=f:b.call(i,f);y.call(i,p),_.call(i,f)})}var n,i,r,o,a=e.scale.linear(),s="bottom",l=6,c=3,u=null,d=0,h=!0;return t=t||{},n=t.withOuterTick?6:0,axis.scale=function(e){return arguments.length?(a=e,axis):a},axis.orient=function(e){return arguments.length?(s=e in{top:1,right:1,bottom:1,left:1}?e+"":"bottom",axis):s},axis.tickFormat=function(e){return arguments.length?(i=e,axis):i},axis.tickCentered=function(e){return arguments.length?(o=e,axis):o},axis.tickOffset=function(){return d},axis.tickInterval=function(){var e,i;return t.isCategory?e=2*d:(i=axis.g.select("path.domain").node().getTotalLength()-2*n,e=i/axis.g.selectAll("line").size()),e===1/0?0:e},axis.ticks=function(){return arguments.length?(r=arguments,axis):r},axis.tickCulling=function(e){return arguments.length?(h=e,axis):h},axis.tickValues=function(e){if("function"==typeof e)u=function(){return e(a.domain())};else{if(!arguments.length)return u;u=e}return axis},axis}var a,s,l,c={version:"0.4.11"};c.generate=function(e){return new Chart(e)},c.chart={fn:Chart.prototype,internal:{fn:ChartInternal.prototype,axis:{fn:Axis.prototype}}},a=c.chart.fn,s=c.chart.internal.fn,l=c.chart.internal.axis.fn,s.beforeInit=function(){},s.afterInit=function(){},s.init=function(){var e=this,t=e.config;if(e.initParams(),t.data_url)e.convertUrlToData(t.data_url,t.data_mimeType,t.data_headers,t.data_keys,e.initWithData);else if(t.data_json)e.initWithData(e.convertJsonToData(t.data_json,t.data_keys));else if(t.data_rows)e.initWithData(e.convertRowsToData(t.data_rows));else{if(!t.data_columns)throw Error("url or json or rows or columns is required.");e.initWithData(e.convertColumnsToData(t.data_columns))}},s.initParams=function(){var e=this,t=e.d3,n=e.config;e.clipId="c3-"+ +new Date+"-clip",e.clipIdForXAxis=e.clipId+"-xaxis",e.clipIdForYAxis=e.clipId+"-yaxis",e.clipIdForGrid=e.clipId+"-grid",e.clipIdForSubchart=e.clipId+"-subchart",e.clipPath=e.getClipPath(e.clipId),e.clipPathForXAxis=e.getClipPath(e.clipIdForXAxis),e.clipPathForYAxis=e.getClipPath(e.clipIdForYAxis),e.clipPathForGrid=e.getClipPath(e.clipIdForGrid),e.clipPathForSubchart=e.getClipPath(e.clipIdForSubchart),e.dragStart=null,e.dragging=!1,e.flowing=!1,e.cancelClick=!1,e.mouseover=!1,e.transiting=!1,e.color=e.generateColor(),e.levelColor=e.generateLevelColor(),e.dataTimeFormat=n.data_xLocaltime?t.time.format:t.time.format.utc,e.axisTimeFormat=n.axis_x_localtime?t.time.format:t.time.format.utc,e.defaultAxisTimeFormat=e.axisTimeFormat.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%-m/%-d",function(e){return e.getDay()&&1!==e.getDate()}],["%-m/%-d",function(e){return 1!==e.getDate()}],["%-m/%-d",function(e){return e.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),e.hiddenTargetIds=[],e.hiddenLegendIds=[],e.focusedTargetIds=[],e.defocusedTargetIds=[],e.xOrient=n.axis_rotated?"left":"bottom",e.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",e.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",e.subXOrient=n.axis_rotated?"left":"bottom",e.isLegendRight="right"===n.legend_position,e.isLegendInset="inset"===n.legend_position,e.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,e.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,e.legendStep=0,e.legendItemWidth=0,e.legendItemHeight=0,e.currentMaxTickWidths={x:0,y:0,y2:0},e.rotated_padding_left=30,e.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,e.rotated_padding_top=5,e.withoutFadeIn={},e.intervalForObserveInserted=void 0,e.axes.subx=t.selectAll([])},s.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},s.initWithData=function(e){var t,n,i=this,r=i.d3,o=i.config,a=!0;i.axis=new Axis(i),i.initPie&&i.initPie(),i.initBrush&&i.initBrush(),i.initZoom&&i.initZoom(),o.bindto?"function"==typeof o.bindto.node?i.selectChart=o.bindto:i.selectChart=r.select(o.bindto):i.selectChart=r.selectAll([]),i.selectChart.empty()&&(i.selectChart=r.select(document.createElement("div")).style("opacity",0),i.observeInserted(i.selectChart),a=!1),i.selectChart.html("").classed("c3",!0),i.data.xs={},i.data.targets=i.convertDataToTargets(e),o.data_filter&&(i.data.targets=i.data.targets.filter(o.data_filter)),o.data_hide&&i.addHiddenTargetIds(o.data_hide===!0?i.mapToIds(i.data.targets):o.data_hide),o.legend_hide&&i.addHiddenLegendIds(o.legend_hide===!0?i.mapToIds(i.data.targets):o.legend_hide),i.hasType("gauge")&&(o.legend_show=!1),i.updateSizes(),i.updateScales(),i.x.domain(r.extent(i.getXDomain(i.data.targets))),i.y.domain(i.getYDomain(i.data.targets,"y")),i.y2.domain(i.getYDomain(i.data.targets,"y2")),i.subX.domain(i.x.domain()),i.subY.domain(i.y.domain()),i.subY2.domain(i.y2.domain()),i.orgXDomain=i.x.domain(),i.brush&&i.brush.scale(i.subX),o.zoom_enabled&&i.zoom.scale(i.x),i.svg=i.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return o.onmouseover.call(i)}).on("mouseleave",function(){return o.onmouseout.call(i)}),i.config.svg_classname&&i.svg.attr("class",i.config.svg_classname),t=i.svg.append("defs"),i.clipChart=i.appendClip(t,i.clipId),i.clipXAxis=i.appendClip(t,i.clipIdForXAxis),i.clipYAxis=i.appendClip(t,i.clipIdForYAxis),i.clipGrid=i.appendClip(t,i.clipIdForGrid),i.clipSubchart=i.appendClip(t,i.clipIdForSubchart),i.updateSvgSize(),n=i.main=i.svg.append("g").attr("transform",i.getTranslate("main")),i.initSubchart&&i.initSubchart(),i.initTooltip&&i.initTooltip(),i.initLegend&&i.initLegend(),i.initTitle&&i.initTitle(),n.append("text").attr("class",u.text+" "+u.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),i.initRegion(),i.initGrid(),n.append("g").attr("clip-path",i.clipPath).attr("class",u.chart),o.grid_lines_front&&i.initGridLines(),i.initEventRect(),i.initChartElements(),n.insert("rect",o.zoom_privileged?null:"g."+u.regions).attr("class",u.zoomRect).attr("width",i.width).attr("height",i.height).style("opacity",0).on("dblclick.zoom",null),o.axis_x_extent&&i.brush.extent(i.getDefaultExtent()),i.axis.init(),i.updateTargets(i.data.targets),a&&(i.updateDimension(),i.config.oninit.call(i),i.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),i.bindResize(),i.api.element=i.selectChart.node()},s.smoothLines=function(e,t){var n=this;"grid"===t&&e.each(function(){var e=n.d3.select(this),t=e.attr("x1"),i=e.attr("x2"),r=e.attr("y1"),o=e.attr("y2");e.attr({x1:Math.ceil(t),x2:Math.ceil(i),y1:Math.ceil(r),y2:Math.ceil(o)})})},s.updateSizes=function(){var e=this,t=e.config,n=e.legend?e.getLegendHeight():0,i=e.legend?e.getLegendWidth():0,r=e.isLegendRight||e.isLegendInset?0:n,o=e.hasArcType(),a=t.axis_rotated||o?0:e.getHorizontalAxisHeight("x"),s=t.subchart_show&&!o?t.subchart_size_height+a:0;e.currentWidth=e.getCurrentWidth(),e.currentHeight=e.getCurrentHeight(),e.margin=t.axis_rotated?{top:e.getHorizontalAxisHeight("y2")+e.getCurrentPaddingTop(),right:o?0:e.getCurrentPaddingRight(),bottom:e.getHorizontalAxisHeight("y")+r+e.getCurrentPaddingBottom(),left:s+(o?0:e.getCurrentPaddingLeft())}:{top:4+e.getCurrentPaddingTop(),right:o?0:e.getCurrentPaddingRight(),bottom:a+s+r+e.getCurrentPaddingBottom(),left:o?0:e.getCurrentPaddingLeft()},e.margin2=t.axis_rotated?{top:e.margin.top,right:NaN,bottom:20+r,left:e.rotated_padding_left}:{top:e.currentHeight-s-r,right:NaN,bottom:a+r,left:e.margin.left},e.margin3={top:0,right:NaN,bottom:0,left:0},e.updateSizeForLegend&&e.updateSizeForLegend(n,i),e.width=e.currentWidth-e.margin.left-e.margin.right,e.height=e.currentHeight-e.margin.top-e.margin.bottom,e.width<0&&(e.width=0),e.height<0&&(e.height=0),e.width2=t.axis_rotated?e.margin.left-e.rotated_padding_left-e.rotated_padding_right:e.width,e.height2=t.axis_rotated?e.height:e.currentHeight-e.margin2.top-e.margin2.bottom,e.width2<0&&(e.width2=0),e.height2<0&&(e.height2=0),e.arcWidth=e.width-(e.isLegendRight?i+10:0),e.arcHeight=e.height-(e.isLegendRight?0:10),e.hasType("gauge")&&!t.gauge_fullCircle&&(e.arcHeight+=e.height-e.getGaugeLabelHeight()),e.updateRadius&&e.updateRadius(),e.isLegendRight&&o&&(e.margin3.left=e.arcWidth/2+1.1*e.radiusExpanded)},s.updateTargets=function(e){var t=this;t.updateTargetsForText(e),t.updateTargetsForBar(e),t.updateTargetsForLine(e),t.hasArcType()&&t.updateTargetsForArc&&t.updateTargetsForArc(e),t.updateTargetsForSubchart&&t.updateTargetsForSubchart(e),t.showTargets()},s.showTargets=function(){var e=this;e.svg.selectAll("."+u.target).filter(function(t){return e.isTargetToShow(t.id)}).transition().duration(e.config.transition_duration).style("opacity",1)},s.redraw=function(e,t){var n,i,r,o,a,s,l,c,d,h,m,p,f,g,v,y,b,_,x,C,S,E,T,M,k,A,$,P,L,D=this,R=D.main,I=D.d3,O=D.config,F=D.getShapeIndices(D.isAreaType),N=D.getShapeIndices(D.isBarType),H=D.getShapeIndices(D.isLineType),j=D.hasArcType(),B=D.filterTargetsToShow(D.data.targets),V=D.xv.bind(D);if(e=e||{},n=w(e,"withY",!0),i=w(e,"withSubchart",!0),r=w(e,"withTransition",!0),s=w(e,"withTransform",!1),l=w(e,"withUpdateXDomain",!1),c=w(e,"withUpdateOrgXDomain",!1),d=w(e,"withTrimXDomain",!0),f=w(e,"withUpdateXAxis",l),h=w(e,"withLegend",!1),m=w(e,"withEventRect",!0),p=w(e,"withDimension",!0),o=w(e,"withTransitionForExit",r),a=w(e,"withTransitionForAxis",r),x=r?O.transition_duration:0,C=o?x:0,S=a?x:0,t=t||D.axis.generateTransitions(S),h&&O.legend_show?D.updateLegend(D.mapToIds(D.data.targets),e,t):p&&D.updateDimension(!0),D.isCategorized()&&0===B.length&&D.x.domain([0,D.axes.x.selectAll(".tick").size()]),B.length?(D.updateXDomain(B,l,c,d),O.axis_x_tick_values||(M=D.axis.updateXAxisTickValues(B))):(D.xAxis.tickValues([]),D.subXAxis.tickValues([])),O.zoom_rescale&&!e.flow&&($=D.x.orgDomain()),D.y.domain(D.getYDomain(B,"y",$)),D.y2.domain(D.getYDomain(B,"y2",$)),!O.axis_y_tick_values&&O.axis_y_tick_count&&D.yAxis.tickValues(D.axis.generateTickValues(D.y.domain(),O.axis_y_tick_count)),!O.axis_y2_tick_values&&O.axis_y2_tick_count&&D.y2Axis.tickValues(D.axis.generateTickValues(D.y2.domain(),O.axis_y2_tick_count)),D.axis.redraw(t,j),D.axis.updateLabels(r),(l||f)&&B.length)if(O.axis_x_tick_culling&&M){for(k=1;k<M.length;k++)if(M.length/k<O.axis_x_tick_culling_max){A=k;break}D.svg.selectAll("."+u.axisX+" .tick text").each(function(e){var t=M.indexOf(e);t>=0&&I.select(this).style("display",t%A?"none":"block")})}else D.svg.selectAll("."+u.axisX+" .tick text").style("display","block");g=D.generateDrawArea?D.generateDrawArea(F,!1):void 0,v=D.generateDrawBar?D.generateDrawBar(N):void 0,y=D.generateDrawLine?D.generateDrawLine(H,!1):void 0,b=D.generateXYForText(F,N,H,!0),_=D.generateXYForText(F,N,H,!1),n&&(D.subY.domain(D.getYDomain(B,"y")),D.subY2.domain(D.getYDomain(B,"y2"))),D.updateXgridFocus(),R.select("text."+u.text+"."+u.empty).attr("x",D.width/2).attr("y",D.height/2).text(O.data_empty_label_text).transition().style("opacity",B.length?0:1),D.updateGrid(x),D.updateRegion(x),D.updateBar(C),D.updateLine(C),D.updateArea(C),D.updateCircle(),D.hasDataLabel()&&D.updateText(C),D.redrawTitle&&D.redrawTitle(),D.redrawArc&&D.redrawArc(x,C,s),D.redrawSubchart&&D.redrawSubchart(i,t,x,C,F,N,H),R.selectAll("."+u.selectedCircles).filter(D.isBarType.bind(D)).selectAll("circle").remove(),O.interaction_enabled&&!e.flow&&m&&(D.redrawEventRect(),D.updateZoom&&D.updateZoom()),D.updateCircleY(),P=(D.config.axis_rotated?D.circleY:D.circleX).bind(D),L=(D.config.axis_rotated?D.circleX:D.circleY).bind(D),e.flow&&(T=D.generateFlow({targets:B,flow:e.flow,duration:e.flow.duration,drawBar:v,drawLine:y,drawArea:g,cx:P,cy:L,xv:V,xForText:b,yForText:_})),(x||T)&&D.isTabVisible()?I.transition().duration(x).each(function(){var t=[];[D.redrawBar(v,!0),D.redrawLine(y,!0),D.redrawArea(g,!0),D.redrawCircle(P,L,!0),D.redrawText(b,_,e.flow,!0),D.redrawRegion(!0),D.redrawGrid(!0)].forEach(function(e){e.forEach(function(e){t.push(e)})}),E=D.generateWait(),t.forEach(function(e){E.add(e)})}).call(E,function(){T&&T(),O.onrendered&&O.onrendered.call(D)}):(D.redrawBar(v),D.redrawLine(y),D.redrawArea(g),D.redrawCircle(P,L),D.redrawText(b,_,e.flow),D.redrawRegion(),D.redrawGrid(),O.onrendered&&O.onrendered.call(D)),D.mapToIds(D.data.targets).forEach(function(e){D.withoutFadeIn[e]=!0})},s.updateAndRedraw=function(e){var t,n=this,i=n.config;e=e||{},e.withTransition=w(e,"withTransition",!0),e.withTransform=w(e,"withTransform",!1),e.withLegend=w(e,"withLegend",!1),e.withUpdateXDomain=!0,e.withUpdateOrgXDomain=!0,e.withTransitionForExit=!1,e.withTransitionForTransform=w(e,"withTransitionForTransform",e.withTransition),n.updateSizes(),e.withLegend&&i.legend_show||(t=n.axis.generateTransitions(e.withTransitionForAxis?i.transition_duration:0),n.updateScales(),n.updateSvgSize(),n.transformAll(e.withTransitionForTransform,t)),n.redraw(e,t)},s.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},s.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},s.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},s.isCustomX=function(){var e=this,t=e.config;return!e.isTimeSeries()&&(t.data_x||_(t.data_xs))},s.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},s.getTranslate=function(e){var t,n,i=this,r=i.config;return"main"===e?(t=v(i.margin.left),n=v(i.margin.top)):"context"===e?(t=v(i.margin2.left),n=v(i.margin2.top)):"legend"===e?(t=i.margin3.left,n=i.margin3.top):"x"===e?(t=0,n=r.axis_rotated?0:i.height):"y"===e?(t=0,n=r.axis_rotated?i.height:0):"y2"===e?(t=r.axis_rotated?0:i.width,n=r.axis_rotated?1:0):"subx"===e?(t=0,n=r.axis_rotated?0:i.height2):"arc"===e&&(t=i.arcWidth/2,n=i.arcHeight/2),"translate("+t+","+n+")"},s.initialOpacity=function(e){return null!==e.value&&this.withoutFadeIn[e.id]?1:0},s.initialOpacityForCircle=function(e){return null!==e.value&&this.withoutFadeIn[e.id]?this.opacityForCircle(e):0},s.opacityForCircle=function(e){var t=this.config.point_show?1:0;return d(e.value)?this.isScatterType(e)?.5:t:0},s.opacityForText=function(){return this.hasDataLabel()?1:0},s.xx=function(e){return e?this.x(e.x):null},s.xv=function(e){var t=this,n=e.value;return t.isTimeSeries()?n=t.parseDate(e.value):t.isCategorized()&&"string"==typeof e.value&&(n=t.config.axis_x_categories.indexOf(e.value)),Math.ceil(t.x(n))},s.yv=function(e){var t=this,n=e.axis&&"y2"===e.axis?t.y2:t.y;return Math.ceil(n(e.value))},s.subxx=function(e){return e?this.subX(e.x):null},s.transformMain=function(e,t){var n,i,r,o=this;t&&t.axisX?n=t.axisX:(n=o.main.select("."+u.axisX),e&&(n=n.transition())),t&&t.axisY?i=t.axisY:(i=o.main.select("."+u.axisY),e&&(i=i.transition())),t&&t.axisY2?r=t.axisY2:(r=o.main.select("."+u.axisY2),e&&(r=r.transition())),(e?o.main.transition():o.main).attr("transform",o.getTranslate("main")),n.attr("transform",o.getTranslate("x")),i.attr("transform",o.getTranslate("y")),r.attr("transform",o.getTranslate("y2")),o.main.select("."+u.chartArcs).attr("transform",o.getTranslate("arc"))},s.transformAll=function(e,t){var n=this;n.transformMain(e,t),n.config.subchart_show&&n.transformContext(e,t),n.legend&&n.transformLegend(e)},s.updateSvgSize=function(){var e=this,t=e.svg.select(".c3-brush .background");e.svg.attr("width",e.currentWidth).attr("height",e.currentHeight),e.svg.selectAll(["#"+e.clipId,"#"+e.clipIdForGrid]).select("rect").attr("width",e.width).attr("height",e.height),e.svg.select("#"+e.clipIdForXAxis).select("rect").attr("x",e.getXAxisClipX.bind(e)).attr("y",e.getXAxisClipY.bind(e)).attr("width",e.getXAxisClipWidth.bind(e)).attr("height",e.getXAxisClipHeight.bind(e)),e.svg.select("#"+e.clipIdForYAxis).select("rect").attr("x",e.getYAxisClipX.bind(e)).attr("y",e.getYAxisClipY.bind(e)).attr("width",e.getYAxisClipWidth.bind(e)).attr("height",e.getYAxisClipHeight.bind(e)),e.svg.select("#"+e.clipIdForSubchart).select("rect").attr("width",e.width).attr("height",t.size()?t.attr("height"):0),e.svg.select("."+u.zoomRect).attr("width",e.width).attr("height",e.height),e.selectChart.style("max-height",e.currentHeight+"px")},s.updateDimension=function(e){var t=this;e||(t.config.axis_rotated?(t.axes.x.call(t.xAxis),t.axes.subx.call(t.subXAxis)):(t.axes.y.call(t.yAxis),t.axes.y2.call(t.y2Axis))),t.updateSizes(),t.updateScales(),t.updateSvgSize(),t.transformAll(!1)},s.observeInserted=function(e){var t,n=this;return"undefined"==typeof MutationObserver?void o.console.error("MutationObserver not defined."):(t=new MutationObserver(function(i){i.forEach(function(i){"childList"===i.type&&i.previousSibling&&(t.disconnect(),n.intervalForObserveInserted=o.setInterval(function(){e.node().parentNode&&(o.clearInterval(n.intervalForObserveInserted),n.updateDimension(),n.brush&&n.brush.update(),n.config.oninit.call(n),n.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.transition().style("opacity",1))},10))})}),void t.observe(e.node(),{attributes:!0,childList:!0,characterData:!0}))},s.bindResize=function(){var e=this,t=e.config;if(e.resizeFunction=e.generateResize(),e.resizeFunction.add(function(){t.onresize.call(e)}),t.resize_auto&&e.resizeFunction.add(function(){void 0!==e.resizeTimeout&&o.clearTimeout(e.resizeTimeout),e.resizeTimeout=o.setTimeout(function(){delete e.resizeTimeout,e.api.flush()},100)}),e.resizeFunction.add(function(){t.onresized.call(e)}),o.attachEvent)o.attachEvent("onresize",e.resizeFunction);else if(o.addEventListener)o.addEventListener("resize",e.resizeFunction,!1);else{var n=o.onresize;n?n.add&&n.remove||(n=e.generateResize(),n.add(o.onresize)):n=e.generateResize(),n.add(e.resizeFunction),o.onresize=n}},s.generateResize=function(){function callResizeFunctions(){e.forEach(function(e){e()})}var e=[];return callResizeFunctions.add=function(t){e.push(t)},callResizeFunctions.remove=function(t){for(var n=0;n<e.length;n++)if(e[n]===t){e.splice(n,1);break}},callResizeFunctions},s.endall=function(e,t){var n=0;e.each(function(){++n}).each("end",function(){--n||t.apply(this,arguments)})},s.generateWait=function(){var e=[],t=function(t,n){var i=setInterval(function(){var t=0;e.forEach(function(e){if(e.empty())return void(t+=1);try{e.transition()}catch(e){t+=1}}),t===e.length&&(clearInterval(i),n&&n())},10)};return t.add=function(t){e.push(t)},t},s.parseDate=function(e){var t,n=this;return e instanceof Date?t=e:"string"==typeof e?t=n.dataTimeFormat(n.config.data_xFormat).parse(e):"number"!=typeof e||isNaN(e)||(t=new Date(+e)),t&&!isNaN(+t)||o.console.error("Failed to parse x '"+e+"' to Date object"),t},s.isTabVisible=function(){var e;return"undefined"!=typeof document.hidden?e="hidden":"undefined"!=typeof document.mozHidden?e="mozHidden":"undefined"!=typeof document.msHidden?e="msHidden":"undefined"!=typeof document.webkitHidden&&(e="webkitHidden"),!document[e]},s.getDefaultConfig=function(){var e={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(e){return e},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_units:void 0,gauge_width:void 0,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(e,t,n,i){return this.getTooltipContent?this.getTooltipContent(e,t,n,i):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(t){e[t]=this.additionalConfig[t]},this),e},s.additionalConfig={},s.loadConfig=function(e){function find(){var e=n.shift();return e&&t&&"object"==typeof t&&e in t?(t=t[e],find()):e?void 0:t}var t,n,i,r=this.config;Object.keys(r).forEach(function(o){t=e,n=o.split("_"),i=find(),f(i)&&(r[o]=i)})},s.getScale=function(e,t,n){return(n?this.d3.time.scale():this.d3.scale.linear()).range([e,t])},s.getX=function(e,t,n,i){var r,o=this,a=o.getScale(e,t,o.isTimeSeries()),s=n?a.domain(n):a;o.isCategorized()?(i=i||function(){return 0},a=function(e,t){var n=s(e)+i(e);return t?n:Math.ceil(n)}):a=function(e,t){var n=s(e);return t?n:Math.ceil(n)};for(r in s)a[r]=s[r];return a.orgDomain=function(){return s.domain()},o.isCategorized()&&(a.domain=function(e){return arguments.length?(s.domain(e),a):(e=this.orgDomain(),[e[0],e[1]+1])}),a},s.getY=function(e,t,n){var i=this.getScale(e,t,this.isTimeSeriesY());return n&&i.domain(n),i},s.getYScale=function(e){return"y2"===this.axis.getId(e)?this.y2:this.y},s.getSubYScale=function(e){return"y2"===this.axis.getId(e)?this.subY2:this.subY},s.updateScales=function(){var e=this,t=e.config,n=!e.x;e.xMin=t.axis_rotated?1:0,e.xMax=t.axis_rotated?e.height:e.width,e.yMin=t.axis_rotated?0:e.height,e.yMax=t.axis_rotated?e.width:1,e.subXMin=e.xMin,e.subXMax=e.xMax,e.subYMin=t.axis_rotated?0:e.height2,e.subYMax=t.axis_rotated?e.width2:1,e.x=e.getX(e.xMin,e.xMax,n?void 0:e.x.orgDomain(),function(){return e.xAxis.tickOffset()}),e.y=e.getY(e.yMin,e.yMax,n?t.axis_y_default:e.y.domain()),e.y2=e.getY(e.yMin,e.yMax,n?t.axis_y2_default:e.y2.domain()),e.subX=e.getX(e.xMin,e.xMax,e.orgXDomain,function(t){return t%1?0:e.subXAxis.tickOffset()}),e.subY=e.getY(e.subYMin,e.subYMax,n?t.axis_y_default:e.subY.domain()),e.subY2=e.getY(e.subYMin,e.subYMax,n?t.axis_y2_default:e.subY2.domain()),e.xAxisTickFormat=e.axis.getXAxisTickFormat(),e.xAxisTickValues=e.axis.getXAxisTickValues(),e.yAxisTickValues=e.axis.getYAxisTickValues(),e.y2AxisTickValues=e.axis.getY2AxisTickValues(),e.xAxis=e.axis.getXAxis(e.x,e.xOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.subXAxis=e.axis.getXAxis(e.subX,e.subXOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.yAxis=e.axis.getYAxis(e.y,e.yOrient,t.axis_y_tick_format,e.yAxisTickValues,t.axis_y_tick_outer),e.y2Axis=e.axis.getYAxis(e.y2,e.y2Orient,t.axis_y2_tick_format,e.y2AxisTickValues,t.axis_y2_tick_outer),n||(e.brush&&e.brush.scale(e.subX),t.zoom_enabled&&e.zoom.scale(e.x)),e.updateArc&&e.updateArc()},s.getYDomainMin=function(e){var t,n,i,r,o,a,s=this,l=s.config,c=s.mapToIds(e),u=s.getValuesAsIdKeyed(e);if(l.data_groups.length>0)for(a=s.hasNegativeValueInTargets(e),t=0;t<l.data_groups.length;t++)if(r=l.data_groups[t].filter(function(e){return c.indexOf(e)>=0}),0!==r.length)for(i=r[0],a&&u[i]&&u[i].forEach(function(e,t){u[i][t]=e<0?e:0}),n=1;n<r.length;n++)o=r[n],u[o]&&u[o].forEach(function(e,t){s.axis.getId(o)!==s.axis.getId(i)||!u[i]||a&&+e>0||(u[i][t]+=+e)});return s.d3.min(Object.keys(u).map(function(e){return s.d3.min(u[e])}))},s.getYDomainMax=function(e){var t,n,i,r,o,a,s=this,l=s.config,c=s.mapToIds(e),u=s.getValuesAsIdKeyed(e);if(l.data_groups.length>0)for(a=s.hasPositiveValueInTargets(e),t=0;t<l.data_groups.length;t++)if(r=l.data_groups[t].filter(function(e){return c.indexOf(e)>=0}),0!==r.length)for(i=r[0],a&&u[i]&&u[i].forEach(function(e,t){u[i][t]=e>0?e:0}),n=1;n<r.length;n++)o=r[n],u[o]&&u[o].forEach(function(e,t){s.axis.getId(o)!==s.axis.getId(i)||!u[i]||a&&+e<0||(u[i][t]+=+e)});return s.d3.max(Object.keys(u).map(function(e){return s.d3.max(u[e])}))},s.getYDomain=function(e,t,n){var i,r,o,a,s,l,c,u,h,m,p,f=this,g=f.config,v=e.filter(function(e){return f.axis.getId(e.id)===t}),b=n?f.filterByXDomain(v,n):v,w="y2"===t?g.axis_y2_min:g.axis_y_min,x="y2"===t?g.axis_y2_max:g.axis_y_max,C=f.getYDomainMin(b),S=f.getYDomainMax(b),E="y2"===t?g.axis_y2_center:g.axis_y_center,T=f.hasType("bar",b)&&g.bar_zerobased||f.hasType("area",b)&&g.area_zerobased,M="y2"===t?g.axis_y2_inverted:g.axis_y_inverted,k=f.hasDataLabel()&&g.axis_rotated,A=f.hasDataLabel()&&!g.axis_rotated;return C=d(w)?w:d(x)?C<x?C:x-10:C,S=d(x)?x:d(w)?w<S?S:w+10:S,0===b.length?"y2"===t?f.y2.domain():f.y.domain():(isNaN(C)&&(C=0),isNaN(S)&&(S=C),C===S&&(C<0?S=0:C=0),m=C>=0&&S>=0,p=C<=0&&S<=0,(d(w)&&m||d(x)&&p)&&(T=!1),T&&(m&&(C=0),p&&(S=0)),r=Math.abs(S-C),o=a=s=.1*r,"undefined"!=typeof E&&(l=Math.max(Math.abs(C),Math.abs(S)),S=E+l,C=E-l),k?(c=f.getDataLabelLength(C,S,"width"),u=y(f.y.range()),h=[c[0]/u,c[1]/u],a+=r*(h[1]/(1-h[0]-h[1])),s+=r*(h[0]/(1-h[0]-h[1]))):A&&(c=f.getDataLabelLength(C,S,"height"),a+=f.axis.convertPixelsToAxisPadding(c[1],r),s+=f.axis.convertPixelsToAxisPadding(c[0],r)),"y"===t&&_(g.axis_y_padding)&&(a=f.axis.getPadding(g.axis_y_padding,"top",a,r),s=f.axis.getPadding(g.axis_y_padding,"bottom",s,r)),"y2"===t&&_(g.axis_y2_padding)&&(a=f.axis.getPadding(g.axis_y2_padding,"top",a,r),s=f.axis.getPadding(g.axis_y2_padding,"bottom",s,r)),T&&(m&&(s=C),p&&(a=-S)),i=[C-s,S+a],M?i.reverse():i)},s.getXDomainMin=function(e){var t=this,n=t.config;return f(n.axis_x_min)?t.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:t.d3.min(e,function(e){return t.d3.min(e.values,function(e){return e.x})})},s.getXDomainMax=function(e){var t=this,n=t.config;return f(n.axis_x_max)?t.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:t.d3.max(e,function(e){return t.d3.max(e.values,function(e){return e.x})})},s.getXDomainPadding=function(e){var t,n,i,r,o=this,a=o.config,s=e[1]-e[0];return o.isCategorized()?n=0:o.hasType("bar")?(t=o.getMaxDataCount(),n=t>1?s/(t-1)/2:.5):n=.01*s,"object"==typeof a.axis_x_padding&&_(a.axis_x_padding)?(i=d(a.axis_x_padding.left)?a.axis_x_padding.left:n,r=d(a.axis_x_padding.right)?a.axis_x_padding.right:n):i=r="number"==typeof a.axis_x_padding?a.axis_x_padding:n,{left:i,right:r
}},s.getXDomain=function(e){var t=this,n=[t.getXDomainMin(e),t.getXDomainMax(e)],i=n[0],r=n[1],o=t.getXDomainPadding(n),a=0,s=0;return i-r!==0||t.isCategorized()||(t.isTimeSeries()?(i=new Date(.5*i.getTime()),r=new Date(1.5*r.getTime())):(i=0===i?1:.5*i,r=0===r?-1:1.5*r)),(i||0===i)&&(a=t.isTimeSeries()?new Date(i.getTime()-o.left):i-o.left),(r||0===r)&&(s=t.isTimeSeries()?new Date(r.getTime()+o.right):r+o.right),[a,s]},s.updateXDomain=function(e,t,n,i,r){var o=this,a=o.config;return n&&(o.x.domain(r?r:o.d3.extent(o.getXDomain(e))),o.orgXDomain=o.x.domain(),a.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent(),o.subX.domain(o.x.domain()),o.brush&&o.brush.scale(o.subX)),t&&(o.x.domain(r?r:!o.brush||o.brush.empty()?o.orgXDomain:o.brush.extent()),a.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent()),i&&o.x.domain(o.trimXDomain(o.x.orgDomain())),o.x.domain()},s.trimXDomain=function(e){var t=this.getZoomDomain(),n=t[0],i=t[1];return e[0]<=n&&(e[1]=+e[1]+(n-e[0]),e[0]=n),i<=e[1]&&(e[0]=+e[0]-(e[1]-i),e[1]=i),e},s.isX=function(e){var t=this,n=t.config;return n.data_x&&e===n.data_x||_(n.data_xs)&&x(n.data_xs,e)},s.isNotX=function(e){return!this.isX(e)},s.getXKey=function(e){var t=this,n=t.config;return n.data_x?n.data_x:_(n.data_xs)?n.data_xs[e]:null},s.getXValuesOfXKey=function(e,t){var n,i=this,r=t&&_(t)?i.mapToIds(t):[];return r.forEach(function(t){i.getXKey(t)===e&&(n=i.data.xs[t])}),n},s.getIndexByX=function(e){var t=this,n=t.filterByX(t.data.targets,e);return n.length?n[0].index:null},s.getXValue=function(e,t){var n=this;return e in n.data.xs&&n.data.xs[e]&&d(n.data.xs[e][t])?n.data.xs[e][t]:t},s.getOtherTargetXs=function(){var e=this,t=Object.keys(e.data.xs);return t.length?e.data.xs[t[0]]:null},s.getOtherTargetX=function(e){var t=this.getOtherTargetXs();return t&&e<t.length?t[e]:null},s.addXs=function(e){var t=this;Object.keys(e).forEach(function(n){t.config.data_xs[n]=e[n]})},s.hasMultipleX=function(e){return this.d3.set(Object.keys(e).map(function(t){return e[t]})).size()>1},s.isMultipleX=function(){return _(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},s.addName=function(e){var t,n=this;return e&&(t=n.config.data_names[e.id],e.name=void 0!==t?t:e.id),e},s.getValueOnIndex=function(e,t){var n=e.filter(function(e){return e.index===t});return n.length?n[0]:null},s.updateTargetX=function(e,t){var n=this;e.forEach(function(e){e.values.forEach(function(i,r){i.x=n.generateTargetX(t[r],e.id,r)}),n.data.xs[e.id]=t})},s.updateTargetXs=function(e,t){var n=this;e.forEach(function(e){t[e.id]&&n.updateTargetX([e],t[e.id])})},s.generateTargetX=function(e,t,n){var i,r=this;return i=r.isTimeSeries()?e?r.parseDate(e):r.parseDate(r.getXValue(t,n)):r.isCustomX()&&!r.isCategorized()?d(e)?+e:r.getXValue(t,n):n},s.cloneTarget=function(e){return{id:e.id,id_org:e.id_org,values:e.values.map(function(e){return{x:e.x,value:e.value,id:e.id}})}},s.updateXs=function(){var e=this;e.data.targets.length&&(e.xs=[],e.data.targets[0].values.forEach(function(t){e.xs[t.index]=t.x}))},s.getPrevX=function(e){var t=this.xs[e-1];return"undefined"!=typeof t?t:null},s.getNextX=function(e){var t=this.xs[e+1];return"undefined"!=typeof t?t:null},s.getMaxDataCount=function(){var e=this;return e.d3.max(e.data.targets,function(e){return e.values.length})},s.getMaxDataCountTarget=function(e){var t,n=e.length,i=0;return n>1?e.forEach(function(e){e.values.length>i&&(t=e,i=e.values.length)}):t=n?e[0]:null,t},s.getEdgeX=function(e){var t=this;return e.length?[t.d3.min(e,function(e){return e.values[0].x}),t.d3.max(e,function(e){return e.values[e.values.length-1].x})]:[0,0]},s.mapToIds=function(e){return e.map(function(e){return e.id})},s.mapToTargetIds=function(e){var t=this;return e?[].concat(e):t.mapToIds(t.data.targets)},s.hasTarget=function(e,t){var n,i=this.mapToIds(e);for(n=0;n<i.length;n++)if(i[n]===t)return!0;return!1},s.isTargetToShow=function(e){return this.hiddenTargetIds.indexOf(e)<0},s.isLegendToShow=function(e){return this.hiddenLegendIds.indexOf(e)<0},s.filterTargetsToShow=function(e){var t=this;return e.filter(function(e){return t.isTargetToShow(e.id)})},s.mapTargetsToUniqueXs=function(e){var t=this,n=t.d3.set(t.d3.merge(e.map(function(e){return e.values.map(function(e){return+e.x})}))).values();return n=t.isTimeSeries()?n.map(function(e){return new Date(+e)}):n.map(function(e){return+e}),n.sort(function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN})},s.addHiddenTargetIds=function(e){this.hiddenTargetIds=this.hiddenTargetIds.concat(e)},s.removeHiddenTargetIds=function(e){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(t){return e.indexOf(t)<0})},s.addHiddenLegendIds=function(e){this.hiddenLegendIds=this.hiddenLegendIds.concat(e)},s.removeHiddenLegendIds=function(e){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(t){return e.indexOf(t)<0})},s.getValuesAsIdKeyed=function(e){var t={};return e.forEach(function(e){t[e.id]=[],e.values.forEach(function(n){t[e.id].push(n.value)})}),t},s.checkValueInTargets=function(e,t){var n,i,r,o=Object.keys(e);for(n=0;n<o.length;n++)for(r=e[o[n]].values,i=0;i<r.length;i++)if(t(r[i].value))return!0;return!1},s.hasNegativeValueInTargets=function(e){return this.checkValueInTargets(e,function(e){return e<0})},s.hasPositiveValueInTargets=function(e){return this.checkValueInTargets(e,function(e){return e>0})},s.isOrderDesc=function(){var e=this.config;return"string"==typeof e.data_order&&"desc"===e.data_order.toLowerCase()},s.isOrderAsc=function(){var e=this.config;return"string"==typeof e.data_order&&"asc"===e.data_order.toLowerCase()},s.orderTargets=function(e){var t=this,n=t.config,i=t.isOrderAsc(),r=t.isOrderDesc();return i||r?e.sort(function(e,t){var n=function(e,t){return e+Math.abs(t.value)},r=e.values.reduce(n,0),o=t.values.reduce(n,0);return i?o-r:r-o}):h(n.data_order)&&e.sort(n.data_order),e},s.filterByX=function(e,t){return this.d3.merge(e.map(function(e){return e.values})).filter(function(e){return e.x-t===0})},s.filterRemoveNull=function(e){return e.filter(function(e){return d(e.value)})},s.filterByXDomain=function(e,t){return e.map(function(e){return{id:e.id,id_org:e.id_org,values:e.values.filter(function(e){return t[0]<=e.x&&e.x<=t[1]})}})},s.hasDataLabel=function(){var e=this.config;return!("boolean"!=typeof e.data_labels||!e.data_labels)||!("object"!=typeof e.data_labels||!_(e.data_labels))},s.getDataLabelLength=function(e,t,n){var i=this,r=[0,0],o=1.3;return i.selectChart.select("svg").selectAll(".dummy").data([e,t]).enter().append("text").text(function(e){return i.dataLabelFormat(e.id)(e)}).each(function(e,t){r[t]=this.getBoundingClientRect()[n]*o}).remove(),r},s.isNoneArc=function(e){return this.hasTarget(this.data.targets,e.id)},s.isArc=function(e){return"data"in e&&this.hasTarget(this.data.targets,e.data.id)},s.findSameXOfValues=function(e,t){var n,i=e[t].x,r=[];for(n=t-1;n>=0&&i===e[n].x;n--)r.push(e[n]);for(n=t;n<e.length&&i===e[n].x;n++)r.push(e[n]);return r},s.findClosestFromTargets=function(e,t){var n,i=this;return n=e.map(function(e){return i.findClosest(e.values,t)}),i.findClosest(n,t)},s.findClosest=function(e,t){var n,i=this,r=i.config.point_sensitivity;return e.filter(function(e){return e&&i.isBarType(e.id)}).forEach(function(e){var t=i.main.select("."+u.bars+i.getTargetSelectorSuffix(e.id)+" ."+u.bar+"-"+e.index).node();!n&&i.isWithinBar(t)&&(n=e)}),e.filter(function(e){return e&&!i.isBarType(e.id)}).forEach(function(e){var o=i.dist(e,t);o<r&&(r=o,n=e)}),n},s.dist=function(e,t){var n=this,i=n.config,r=i.axis_rotated?1:0,o=i.axis_rotated?0:1,a=n.circleY(e,e.index),s=n.x(e.x);return Math.sqrt(Math.pow(s-t[r],2)+Math.pow(a-t[o],2))},s.convertValuesToStep=function(e){var t,n=[].concat(e);if(!this.isCategorized())return e;for(t=e.length+1;0<t;t--)n[t]=n[t-1];return n[0]={x:n[0].x-1,value:n[0].value,id:n[0].id},n[e.length+1]={x:n[e.length].x+1,value:n[e.length].value,id:n[e.length].id},n},s.updateDataAttributes=function(e,t){var n=this,i=n.config,r=i["data_"+e];return"undefined"==typeof t?r:(Object.keys(t).forEach(function(e){r[e]=t[e]}),n.redraw({withLegend:!0}),r)},s.convertUrlToData=function(e,t,n,i,r){var o=this,a=t?t:"csv",s=o.d3.xhr(e);n&&Object.keys(n).forEach(function(e){s.header(e,n[e])}),s.get(function(e,t){var n;if(!t)throw new Error(e.responseURL+" "+e.status+" ("+e.statusText+")");n="json"===a?o.convertJsonToData(JSON.parse(t.response),i):"tsv"===a?o.convertTsvToData(t.response):o.convertCsvToData(t.response),r.call(o,n)})},s.convertXsvToData=function(e,t){var n,i=t.parseRows(e);return 1===i.length?(n=[{}],i[0].forEach(function(e){n[0][e]=null})):n=t.parse(e),n},s.convertCsvToData=function(e){return this.convertXsvToData(e,this.d3.csv)},s.convertTsvToData=function(e){return this.convertXsvToData(e,this.d3.tsv)},s.convertJsonToData=function(e,t){var n,i,r=this,o=[];return t?(t.x?(n=t.value.concat(t.x),r.config.data_x=t.x):n=t.value,o.push(n),e.forEach(function(e){var t=[];n.forEach(function(n){var i=r.findValueInJson(e,n);p(i)&&(i=null),t.push(i)}),o.push(t)}),i=r.convertRowsToData(o)):(Object.keys(e).forEach(function(t){o.push([t].concat(e[t]))}),i=r.convertColumnsToData(o)),i},s.findValueInJson=function(e,t){t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var n=t.split("."),i=0;i<n.length;++i){var r=n[i];if(!(r in e))return;e=e[r]}return e},s.convertRowsToData=function(e){var t,n,i=e[0],r={},o=[];for(t=1;t<e.length;t++){for(r={},n=0;n<e[t].length;n++){if(p(e[t][n]))throw new Error("Source data is missing a component at ("+t+","+n+")!");r[i[n]]=e[t][n]}o.push(r)}return o},s.convertColumnsToData=function(e){var t,n,i,r=[];for(t=0;t<e.length;t++)for(i=e[t][0],n=1;n<e[t].length;n++){if(p(r[n-1])&&(r[n-1]={}),p(e[t][n]))throw new Error("Source data is missing a component at ("+t+","+n+")!");r[n-1][i]=e[t][n]}return r},s.convertDataToTargets=function(e,t){var n,i=this,r=i.config,o=i.d3.keys(e[0]).filter(i.isNotX,i),a=i.d3.keys(e[0]).filter(i.isX,i);return o.forEach(function(n){var o=i.getXKey(n);i.isCustomX()||i.isTimeSeries()?a.indexOf(o)>=0?i.data.xs[n]=(t&&i.data.xs[n]?i.data.xs[n]:[]).concat(e.map(function(e){return e[o]}).filter(d).map(function(e,t){return i.generateTargetX(e,n,t)})):r.data_x?i.data.xs[n]=i.getOtherTargetXs():_(r.data_xs)&&(i.data.xs[n]=i.getXValuesOfXKey(o,i.data.targets)):i.data.xs[n]=e.map(function(e,t){return t})}),o.forEach(function(e){if(!i.data.xs[e])throw new Error('x is not defined for id = "'+e+'".')}),n=o.map(function(t,n){var o=r.data_idConverter(t);return{id:o,id_org:t,values:e.map(function(e,a){var s,l=i.getXKey(t),c=e[l],u=null===e[t]||isNaN(e[t])?null:+e[t];return i.isCustomX()&&i.isCategorized()&&0===n&&!p(c)?(0===n&&0===a&&(r.axis_x_categories=[]),s=r.axis_x_categories.indexOf(c),s===-1&&(s=r.axis_x_categories.length,r.axis_x_categories.push(c))):s=i.generateTargetX(c,t,a),(p(e[t])||i.data.xs[t].length<=a)&&(s=void 0),{x:s,value:u,id:o}}).filter(function(e){return f(e.x)})}}),n.forEach(function(e){var t;r.data_xSort&&(e.values=e.values.sort(function(e,t){var n=e.x||0===e.x?e.x:1/0,i=t.x||0===t.x?t.x:1/0;return n-i})),t=0,e.values.forEach(function(e){e.index=t++}),i.data.xs[e.id].sort(function(e,t){return e-t})}),i.hasNegativeValue=i.hasNegativeValueInTargets(n),i.hasPositiveValue=i.hasPositiveValueInTargets(n),r.data_type&&i.setTargetType(i.mapToIds(n).filter(function(e){return!(e in r.data_types)}),r.data_type),n.forEach(function(e){i.addCache(e.id_org,e)}),n},s.load=function(e,t){var n=this;e&&(t.filter&&(e=e.filter(t.filter)),(t.type||t.types)&&e.forEach(function(e){var i=t.types&&t.types[e.id]?t.types[e.id]:t.type;n.setTargetType(e.id,i)}),n.data.targets.forEach(function(t){for(var n=0;n<e.length;n++)if(t.id===e[n].id){t.values=e[n].values,e.splice(n,1);break}}),n.data.targets=n.data.targets.concat(e)),n.updateTargets(n.data.targets),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()},s.loadFromArgs=function(e){var t=this;e.data?t.load(t.convertDataToTargets(e.data),e):e.url?t.convertUrlToData(e.url,e.mimeType,e.headers,e.keys,function(n){t.load(t.convertDataToTargets(n),e)}):e.json?t.load(t.convertDataToTargets(t.convertJsonToData(e.json,e.keys)),e):e.rows?t.load(t.convertDataToTargets(t.convertRowsToData(e.rows)),e):e.columns?t.load(t.convertDataToTargets(t.convertColumnsToData(e.columns)),e):t.load(null,e)},s.unload=function(e,t){var n=this;return t||(t=function(){}),e=e.filter(function(e){return n.hasTarget(n.data.targets,e)}),e&&0!==e.length?(n.svg.selectAll(e.map(function(e){return n.selectorTarget(e)})).transition().style("opacity",0).remove().call(n.endall,t),void e.forEach(function(e){n.withoutFadeIn[e]=!1,n.legend&&n.legend.selectAll("."+u.legendItem+n.getTargetSelectorSuffix(e)).remove(),n.data.targets=n.data.targets.filter(function(t){return t.id!==e})})):void t()},s.categoryName=function(e){var t=this.config;return e<t.axis_x_categories.length?t.axis_x_categories[e]:e},s.initEventRect=function(){var e=this;e.main.select("."+u.chart).append("g").attr("class",u.eventRects).style("fill-opacity",0)},s.redrawEventRect=function(){var e,t,n=this,i=n.config,r=n.isMultipleX(),o=n.main.select("."+u.eventRects).style("cursor",i.zoom_enabled?i.axis_rotated?"ns-resize":"ew-resize":null).classed(u.eventRectsMultiple,r).classed(u.eventRectsSingle,!r);o.selectAll("."+u.eventRect).remove(),n.eventRect=o.selectAll("."+u.eventRect),r?(e=n.eventRect.data([0]),n.generateEventRectsForMultipleXs(e.enter()),n.updateEventRect(e)):(t=n.getMaxDataCountTarget(n.data.targets),o.datum(t?t.values:[]),n.eventRect=o.selectAll("."+u.eventRect),e=n.eventRect.data(function(e){return e}),n.generateEventRectsForSingleX(e.enter()),n.updateEventRect(e),e.exit().remove())},s.updateEventRect=function(e){var t,n,i,r,o,a,s=this,l=s.config;e=e||s.eventRect.data(function(e){return e}),s.isMultipleX()?(t=0,n=0,i=s.width,r=s.height):(!s.isCustomX()&&!s.isTimeSeries()||s.isCategorized()?(o=s.getEventRectWidth(),a=function(e){return s.x(e.x)-o/2}):(s.updateXs(),o=function(e){var t=s.getPrevX(e.index),n=s.getNextX(e.index);return null===t&&null===n?l.axis_rotated?s.height:s.width:(null===t&&(t=s.x.domain()[0]),null===n&&(n=s.x.domain()[1]),Math.max(0,(s.x(n)-s.x(t))/2))},a=function(e){var t=s.getPrevX(e.index),n=s.getNextX(e.index),i=s.data.xs[e.id][e.index];return null===t&&null===n?0:(null===t&&(t=s.x.domain()[0]),(s.x(i)+s.x(t))/2)}),t=l.axis_rotated?0:a,n=l.axis_rotated?a:0,i=l.axis_rotated?s.width:o,r=l.axis_rotated?o:s.height),e.attr("class",s.classEvent.bind(s)).attr("x",t).attr("y",n).attr("width",i).attr("height",r)},s.generateEventRectsForSingleX=function(e){var t=this,n=t.d3,i=t.config;e.append("rect").attr("class",t.classEvent.bind(t)).style("cursor",i.data_selection_enabled&&i.data_selection_grouped?"pointer":null).on("mouseover",function(e){var n=e.index;t.dragging||t.flowing||t.hasArcType()||(i.point_focus_expand_enabled&&t.expandCircles(n,null,!0),t.expandBars(n,null,!0),t.main.selectAll("."+u.shape+"-"+n).each(function(e){i.data_onmouseover.call(t.api,e)}))}).on("mouseout",function(e){var n=e.index;t.config&&(t.hasArcType()||(t.hideXGridFocus(),t.hideTooltip(),t.unexpandCircles(),t.unexpandBars(),t.main.selectAll("."+u.shape+"-"+n).each(function(e){i.data_onmouseout.call(t.api,e)})))}).on("mousemove",function(e){var r,o=e.index,a=t.svg.select("."+u.eventRect+"-"+o);t.dragging||t.flowing||t.hasArcType()||(t.isStepType(e)&&"step-after"===t.config.line_step_type&&n.mouse(this)[0]<t.x(t.getXValue(e.id,o))&&(o-=1),r=t.filterTargetsToShow(t.data.targets).map(function(e){return t.addName(t.getValueOnIndex(e.values,o))}),i.tooltip_grouped&&(t.showTooltip(r,this),t.showXGridFocus(r)),(!i.tooltip_grouped||i.data_selection_enabled&&!i.data_selection_grouped)&&t.main.selectAll("."+u.shape+"-"+o).each(function(){n.select(this).classed(u.EXPANDED,!0),i.data_selection_enabled&&a.style("cursor",i.data_selection_grouped?"pointer":null),i.tooltip_grouped||(t.hideXGridFocus(),t.hideTooltip(),i.data_selection_grouped||(t.unexpandCircles(o),t.unexpandBars(o)))}).filter(function(e){return t.isWithinShape(this,e)}).each(function(e){i.data_selection_enabled&&(i.data_selection_grouped||i.data_selection_isselectable(e))&&a.style("cursor","pointer"),i.tooltip_grouped||(t.showTooltip([e],this),t.showXGridFocus([e]),i.point_focus_expand_enabled&&t.expandCircles(o,e.id,!0),t.expandBars(o,e.id,!0))}))}).on("click",function(e){var r=e.index;if(!t.hasArcType()&&t.toggleShape){if(t.cancelClick)return void(t.cancelClick=!1);t.isStepType(e)&&"step-after"===i.line_step_type&&n.mouse(this)[0]<t.x(t.getXValue(e.id,r))&&(r-=1),t.main.selectAll("."+u.shape+"-"+r).each(function(e){(i.data_selection_grouped||t.isWithinShape(this,e))&&(t.toggleShape(this,e,r),t.config.data_onclick.call(t.api,e,this))})}}).call(i.data_selection_draggable&&t.drag?n.behavior.drag().origin(Object).on("drag",function(){t.drag(n.mouse(this))}).on("dragstart",function(){t.dragstart(n.mouse(this))}).on("dragend",function(){t.dragend()}):function(){})},s.generateEventRectsForMultipleXs=function(e){function mouseout(){t.svg.select("."+u.eventRect).style("cursor",null),t.hideXGridFocus(),t.hideTooltip(),t.unexpandCircles(),t.unexpandBars()}var t=this,n=t.d3,i=t.config;e.append("rect").attr("x",0).attr("y",0).attr("width",t.width).attr("height",t.height).attr("class",u.eventRect).on("mouseout",function(){t.config&&(t.hasArcType()||mouseout())}).on("mousemove",function(){var e,r,o,a,s=t.filterTargetsToShow(t.data.targets);if(!t.dragging&&!t.hasArcType(s)){if(e=n.mouse(this),r=t.findClosestFromTargets(s,e),!t.mouseover||r&&r.id===t.mouseover.id||(i.data_onmouseout.call(t.api,t.mouseover),t.mouseover=void 0),!r)return void mouseout();o=t.isScatterType(r)||!i.tooltip_grouped?[r]:t.filterByX(s,r.x),a=o.map(function(e){return t.addName(e)}),t.showTooltip(a,this),i.point_focus_expand_enabled&&t.expandCircles(r.index,r.id,!0),t.expandBars(r.index,r.id,!0),t.showXGridFocus(a),(t.isBarType(r.id)||t.dist(r,e)<i.point_sensitivity)&&(t.svg.select("."+u.eventRect).style("cursor","pointer"),t.mouseover||(i.data_onmouseover.call(t.api,r),t.mouseover=r))}}).on("click",function(){var e,r,o=t.filterTargetsToShow(t.data.targets);t.hasArcType(o)||(e=n.mouse(this),r=t.findClosestFromTargets(o,e),r&&(t.isBarType(r.id)||t.dist(r,e)<i.point_sensitivity)&&t.main.selectAll("."+u.shapes+t.getTargetSelectorSuffix(r.id)).selectAll("."+u.shape+"-"+r.index).each(function(){(i.data_selection_grouped||t.isWithinShape(this,r))&&(t.toggleShape(this,r,r.index),t.config.data_onclick.call(t.api,r,this))}))}).call(i.data_selection_draggable&&t.drag?n.behavior.drag().origin(Object).on("drag",function(){t.drag(n.mouse(this))}).on("dragstart",function(){t.dragstart(n.mouse(this))}).on("dragend",function(){t.dragend()}):function(){})},s.dispatchEvent=function(e,t,n){var i=this,r="."+u.eventRect+(i.isMultipleX()?"":"-"+t),a=i.main.select(r).node(),s=a.getBoundingClientRect(),l=s.left+(n?n[0]:0),c=s.top+(n?n[1]:0),d=document.createEvent("MouseEvents");d.initMouseEvent(e,!0,!0,o,0,l,c,l,c,!1,!1,!1,!1,0,null),a.dispatchEvent(d)},s.getCurrentWidth=function(){var e=this,t=e.config;return t.size_width?t.size_width:e.getParentWidth()},s.getCurrentHeight=function(){var e=this,t=e.config,n=t.size_height?t.size_height:e.getParentHeight();return n>0?n:320/(e.hasType("gauge")&&!t.gauge_fullCircle?2:1)},s.getCurrentPaddingTop=function(){var e=this,t=e.config,n=d(t.padding_top)?t.padding_top:0;return e.title&&e.title.node()&&(n+=e.getTitlePadding()),n},s.getCurrentPaddingBottom=function(){var e=this.config;return d(e.padding_bottom)?e.padding_bottom:0},s.getCurrentPaddingLeft=function(e){var t=this,n=t.config;return d(n.padding_left)?n.padding_left:n.axis_rotated?n.axis_x_show?Math.max(g(t.getAxisWidthByAxisId("x",e)),40):1:!n.axis_y_show||n.axis_y_inner?t.axis.getYAxisLabelPosition().isOuter?30:1:g(t.getAxisWidthByAxisId("y",e))},s.getCurrentPaddingRight=function(){var e=this,t=e.config,n=10,i=e.isLegendRight?e.getLegendWidth()+20:0;return d(t.padding_right)?t.padding_right+1:t.axis_rotated?n+i:!t.axis_y2_show||t.axis_y2_inner?2+i+(e.axis.getY2AxisLabelPosition().isOuter?20:0):g(e.getAxisWidthByAxisId("y2"))+i},s.getParentRectValue=function(e){for(var t,n=this.selectChart.node();n&&"BODY"!==n.tagName;){try{t=n.getBoundingClientRect()[e]}catch(i){"width"===e&&(t=n.offsetWidth)}if(t)break;n=n.parentNode}return t},s.getParentWidth=function(){return this.getParentRectValue("width")},s.getParentHeight=function(){var e=this.selectChart.style("height");return e.indexOf("px")>0?+e.replace("px",""):0},s.getSvgLeft=function(e){var t=this,n=t.config,i=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,r=n.axis_rotated?u.axisX:u.axisY,o=t.main.select("."+r).node(),a=o&&i?o.getBoundingClientRect():{right:0},s=t.selectChart.node().getBoundingClientRect(),l=t.hasArcType(),c=a.right-s.left-(l?0:t.getCurrentPaddingLeft(e));return c>0?c:0},s.getAxisWidthByAxisId=function(e,t){var n=this,i=n.axis.getLabelPositionById(e);return n.axis.getMaxTickWidth(e,t)+(i.isInner?20:40)},s.getHorizontalAxisHeight=function(e){var t=this,n=t.config,i=30;return"x"!==e||n.axis_x_show?"x"===e&&n.axis_x_height?n.axis_x_height:"y"!==e||n.axis_y_show?"y2"!==e||n.axis_y2_show?("x"===e&&!n.axis_rotated&&n.axis_x_tick_rotate&&(i=30+t.axis.getMaxTickWidth(e)*Math.cos(Math.PI*(90-n.axis_x_tick_rotate)/180)),"y"===e&&n.axis_rotated&&n.axis_y_tick_rotate&&(i=30+t.axis.getMaxTickWidth(e)*Math.cos(Math.PI*(90-n.axis_y_tick_rotate)/180)),i+(t.axis.getLabelPositionById(e).isInner?0:10)+("y2"===e?-10:0)):t.rotated_padding_top:!n.legend_show||t.isLegendRight||t.isLegendInset?1:10:8},s.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},s.getShapeIndices=function(e){var t,n,i=this,r=i.config,o={},a=0;return i.filterTargetsToShow(i.data.targets.filter(e,i)).forEach(function(e){for(t=0;t<r.data_groups.length;t++)if(!(r.data_groups[t].indexOf(e.id)<0))for(n=0;n<r.data_groups[t].length;n++)if(r.data_groups[t][n]in o){o[e.id]=o[r.data_groups[t][n]];break}p(o[e.id])&&(o[e.id]=a++)}),o.__max__=a-1,o},s.getShapeX=function(e,t,n,i){var r=this,o=i?r.subX:r.x;return function(i){var r=i.id in n?n[i.id]:0;return i.x||0===i.x?o(i.x)-e*(t/2-r):0}},s.getShapeY=function(e){var t=this;return function(n){var i=e?t.getSubYScale(n.id):t.getYScale(n.id);return i(n.value)}},s.getShapeOffset=function(e,t,n){var i=this,r=i.orderTargets(i.filterTargetsToShow(i.data.targets.filter(e,i))),o=r.map(function(e){return e.id});return function(e,a){var s=n?i.getSubYScale(e.id):i.getYScale(e.id),l=s(0),c=l;return r.forEach(function(n){var r=i.isStepType(e)?i.convertValuesToStep(n.values):n.values;n.id!==e.id&&t[n.id]===t[e.id]&&o.indexOf(n.id)<o.indexOf(e.id)&&("undefined"!=typeof r[a]&&+r[a].x===+e.x||(a=-1,r.forEach(function(t,n){t.x===e.x&&(a=n)})),a in r&&r[a].value*e.value>=0&&(c+=s(r[a].value)-l))}),c}},s.isWithinShape=function(e,t){var n,i=this,r=i.d3.select(e);return i.isTargetToShow(t.id)?"circle"===e.nodeName?n=i.isStepType(t)?i.isWithinStep(e,i.getYScale(t.id)(t.value)):i.isWithinCircle(e,1.5*i.pointSelectR(t)):"path"===e.nodeName&&(n=!r.classed(u.bar)||i.isWithinBar(e)):n=!1,n},s.getInterpolate=function(e){var t=this,n=t.isInterpolationType(t.config.spline_interpolation_type)?t.config.spline_interpolation_type:"cardinal";return t.isSplineType(e)?n:t.isStepType(e)?t.config.line_step_type:"linear"},s.initLine=function(){var e=this;e.main.select("."+u.chart).append("g").attr("class",u.chartLines)},s.updateTargetsForLine=function(e){var t,n,i=this,r=i.config,o=i.classChartLine.bind(i),a=i.classLines.bind(i),s=i.classAreas.bind(i),l=i.classCircles.bind(i),c=i.classFocus.bind(i);t=i.main.select("."+u.chartLines).selectAll("."+u.chartLine).data(e).attr("class",function(e){return o(e)+c(e)}),n=t.enter().append("g").attr("class",o).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",a),n.append("g").attr("class",s),n.append("g").attr("class",function(e){return i.generateClass(u.selectedCircles,e.id)}),n.append("g").attr("class",l).style("cursor",function(e){return r.data_selection_isselectable(e)?"pointer":null}),e.forEach(function(e){i.main.selectAll("."+u.selectedCircles+i.getTargetSelectorSuffix(e.id)).selectAll("."+u.selectedCircle).each(function(t){t.value=e.values[t.index].value})})},s.updateLine=function(e){var t=this;t.mainLine=t.main.selectAll("."+u.lines).selectAll("."+u.line).data(t.lineData.bind(t)),t.mainLine.enter().append("path").attr("class",t.classLine.bind(t)).style("stroke",t.color),t.mainLine.style("opacity",t.initialOpacity.bind(t)).style("shape-rendering",function(e){return t.isStepType(e)?"crispEdges":""}).attr("transform",null),t.mainLine.exit().transition().duration(e).style("opacity",0).remove()},s.redrawLine=function(e,t){return[(t?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",e).style("stroke",this.color).style("opacity",1)]},s.generateDrawLine=function(e,t){var n=this,i=n.config,r=n.d3.svg.line(),o=n.generateGetLinePoints(e,t),a=t?n.getSubYScale:n.getYScale,s=function(e){return(t?n.subxx:n.xx).call(n,e)},l=function(e,t){return i.data_groups.length>0?o(e,t)[0][1]:a.call(n,e.id)(e.value)};return r=i.axis_rotated?r.x(l).y(s):r.x(s).y(l),i.line_connectNull||(r=r.defined(function(e){return null!=e.value})),function(e){var o,s=i.line_connectNull?n.filterRemoveNull(e.values):e.values,l=t?n.x:n.subX,c=a.call(n,e.id),u=0,d=0;return n.isLineType(e)?i.data_regions[e.id]?o=n.lineWithRegions(s,l,c,i.data_regions[e.id]):(n.isStepType(e)&&(s=n.convertValuesToStep(s)),o=r.interpolate(n.getInterpolate(e))(s)):(s[0]&&(u=l(s[0].x),d=c(s[0].value)),o=i.axis_rotated?"M "+d+" "+u:"M "+u+" "+d),o?o:"M 0 0"}},s.generateGetLinePoints=function(e,t){var n=this,i=n.config,r=e.__max__+1,o=n.getShapeX(0,r,e,!!t),a=n.getShapeY(!!t),s=n.getShapeOffset(n.isLineType,e,!!t),l=t?n.getSubYScale:n.getYScale;return function(e,t){var r=l.call(n,e.id)(0),c=s(e,t)||r,u=o(e),d=a(e);return i.axis_rotated&&(0<e.value&&d<r||e.value<0&&r<d)&&(d=r),[[u,d-(r-c)],[u,d-(r-c)],[u,d-(r-c)],[u,d-(r-c)]]}},s.lineWithRegions=function(e,t,n,i){function isWithinRegions(e,t){var n;for(n=0;n<t.length;n++)if(t[n].start<e&&e<=t[n].end)return!0;return!1}function generateM(e){return"M"+e[0][0]+" "+e[0][1]+" "+e[1][0]+" "+e[1][1]}var r,o,a,s,l,c,u,d,h,m,g,v,y=this,b=y.config,_=-1,w="M",x=y.isCategorized()?.5:0,C=[];if(f(i))for(r=0;r<i.length;r++)C[r]={},p(i[r].start)?C[r].start=e[0].x:C[r].start=y.isTimeSeries()?y.parseDate(i[r].start):i[r].start,p(i[r].end)?C[r].end=e[e.length-1].x:C[r].end=y.isTimeSeries()?y.parseDate(i[r].end):i[r].end;for(g=b.axis_rotated?function(e){return n(e.value)}:function(e){return t(e.x)},v=b.axis_rotated?function(e){return t(e.x)}:function(e){return n(e.value)},a=y.isTimeSeries()?function(e,i,r,o){var a,s=e.x.getTime(),c=i.x-e.x,u=new Date(s+c*r),d=new Date(s+c*(r+o));return a=b.axis_rotated?[[n(l(r)),t(u)],[n(l(r+o)),t(d)]]:[[t(u),n(l(r))],[t(d),n(l(r+o))]],generateM(a)}:function(e,i,r,o){var a;return a=b.axis_rotated?[[n(l(r),!0),t(s(r))],[n(l(r+o),!0),t(s(r+o))]]:[[t(s(r),!0),n(l(r))],[t(s(r+o),!0),n(l(r+o))]],generateM(a)},r=0;r<e.length;r++){if(p(C)||!isWithinRegions(e[r].x,C))w+=" "+g(e[r])+" "+v(e[r]);else for(s=y.getScale(e[r-1].x+x,e[r].x+x,y.isTimeSeries()),l=y.getScale(e[r-1].value,e[r].value),c=t(e[r].x)-t(e[r-1].x),u=n(e[r].value)-n(e[r-1].value),d=Math.sqrt(Math.pow(c,2)+Math.pow(u,2)),h=2/d,m=2*h,o=h;o<=1;o+=m)w+=a(e[r-1],e[r],o,h);_=e[r].x}return w},s.updateArea=function(e){var t=this,n=t.d3;t.mainArea=t.main.selectAll("."+u.areas).selectAll("."+u.area).data(t.lineData.bind(t)),t.mainArea.enter().append("path").attr("class",t.classArea.bind(t)).style("fill",t.color).style("opacity",function(){return t.orgAreaOpacity=+n.select(this).style("opacity"),0}),t.mainArea.style("opacity",t.orgAreaOpacity),t.mainArea.exit().transition().duration(e).style("opacity",0).remove()},s.redrawArea=function(e,t){return[(t?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",e).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},s.generateDrawArea=function(e,t){var n=this,i=n.config,r=n.d3.svg.area(),o=n.generateGetAreaPoints(e,t),a=t?n.getSubYScale:n.getYScale,s=function(e){return(t?n.subxx:n.xx).call(n,e)},l=function(e,t){return i.data_groups.length>0?o(e,t)[0][1]:a.call(n,e.id)(n.getAreaBaseValue(e.id))},c=function(e,t){return i.data_groups.length>0?o(e,t)[1][1]:a.call(n,e.id)(e.value)};return r=i.axis_rotated?r.x0(l).x1(c).y(s):r.x(s).y0(i.area_above?0:l).y1(c),i.line_connectNull||(r=r.defined(function(e){return null!==e.value})),function(e){var t,o=i.line_connectNull?n.filterRemoveNull(e.values):e.values,a=0,s=0;return n.isAreaType(e)?(n.isStepType(e)&&(o=n.convertValuesToStep(o)),t=r.interpolate(n.getInterpolate(e))(o)):(o[0]&&(a=n.x(o[0].x),s=n.getYScale(e.id)(o[0].value)),t=i.axis_rotated?"M "+s+" "+a:"M "+a+" "+s),t?t:"M 0 0"}},s.getAreaBaseValue=function(){return 0},s.generateGetAreaPoints=function(e,t){var n=this,i=n.config,r=e.__max__+1,o=n.getShapeX(0,r,e,!!t),a=n.getShapeY(!!t),s=n.getShapeOffset(n.isAreaType,e,!!t),l=t?n.getSubYScale:n.getYScale;return function(e,t){var r=l.call(n,e.id)(0),c=s(e,t)||r,u=o(e),d=a(e);return i.axis_rotated&&(0<e.value&&d<r||e.value<0&&r<d)&&(d=r),[[u,c],[u,d-(r-c)],[u,d-(r-c)],[u,c]]}},s.updateCircle=function(){var e=this;e.mainCircle=e.main.selectAll("."+u.circles).selectAll("."+u.circle).data(e.lineOrScatterData.bind(e)),e.mainCircle.enter().append("circle").attr("class",e.classCircle.bind(e)).attr("r",e.pointR.bind(e)).style("fill",e.color),e.mainCircle.style("opacity",e.initialOpacityForCircle.bind(e)),e.mainCircle.exit().remove()},s.redrawCircle=function(e,t,n){var i=this.main.selectAll("."+u.selectedCircle);return[(n?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",e).attr("cy",t),(n?i.transition(Math.random().toString()):i).attr("cx",e).attr("cy",t)]},s.circleX=function(e){return e.x||0===e.x?this.x(e.x):null},s.updateCircleY=function(){var e,t,n=this;n.config.data_groups.length>0?(e=n.getShapeIndices(n.isLineType),t=n.generateGetLinePoints(e),n.circleY=function(e,n){return t(e,n)[0][1]}):n.circleY=function(e){return n.getYScale(e.id)(e.value)}},s.getCircles=function(e,t){var n=this;return(t?n.main.selectAll("."+u.circles+n.getTargetSelectorSuffix(t)):n.main).selectAll("."+u.circle+(d(e)?"-"+e:""))},s.expandCircles=function(e,t,n){var i=this,r=i.pointExpandedR.bind(i);n&&i.unexpandCircles(),i.getCircles(e,t).classed(u.EXPANDED,!0).attr("r",r)},s.unexpandCircles=function(e){var t=this,n=t.pointR.bind(t);t.getCircles(e).filter(function(){return t.d3.select(this).classed(u.EXPANDED)}).classed(u.EXPANDED,!1).attr("r",n)},s.pointR=function(e){var t=this,n=t.config;return t.isStepType(e)?0:h(n.point_r)?n.point_r(e):n.point_r},s.pointExpandedR=function(e){var t=this,n=t.config;return n.point_focus_expand_enabled?n.point_focus_expand_r?n.point_focus_expand_r:1.75*t.pointR(e):t.pointR(e)},s.pointSelectR=function(e){var t=this,n=t.config;return h(n.point_select_r)?n.point_select_r(e):n.point_select_r?n.point_select_r:4*t.pointR(e)},s.isWithinCircle=function(e,t){var n=this.d3,i=n.mouse(e),r=n.select(e),o=+r.attr("cx"),a=+r.attr("cy");return Math.sqrt(Math.pow(o-i[0],2)+Math.pow(a-i[1],2))<t},s.isWithinStep=function(e,t){return Math.abs(t-this.d3.mouse(e)[1])<30},s.initBar=function(){var e=this;e.main.select("."+u.chart).append("g").attr("class",u.chartBars)},s.updateTargetsForBar=function(e){var t,n,i=this,r=i.config,o=i.classChartBar.bind(i),a=i.classBars.bind(i),s=i.classFocus.bind(i);t=i.main.select("."+u.chartBars).selectAll("."+u.chartBar).data(e).attr("class",function(e){return o(e)+s(e)}),n=t.enter().append("g").attr("class",o).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",a).style("cursor",function(e){return r.data_selection_isselectable(e)?"pointer":null})},s.updateBar=function(e){var t=this,n=t.barData.bind(t),i=t.classBar.bind(t),r=t.initialOpacity.bind(t),o=function(e){return t.color(e.id);
};t.mainBar=t.main.selectAll("."+u.bars).selectAll("."+u.bar).data(n),t.mainBar.enter().append("path").attr("class",i).style("stroke",o).style("fill",o),t.mainBar.style("opacity",r),t.mainBar.exit().transition().duration(e).style("opacity",0).remove()},s.redrawBar=function(e,t){return[(t?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",e).style("fill",this.color).style("opacity",1)]},s.getBarW=function(e,t){var n=this,i=n.config,r="number"==typeof i.bar_width?i.bar_width:t?e.tickInterval()*i.bar_width_ratio/t:0;return i.bar_width_max&&r>i.bar_width_max?i.bar_width_max:r},s.getBars=function(e,t){var n=this;return(t?n.main.selectAll("."+u.bars+n.getTargetSelectorSuffix(t)):n.main).selectAll("."+u.bar+(d(e)?"-"+e:""))},s.expandBars=function(e,t,n){var i=this;n&&i.unexpandBars(),i.getBars(e,t).classed(u.EXPANDED,!0)},s.unexpandBars=function(e){var t=this;t.getBars(e).classed(u.EXPANDED,!1)},s.generateDrawBar=function(e,t){var n=this,i=n.config,r=n.generateGetBarPoints(e,t);return function(e,t){var n=r(e,t),o=i.axis_rotated?1:0,a=i.axis_rotated?0:1,s="M "+n[0][o]+","+n[0][a]+" L"+n[1][o]+","+n[1][a]+" L"+n[2][o]+","+n[2][a]+" L"+n[3][o]+","+n[3][a]+" z";return s}},s.generateGetBarPoints=function(e,t){var n=this,i=t?n.subXAxis:n.xAxis,r=e.__max__+1,o=n.getBarW(i,r),a=n.getShapeX(o,r,e,!!t),s=n.getShapeY(!!t),l=n.getShapeOffset(n.isBarType,e,!!t),c=t?n.getSubYScale:n.getYScale;return function(e,t){var i=c.call(n,e.id)(0),r=l(e,t)||i,u=a(e),d=s(e);return n.config.axis_rotated&&(0<e.value&&d<i||e.value<0&&i<d)&&(d=i),[[u,r],[u,d-(i-r)],[u+o,d-(i-r)],[u+o,r]]}},s.isWithinBar=function(e){var t=this.d3.mouse(e),n=e.getBoundingClientRect(),i=e.pathSegList.getItem(0),r=e.pathSegList.getItem(1),o=Math.min(i.x,r.x),a=Math.min(i.y,r.y),s=n.width,l=n.height,c=2,u=o-c,d=o+s+c,h=a+l+c,m=a-c;return u<t[0]&&t[0]<d&&m<t[1]&&t[1]<h},s.initText=function(){var e=this;e.main.select("."+u.chart).append("g").attr("class",u.chartTexts),e.mainText=e.d3.selectAll([])},s.updateTargetsForText=function(e){var t,n,i=this,r=i.classChartText.bind(i),o=i.classTexts.bind(i),a=i.classFocus.bind(i);t=i.main.select("."+u.chartTexts).selectAll("."+u.chartText).data(e).attr("class",function(e){return r(e)+a(e)}),n=t.enter().append("g").attr("class",r).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",o)},s.updateText=function(e){var t=this,n=t.config,i=t.barOrLineData.bind(t),r=t.classText.bind(t);t.mainText=t.main.selectAll("."+u.texts).selectAll("."+u.text).data(i),t.mainText.enter().append("text").attr("class",r).attr("text-anchor",function(e){return n.axis_rotated?e.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(e){return t.color(e)}).style("fill-opacity",0),t.mainText.text(function(e,n,i){return t.dataLabelFormat(e.id)(e.value,e.id,n,i)}),t.mainText.exit().transition().duration(e).style("fill-opacity",0).remove()},s.redrawText=function(e,t,n,i){return[(i?this.mainText.transition():this.mainText).attr("x",e).attr("y",t).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},s.getTextRect=function(e,t,n){var i,r=this.d3.select("body").append("div").classed("c3",!0),o=r.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),a=this.d3.select(n).style("font");return o.selectAll(".dummy").data([e]).enter().append("text").classed(t?t:"",!0).style("font",a).text(e).each(function(){i=this.getBoundingClientRect()}),r.remove(),i},s.generateXYForText=function(e,t,n,i){var r=this,o=r.generateGetAreaPoints(e,!1),a=r.generateGetBarPoints(t,!1),s=r.generateGetLinePoints(n,!1),l=i?r.getXForText:r.getYForText;return function(e,t){var n=r.isAreaType(e)?o:r.isBarType(e)?a:s;return l.call(r,n(e,t),e,this)}},s.getXForText=function(e,t,n){var i,r,o=this,a=n.getBoundingClientRect();return o.config.axis_rotated?(r=o.isBarType(t)?4:6,i=e[2][1]+r*(t.value<0?-1:1)):i=o.hasType("bar")?(e[2][0]+e[0][0])/2:e[0][0],null===t.value&&(i>o.width?i=o.width-a.width:i<0&&(i=4)),i},s.getYForText=function(e,t,n){var i,r=this,o=n.getBoundingClientRect();return r.config.axis_rotated?i=(e[0][0]+e[2][0]+.6*o.height)/2:(i=e[2][1],t.value<0||0===t.value&&!r.hasPositiveValue?(i+=o.height,r.isBarType(t)&&r.isSafari()?i-=3:!r.isBarType(t)&&r.isChrome()&&(i+=3)):i+=r.isBarType(t)?-3:-6),null!==t.value||r.config.axis_rotated||(i<o.height?i=o.height:i>this.height&&(i=this.height-4)),i},s.setTargetType=function(e,t){var n=this,i=n.config;n.mapToTargetIds(e).forEach(function(e){n.withoutFadeIn[e]=t===i.data_types[e],i.data_types[e]=t}),e||(i.data_type=t)},s.hasType=function(e,t){var n=this,i=n.config.data_types,r=!1;return t=t||n.data.targets,t&&t.length?t.forEach(function(t){var n=i[t.id];(n&&n.indexOf(e)>=0||!n&&"line"===e)&&(r=!0)}):Object.keys(i).length?Object.keys(i).forEach(function(t){i[t]===e&&(r=!0)}):r=n.config.data_type===e,r},s.hasArcType=function(e){return this.hasType("pie",e)||this.hasType("donut",e)||this.hasType("gauge",e)},s.isLineType=function(e){var t=this.config,n=m(e)?e:e.id;return!t.data_types[n]||["line","spline","area","area-spline","step","area-step"].indexOf(t.data_types[n])>=0},s.isStepType=function(e){var t=m(e)?e:e.id;return["step","area-step"].indexOf(this.config.data_types[t])>=0},s.isSplineType=function(e){var t=m(e)?e:e.id;return["spline","area-spline"].indexOf(this.config.data_types[t])>=0},s.isAreaType=function(e){var t=m(e)?e:e.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[t])>=0},s.isBarType=function(e){var t=m(e)?e:e.id;return"bar"===this.config.data_types[t]},s.isScatterType=function(e){var t=m(e)?e:e.id;return"scatter"===this.config.data_types[t]},s.isPieType=function(e){var t=m(e)?e:e.id;return"pie"===this.config.data_types[t]},s.isGaugeType=function(e){var t=m(e)?e:e.id;return"gauge"===this.config.data_types[t]},s.isDonutType=function(e){var t=m(e)?e:e.id;return"donut"===this.config.data_types[t]},s.isArcType=function(e){return this.isPieType(e)||this.isDonutType(e)||this.isGaugeType(e)},s.lineData=function(e){return this.isLineType(e)?[e]:[]},s.arcData=function(e){return this.isArcType(e.data)?[e]:[]},s.barData=function(e){return this.isBarType(e)?e.values:[]},s.lineOrScatterData=function(e){return this.isLineType(e)||this.isScatterType(e)?e.values:[]},s.barOrLineData=function(e){return this.isBarType(e)||this.isLineType(e)?e.values:[]},s.isInterpolationType=function(e){return["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(e)>=0},s.initGrid=function(){var e=this,t=e.config,n=e.d3;e.grid=e.main.append("g").attr("clip-path",e.clipPathForGrid).attr("class",u.grid),t.grid_x_show&&e.grid.append("g").attr("class",u.xgrids),t.grid_y_show&&e.grid.append("g").attr("class",u.ygrids),t.grid_focus_show&&e.grid.append("g").attr("class",u.xgridFocus).append("line").attr("class",u.xgridFocus),e.xgrid=n.selectAll([]),t.grid_lines_front||e.initGridLines()},s.initGridLines=function(){var e=this,t=e.d3;e.gridLines=e.main.append("g").attr("clip-path",e.clipPathForGrid).attr("class",u.grid+" "+u.gridLines),e.gridLines.append("g").attr("class",u.xgridLines),e.gridLines.append("g").attr("class",u.ygridLines),e.xgridLines=t.selectAll([])},s.updateXGrid=function(e){var t=this,n=t.config,i=t.d3,r=t.generateGridData(n.grid_x_type,t.x),o=t.isCategorized()?t.xAxis.tickOffset():0;t.xgridAttr=n.axis_rotated?{x1:0,x2:t.width,y1:function(e){return t.x(e)-o},y2:function(e){return t.x(e)-o}}:{x1:function(e){return t.x(e)+o},x2:function(e){return t.x(e)+o},y1:0,y2:t.height},t.xgrid=t.main.select("."+u.xgrids).selectAll("."+u.xgrid).data(r),t.xgrid.enter().append("line").attr("class",u.xgrid),e||t.xgrid.attr(t.xgridAttr).style("opacity",function(){return+i.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?t.height:0)?0:1}),t.xgrid.exit().remove()},s.updateYGrid=function(){var e=this,t=e.config,n=e.yAxis.tickValues()||e.y.ticks(t.grid_y_ticks);e.ygrid=e.main.select("."+u.ygrids).selectAll("."+u.ygrid).data(n),e.ygrid.enter().append("line").attr("class",u.ygrid),e.ygrid.attr("x1",t.axis_rotated?e.y:0).attr("x2",t.axis_rotated?e.y:e.width).attr("y1",t.axis_rotated?0:e.y).attr("y2",t.axis_rotated?e.height:e.y),e.ygrid.exit().remove(),e.smoothLines(e.ygrid,"grid")},s.gridTextAnchor=function(e){return e.position?e.position:"end"},s.gridTextDx=function(e){return"start"===e.position?4:"middle"===e.position?0:-4},s.xGridTextX=function(e){return"start"===e.position?-this.height:"middle"===e.position?-this.height/2:0},s.yGridTextX=function(e){return"start"===e.position?0:"middle"===e.position?this.width/2:this.width},s.updateGrid=function(e){var t,n,i,r=this,o=r.main,a=r.config;r.grid.style("visibility",r.hasArcType()?"hidden":"visible"),o.select("line."+u.xgridFocus).style("visibility","hidden"),a.grid_x_show&&r.updateXGrid(),r.xgridLines=o.select("."+u.xgridLines).selectAll("."+u.xgridLine).data(a.grid_x_lines),t=r.xgridLines.enter().append("g").attr("class",function(e){return u.xgridLine+(e.class?" "+e.class:"")}),t.append("line").style("opacity",0),t.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",a.axis_rotated?"":"rotate(-90)").attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),r.xgridLines.exit().transition().duration(e).style("opacity",0).remove(),a.grid_y_show&&r.updateYGrid(),r.ygridLines=o.select("."+u.ygridLines).selectAll("."+u.ygridLine).data(a.grid_y_lines),n=r.ygridLines.enter().append("g").attr("class",function(e){return u.ygridLine+(e.class?" "+e.class:"")}),n.append("line").style("opacity",0),n.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",a.axis_rotated?"rotate(-90)":"").attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),i=r.yv.bind(r),r.ygridLines.select("line").transition().duration(e).attr("x1",a.axis_rotated?i:0).attr("x2",a.axis_rotated?i:r.width).attr("y1",a.axis_rotated?0:i).attr("y2",a.axis_rotated?r.height:i).style("opacity",1),r.ygridLines.select("text").transition().duration(e).attr("x",a.axis_rotated?r.xGridTextX.bind(r):r.yGridTextX.bind(r)).attr("y",i).text(function(e){return e.text}).style("opacity",1),r.ygridLines.exit().transition().duration(e).style("opacity",0).remove()},s.redrawGrid=function(e){var t=this,n=t.config,i=t.xv.bind(t),r=t.xgridLines.select("line"),o=t.xgridLines.select("text");return[(e?r.transition():r).attr("x1",n.axis_rotated?0:i).attr("x2",n.axis_rotated?t.width:i).attr("y1",n.axis_rotated?i:0).attr("y2",n.axis_rotated?i:t.height).style("opacity",1),(e?o.transition():o).attr("x",n.axis_rotated?t.yGridTextX.bind(t):t.xGridTextX.bind(t)).attr("y",i).text(function(e){return e.text}).style("opacity",1)]},s.showXGridFocus=function(e){var t=this,n=t.config,i=e.filter(function(e){return e&&d(e.value)}),r=t.main.selectAll("line."+u.xgridFocus),o=t.xx.bind(t);n.tooltip_show&&(t.hasType("scatter")||t.hasArcType()||(r.style("visibility","visible").data([i[0]]).attr(n.axis_rotated?"y1":"x1",o).attr(n.axis_rotated?"y2":"x2",o),t.smoothLines(r,"grid")))},s.hideXGridFocus=function(){this.main.select("line."+u.xgridFocus).style("visibility","hidden")},s.updateXgridFocus=function(){var e=this,t=e.config;e.main.select("line."+u.xgridFocus).attr("x1",t.axis_rotated?0:-10).attr("x2",t.axis_rotated?e.width:-10).attr("y1",t.axis_rotated?-10:0).attr("y2",t.axis_rotated?-10:e.height)},s.generateGridData=function(e,t){var n,i,r,o,a=this,s=[],l=a.main.select("."+u.axisX).selectAll(".tick").size();if("year"===e)for(n=a.getXDomain(),i=n[0].getFullYear(),r=n[1].getFullYear(),o=i;o<=r;o++)s.push(new Date(o+"-01-01 00:00:00"));else s=t.ticks(10),s.length>l&&(s=s.filter(function(e){return(""+e).indexOf(".")<0}));return s},s.getGridFilterToRemove=function(e){return e?function(t){var n=!1;return[].concat(e).forEach(function(e){("value"in e&&t.value===e.value||"class"in e&&t.class===e.class)&&(n=!0)}),n}:function(){return!0}},s.removeGridLines=function(e,t){var n=this,i=n.config,r=n.getGridFilterToRemove(e),o=function(e){return!r(e)},a=t?u.xgridLines:u.ygridLines,s=t?u.xgridLine:u.ygridLine;n.main.select("."+a).selectAll("."+s).filter(r).transition().duration(i.transition_duration).style("opacity",0).remove(),t?i.grid_x_lines=i.grid_x_lines.filter(o):i.grid_y_lines=i.grid_y_lines.filter(o)},s.initTooltip=function(){var e,t=this,n=t.config;if(t.tooltip=t.selectChart.style("position","relative").append("div").attr("class",u.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(t.isTimeSeries()&&m(n.tooltip_init_x)){for(n.tooltip_init_x=t.parseDate(n.tooltip_init_x),e=0;e<t.data.targets[0].values.length&&t.data.targets[0].values[e].x-n.tooltip_init_x!==0;e++);n.tooltip_init_x=e}t.tooltip.html(n.tooltip_contents.call(t,t.data.targets.map(function(e){return t.addName(e.values[n.tooltip_init_x])}),t.axis.getXAxisTickFormat(),t.getYFormat(t.hasArcType()),t.color)),t.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},s.getTooltipContent=function(e,t,n,i){var r,o,a,s,l,c,u=this,d=u.config,h=d.tooltip_format_title||t,m=d.tooltip_format_name||function(e){return e},p=d.tooltip_format_value||n,f=u.isOrderAsc();if(0===d.data_groups.length)e.sort(function(e,t){var n=e?e.value:null,i=t?t.value:null;return f?n-i:i-n});else{var g=u.orderTargets(u.data.targets).map(function(e){return e.id});e.sort(function(e,t){var n=e?e.value:null,i=t?t.value:null;return n>0&&i>0&&(n=e?g.indexOf(e.id):null,i=t?g.indexOf(t.id):null),f?n-i:i-n})}for(o=0;o<e.length;o++)if(e[o]&&(e[o].value||0===e[o].value)&&(r||(a=C(h?h(e[o].x):e[o].x),r="<table class='"+u.CLASS.tooltip+"'>"+(a||0===a?"<tr><th colspan='2'>"+a+"</th></tr>":"")),s=C(p(e[o].value,e[o].ratio,e[o].id,e[o].index,e)),void 0!==s)){if(null===e[o].name)continue;l=C(m(e[o].name,e[o].ratio,e[o].id,e[o].index)),c=u.levelColor?u.levelColor(e[o].value):i(e[o].id),r+="<tr class='"+u.CLASS.tooltipName+"-"+u.getTargetSelectorSuffix(e[o].id)+"'>",r+="<td class='name'><span style='background-color:"+c+"'></span>"+l+"</td>",r+="<td class='value'>"+s+"</td>",r+="</tr>"}return r+"</table>"},s.tooltipPosition=function(e,t,n,i){var r,o,a,s,l,c=this,u=c.config,d=c.d3,h=c.hasArcType(),m=d.mouse(i);return h?(o=(c.width-(c.isLegendRight?c.getLegendWidth():0))/2+m[0],s=c.height/2+m[1]+20):(r=c.getSvgLeft(!0),u.axis_rotated?(o=r+m[0]+100,a=o+t,l=c.currentWidth-c.getCurrentPaddingRight(),s=c.x(e[0].x)+20):(o=r+c.getCurrentPaddingLeft(!0)+c.x(e[0].x)+20,a=o+t,l=r+c.currentWidth-c.getCurrentPaddingRight(),s=m[1]+15),a>l&&(o-=a-l+20),s+n>c.currentHeight&&(s-=n+30)),s<0&&(s=0),{top:s,left:o}},s.showTooltip=function(e,t){var n,i,r,o=this,a=o.config,l=o.hasArcType(),c=e.filter(function(e){return e&&d(e.value)}),u=a.tooltip_position||s.tooltipPosition;0!==c.length&&a.tooltip_show&&(o.tooltip.html(a.tooltip_contents.call(o,e,o.axis.getXAxisTickFormat(),o.getYFormat(l),o.color)).style("display","block"),n=o.tooltip.property("offsetWidth"),i=o.tooltip.property("offsetHeight"),r=u.call(this,c,n,i,t),o.tooltip.style("top",r.top+"px").style("left",r.left+"px"))},s.hideTooltip=function(){this.tooltip.style("display","none")},s.initLegend=function(){var e=this;return e.legendItemTextBox={},e.legendHasRendered=!1,e.legend=e.svg.append("g").attr("transform",e.getTranslate("legend")),e.config.legend_show?void e.updateLegendWithDefaults():(e.legend.style("visibility","hidden"),void(e.hiddenLegendIds=e.mapToIds(e.data.targets)))},s.updateLegendWithDefaults=function(){var e=this;e.updateLegend(e.mapToIds(e.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},s.updateSizeForLegend=function(e,t){var n=this,i=n.config,r={top:n.isLegendTop?n.getCurrentPaddingTop()+i.legend_inset_y+5.5:n.currentHeight-e-n.getCurrentPaddingBottom()-i.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+i.legend_inset_x+.5:n.currentWidth-t-n.getCurrentPaddingRight()-i.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?r.top:n.currentHeight-e,right:NaN,bottom:0,left:n.isLegendRight?n.currentWidth-t:n.isLegendInset?r.left:0}},s.transformLegend=function(e){var t=this;(e?t.legend.transition():t.legend).attr("transform",t.getTranslate("legend"))},s.updateLegendStep=function(e){this.legendStep=e},s.updateLegendItemWidth=function(e){this.legendItemWidth=e},s.updateLegendItemHeight=function(e){this.legendItemHeight=e},s.getLegendWidth=function(){var e=this;return e.config.legend_show?e.isLegendRight||e.isLegendInset?e.legendItemWidth*(e.legendStep+1):e.currentWidth:0},s.getLegendHeight=function(){var e=this,t=0;return e.config.legend_show&&(t=e.isLegendRight?e.currentHeight:Math.max(20,e.legendItemHeight)*(e.legendStep+1)),t},s.opacityForLegend=function(e){return e.classed(u.legendItemHidden)?null:1},s.opacityForUnfocusedLegend=function(e){return e.classed(u.legendItemHidden)?null:.3},s.toggleFocusLegend=function(e,t){var n=this;e=n.mapToTargetIds(e),n.legend.selectAll("."+u.legendItem).filter(function(t){return e.indexOf(t)>=0}).classed(u.legendItemFocused,t).transition().duration(100).style("opacity",function(){var e=t?n.opacityForLegend:n.opacityForUnfocusedLegend;return e.call(n,n.d3.select(this))})},s.revertLegend=function(){var e=this,t=e.d3;e.legend.selectAll("."+u.legendItem).classed(u.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return e.opacityForLegend(t.select(this))})},s.showLegend=function(e){var t=this,n=t.config;n.legend_show||(n.legend_show=!0,t.legend.style("visibility","visible"),t.legendHasRendered||t.updateLegendWithDefaults()),t.removeHiddenLegendIds(e),t.legend.selectAll(t.selectorLegends(e)).style("visibility","visible").transition().style("opacity",function(){return t.opacityForLegend(t.d3.select(this))})},s.hideLegend=function(e){var t=this,n=t.config;n.legend_show&&b(e)&&(n.legend_show=!1,t.legend.style("visibility","hidden")),t.addHiddenLegendIds(e),t.legend.selectAll(t.selectorLegends(e)).style("opacity",0).style("visibility","hidden")},s.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},s.updateLegend=function(e,t,n){function getTextBox(e,t){return x.legendItemTextBox[t]||(x.legendItemTextBox[t]=x.getTextRect(e.textContent,u.legendItem,e)),x.legendItemTextBox[t]}function updatePositions(t,n,i){function updateValues(e,t){t||(r=(h-$-d)/2,r<k&&(r=(h-d)/2,$=0,O++)),I[e]=O,R[O]=x.isLegendInset?10:r,P[e]=$,$+=d}var r,o,a=0===i,s=i===e.length-1,l=getTextBox(t,n),c=l.width+A+(!s||x.isLegendRight||x.isLegendInset?E:0)+C.legend_padding,u=l.height+S,d=x.isLegendRight||x.isLegendInset?u:c,h=x.isLegendRight||x.isLegendInset?x.getLegendHeight():x.getLegendWidth();return a&&($=0,O=0,T=0,M=0),C.legend_show&&!x.isLegendToShow(n)?void(L[n]=D[n]=I[n]=P[n]=0):(L[n]=c,D[n]=u,(!T||c>=T)&&(T=c),(!M||u>=M)&&(M=u),o=x.isLegendRight||x.isLegendInset?M:T,void(C.legend_equally?(Object.keys(L).forEach(function(e){L[e]=T}),Object.keys(D).forEach(function(e){D[e]=M}),r=(h-o*e.length)/2,r<k?($=0,O=0,e.forEach(function(e){updateValues(e)})):updateValues(n,!0)):updateValues(n)))}var i,r,o,a,s,l,c,d,h,m,p,g,v,y,b,_,x=this,C=x.config,S=4,E=10,T=0,M=0,k=10,A=C.legend_item_tile_width+5,$=0,P={},L={},D={},R=[0],I={},O=0;e=e.filter(function(e){return!f(C.data_names[e])||null!==C.data_names[e]}),t=t||{},p=w(t,"withTransition",!0),g=w(t,"withTransitionForTransform",!0),x.isLegendInset&&(O=C.legend_inset_step?C.legend_inset_step:e.length,x.updateLegendStep(O)),x.isLegendRight?(i=function(e){return T*I[e]},a=function(e){return R[I[e]]+P[e]}):x.isLegendInset?(i=function(e){return T*I[e]+10},a=function(e){return R[I[e]]+P[e]}):(i=function(e){return R[I[e]]+P[e]},a=function(e){return M*I[e]}),r=function(e,t){return i(e,t)+4+C.legend_item_tile_width},s=function(e,t){return a(e,t)+9},o=function(e,t){return i(e,t)},l=function(e,t){return a(e,t)-5},c=function(e,t){return i(e,t)-2},d=function(e,t){return i(e,t)-2+C.legend_item_tile_width},h=function(e,t){return a(e,t)+4},m=x.legend.selectAll("."+u.legendItem).data(e).enter().append("g").attr("class",function(e){return x.generateClass(u.legendItem,e)}).style("visibility",function(e){return x.isLegendToShow(e)?"visible":"hidden"}).style("cursor","pointer").on("click",function(e){C.legend_item_onclick?C.legend_item_onclick.call(x,e):x.d3.event.altKey?(x.api.hide(),x.api.show(e)):(x.api.toggle(e),x.isTargetToShow(e)?x.api.focus(e):x.api.revert())}).on("mouseover",function(e){C.legend_item_onmouseover?C.legend_item_onmouseover.call(x,e):(x.d3.select(this).classed(u.legendItemFocused,!0),!x.transiting&&x.isTargetToShow(e)&&x.api.focus(e))}).on("mouseout",function(e){C.legend_item_onmouseout?C.legend_item_onmouseout.call(x,e):(x.d3.select(this).classed(u.legendItemFocused,!1),x.api.revert())}),m.append("text").text(function(e){return f(C.data_names[e])?C.data_names[e]:e}).each(function(e,t){updatePositions(this,e,t)}).style("pointer-events","none").attr("x",x.isLegendRight||x.isLegendInset?r:-200).attr("y",x.isLegendRight||x.isLegendInset?-200:s),m.append("rect").attr("class",u.legendItemEvent).style("fill-opacity",0).attr("x",x.isLegendRight||x.isLegendInset?o:-200).attr("y",x.isLegendRight||x.isLegendInset?-200:l),m.append("line").attr("class",u.legendItemTile).style("stroke",x.color).style("pointer-events","none").attr("x1",x.isLegendRight||x.isLegendInset?c:-200).attr("y1",x.isLegendRight||x.isLegendInset?-200:h).attr("x2",x.isLegendRight||x.isLegendInset?d:-200).attr("y2",x.isLegendRight||x.isLegendInset?-200:h).attr("stroke-width",C.legend_item_tile_height),_=x.legend.select("."+u.legendBackground+" rect"),x.isLegendInset&&T>0&&0===_.size()&&(_=x.legend.insert("g","."+u.legendItem).attr("class",u.legendBackground).append("rect")),v=x.legend.selectAll("text").data(e).text(function(e){return f(C.data_names[e])?C.data_names[e]:e}).each(function(e,t){updatePositions(this,e,t)}),(p?v.transition():v).attr("x",r).attr("y",s),y=x.legend.selectAll("rect."+u.legendItemEvent).data(e),(p?y.transition():y).attr("width",function(e){return L[e]}).attr("height",function(e){return D[e]}).attr("x",o).attr("y",l),b=x.legend.selectAll("line."+u.legendItemTile).data(e),(p?b.transition():b).style("stroke",x.color).attr("x1",c).attr("y1",h).attr("x2",d).attr("y2",h),_&&(p?_.transition():_).attr("height",x.getLegendHeight()-12).attr("width",T*(O+1)+10),x.legend.selectAll("."+u.legendItem).classed(u.legendItemHidden,function(e){return!x.isTargetToShow(e)}),x.updateLegendItemWidth(T),x.updateLegendItemHeight(M),x.updateLegendStep(O),x.updateSizes(),x.updateScales(),x.updateSvgSize(),x.transformAll(g,n),x.legendHasRendered=!0},s.initTitle=function(){var e=this;e.title=e.svg.append("text").text(e.config.title_text).attr("class",e.CLASS.title)},s.redrawTitle=function(){var e=this;e.title.attr("x",e.xForTitle.bind(e)).attr("y",e.yForTitle.bind(e))},s.xForTitle=function(){var e,t=this,n=t.config,i=n.title_position||"left";return e=i.indexOf("right")>=0?t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width-n.title_padding.right:i.indexOf("center")>=0?(t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width)/2:n.title_padding.left},s.yForTitle=function(){var e=this;return e.config.title_padding.top+e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).height},s.getTitlePadding=function(){var e=this;return e.yForTitle()+e.config.title_padding.bottom},inherit(API,Axis),Axis.prototype.init=function(){var e=this.owner,t=e.config,n=e.main;e.axes.x=n.append("g").attr("class",u.axis+" "+u.axisX).attr("clip-path",e.clipPathForXAxis).attr("transform",e.getTranslate("x")).style("visibility",t.axis_x_show?"visible":"hidden"),e.axes.x.append("text").attr("class",u.axisXLabel).attr("transform",t.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),e.axes.y=n.append("g").attr("class",u.axis+" "+u.axisY).attr("clip-path",t.axis_y_inner?"":e.clipPathForYAxis).attr("transform",e.getTranslate("y")).style("visibility",t.axis_y_show?"visible":"hidden"),e.axes.y.append("text").attr("class",u.axisYLabel).attr("transform",t.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),e.axes.y2=n.append("g").attr("class",u.axis+" "+u.axisY2).attr("transform",e.getTranslate("y2")).style("visibility",t.axis_y2_show?"visible":"hidden"),e.axes.y2.append("text").attr("class",u.axisY2Label).attr("transform",t.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},Axis.prototype.getXAxis=function(e,t,n,i,r,o,a){var s=this.owner,l=s.config,c={isCategory:s.isCategorized(),withOuterTick:r,tickMultiline:l.axis_x_tick_multiline,tickWidth:l.axis_x_tick_width,tickTextRotate:a?0:l.axis_x_tick_rotate,withoutTransition:o},u=c3_axis(s.d3,c).scale(e).orient(t);return s.isTimeSeries()&&i&&"function"!=typeof i&&(i=i.map(function(e){return s.parseDate(e)})),u.tickFormat(n).tickValues(i),s.isCategorized()&&(u.tickCentered(l.axis_x_tick_centered),b(l.axis_x_tick_culling)&&(l.axis_x_tick_culling=!1)),u},Axis.prototype.updateXAxisTickValues=function(e,t){var n,i=this.owner,r=i.config;return(r.axis_x_tick_fit||r.axis_x_tick_count)&&(n=this.generateTickValues(i.mapTargetsToUniqueXs(e),r.axis_x_tick_count,i.isTimeSeries())),t?t.tickValues(n):(i.xAxis.tickValues(n),i.subXAxis.tickValues(n)),n},Axis.prototype.getYAxis=function(e,t,n,i,r,o,a){var s=this.owner,l=s.config,c={withOuterTick:r,withoutTransition:o,tickTextRotate:a?0:l.axis_y_tick_rotate},u=c3_axis(s.d3,c).scale(e).orient(t).tickFormat(n);return s.isTimeSeriesY()?u.ticks(s.d3.time[l.axis_y_tick_time_value],l.axis_y_tick_time_interval):u.tickValues(i),u},Axis.prototype.getId=function(e){var t=this.owner.config;return e in t.data_axes?t.data_axes[e]:"y"},Axis.prototype.getXAxisTickFormat=function(){var e=this.owner,t=e.config,n=e.isTimeSeries()?e.defaultAxisTimeFormat:e.isCategorized()?e.categoryName:function(e){return e<0?e.toFixed(0):e};return t.axis_x_tick_format&&(h(t.axis_x_tick_format)?n=t.axis_x_tick_format:e.isTimeSeries()&&(n=function(n){return n?e.axisTimeFormat(t.axis_x_tick_format)(n):""})),h(n)?function(t){return n.call(e,t)}:n},Axis.prototype.getTickValues=function(e,t){return e?e:t?t.tickValues():void 0},Axis.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},Axis.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},Axis.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},Axis.prototype.getLabelOptionByAxisId=function(e){var t,n=this.owner,i=n.config;return"y"===e?t=i.axis_y_label:"y2"===e?t=i.axis_y2_label:"x"===e&&(t=i.axis_x_label),t},Axis.prototype.getLabelText=function(e){var t=this.getLabelOptionByAxisId(e);return m(t)?t:t?t.text:null},Axis.prototype.setLabelText=function(e,t){var n=this.owner,i=n.config,r=this.getLabelOptionByAxisId(e);m(r)?"y"===e?i.axis_y_label=t:"y2"===e?i.axis_y2_label=t:"x"===e&&(i.axis_x_label=t):r&&(r.text=t)},Axis.prototype.getLabelPosition=function(e,t){var n=this.getLabelOptionByAxisId(e),i=n&&"object"==typeof n&&n.position?n.position:t;return{isInner:i.indexOf("inner")>=0,isOuter:i.indexOf("outer")>=0,isLeft:i.indexOf("left")>=0,isCenter:i.indexOf("center")>=0,isRight:i.indexOf("right")>=0,isTop:i.indexOf("top")>=0,isMiddle:i.indexOf("middle")>=0,isBottom:i.indexOf("bottom")>=0}},Axis.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},Axis.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},Axis.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},Axis.prototype.getLabelPositionById=function(e){return"y2"===e?this.getY2AxisLabelPosition():"y"===e?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},Axis.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},Axis.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},Axis.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},Axis.prototype.xForAxisLabel=function(e,t){var n=this.owner;return e?t.isLeft?0:t.isCenter?n.width/2:n.width:t.isBottom?-n.height:t.isMiddle?-n.height/2:0},Axis.prototype.dxForAxisLabel=function(e,t){return e?t.isLeft?"0.5em":t.isRight?"-0.5em":"0":t.isTop?"-0.5em":t.isBottom?"0.5em":"0"},Axis.prototype.textAnchorForAxisLabel=function(e,t){return e?t.isLeft?"start":t.isCenter?"middle":"end":t.isBottom?"start":t.isMiddle?"middle":"end"},Axis.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},Axis.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},Axis.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},Axis.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},Axis.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},Axis.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},Axis.prototype.dyForXAxisLabel=function(){var e=this.owner,t=e.config,n=this.getXAxisLabelPosition();return t.axis_rotated?n.isInner?"1.2em":-25-this.getMaxTickWidth("x"):n.isInner?"-0.5em":t.axis_x_height?t.axis_x_height-10:"3em"},Axis.prototype.dyForYAxisLabel=function(){var e=this.owner,t=this.getYAxisLabelPosition();return e.config.axis_rotated?t.isInner?"-0.5em":"3em":t.isInner?"1.2em":-10-(e.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},Axis.prototype.dyForY2AxisLabel=function(){var e=this.owner,t=this.getY2AxisLabelPosition();return e.config.axis_rotated?t.isInner?"1.2em":"-2.2em":t.isInner?"-0.5em":15+(e.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},Axis.prototype.textAnchorForXAxisLabel=function(){var e=this.owner;return this.textAnchorForAxisLabel(!e.config.axis_rotated,this.getXAxisLabelPosition())},Axis.prototype.textAnchorForYAxisLabel=function(){var e=this.owner;return this.textAnchorForAxisLabel(e.config.axis_rotated,this.getYAxisLabelPosition())},Axis.prototype.textAnchorForY2AxisLabel=function(){var e=this.owner;return this.textAnchorForAxisLabel(e.config.axis_rotated,this.getY2AxisLabelPosition())},Axis.prototype.getMaxTickWidth=function(e,t){var n,i,r,o,a,s=this.owner,l=s.config,c=0;return t&&s.currentMaxTickWidths[e]?s.currentMaxTickWidths[e]:(s.svg&&(n=s.filterTargetsToShow(s.data.targets),"y"===e?(i=s.y.copy().domain(s.getYDomain(n,"y")),r=this.getYAxis(i,s.yOrient,l.axis_y_tick_format,s.yAxisTickValues,!1,!0,!0)):"y2"===e?(i=s.y2.copy().domain(s.getYDomain(n,"y2")),r=this.getYAxis(i,s.y2Orient,l.axis_y2_tick_format,s.y2AxisTickValues,!1,!0,!0)):(i=s.x.copy().domain(s.getXDomain(n)),r=this.getXAxis(i,s.xOrient,s.xAxisTickFormat,s.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(n,r)),o=s.d3.select("body").append("div").classed("c3",!0),a=o.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),a.append("g").call(r).each(function(){s.d3.select(this).selectAll("text").each(function(){var e=this.getBoundingClientRect();c<e.width&&(c=e.width)}),o.remove()})),s.currentMaxTickWidths[e]=c<=0?s.currentMaxTickWidths[e]:c,s.currentMaxTickWidths[e])},Axis.prototype.updateLabels=function(e){var t=this.owner,n=t.main.select("."+u.axisX+" ."+u.axisXLabel),i=t.main.select("."+u.axisY+" ."+u.axisYLabel),r=t.main.select("."+u.axisY2+" ."+u.axisY2Label);(e?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),
(e?i.transition():i).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(e?r.transition():r).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},Axis.prototype.getPadding=function(e,t,n,i){var r="number"==typeof e?e:e[t];return d(r)?"ratio"===e.unit?e[t]*i:this.convertPixelsToAxisPadding(r,i):n},Axis.prototype.convertPixelsToAxisPadding=function(e,t){var n=this.owner,i=n.config.axis_rotated?n.width:n.height;return t*(e/i)},Axis.prototype.generateTickValues=function(e,t,n){var i,r,o,a,s,l,c,u=e;if(t)if(i=h(t)?t():t,1===i)u=[e[0]];else if(2===i)u=[e[0],e[e.length-1]];else if(i>2){for(a=i-2,r=e[0],o=e[e.length-1],s=(o-r)/(a+1),u=[r],l=0;l<a;l++)c=+r+s*(l+1),u.push(n?new Date(c):c);u.push(o)}return n||(u=u.sort(function(e,t){return e-t})),u},Axis.prototype.generateTransitions=function(e){var t=this.owner,n=t.axes;return{axisX:e?n.x.transition().duration(e):n.x,axisY:e?n.y.transition().duration(e):n.y,axisY2:e?n.y2.transition().duration(e):n.y2,axisSubX:e?n.subx.transition().duration(e):n.subx}},Axis.prototype.redraw=function(e,t){var n=this.owner;n.axes.x.style("opacity",t?0:1),n.axes.y.style("opacity",t?0:1),n.axes.y2.style("opacity",t?0:1),n.axes.subx.style("opacity",t?0:1),e.axisX.call(n.xAxis),e.axisY.call(n.yAxis),e.axisY2.call(n.y2Axis),e.axisSubX.call(n.subXAxis)},s.getClipPath=function(e){var t=o.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(t?"":document.URL.split("#")[0])+"#"+e+")"},s.appendClip=function(e,t){return e.append("clipPath").attr("id",t).append("rect")},s.getAxisClipX=function(e){var t=Math.max(30,this.margin.left);return e?-(1+t):-(t-1)},s.getAxisClipY=function(e){return e?-20:-this.margin.top},s.getXAxisClipX=function(){var e=this;return e.getAxisClipX(!e.config.axis_rotated)},s.getXAxisClipY=function(){var e=this;return e.getAxisClipY(!e.config.axis_rotated)},s.getYAxisClipX=function(){var e=this;return e.config.axis_y_inner?-1:e.getAxisClipX(e.config.axis_rotated)},s.getYAxisClipY=function(){var e=this;return e.getAxisClipY(e.config.axis_rotated)},s.getAxisClipWidth=function(e){var t=this,n=Math.max(30,t.margin.left),i=Math.max(30,t.margin.right);return e?t.width+2+n+i:t.margin.left+20},s.getAxisClipHeight=function(e){return(e?this.margin.bottom:this.margin.top+this.height)+20},s.getXAxisClipWidth=function(){var e=this;return e.getAxisClipWidth(!e.config.axis_rotated)},s.getXAxisClipHeight=function(){var e=this;return e.getAxisClipHeight(!e.config.axis_rotated)},s.getYAxisClipWidth=function(){var e=this;return e.getAxisClipWidth(e.config.axis_rotated)+(e.config.axis_y_inner?20:0)},s.getYAxisClipHeight=function(){var e=this;return e.getAxisClipHeight(e.config.axis_rotated)},s.initPie=function(){var e=this,t=e.d3,n=e.config;e.pie=t.layout.pie().value(function(e){return e.values.reduce(function(e,t){return e+t.value},0)}),n.data_order||e.pie.sort(null)},s.updateRadius=function(){var e=this,t=e.config,n=t.gauge_width||t.donut_width;e.radiusExpanded=Math.min(e.arcWidth,e.arcHeight)/2,e.radius=.95*e.radiusExpanded,e.innerRadiusRatio=n?(e.radius-n)/e.radius:.6,e.innerRadius=e.hasType("donut")||e.hasType("gauge")?e.radius*e.innerRadiusRatio:0},s.updateArc=function(){var e=this;e.svgArc=e.getSvgArc(),e.svgArcExpanded=e.getSvgArcExpanded(),e.svgArcExpandedSub=e.getSvgArcExpanded(.98)},s.updateAngle=function(e){var t,n,i,r,o=this,a=o.config,s=!1,l=0;return a?(o.pie(o.filterTargetsToShow(o.data.targets)).forEach(function(t){s||t.data.id!==e.data.id||(s=!0,e=t,e.index=l),l++}),isNaN(e.startAngle)&&(e.startAngle=0),isNaN(e.endAngle)&&(e.endAngle=e.startAngle),o.isGaugeType(e.data)&&(t=a.gauge_min,n=a.gauge_max,i=Math.PI*(a.gauge_fullCircle?2:1)/(n-t),r=e.value<t?0:e.value<n?e.value-t:n-t,e.startAngle=a.gauge_startingAngle,e.endAngle=e.startAngle+i*r),s?e:null):null},s.getSvgArc=function(){var e=this,t=e.d3.svg.arc().outerRadius(e.radius).innerRadius(e.innerRadius),n=function(n,i){var r;return i?t(n):(r=e.updateAngle(n),r?t(r):"M 0 0")};return n.centroid=t.centroid,n},s.getSvgArcExpanded=function(e){var t=this,n=t.d3.svg.arc().outerRadius(t.radiusExpanded*(e?e:1)).innerRadius(t.innerRadius);return function(e){var i=t.updateAngle(e);return i?n(i):"M 0 0"}},s.getArc=function(e,t,n){return n||this.isArcType(e.data)?this.svgArc(e,t):"M 0 0"},s.transformForArcLabel=function(e){var t,n,i,r,o,a=this,s=a.config,l=a.updateAngle(e),c="";return l&&!a.hasType("gauge")&&(t=this.svgArc.centroid(l),n=isNaN(t[0])?0:t[0],i=isNaN(t[1])?0:t[1],r=Math.sqrt(n*n+i*i),o=a.hasType("donut")&&s.donut_label_ratio?h(s.donut_label_ratio)?s.donut_label_ratio(e,a.radius,r):s.donut_label_ratio:a.hasType("pie")&&s.pie_label_ratio?h(s.pie_label_ratio)?s.pie_label_ratio(e,a.radius,r):s.pie_label_ratio:a.radius&&r?(36/a.radius>.375?1.175-36/a.radius:.8)*a.radius/r:0,c="translate("+n*o+","+i*o+")"),c},s.getArcRatio=function(e){var t=this,n=t.config,i=Math.PI*(t.hasType("gauge")&&!n.gauge_fullCircle?1:2);return e?(e.endAngle-e.startAngle)/i:null},s.convertToArcData=function(e){return this.addName({id:e.data.id,value:e.value,ratio:this.getArcRatio(e),index:e.index})},s.textForArcLabel=function(e){var t,n,i,r,o,a=this;return a.shouldShowArcLabel()?(t=a.updateAngle(e),n=t?t.value:null,i=a.getArcRatio(t),r=e.data.id,a.hasType("gauge")||a.meetsArcLabelThreshold(i)?(o=a.getArcLabelFormat(),o?o(n,i,r):a.defaultArcValueFormat(n,i)):""):""},s.expandArc=function(e){var t,n=this;return n.transiting?void(t=o.setInterval(function(){n.transiting||(o.clearInterval(t),n.legend.selectAll(".c3-legend-item-focused").size()>0&&n.expandArc(e))},10)):(e=n.mapToTargetIds(e),void n.svg.selectAll(n.selectorTargets(e,"."+u.chartArc)).each(function(e){n.shouldExpand(e.data.id)&&n.d3.select(this).selectAll("path").transition().duration(n.expandDuration(e.data.id)).attr("d",n.svgArcExpanded).transition().duration(2*n.expandDuration(e.data.id)).attr("d",n.svgArcExpandedSub).each(function(e){n.isDonutType(e.data)})}))},s.unexpandArc=function(e){var t=this;t.transiting||(e=t.mapToTargetIds(e),t.svg.selectAll(t.selectorTargets(e,"."+u.chartArc)).selectAll("path").transition().duration(function(e){return t.expandDuration(e.data.id)}).attr("d",t.svgArc),t.svg.selectAll("."+u.arc).style("opacity",1))},s.expandDuration=function(e){var t=this,n=t.config;return t.isDonutType(e)?n.donut_expand_duration:t.isGaugeType(e)?n.gauge_expand_duration:t.isPieType(e)?n.pie_expand_duration:50},s.shouldExpand=function(e){var t=this,n=t.config;return t.isDonutType(e)&&n.donut_expand||t.isGaugeType(e)&&n.gauge_expand||t.isPieType(e)&&n.pie_expand},s.shouldShowArcLabel=function(){var e=this,t=e.config,n=!0;return e.hasType("donut")?n=t.donut_label_show:e.hasType("pie")&&(n=t.pie_label_show),n},s.meetsArcLabelThreshold=function(e){var t=this,n=t.config,i=t.hasType("donut")?n.donut_label_threshold:n.pie_label_threshold;return e>=i},s.getArcLabelFormat=function(){var e=this,t=e.config,n=t.pie_label_format;return e.hasType("gauge")?n=t.gauge_label_format:e.hasType("donut")&&(n=t.donut_label_format),n},s.getArcTitle=function(){var e=this;return e.hasType("donut")?e.config.donut_title:""},s.updateTargetsForArc=function(e){var t,n,i=this,r=i.main,o=i.classChartArc.bind(i),a=i.classArcs.bind(i),s=i.classFocus.bind(i);t=r.select("."+u.chartArcs).selectAll("."+u.chartArc).data(i.pie(e)).attr("class",function(e){return o(e)+s(e.data)}),n=t.enter().append("g").attr("class",o),n.append("g").attr("class",a),n.append("text").attr("dy",i.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},s.initArc=function(){var e=this;e.arcs=e.main.select("."+u.chart).append("g").attr("class",u.chartArcs).attr("transform",e.getTranslate("arc")),e.arcs.append("text").attr("class",u.chartArcsTitle).style("text-anchor","middle").text(e.getArcTitle())},s.redrawArc=function(e,t,n){var i,r=this,o=r.d3,a=r.config,s=r.main;i=s.selectAll("."+u.arcs).selectAll("."+u.arc).data(r.arcData.bind(r)),i.enter().append("path").attr("class",r.classArc.bind(r)).style("fill",function(e){return r.color(e.data)}).style("cursor",function(e){return a.interaction_enabled&&a.data_selection_isselectable(e)?"pointer":null}).style("opacity",0).each(function(e){r.isGaugeType(e.data)&&(e.startAngle=e.endAngle=a.gauge_startingAngle),this._current=e}),i.attr("transform",function(e){return!r.isGaugeType(e.data)&&n?"scale(0)":""}).style("opacity",function(e){return e===this._current?0:1}).on("mouseover",a.interaction_enabled?function(e){var t,n;r.transiting||(t=r.updateAngle(e),t&&(n=r.convertToArcData(t),r.expandArc(t.data.id),r.api.focus(t.data.id),r.toggleFocusLegend(t.data.id,!0),r.config.data_onmouseover(n,this)))}:null).on("mousemove",a.interaction_enabled?function(e){var t,n,i=r.updateAngle(e);i&&(t=r.convertToArcData(i),n=[t],r.showTooltip(n,this))}:null).on("mouseout",a.interaction_enabled?function(e){var t,n;r.transiting||(t=r.updateAngle(e),t&&(n=r.convertToArcData(t),r.unexpandArc(t.data.id),r.api.revert(),r.revertLegend(),r.hideTooltip(),r.config.data_onmouseout(n,this)))}:null).on("click",a.interaction_enabled?function(e,t){var n,i=r.updateAngle(e);i&&(n=r.convertToArcData(i),r.toggleShape&&r.toggleShape(this,n,t),r.config.data_onclick.call(r.api,n,this))}:null).each(function(){r.transiting=!0}).transition().duration(e).attrTween("d",function(e){var t,n=r.updateAngle(e);return n?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),t=o.interpolate(this._current,n),this._current=t(0),function(n){var i=t(n);return i.data=e.data,r.getArc(i,!0)}):function(){return"M 0 0"}}).attr("transform",n?"scale(1)":"").style("fill",function(e){return r.levelColor?r.levelColor(e.data.values[0].value):r.color(e.data.id)}).style("opacity",1).call(r.endall,function(){r.transiting=!1}),i.exit().transition().duration(t).style("opacity",0).remove(),s.selectAll("."+u.chartArc).select("text").style("opacity",0).attr("class",function(e){return r.isGaugeType(e.data)?u.gaugeValue:""}).text(r.textForArcLabel.bind(r)).attr("transform",r.transformForArcLabel.bind(r)).style("font-size",function(e){return r.isGaugeType(e.data)?Math.round(r.radius/5)+"px":""}).transition().duration(e).style("opacity",function(e){return r.isTargetToShow(e.data.id)&&r.isArcType(e.data)?1:0}),s.select("."+u.chartArcsTitle).style("opacity",r.hasType("donut")||r.hasType("gauge")?1:0),r.hasType("gauge")&&(r.arcs.select("."+u.chartArcsBackground).attr("d",function(){var e={data:[{value:a.gauge_max}],startAngle:a.gauge_startingAngle,endAngle:-1*a.gauge_startingAngle};return r.getArc(e,!0,!0)}),r.arcs.select("."+u.chartArcsGaugeUnit).attr("dy",".75em").text(a.gauge_label_show?a.gauge_units:""),r.arcs.select("."+u.chartArcsGaugeMin).attr("dx",-1*(r.innerRadius+(r.radius-r.innerRadius)/(a.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(a.gauge_label_show?a.gauge_min:""),r.arcs.select("."+u.chartArcsGaugeMax).attr("dx",r.innerRadius+(r.radius-r.innerRadius)/(a.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(a.gauge_label_show?a.gauge_max:""))},s.initGauge=function(){var e=this.arcs;this.hasType("gauge")&&(e.append("path").attr("class",u.chartArcsBackground),e.append("text").attr("class",u.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),e.append("text").attr("class",u.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),e.append("text").attr("class",u.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},s.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},s.initRegion=function(){var e=this;e.region=e.main.append("g").attr("clip-path",e.clipPath).attr("class",u.regions)},s.updateRegion=function(e){var t=this,n=t.config;t.region.style("visibility",t.hasArcType()?"hidden":"visible"),t.mainRegion=t.main.select("."+u.regions).selectAll("."+u.region).data(n.regions),t.mainRegion.enter().append("g").append("rect").style("fill-opacity",0),t.mainRegion.attr("class",t.classRegion.bind(t)),t.mainRegion.exit().transition().duration(e).style("opacity",0).remove()},s.redrawRegion=function(e){var t=this,n=t.mainRegion.selectAll("rect").each(function(){var e=t.d3.select(this.parentNode).datum();t.d3.select(this).datum(e)}),i=t.regionX.bind(t),r=t.regionY.bind(t),o=t.regionWidth.bind(t),a=t.regionHeight.bind(t);return[(e?n.transition():n).attr("x",i).attr("y",r).attr("width",o).attr("height",a).style("fill-opacity",function(e){return d(e.opacity)?e.opacity:.1})]},s.regionX=function(e){var t,n=this,i=n.config,r="y"===e.axis?n.y:n.y2;return t="y"===e.axis||"y2"===e.axis?i.axis_rotated&&"start"in e?r(e.start):0:i.axis_rotated?0:"start"in e?n.x(n.isTimeSeries()?n.parseDate(e.start):e.start):0},s.regionY=function(e){var t,n=this,i=n.config,r="y"===e.axis?n.y:n.y2;return t="y"===e.axis||"y2"===e.axis?i.axis_rotated?0:"end"in e?r(e.end):0:i.axis_rotated&&"start"in e?n.x(n.isTimeSeries()?n.parseDate(e.start):e.start):0},s.regionWidth=function(e){var t,n=this,i=n.config,r=n.regionX(e),o="y"===e.axis?n.y:n.y2;return t="y"===e.axis||"y2"===e.axis?i.axis_rotated&&"end"in e?o(e.end):n.width:i.axis_rotated?n.width:"end"in e?n.x(n.isTimeSeries()?n.parseDate(e.end):e.end):n.width,t<r?0:t-r},s.regionHeight=function(e){var t,n=this,i=n.config,r=this.regionY(e),o="y"===e.axis?n.y:n.y2;return t="y"===e.axis||"y2"===e.axis?i.axis_rotated?n.height:"start"in e?o(e.start):n.height:i.axis_rotated&&"end"in e?n.x(n.isTimeSeries()?n.parseDate(e.end):e.end):n.height,t<r?0:t-r},s.isRegionOnX=function(e){return!e.axis||"x"===e.axis},s.drag=function(e){var t,n,i,r,o,a,s,l,c=this,d=c.config,h=c.main,m=c.d3;c.hasArcType()||d.data_selection_enabled&&(d.zoom_enabled&&!c.zoom.altDomain||d.data_selection_multiple&&(t=c.dragStart[0],n=c.dragStart[1],i=e[0],r=e[1],o=Math.min(t,i),a=Math.max(t,i),s=d.data_selection_grouped?c.margin.top:Math.min(n,r),l=d.data_selection_grouped?c.height:Math.max(n,r),h.select("."+u.dragarea).attr("x",o).attr("y",s).attr("width",a-o).attr("height",l-s),h.selectAll("."+u.shapes).selectAll("."+u.shape).filter(function(e){return d.data_selection_isselectable(e)}).each(function(e,t){var n,i,r,d,h,p,f=m.select(this),g=f.classed(u.SELECTED),v=f.classed(u.INCLUDED),y=!1;if(f.classed(u.circle))n=1*f.attr("cx"),i=1*f.attr("cy"),h=c.togglePoint,y=o<n&&n<a&&s<i&&i<l;else{if(!f.classed(u.bar))return;p=S(this),n=p.x,i=p.y,r=p.width,d=p.height,h=c.togglePath,y=!(a<n||n+r<o||l<i||i+d<s)}y^v&&(f.classed(u.INCLUDED,!v),f.classed(u.SELECTED,!g),h.call(c,!g,f,e,t))})))},s.dragstart=function(e){var t=this,n=t.config;t.hasArcType()||n.data_selection_enabled&&(t.dragStart=e,t.main.select("."+u.chart).append("rect").attr("class",u.dragarea).style("opacity",.1),t.dragging=!0)},s.dragend=function(){var e=this,t=e.config;e.hasArcType()||t.data_selection_enabled&&(e.main.select("."+u.dragarea).transition().duration(100).style("opacity",0).remove(),e.main.selectAll("."+u.shape).classed(u.INCLUDED,!1),e.dragging=!1)},s.selectPoint=function(e,t,n){var i=this,r=i.config,o=(r.axis_rotated?i.circleY:i.circleX).bind(i),a=(r.axis_rotated?i.circleX:i.circleY).bind(i),s=i.pointSelectR.bind(i);r.data_onselected.call(i.api,t,e.node()),i.main.select("."+u.selectedCircles+i.getTargetSelectorSuffix(t.id)).selectAll("."+u.selectedCircle+"-"+n).data([t]).enter().append("circle").attr("class",function(){return i.generateClass(u.selectedCircle,n)}).attr("cx",o).attr("cy",a).attr("stroke",function(){return i.color(t)}).attr("r",function(e){return 1.4*i.pointSelectR(e)}).transition().duration(100).attr("r",s)},s.unselectPoint=function(e,t,n){var i=this;i.config.data_onunselected.call(i.api,t,e.node()),i.main.select("."+u.selectedCircles+i.getTargetSelectorSuffix(t.id)).selectAll("."+u.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},s.togglePoint=function(e,t,n,i){e?this.selectPoint(t,n,i):this.unselectPoint(t,n,i)},s.selectPath=function(e,t){var n=this;n.config.data_onselected.call(n,t,e.node()),n.config.interaction_brighten&&e.transition().duration(100).style("fill",function(){return n.d3.rgb(n.color(t)).brighter(.75)})},s.unselectPath=function(e,t){var n=this;n.config.data_onunselected.call(n,t,e.node()),n.config.interaction_brighten&&e.transition().duration(100).style("fill",function(){return n.color(t)})},s.togglePath=function(e,t,n,i){e?this.selectPath(t,n,i):this.unselectPath(t,n,i)},s.getToggle=function(e,t){var n,i=this;return"circle"===e.nodeName?n=i.isStepType(t)?function(){}:i.togglePoint:"path"===e.nodeName&&(n=i.togglePath),n},s.toggleShape=function(e,t,n){var i=this,r=i.d3,o=i.config,a=r.select(e),s=a.classed(u.SELECTED),l=i.getToggle(e,t).bind(i);o.data_selection_enabled&&o.data_selection_isselectable(t)&&(o.data_selection_multiple||i.main.selectAll("."+u.shapes+(o.data_selection_grouped?i.getTargetSelectorSuffix(t.id):"")).selectAll("."+u.shape).each(function(e,t){var n=r.select(this);n.classed(u.SELECTED)&&l(!1,n.classed(u.SELECTED,!1),e,t)}),a.classed(u.SELECTED,!s),l(!s,a,t,n))},s.initBrush=function(){var e=this,t=e.d3;e.brush=t.svg.brush().on("brush",function(){e.redrawForBrush()}),e.brush.update=function(){return e.context&&e.context.select("."+u.brush).call(this),this},e.brush.scale=function(t){return e.config.axis_rotated?this.y(t):this.x(t)}},s.initSubchart=function(){var e=this,t=e.config,n=e.context=e.svg.append("g").attr("transform",e.getTranslate("context")),i=t.subchart_show?"visible":"hidden";n.style("visibility",i),n.append("g").attr("clip-path",e.clipPathForSubchart).attr("class",u.chart),n.select("."+u.chart).append("g").attr("class",u.chartBars),n.select("."+u.chart).append("g").attr("class",u.chartLines),n.append("g").attr("clip-path",e.clipPath).attr("class",u.brush).call(e.brush),e.axes.subx=n.append("g").attr("class",u.axisX).attr("transform",e.getTranslate("subx")).attr("clip-path",t.axis_rotated?"":e.clipPathForXAxis).style("visibility",t.subchart_axis_x_show?i:"hidden")},s.updateTargetsForSubchart=function(e){var t,n,i,r,o=this,a=o.context,s=o.config,l=o.classChartBar.bind(o),c=o.classBars.bind(o),d=o.classChartLine.bind(o),h=o.classLines.bind(o),m=o.classAreas.bind(o);s.subchart_show&&(r=a.select("."+u.chartBars).selectAll("."+u.chartBar).data(e).attr("class",l),i=r.enter().append("g").style("opacity",0).attr("class",l),i.append("g").attr("class",c),n=a.select("."+u.chartLines).selectAll("."+u.chartLine).data(e).attr("class",d),t=n.enter().append("g").style("opacity",0).attr("class",d),t.append("g").attr("class",h),t.append("g").attr("class",m),a.selectAll("."+u.brush+" rect").attr(s.axis_rotated?"width":"height",s.axis_rotated?o.width2:o.height2))},s.updateBarForSubchart=function(e){var t=this;t.contextBar=t.context.selectAll("."+u.bars).selectAll("."+u.bar).data(t.barData.bind(t)),t.contextBar.enter().append("path").attr("class",t.classBar.bind(t)).style("stroke","none").style("fill",t.color),t.contextBar.style("opacity",t.initialOpacity.bind(t)),t.contextBar.exit().transition().duration(e).style("opacity",0).remove()},s.redrawBarForSubchart=function(e,t,n){(t?this.contextBar.transition(Math.random().toString()).duration(n):this.contextBar).attr("d",e).style("opacity",1)},s.updateLineForSubchart=function(e){var t=this;t.contextLine=t.context.selectAll("."+u.lines).selectAll("."+u.line).data(t.lineData.bind(t)),t.contextLine.enter().append("path").attr("class",t.classLine.bind(t)).style("stroke",t.color),t.contextLine.style("opacity",t.initialOpacity.bind(t)),t.contextLine.exit().transition().duration(e).style("opacity",0).remove()},s.redrawLineForSubchart=function(e,t,n){(t?this.contextLine.transition(Math.random().toString()).duration(n):this.contextLine).attr("d",e).style("opacity",1)},s.updateAreaForSubchart=function(e){var t=this,n=t.d3;t.contextArea=t.context.selectAll("."+u.areas).selectAll("."+u.area).data(t.lineData.bind(t)),t.contextArea.enter().append("path").attr("class",t.classArea.bind(t)).style("fill",t.color).style("opacity",function(){return t.orgAreaOpacity=+n.select(this).style("opacity"),0}),t.contextArea.style("opacity",0),t.contextArea.exit().transition().duration(e).style("opacity",0).remove()},s.redrawAreaForSubchart=function(e,t,n){(t?this.contextArea.transition(Math.random().toString()).duration(n):this.contextArea).attr("d",e).style("fill",this.color).style("opacity",this.orgAreaOpacity)},s.redrawSubchart=function(e,t,n,i,r,o,a){var s,l,c,u=this,d=u.d3,h=u.config;u.context.style("visibility",h.subchart_show?"visible":"hidden"),h.subchart_show&&(d.event&&"zoom"===d.event.type&&u.brush.extent(u.x.orgDomain()).update(),e&&(u.brush.empty()||u.brush.extent(u.x.orgDomain()).update(),s=u.generateDrawArea(r,!0),l=u.generateDrawBar(o,!0),c=u.generateDrawLine(a,!0),u.updateBarForSubchart(n),u.updateLineForSubchart(n),u.updateAreaForSubchart(n),u.redrawBarForSubchart(l,n,n),u.redrawLineForSubchart(c,n,n),u.redrawAreaForSubchart(s,n,n)))},s.redrawForBrush=function(){var e=this,t=e.x;e.redraw({withTransition:!1,withY:e.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),e.config.subchart_onbrush.call(e.api,t.orgDomain())},s.transformContext=function(e,t){var n,i=this;t&&t.axisSubX?n=t.axisSubX:(n=i.context.select("."+u.axisX),e&&(n=n.transition())),i.context.attr("transform",i.getTranslate("context")),n.attr("transform",i.getTranslate("subx"))},s.getDefaultExtent=function(){var e=this,t=e.config,n=h(t.axis_x_extent)?t.axis_x_extent(e.getXDomain(e.data.targets)):t.axis_x_extent;return e.isTimeSeries()&&(n=[e.parseDate(n[0]),e.parseDate(n[1])]),n},s.initZoom=function(){var e,t=this,n=t.d3,i=t.config;t.zoom=n.behavior.zoom().on("zoomstart",function(){e=n.event.sourceEvent,t.zoom.altDomain=n.event.sourceEvent.altKey?t.x.orgDomain():null,i.zoom_onzoomstart.call(t.api,n.event.sourceEvent)}).on("zoom",function(){t.redrawForZoom.call(t)}).on("zoomend",function(){var r=n.event.sourceEvent;r&&e.clientX===r.clientX&&e.clientY===r.clientY||(t.redrawEventRect(),t.updateZoom(),i.zoom_onzoomend.call(t.api,t.x.orgDomain()))}),t.zoom.scale=function(e){return i.axis_rotated?this.y(e):this.x(e)},t.zoom.orgScaleExtent=function(){var e=i.zoom_extent?i.zoom_extent:[1,10];return[e[0],Math.max(t.getMaxDataCount()/e[1],e[1])]},t.zoom.updateScaleExtent=function(){var e=y(t.x.orgDomain())/y(t.getZoomDomain()),n=this.orgScaleExtent();return this.scaleExtent([n[0]*e,n[1]*e]),this}},s.getZoomDomain=function(){var e=this,t=e.config,n=e.d3,i=n.min([e.orgXDomain[0],t.zoom_x_min]),r=n.max([e.orgXDomain[1],t.zoom_x_max]);return[i,r]},s.updateZoom=function(){var e=this,t=e.config.zoom_enabled?e.zoom:function(){};e.main.select("."+u.zoomRect).call(t).on("dblclick.zoom",null),e.main.selectAll("."+u.eventRect).call(t).on("dblclick.zoom",null)},s.redrawForZoom=function(){var e=this,t=e.d3,n=e.config,i=e.zoom,r=e.x;if(n.zoom_enabled&&0!==e.filterTargetsToShow(e.data.targets).length){if("mousemove"===t.event.sourceEvent.type&&i.altDomain)return r.domain(i.altDomain),void i.scale(r).updateScaleExtent();e.isCategorized()&&r.orgDomain()[0]===e.orgXDomain[0]&&r.domain([e.orgXDomain[0]-1e-10,r.orgDomain()[1]]),e.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===t.event.sourceEvent.type&&(e.cancelClick=!0),n.zoom_onzoom.call(e.api,r.orgDomain())}},s.generateColor=function(){var e=this,t=e.config,n=e.d3,i=t.data_colors,r=_(t.color_pattern)?t.color_pattern:n.scale.category10().range(),o=t.data_color,a=[];return function(e){var t,n=e.id||e.data&&e.data.id||e;return i[n]instanceof Function?t=i[n](e):i[n]?t=i[n]:(a.indexOf(n)<0&&a.push(n),t=r[a.indexOf(n)%r.length],i[n]=t),o instanceof Function?o(t,e):t}},s.generateLevelColor=function(){var e=this,t=e.config,n=t.color_pattern,i=t.color_threshold,r="value"===i.unit,o=i.values&&i.values.length?i.values:[],a=i.max||100;return _(t.color_threshold)?function(e){var t,i,s=n[n.length-1];for(t=0;t<o.length;t++)if(i=r?e:100*e/a,i<o[t]){s=n[t];break}return s}:null},s.getYFormat=function(e){var t=this,n=e&&!t.hasType("gauge")?t.defaultArcValueFormat:t.yFormat,i=e&&!t.hasType("gauge")?t.defaultArcValueFormat:t.y2Format;return function(e,r,o){var a="y2"===t.axis.getId(o)?i:n;return a.call(t,e,r)}},s.yFormat=function(e){var t=this,n=t.config,i=n.axis_y_tick_format?n.axis_y_tick_format:t.defaultValueFormat;return i(e)},s.y2Format=function(e){var t=this,n=t.config,i=n.axis_y2_tick_format?n.axis_y2_tick_format:t.defaultValueFormat;return i(e)},s.defaultValueFormat=function(e){return d(e)?+e:""},s.defaultArcValueFormat=function(e,t){return(100*t).toFixed(1)+"%"},s.dataLabelFormat=function(e){var t,n=this,i=n.config.data_labels,r=function(e){return d(e)?+e:""};return t="function"==typeof i.format?i.format:"object"==typeof i.format?i.format[e]?i.format[e]===!0?r:i.format[e]:function(){return""}:r},s.hasCaches=function(e){for(var t=0;t<e.length;t++)if(!(e[t]in this.cache))return!1;return!0},s.addCache=function(e,t){this.cache[e]=this.cloneTarget(t)},s.getCaches=function(e){var t,n=[];for(t=0;t<e.length;t++)e[t]in this.cache&&n.push(this.cloneTarget(this.cache[e[t]]));return n};var u=s.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};s.generateClass=function(e,t){return" "+e+" "+e+this.getTargetSelectorSuffix(t)},s.classText=function(e){return this.generateClass(u.text,e.index)},s.classTexts=function(e){return this.generateClass(u.texts,e.id)},s.classShape=function(e){return this.generateClass(u.shape,e.index)},s.classShapes=function(e){return this.generateClass(u.shapes,e.id)},s.classLine=function(e){return this.classShape(e)+this.generateClass(u.line,e.id)},s.classLines=function(e){return this.classShapes(e)+this.generateClass(u.lines,e.id)},s.classCircle=function(e){return this.classShape(e)+this.generateClass(u.circle,e.index)},s.classCircles=function(e){return this.classShapes(e)+this.generateClass(u.circles,e.id)},s.classBar=function(e){return this.classShape(e)+this.generateClass(u.bar,e.index)},s.classBars=function(e){return this.classShapes(e)+this.generateClass(u.bars,e.id)},s.classArc=function(e){return this.classShape(e.data)+this.generateClass(u.arc,e.data.id)},s.classArcs=function(e){return this.classShapes(e.data)+this.generateClass(u.arcs,e.data.id)},s.classArea=function(e){return this.classShape(e)+this.generateClass(u.area,e.id)},s.classAreas=function(e){return this.classShapes(e)+this.generateClass(u.areas,e.id)},s.classRegion=function(e,t){return this.generateClass(u.region,t)+" "+("class"in e?e.class:"")},s.classEvent=function(e){return this.generateClass(u.eventRect,e.index)},s.classTarget=function(e){var t=this,n=t.config.data_classes[e],i="";return n&&(i=" "+u.target+"-"+n),t.generateClass(u.target,e)+i},s.classFocus=function(e){return this.classFocused(e)+this.classDefocused(e)},s.classFocused=function(e){return" "+(this.focusedTargetIds.indexOf(e.id)>=0?u.focused:"")},s.classDefocused=function(e){return" "+(this.defocusedTargetIds.indexOf(e.id)>=0?u.defocused:"")},s.classChartText=function(e){return u.chartText+this.classTarget(e.id)},s.classChartLine=function(e){return u.chartLine+this.classTarget(e.id)},s.classChartBar=function(e){return u.chartBar+this.classTarget(e.id)},s.classChartArc=function(e){return u.chartArc+this.classTarget(e.data.id)},s.getTargetSelectorSuffix=function(e){return e||0===e?("-"+e).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},s.selectorTarget=function(e,t){return(t||"")+"."+u.target+this.getTargetSelectorSuffix(e)},s.selectorTargets=function(e,t){var n=this;return e=e||[],e.length?e.map(function(e){return n.selectorTarget(e,t)}):null},s.selectorLegend=function(e){return"."+u.legendItem+this.getTargetSelectorSuffix(e)},s.selectorLegends=function(e){var t=this;return e&&e.length?e.map(function(e){return t.selectorLegend(e)}):null};var d=s.isValue=function(e){return e||0===e},h=s.isFunction=function(e){return"function"==typeof e},m=s.isString=function(e){return"string"==typeof e},p=s.isUndefined=function(e){return"undefined"==typeof e},f=s.isDefined=function(e){return"undefined"!=typeof e},g=s.ceil10=function(e){return 10*Math.ceil(e/10)},v=s.asHalfPixel=function(e){return Math.ceil(e)+.5},y=s.diffDomain=function(e){return e[1]-e[0]},b=s.isEmpty=function(e){return"undefined"==typeof e||null===e||m(e)&&0===e.length||"object"==typeof e&&0===Object.keys(e).length},_=s.notEmpty=function(e){return!s.isEmpty(e)},w=s.getOption=function(e,t,n){return f(e[t])?e[t]:n},x=s.hasValue=function(e,t){var n=!1;return Object.keys(e).forEach(function(i){e[i]===t&&(n=!0)}),n},C=s.sanitise=function(e){return"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},S=s.getPathBox=function(e){var t=e.getBoundingClientRect(),n=[e.pathSegList.getItem(0),e.pathSegList.getItem(1)],i=n[0].x,r=Math.min(n[0].y,n[1].y);return{x:i,y:r,width:t.width,height:t.height}};a.focus=function(e){var t,n=this.internal;e=n.mapToTargetIds(e),t=n.svg.selectAll(n.selectorTargets(e.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),t.classed(u.focused,!0).classed(u.defocused,!1),n.hasArcType()&&n.expandArc(e),n.toggleFocusLegend(e,!0),n.focusedTargetIds=e,n.defocusedTargetIds=n.defocusedTargetIds.filter(function(t){return e.indexOf(t)<0})},a.defocus=function(e){var t,n=this.internal;e=n.mapToTargetIds(e),t=n.svg.selectAll(n.selectorTargets(e.filter(n.isTargetToShow,n))),t.classed(u.focused,!1).classed(u.defocused,!0),n.hasArcType()&&n.unexpandArc(e),n.toggleFocusLegend(e,!1),n.focusedTargetIds=n.focusedTargetIds.filter(function(t){return e.indexOf(t)<0}),n.defocusedTargetIds=e},a.revert=function(e){var t,n=this.internal;e=n.mapToTargetIds(e),t=n.svg.selectAll(n.selectorTargets(e)),t.classed(u.focused,!1).classed(u.defocused,!1),n.hasArcType()&&n.unexpandArc(e),n.config.legend_show&&(n.showLegend(e.filter(n.isLegendToShow.bind(n))),n.legend.selectAll(n.selectorLegends(e)).filter(function(){return n.d3.select(this).classed(u.legendItemFocused)}).classed(u.legendItemFocused,!1)),n.focusedTargetIds=[],n.defocusedTargetIds=[]},a.show=function(e,t){
var n,i=this.internal;e=i.mapToTargetIds(e),t=t||{},i.removeHiddenTargetIds(e),n=i.svg.selectAll(i.selectorTargets(e)),n.transition().style("opacity",1,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",1)}),t.withLegend&&i.showLegend(e),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},a.hide=function(e,t){var n,i=this.internal;e=i.mapToTargetIds(e),t=t||{},i.addHiddenTargetIds(e),n=i.svg.selectAll(i.selectorTargets(e)),n.transition().style("opacity",0,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",0)}),t.withLegend&&i.hideLegend(e),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},a.toggle=function(e,t){var n=this,i=this.internal;i.mapToTargetIds(e).forEach(function(e){i.isTargetToShow(e)?n.hide(e,t):n.show(e,t)})},a.zoom=function(e){var t=this.internal;return e&&(t.isTimeSeries()&&(e=e.map(function(e){return t.parseDate(e)})),t.brush.extent(e),t.redraw({withUpdateXDomain:!0,withY:t.config.zoom_rescale}),t.config.zoom_onzoom.call(this,t.x.orgDomain())),t.brush.extent()},a.zoom.enable=function(e){var t=this.internal;t.config.zoom_enabled=e,t.updateAndRedraw()},a.unzoom=function(){var e=this.internal;e.brush.clear().update(),e.redraw({withUpdateXDomain:!0})},a.zoom.max=function(e){var t=this.internal,n=t.config,i=t.d3;return 0===e||e?void(n.zoom_x_max=i.max([t.orgXDomain[1],e])):n.zoom_x_max},a.zoom.min=function(e){var t=this.internal,n=t.config,i=t.d3;return 0===e||e?void(n.zoom_x_min=i.min([t.orgXDomain[0],e])):n.zoom_x_min},a.zoom.range=function(e){return arguments.length?(f(e.max)&&this.domain.max(e.max),void(f(e.min)&&this.domain.min(e.min))):{max:this.domain.max(),min:this.domain.min()}},a.load=function(e){var t=this.internal,n=t.config;return e.xs&&t.addXs(e.xs),"names"in e&&a.data.names.bind(this)(e.names),"classes"in e&&Object.keys(e.classes).forEach(function(t){n.data_classes[t]=e.classes[t]}),"categories"in e&&t.isCategorized()&&(n.axis_x_categories=e.categories),"axes"in e&&Object.keys(e.axes).forEach(function(t){n.data_axes[t]=e.axes[t]}),"colors"in e&&Object.keys(e.colors).forEach(function(t){n.data_colors[t]=e.colors[t]}),"cacheIds"in e&&t.hasCaches(e.cacheIds)?void t.load(t.getCaches(e.cacheIds),e.done):void("unload"in e?t.unload(t.mapToTargetIds("boolean"==typeof e.unload&&e.unload?null:e.unload),function(){t.loadFromArgs(e)}):t.loadFromArgs(e))},a.unload=function(e){var t=this.internal;e=e||{},e instanceof Array?e={ids:e}:"string"==typeof e&&(e={ids:[e]}),t.unload(t.mapToTargetIds(e.ids),function(){t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()})},a.flow=function(e){var t,n,i,r,o,a,s,l,c=this.internal,u=[],h=c.getMaxDataCount(),m=0,p=0;if(e.json)n=c.convertJsonToData(e.json,e.keys);else if(e.rows)n=c.convertRowsToData(e.rows);else{if(!e.columns)return;n=c.convertColumnsToData(e.columns)}t=c.convertDataToTargets(n,!0),c.data.targets.forEach(function(e){var n,i,r=!1;for(n=0;n<t.length;n++)if(e.id===t[n].id){for(r=!0,e.values[e.values.length-1]&&(p=e.values[e.values.length-1].index+1),m=t[n].values.length,i=0;i<m;i++)t[n].values[i].index=p+i,c.isTimeSeries()||(t[n].values[i].x=p+i);e.values=e.values.concat(t[n].values),t.splice(n,1);break}r||u.push(e.id)}),c.data.targets.forEach(function(e){var t,n;for(t=0;t<u.length;t++)if(e.id===u[t])for(p=e.values[e.values.length-1].index+1,n=0;n<m;n++)e.values.push({id:e.id,index:p+n,x:c.isTimeSeries()?c.getOtherTargetX(p+n):p+n,value:null})}),c.data.targets.length&&t.forEach(function(e){var t,n=[];for(t=c.data.targets[0].values[0].index;t<p;t++)n.push({id:e.id,index:t,x:c.isTimeSeries()?c.getOtherTargetX(t):t,value:null});e.values.forEach(function(e){e.index+=p,c.isTimeSeries()||(e.x+=p)}),e.values=n.concat(e.values)}),c.data.targets=c.data.targets.concat(t),i=c.getMaxDataCount(),o=c.data.targets[0],a=o.values[0],f(e.to)?(m=0,l=c.isTimeSeries()?c.parseDate(e.to):e.to,o.values.forEach(function(e){e.x<l&&m++})):f(e.length)&&(m=e.length),h?1===h&&c.isTimeSeries()&&(s=(o.values[o.values.length-1].x-a.x)/2,r=[new Date(+a.x-s),new Date(+a.x+s)],c.updateXDomain(null,!0,!0,!1,r)):(s=c.isTimeSeries()?o.values.length>1?o.values[o.values.length-1].x-a.x:a.x-c.getXDomain(c.data.targets)[0]:1,r=[a.x-s,a.x],c.updateXDomain(null,!0,!0,!1,r)),c.updateTargets(c.data.targets),c.redraw({flow:{index:a.index,length:m,duration:d(e.duration)?e.duration:c.config.transition_duration,done:e.done,orgDataCount:h},withLegend:!0,withTransition:h>1,withTrimXDomain:!1,withUpdateXAxis:!0})},s.generateFlow=function(e){var t=this,n=t.config,i=t.d3;return function(){var r,o,a,s=e.targets,l=e.flow,c=e.drawBar,d=e.drawLine,h=e.drawArea,m=e.cx,p=e.cy,f=e.xv,g=e.xForText,v=e.yForText,b=e.duration,_=1,w=l.index,x=l.length,C=t.getValueOnIndex(t.data.targets[0].values,w),S=t.getValueOnIndex(t.data.targets[0].values,w+x),E=t.x.domain(),T=l.duration||b,M=l.done||function(){},k=t.generateWait(),A=t.xgrid||i.selectAll([]),$=t.xgridLines||i.selectAll([]),P=t.mainRegion||i.selectAll([]),L=t.mainText||i.selectAll([]),D=t.mainBar||i.selectAll([]),R=t.mainLine||i.selectAll([]),I=t.mainArea||i.selectAll([]),O=t.mainCircle||i.selectAll([]);t.flowing=!0,t.data.targets.forEach(function(e){e.values.splice(0,x)}),a=t.updateXDomain(s,!0,!0),t.updateXGrid&&t.updateXGrid(!0),l.orgDataCount?r=1===l.orgDataCount||(C&&C.x)===(S&&S.x)?t.x(E[0])-t.x(a[0]):t.isTimeSeries()?t.x(E[0])-t.x(a[0]):t.x(C.x)-t.x(S.x):1!==t.data.targets[0].values.length?r=t.x(E[0])-t.x(a[0]):t.isTimeSeries()?(C=t.getValueOnIndex(t.data.targets[0].values,0),S=t.getValueOnIndex(t.data.targets[0].values,t.data.targets[0].values.length-1),r=t.x(C.x)-t.x(S.x)):r=y(a)/2,_=y(E)/y(a),o="translate("+r+",0) scale("+_+",1)",t.hideXGridFocus(),i.transition().ease("linear").duration(T).each(function(){k.add(t.axes.x.transition().call(t.xAxis)),k.add(D.transition().attr("transform",o)),k.add(R.transition().attr("transform",o)),k.add(I.transition().attr("transform",o)),k.add(O.transition().attr("transform",o)),k.add(L.transition().attr("transform",o)),k.add(P.filter(t.isRegionOnX).transition().attr("transform",o)),k.add(A.transition().attr("transform",o)),k.add($.transition().attr("transform",o))}).call(k,function(){var e,i=[],r=[],o=[];if(x){for(e=0;e<x;e++)i.push("."+u.shape+"-"+(w+e)),r.push("."+u.text+"-"+(w+e)),o.push("."+u.eventRect+"-"+(w+e));t.svg.selectAll("."+u.shapes).selectAll(i).remove(),t.svg.selectAll("."+u.texts).selectAll(r).remove(),t.svg.selectAll("."+u.eventRects).selectAll(o).remove(),t.svg.select("."+u.xgrid).remove()}A.attr("transform",null).attr(t.xgridAttr),$.attr("transform",null),$.select("line").attr("x1",n.axis_rotated?0:f).attr("x2",n.axis_rotated?t.width:f),$.select("text").attr("x",n.axis_rotated?t.width:0).attr("y",f),D.attr("transform",null).attr("d",c),R.attr("transform",null).attr("d",d),I.attr("transform",null).attr("d",h),O.attr("transform",null).attr("cx",m).attr("cy",p),L.attr("transform",null).attr("x",g).attr("y",v).style("fill-opacity",t.opacityForText.bind(t)),P.attr("transform",null),P.select("rect").filter(t.isRegionOnX).attr("x",t.regionX.bind(t)).attr("width",t.regionWidth.bind(t)),n.interaction_enabled&&t.redrawEventRect(),M(),t.flowing=!1})}},a.selected=function(e){var t=this.internal,n=t.d3;return n.merge(t.main.selectAll("."+u.shapes+t.getTargetSelectorSuffix(e)).selectAll("."+u.shape).filter(function(){return n.select(this).classed(u.SELECTED)}).map(function(e){return e.map(function(e){var t=e.__data__;return t.data?t.data:t})}))},a.select=function(e,t,n){var i=this.internal,r=i.d3,o=i.config;o.data_selection_enabled&&i.main.selectAll("."+u.shapes).selectAll("."+u.shape).each(function(a,s){var l=r.select(this),c=a.data?a.data.id:a.id,d=i.getToggle(this,a).bind(i),h=o.data_selection_grouped||!e||e.indexOf(c)>=0,m=!t||t.indexOf(s)>=0,p=l.classed(u.SELECTED);l.classed(u.line)||l.classed(u.area)||(h&&m?o.data_selection_isselectable(a)&&!p&&d(!0,l.classed(u.SELECTED,!0),a,s):f(n)&&n&&p&&d(!1,l.classed(u.SELECTED,!1),a,s))})},a.unselect=function(e,t){var n=this.internal,i=n.d3,r=n.config;r.data_selection_enabled&&n.main.selectAll("."+u.shapes).selectAll("."+u.shape).each(function(o,a){var s=i.select(this),l=o.data?o.data.id:o.id,c=n.getToggle(this,o).bind(n),d=r.data_selection_grouped||!e||e.indexOf(l)>=0,h=!t||t.indexOf(a)>=0,m=s.classed(u.SELECTED);s.classed(u.line)||s.classed(u.area)||d&&h&&r.data_selection_isselectable(o)&&m&&c(!1,s.classed(u.SELECTED,!1),o,a)})},a.transform=function(e,t){var n=this.internal,i=["pie","donut"].indexOf(e)>=0?{withTransform:!0}:null;n.transformTo(t,e,i)},s.transformTo=function(e,t,n){var i=this,r=!i.hasArcType(),o=n||{withTransitionForAxis:r};o.withTransitionForTransform=!1,i.transiting=!1,i.setTargetType(e,t),i.updateTargets(i.data.targets),i.updateAndRedraw(o)},a.groups=function(e){var t=this.internal,n=t.config;return p(e)?n.data_groups:(n.data_groups=e,t.redraw(),n.data_groups)},a.xgrids=function(e){var t=this.internal,n=t.config;return e?(n.grid_x_lines=e,t.redrawWithoutRescale(),n.grid_x_lines):n.grid_x_lines},a.xgrids.add=function(e){var t=this.internal;return this.xgrids(t.config.grid_x_lines.concat(e?e:[]))},a.xgrids.remove=function(e){var t=this.internal;t.removeGridLines(e,!0)},a.ygrids=function(e){var t=this.internal,n=t.config;return e?(n.grid_y_lines=e,t.redrawWithoutRescale(),n.grid_y_lines):n.grid_y_lines},a.ygrids.add=function(e){var t=this.internal;return this.ygrids(t.config.grid_y_lines.concat(e?e:[]))},a.ygrids.remove=function(e){var t=this.internal;t.removeGridLines(e,!1)},a.regions=function(e){var t=this.internal,n=t.config;return e?(n.regions=e,t.redrawWithoutRescale(),n.regions):n.regions},a.regions.add=function(e){var t=this.internal,n=t.config;return e?(n.regions=n.regions.concat(e),t.redrawWithoutRescale(),n.regions):n.regions},a.regions.remove=function(e){var t,n,i,r=this.internal,o=r.config;return e=e||{},t=r.getOption(e,"duration",o.transition_duration),n=r.getOption(e,"classes",[u.region]),i=r.main.select("."+u.regions).selectAll(n.map(function(e){return"."+e})),(t?i.transition().duration(t):i).style("opacity",0).remove(),o.regions=o.regions.filter(function(e){var t=!1;return!e.class||(e.class.split(" ").forEach(function(e){n.indexOf(e)>=0&&(t=!0)}),!t)}),o.regions},a.data=function(e){var t=this.internal.data.targets;return"undefined"==typeof e?t:t.filter(function(t){return[].concat(e).indexOf(t.id)>=0})},a.data.shown=function(e){return this.internal.filterTargetsToShow(this.data(e))},a.data.values=function(e){var t,n=null;return e&&(t=this.data(e),n=t[0]?t[0].values.map(function(e){return e.value}):null),n},a.data.names=function(e){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",e)},a.data.colors=function(e){return this.internal.updateDataAttributes("colors",e)},a.data.axes=function(e){return this.internal.updateDataAttributes("axes",e)},a.category=function(e,t){var n=this.internal,i=n.config;return arguments.length>1&&(i.axis_x_categories[e]=t,n.redraw()),i.axis_x_categories[e]},a.categories=function(e){var t=this.internal,n=t.config;return arguments.length?(n.axis_x_categories=e,t.redraw(),n.axis_x_categories):n.axis_x_categories},a.color=function(e){var t=this.internal;return t.color(e)},a.x=function(e){var t=this.internal;return arguments.length&&(t.updateTargetX(t.data.targets,e),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),t.data.xs},a.xs=function(e){var t=this.internal;return arguments.length&&(t.updateTargetXs(t.data.targets,e),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),t.data.xs},a.axis=function(){},a.axis.labels=function(e){var t=this.internal;arguments.length&&(Object.keys(e).forEach(function(n){t.axis.setLabelText(n,e[n])}),t.axis.updateLabels())},a.axis.max=function(e){var t=this.internal,n=t.config;return arguments.length?("object"==typeof e?(d(e.x)&&(n.axis_x_max=e.x),d(e.y)&&(n.axis_y_max=e.y),d(e.y2)&&(n.axis_y2_max=e.y2)):n.axis_y_max=n.axis_y2_max=e,void t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:n.axis_x_max,y:n.axis_y_max,y2:n.axis_y2_max}},a.axis.min=function(e){var t=this.internal,n=t.config;return arguments.length?("object"==typeof e?(d(e.x)&&(n.axis_x_min=e.x),d(e.y)&&(n.axis_y_min=e.y),d(e.y2)&&(n.axis_y2_min=e.y2)):n.axis_y_min=n.axis_y2_min=e,void t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:n.axis_x_min,y:n.axis_y_min,y2:n.axis_y2_min}},a.axis.range=function(e){return arguments.length?(f(e.max)&&this.axis.max(e.max),void(f(e.min)&&this.axis.min(e.min))):{max:this.axis.max(),min:this.axis.min()}},a.legend=function(){},a.legend.show=function(e){var t=this.internal;t.showLegend(t.mapToTargetIds(e)),t.updateAndRedraw({withLegend:!0})},a.legend.hide=function(e){var t=this.internal;t.hideLegend(t.mapToTargetIds(e)),t.updateAndRedraw({withLegend:!0})},a.resize=function(e){var t=this.internal,n=t.config;n.size_width=e?e.width:null,n.size_height=e?e.height:null,this.flush()},a.flush=function(){var e=this.internal;e.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},a.destroy=function(){var e=this.internal;if(o.clearInterval(e.intervalForObserveInserted),void 0!==e.resizeTimeout&&o.clearTimeout(e.resizeTimeout),o.detachEvent)o.detachEvent("onresize",e.resizeFunction);else if(o.removeEventListener)o.removeEventListener("resize",e.resizeFunction);else{var t=o.onresize;t&&t.add&&t.remove&&t.remove(e.resizeFunction)}return e.selectChart.classed("c3",!1).html(""),Object.keys(e).forEach(function(t){e[t]=null}),null},a.tooltip=function(){},a.tooltip.show=function(e){var t,n,i=this.internal;e.mouse&&(n=e.mouse),e.data?i.isMultipleX()?(n=[i.x(e.data.x),i.getYScale(e.data.id)(e.data.value)],t=null):t=d(e.data.index)?e.data.index:i.getIndexByX(e.data.x):"undefined"!=typeof e.x?t=i.getIndexByX(e.x):"undefined"!=typeof e.index&&(t=e.index),i.dispatchEvent("mouseover",t,n),i.dispatchEvent("mousemove",t,n),i.config.tooltip_onshow.call(i,e.data)},a.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)};var E;s.isSafari=function(){var e=o.navigator.userAgent;return e.indexOf("Safari")>=0&&e.indexOf("Chrome")<0},s.isChrome=function(){var e=o.navigator.userAgent;return e.indexOf("Chrome")>=0},Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i?this:e,t.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),function(){"SVGPathSeg"in o||(o.SVGPathSeg=function(e,t,n){this.pathSegType=e,this.pathSegTypeAsLetter=t,this._owningPathSegList=n},SVGPathSeg.PATHSEG_UNKNOWN=0,SVGPathSeg.PATHSEG_CLOSEPATH=1,SVGPathSeg.PATHSEG_MOVETO_ABS=2,SVGPathSeg.PATHSEG_MOVETO_REL=3,SVGPathSeg.PATHSEG_LINETO_ABS=4,SVGPathSeg.PATHSEG_LINETO_REL=5,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,SVGPathSeg.PATHSEG_ARC_ABS=10,SVGPathSeg.PATHSEG_ARC_REL=11,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},o.SVGPathSegClosePath=function(e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CLOSEPATH,"z",e)},SVGPathSegClosePath.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},SVGPathSegClosePath.prototype.clone=function(){return new SVGPathSegClosePath(void 0)},o.SVGPathSegMovetoAbs=function(e,t,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_ABS,"M",e),this._x=t,this._y=n},SVGPathSegMovetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoAbs.prototype.clone=function(){return new SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),o.SVGPathSegMovetoRel=function(e,t,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_REL,"m",e),this._x=t,this._y=n},SVGPathSegMovetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoRel.prototype.clone=function(){return new SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),o.SVGPathSegLinetoAbs=function(e,t,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_ABS,"L",e),this._x=t,this._y=n},SVGPathSegLinetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoAbs.prototype.clone=function(){return new SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),o.SVGPathSegLinetoRel=function(e,t,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_REL,"l",e),this._x=t,this._y=n},SVGPathSegLinetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoRel.prototype.clone=function(){return new SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),o.SVGPathSegCurvetoCubicAbs=function(e,t,n,i,r,o,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",e),this._x=t,this._y=n,this._x1=i,this._y1=r,this._x2=o,this._y2=a},SVGPathSegCurvetoCubicAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),o.SVGPathSegCurvetoCubicRel=function(e,t,n,i,r,o,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",e),this._x=t,this._y=n,this._x1=i,this._y1=r,this._x2=o,this._y2=a},SVGPathSegCurvetoCubicRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),o.SVGPathSegCurvetoQuadraticAbs=function(e,t,n,i,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",e),this._x=t,this._y=n,this._x1=i,this._y1=r},SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),o.SVGPathSegCurvetoQuadraticRel=function(e,t,n,i,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",e),this._x=t,this._y=n,this._x1=i,this._y1=r},SVGPathSegCurvetoQuadraticRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),o.SVGPathSegArcAbs=function(e,t,n,i,r,o,a,s){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_ABS,"A",e),this._x=t,this._y=n,this._r1=i,this._r2=r,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},SVGPathSegArcAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcAbs.prototype.clone=function(){return new SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(e){this._r1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(e){this._r2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag=e,this._segmentChanged()},enumerable:!0}),o.SVGPathSegArcRel=function(e,t,n,i,r,o,a,s){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_REL,"a",e),this._x=t,this._y=n,this._r1=i,this._r2=r,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},SVGPathSegArcRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcRel.prototype.clone=function(){return new SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(e){this._r1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(e){this._r2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag=e,this._segmentChanged()},enumerable:!0}),o.SVGPathSegLinetoHorizontalAbs=function(e,t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",e),this._x=t},SVGPathSegLinetoHorizontalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),o.SVGPathSegLinetoHorizontalRel=function(e,t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",e),this._x=t},SVGPathSegLinetoHorizontalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),o.SVGPathSegLinetoVerticalAbs=function(e,t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",e),this._y=t},SVGPathSegLinetoVerticalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),o.SVGPathSegLinetoVerticalRel=function(e,t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",e),this._y=t},SVGPathSegLinetoVerticalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),o.SVGPathSegCurvetoCubicSmoothAbs=function(e,t,n,i,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",e),this._x=t,this._y=n,this._x2=i,this._y2=r},SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]";
},SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),o.SVGPathSegCurvetoCubicSmoothRel=function(e,t,n,i,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",e),this._x=t,this._y=n,this._x2=i,this._y2=r},SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),o.SVGPathSegCurvetoQuadraticSmoothAbs=function(e,t,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",e),this._x=t,this._y=n},SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),o.SVGPathSegCurvetoQuadraticSmoothRel=function(e,t,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",e),this._x=t,this._y=n},SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new SVGPathSegClosePath(void 0)},SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(e,t){return new SVGPathSegMovetoAbs(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegMovetoRel=function(e,t){return new SVGPathSegMovetoRel(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(e,t){return new SVGPathSegLinetoAbs(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegLinetoRel=function(e,t){return new SVGPathSegLinetoRel(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(e,t,n,i,r,o){return new SVGPathSegCurvetoCubicAbs(void 0,e,t,n,i,r,o)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(e,t,n,i,r,o){return new SVGPathSegCurvetoCubicRel(void 0,e,t,n,i,r,o)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(e,t,n,i){return new SVGPathSegCurvetoQuadraticAbs(void 0,e,t,n,i)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(e,t,n,i){return new SVGPathSegCurvetoQuadraticRel(void 0,e,t,n,i)},SVGPathElement.prototype.createSVGPathSegArcAbs=function(e,t,n,i,r,o,a){return new SVGPathSegArcAbs(void 0,e,t,n,i,r,o,a)},SVGPathElement.prototype.createSVGPathSegArcRel=function(e,t,n,i,r,o,a){return new SVGPathSegArcRel(void 0,e,t,n,i,r,o,a)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(e){return new SVGPathSegLinetoHorizontalAbs(void 0,e)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(e){return new SVGPathSegLinetoHorizontalRel(void 0,e)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(e){return new SVGPathSegLinetoVerticalAbs(void 0,e)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(e){return new SVGPathSegLinetoVerticalRel(void 0,e)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(e,t,n,i){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,e,t,n,i)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(e,t,n,i){return new SVGPathSegCurvetoCubicSmoothRel(void 0,e,t,n,i)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(e,t){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,e,t)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(e,t){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,e,t)}),"SVGPathSegList"in o||(o.SVGPathSegList=function(e){this._pathElement=e,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},Object.defineProperty(SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},SVGPathSegList.prototype._updateListFromPathMutations=function(e){if(this._pathElement){var t=!1;e.forEach(function(e){"d"==e.attributeName&&(t=!0)}),t&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.segmentChanged=function(e){this._writeListToPath()},SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(e){e._owningPathSegList=null}),this._list=[],this._writeListToPath()},SVGPathSegList.prototype.initialize=function(e){return this._checkPathSynchronizedToList(),this._list=[e],e._owningPathSegList=this,this._writeListToPath(),e},SVGPathSegList.prototype._checkValidIndex=function(e){if(isNaN(e)||e<0||e>=this.numberOfItems)throw"INDEX_SIZE_ERR"},SVGPathSegList.prototype.getItem=function(e){return this._checkPathSynchronizedToList(),this._checkValidIndex(e),this._list[e]},SVGPathSegList.prototype.insertItemBefore=function(e,t){return this._checkPathSynchronizedToList(),t>this.numberOfItems&&(t=this.numberOfItems),e._owningPathSegList&&(e=e.clone()),this._list.splice(t,0,e),e._owningPathSegList=this,this._writeListToPath(),e},SVGPathSegList.prototype.replaceItem=function(e,t){return this._checkPathSynchronizedToList(),e._owningPathSegList&&(e=e.clone()),this._checkValidIndex(t),this._list[t]=e,e._owningPathSegList=this,this._writeListToPath(),e},SVGPathSegList.prototype.removeItem=function(e){this._checkPathSynchronizedToList(),this._checkValidIndex(e);var t=this._list[e];return this._list.splice(e,1),this._writeListToPath(),t},SVGPathSegList.prototype.appendItem=function(e){return this._checkPathSynchronizedToList(),e._owningPathSegList&&(e=e.clone()),this._list.push(e),e._owningPathSegList=this,this._writeListToPath(),e},SVGPathSegList._pathSegArrayAsString=function(e){var t="",n=!0;return e.forEach(function(e){n?(n=!1,t+=e._asPathString()):t+=" "+e._asPathString()}),t},SVGPathSegList.prototype._parsePath=function(e){if(!e||0==e.length)return[];var t=this,n=function(){this.pathSegList=[]};n.prototype.appendSegment=function(e){this.pathSegList.push(e)};var i=function(e){this._string=e,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};i.prototype._isCurrentSpace=function(){var e=this._string[this._currentIndex];return e<=" "&&(" "==e||"\n"==e||"\t"==e||"\r"==e||"\f"==e)},i.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},i.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},i.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},i.prototype.peekSegmentType=function(){var e=this._string[this._currentIndex];return this._pathSegTypeFromChar(e)},i.prototype._pathSegTypeFromChar=function(e){switch(e){case"Z":case"z":return SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return SVGPathSeg.PATHSEG_LINETO_REL;case"C":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return SVGPathSeg.PATHSEG_ARC_ABS;case"a":return SVGPathSeg.PATHSEG_ARC_REL;case"H":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return SVGPathSeg.PATHSEG_UNKNOWN}},i.prototype._nextCommandHelper=function(e,t){return("+"==e||"-"==e||"."==e||e>="0"&&e<="9")&&t!=SVGPathSeg.PATHSEG_CLOSEPATH?t==SVGPathSeg.PATHSEG_MOVETO_ABS?SVGPathSeg.PATHSEG_LINETO_ABS:t==SVGPathSeg.PATHSEG_MOVETO_REL?SVGPathSeg.PATHSEG_LINETO_REL:t:SVGPathSeg.PATHSEG_UNKNOWN},i.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return e==SVGPathSeg.PATHSEG_MOVETO_ABS||e==SVGPathSeg.PATHSEG_MOVETO_REL},i.prototype._parseNumber=function(){var e=0,t=0,n=1,i=0,r=1,o=1,a=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,r=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var s=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=s)for(var l=this._currentIndex-1,c=1;l>=s;)t+=c*(this._string.charAt(l--)-"0"),c*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)i+=(this._string.charAt(this._currentIndex++)-"0")*(n*=.1)}if(this._currentIndex!=a&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,o=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)e*=10,e+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var u=t+i;if(u*=r,e&&(u*=Math.pow(10,o*e)),a!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),u}},i.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var e=!1,t=this._string.charAt(this._currentIndex++);if("0"==t)e=!1;else{if("1"!=t)return;e=!0}return this._skipOptionalSpacesOrDelimiter(),e}},i.prototype.parseSegment=function(){var e=this._string[this._currentIndex],n=this._pathSegTypeFromChar(e);if(n==SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==SVGPathSeg.PATHSEG_UNKNOWN)return null;if(n=this._nextCommandHelper(e,this._previousCommand),n==SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=n,n){case SVGPathSeg.PATHSEG_MOVETO_REL:return new SVGPathSegMovetoRel(t,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_MOVETO_ABS:return new SVGPathSegMovetoAbs(t,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_REL:return new SVGPathSegLinetoRel(t,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_ABS:return new SVGPathSegLinetoAbs(t,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new SVGPathSegLinetoHorizontalRel(t,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new SVGPathSegLinetoHorizontalAbs(t,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new SVGPathSegLinetoVerticalRel(t,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new SVGPathSegLinetoVerticalAbs(t,this._parseNumber());case SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new SVGPathSegClosePath(t);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicRel(t,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicAbs(t,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothRel(t,i.x,i.y,i.x2,i.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothAbs(t,i.x,i.y,i.x2,i.y2);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticRel(t,i.x,i.y,i.x1,i.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticAbs(t,i.x,i.y,i.x1,i.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new SVGPathSegCurvetoQuadraticSmoothRel(t,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new SVGPathSegCurvetoQuadraticSmoothAbs(t,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_ARC_REL:var i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcRel(t,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);case SVGPathSeg.PATHSEG_ARC_ABS:var i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcAbs(t,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);default:throw"Unknown path seg type."}};var r=new n,o=new i(e);if(!o.initialCommandIsMoveTo())return[];for(;o.hasMoreData();){var a=o.parseSegment();if(!a)return[];r.appendSegment(a)}return r.pathSegList})}(),i=[n(37)],r=function(){return c}.apply(t,i),!(void 0!==r&&(e.exports=r))}(window)},function(e,t,n){function formatAttrs(e,t){if(e){var n,i="";for(var a in e)n=e[a],i&&(i+=" "),i+=!n&&o[a]?a:a+'="'+(t.decodeEntities?r.encodeXML(n):n)+'"';return i}}function renderTag(e,t){"svg"===e.name&&(t={decodeEntities:t.decodeEntities,xmlMode:!0});var n="<"+e.name,i=formatAttrs(e.attribs,t);return i&&(n+=" "+i),!t.xmlMode||e.children&&0!==e.children.length?(n+=">",e.children&&(n+=l(e.children,t)),s[e.name]&&!t.xmlMode||(n+="</"+e.name+">")):n+="/>",n}function renderDirective(e){return"<"+e.data+">"}function renderText(e,t){var n=e.data||"";return!t.decodeEntities||e.parent&&e.parent.name in a||(n=r.encodeXML(n)),n}function renderCdata(e){return"<![CDATA["+e.children[0].data+"]]>"}function renderComment(e){return"<!--"+e.data+"-->"}var i=n(364),r=n(374),o={__proto__:null,allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,loop:!0,multiple:!0,muted:!0,open:!0,readonly:!0,required:!0,reversed:!0,scoped:!0,seamless:!0,selected:!0,typemustmatch:!0},a={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0},s={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},l=e.exports=function(e,t){Array.isArray(e)||e.cheerio||(e=[e]),t=t||{};for(var n="",r=0;r<e.length;r++){var o=e[r];n+="root"===o.type?l(o.children,t):i.isTag(o)?renderTag(o,t):o.type===i.Directive?renderDirective(o):o.type===i.Comment?renderComment(o):o.type===i.CDATA?renderCdata(o):renderText(o,t)}return n}},function(e,t){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},function(e,t,n){function DomHandler(e,t,n){"object"==typeof e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t=s),this._callback=e,this._options=t||s,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var i=n(12),r=/\s+/g,o=n(38),a=n(366),s={normalizeWhitespace:!1,withStartIndices:!1};DomHandler.prototype.onparserinit=function(e){this._parser=e},DomHandler.prototype.onreset=function(){DomHandler.call(this,this._callback,this._options,this._elementCB)},DomHandler.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},DomHandler.prototype._handleCallback=DomHandler.prototype.onerror=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},DomHandler.prototype.onclosetag=function(){var e=this._tagStack.pop();this._elementCB&&this._elementCB(e)},DomHandler.prototype._addDomElement=function(e){var t=this._tagStack[this._tagStack.length-1],n=t?t.children:this.dom,i=n[n.length-1];e.next=null,this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withDomLvl1&&(e.__proto__="tag"===e.type?a:o),i?(e.prev=i,i.next=e):e.prev=null,n.push(e),e.parent=t||null},DomHandler.prototype.onopentag=function(e,t){var n={type:"script"===e?i.Script:"style"===e?i.Style:i.Tag,name:e,attribs:t,children:[]};this._addDomElement(n),this._tagStack.push(n)},DomHandler.prototype.ontext=function(e){var t,n=this._options.normalizeWhitespace||this._options.ignoreWhitespace;!this._tagStack.length&&this.dom.length&&(t=this.dom[this.dom.length-1]).type===i.Text?n?t.data=(t.data+e).replace(r," "):t.data+=e:this._tagStack.length&&(t=this._tagStack[this._tagStack.length-1])&&(t=t.children[t.children.length-1])&&t.type===i.Text?n?t.data=(t.data+e).replace(r," "):t.data+=e:(n&&(e=e.replace(r," ")),this._addDomElement({data:e,type:i.Text}))},DomHandler.prototype.oncomment=function(e){var t=this._tagStack[this._tagStack.length-1];if(t&&t.type===i.Comment)return void(t.data+=e);var n={data:e,type:i.Comment};this._addDomElement(n),this._tagStack.push(n)},DomHandler.prototype.oncdatastart=function(){var e={children:[{data:"",type:i.Text}],type:i.CDATA};this._addDomElement(e),this._tagStack.push(e)},DomHandler.prototype.oncommentend=DomHandler.prototype.oncdataend=function(){this._tagStack.pop()},DomHandler.prototype.onprocessinginstruction=function(e,t){this._addDomElement({name:e,data:t,type:i.Directive})},e.exports=DomHandler},function(e,t,n){var i=n(38),r=e.exports=Object.create(i),o={tagName:"name"};Object.keys(o).forEach(function(e){var t=o[e];Object.defineProperty(r,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})})},function(e,t,n){var i=e.exports;[n(372),n(373),n(370),n(371),n(369),n(368)].forEach(function(e){Object.keys(e).forEach(function(t){i[t]=e[t].bind(i)})})},function(e,t){t.removeSubsets=function(e){for(var t,n,i,r=e.length;--r>-1;){for(t=n=e[r],e[r]=null,i=!0;n;){if(e.indexOf(n)>-1){i=!1,e.splice(r,1);break}n=n.parent}i&&(e[r]=t)}return e};var n={DISCONNECTED:1,PRECEDING:2,FOLLOWING:4,CONTAINS:8,CONTAINED_BY:16},i=t.compareDocumentPosition=function(e,t){var i,r,o,a,s,l,c=[],u=[];if(e===t)return 0;for(i=e;i;)c.unshift(i),i=i.parent;for(i=t;i;)u.unshift(i),i=i.parent;for(l=0;c[l]===u[l];)l++;return 0===l?n.DISCONNECTED:(r=c[l-1],o=r.children,a=c[l],s=u[l],o.indexOf(a)>o.indexOf(s)?r===t?n.FOLLOWING|n.CONTAINED_BY:n.FOLLOWING:r===e?n.PRECEDING|n.CONTAINS:n.PRECEDING)};t.uniqueSort=function(e){var t,r,o=e.length;for(e=e.slice();--o>-1;)t=e[o],r=e.indexOf(t),r>-1&&r<o&&e.splice(o,1);return e.sort(function(e,t){var r=i(e,t);return r&n.PRECEDING?-1:r&n.FOLLOWING?1:0}),e}},function(e,t,n){function getAttribCheck(e,t){return"function"==typeof t?function(n){return n.attribs&&t(n.attribs[e])}:function(n){return n.attribs&&n.attribs[e]===t}}function combineFuncs(e,t){return function(n){return e(n)||t(n)}}var i=n(12),r=t.isTag=i.isTag;t.testElement=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){if("tag_name"===n){if(!r(t)||!e.tag_name(t.name))return!1}else if("tag_type"===n){if(!e.tag_type(t.type))return!1}else if("tag_contains"===n){if(r(t)||!e.tag_contains(t.data))return!1}else if(!t.attribs||!e[n](t.attribs[n]))return!1}else;return!0};var o={tag_name:function(e){return"function"==typeof e?function(t){return r(t)&&e(t.name)}:"*"===e?r:function(t){return r(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return!r(t)&&e(t.data)}:function(t){return!r(t)&&t.data===e}}};t.getElements=function(e,t,n,i){var r=Object.keys(e).map(function(t){var n=e[t];return t in o?o[t](n):getAttribCheck(t,n)});return 0===r.length?[]:this.filter(r.reduce(combineFuncs),t,n,i)},t.getElementById=function(e,t,n){return Array.isArray(t)||(t=[t]),this.findOne(getAttribCheck("id",e),t,n!==!1)},t.getElementsByTagName=function(e,t,n,i){return this.filter(o.tag_name(e),t,n,i)},t.getElementsByTagType=function(e,t,n,i){return this.filter(o.tag_type(e),t,n,i)}},function(e,t){t.removeElement=function(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}},t.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var i=t.next=e.next;i&&(i.prev=t);var r=t.parent=e.parent;if(r){var o=r.children;o[o.lastIndexOf(e)]=t}},t.appendChild=function(e,t){if(t.parent=e,1!==e.children.push(t)){var n=e.children[e.children.length-2];n.next=t,t.prev=n,t.next=null}},t.append=function(e,t){var n=e.parent,i=e.next;if(t.next=i,t.prev=e,e.next=t,t.parent=n,i){if(i.prev=t,n){var r=n.children;r.splice(r.lastIndexOf(i),0,t)}}else n&&n.children.push(t)},t.prepend=function(e,t){var n=e.parent;if(n){var i=n.children;i.splice(i.lastIndexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}},function(e,t,n){function filter(e,t,n,i){return Array.isArray(t)||(t=[t]),"number"==typeof i&&isFinite(i)||(i=1/0),find(e,t,n!==!1,i)}function find(e,t,n,i){for(var r,o=[],a=0,s=t.length;a<s&&!(e(t[a])&&(o.push(t[a]),--i<=0))&&(r=t[a].children,!(n&&r&&r.length>0&&(r=find(e,r,n,i),o=o.concat(r),i-=r.length,i<=0)));a++);return o}function findOneChild(e,t){for(var n=0,i=t.length;n<i;n++)if(e(t[n]))return t[n];return null}function findOne(e,t){for(var n=null,r=0,o=t.length;r<o&&!n;r++)i(t[r])&&(e(t[r])?n=t[r]:t[r].children.length>0&&(n=findOne(e,t[r].children)));return n}function existsOne(e,t){for(var n=0,r=t.length;n<r;n++)if(i(t[n])&&(e(t[n])||t[n].children.length>0&&existsOne(e,t[n].children)))return!0;return!1}function findAll(e,t){for(var n=[],r=0,o=t.length;r<o;r++)i(t[r])&&(e(t[r])&&n.push(t[r]),t[r].children.length>0&&(n=n.concat(findAll(e,t[r].children))));return n}var i=n(12).isTag;e.exports={filter:filter,find:find,findOneChild:findOneChild,findOne:findOne,existsOne:existsOne,findAll:findAll}},function(e,t,n){function getInnerHTML(e,t){return e.children?e.children.map(function(e){return r(e,t)}).join(""):""}function getText(e){return Array.isArray(e)?e.map(getText).join(""):o(e)||e.type===i.CDATA?getText(e.children):e.type===i.Text?e.data:""}var i=n(12),r=n(363),o=i.isTag;e.exports={getInnerHTML:getInnerHTML,getOuterHTML:r,getText:getText}},function(e,t){var n=t.getChildren=function(e){return e.children},i=t.getParent=function(e){return e.parent};t.getSiblings=function(e){var t=i(e);return t?n(t):[e]},t.getAttributeValue=function(e,t){return e.attribs&&e.attribs[t]},t.hasAttrib=function(e,t){return!!e.attribs&&hasOwnProperty.call(e.attribs,t)},t.getName=function(e){return e.name}},function(e,t,n){var i=n(376),r=n(375);t.decode=function(e,t){return(!t||t<=0?r.XML:r.HTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?r.XML:r.HTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?i.XML:i.HTML)(e)},t.encodeXML=i.XML,t.encodeHTML4=t.encodeHTML5=t.encodeHTML=i.HTML,t.decodeXML=t.decodeXMLStrict=r.XML,t.decodeHTML4=t.decodeHTML5=t.decodeHTML=r.HTML,t.decodeHTML4Strict=t.decodeHTML5Strict=t.decodeHTMLStrict=r.HTMLStrict,t.escape=i.escape},function(e,t,n){function getStrictDecoder(e){var t=Object.keys(e).join("|"),n=getReplacer(e);t+="|#[xX][\\da-fA-F]+|#\\d+";var i=new RegExp("&(?:"+t+");","g");return function(e){return String(e).replace(i,n)}}function sorter(e,t){return e<t?1:-1}function getReplacer(e){return function(t){return"#"===t.charAt(1)?a("X"===t.charAt(2)||"x"===t.charAt(2)?parseInt(t.substr(3),16):parseInt(t.substr(2),10)):e[t.slice(1,-1)]}}var i=n(20),r=n(40),o=n(21),a=n(39),s=getStrictDecoder(o),l=getStrictDecoder(i),c=function(){function replacer(e){return";"!==e.substr(-1)&&(e+=";"),s(e)}for(var e=Object.keys(r).sort(sorter),t=Object.keys(i).sort(sorter),n=0,o=0;n<t.length;n++)e[o]===t[n]?(t[n]+=";?",o++):t[n]+=";";var a=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=getReplacer(i);return function(e){return String(e).replace(a,replacer)}}();e.exports={XML:s,HTML:c,HTMLStrict:l}},function(e,t,n){function getInverseObj(e){return Object.keys(e).sort().reduce(function(t,n){return t[e[n]]="&"+n+";",t},{})}function getInverseReplacer(e){var t=[],n=[];return Object.keys(e).forEach(function(e){1===e.length?t.push("\\"+e):n.push(e)}),n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}function singleCharReplacer(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}function astralReplacer(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=1024*(t-55296)+n-56320+65536;return"&#x"+i.toString(16).toUpperCase()+";"}function getInverse(e,t){function func(t){return e[t]}return function(e){return e.replace(t,func).replace(l,astralReplacer).replace(s,singleCharReplacer)}}function escapeXML(e){return e.replace(c,singleCharReplacer).replace(l,astralReplacer).replace(s,singleCharReplacer)}var i=getInverseObj(n(21)),r=getInverseReplacer(i);t.XML=getInverse(i,r);var o=getInverseObj(n(20)),a=getInverseReplacer(o);t.HTML=getInverse(o,a);var s=/[^\0-\x7F]/g,l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=getInverseReplacer(i);t.escape=escapeXML},function(e,t){e.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";(function(t){!function(t){function filesize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=[],a=0,s=void 0,l=void 0,c=void 0,u=void 0,d=void 0,h=void 0,m=void 0,p=void 0,f=void 0,g=void 0,v=void 0,y=void 0,b=void 0,_=void 0;
if(isNaN(e))throw new Error("Invalid arguments");return c=t.bits===!0,v=t.unix===!0,l=t.base||2,g=void 0!==t.round?t.round:v?1:2,y=void 0!==t.spacer?t.spacer:v?"":" ",_=t.symbols||t.suffixes||{},b=2===l?t.standard||"jedec":"jedec",f=t.output||"string",d=t.fullform===!0,h=t.fullforms instanceof Array?t.fullforms:[],s=void 0!==t.exponent?t.exponent:-1,p=Number(e),m=p<0,u=l>2?1e3:1024,m&&(p=-p),(s===-1||isNaN(s))&&(s=Math.floor(Math.log(p)/Math.log(u)),s<0&&(s=0)),s>8&&(s=8),0===p?(o[0]=0,o[1]=v?"":i[b][c?"bits":"bytes"][s]):(a=p/(2===l?Math.pow(2,10*s):Math.pow(1e3,s)),c&&(a*=8,a>=u&&s<8&&(a/=u,s++)),o[0]=Number(a.toFixed(s>0?g:0)),o[1]=10===l&&1===s?c?"kb":"kB":i[b][c?"bits":"bytes"][s],v&&(o[1]="jedec"===b?o[1].charAt(0):s>0?o[1].replace(/B$/,""):o[1],n.test(o[1])&&(o[0]=Math.floor(o[0]),o[1]=""))),m&&(o[0]=-o[0]),o[1]=_[o[1]]||o[1],"array"===f?o:"exponent"===f?s:"object"===f?{value:o[0],suffix:o[1],symbol:o[1]}:(d&&(o[1]=h[s]?h[s]:r[b][s]+(c?"bit":"byte")+(1===o[0]?"":"s")),o.join(y))}var n=/^(b|B)$/,i={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},r={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]};filesize.partial=function(e){return function(t){return filesize(t,e)}},e.exports=filesize}("undefined"!=typeof window?window:t)}).call(t,n(5))},function(e,t){t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?r-1:0,h=n?-1:1,m=e[t+d];for(d+=h,o=m&(1<<-u)-1,m>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+e[t+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:(m?-1:1)*(1/0);a+=Math.pow(2,i),o-=c}return(m?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,l,c=8*o-r-1,u=(1<<c)-1,d=u>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,m=i?0:o-1,p=i?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+d>=1?h/l:h*Math.pow(2,1-d),t*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,r),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;e[n+m]=255&s,m+=p,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;e[n+m]=255&a,m+=p,a/=256,c-=8);e[n+m-p]|=128*f}},function(e,t){var n=n;!function(e,t,n){!function(e,t,i){"use strict";var r=function(e,n){this.type=e,this.restrictX=n,this.offset={x:null,y:null},this.height=255,this.$scope=null,this.$element=null,this.get=t.bind(this,function(e,n,i){this.$scope=e,this.$element=n,this.canvas=this.$element.children()[0],this.marker=this.$element.children()[1],this.context=this.canvas.getContext("2d"),this.currentColor=this.$scope.color.toRgb(),this.currentHue=this.$scope.color.toHsv().h,this.$element.on("mousedown",t.bind(this,this.onMouseDown)),this.$scope.$on("mdColorPicker:colorSet",t.bind(this,this.onColorSet)),this.extra&&this.extra(),this.draw()})};r.prototype.$window=t.element(e),r.prototype.getColorByMouse=function(e){var t=e.pageX-this.offset.x,n=e.pageY-this.offset.y;return this.getColorByPoint(t,n)},r.prototype.setMarkerCenter=function(e,n){var r=-1*this.marker.offsetWidth/2,o=-1*this.marker.offsetHeight/2;n===i?(n=e+o,n=Math.max(Math.min(this.height-1+o,n),Math.ceil(o)),e=0):(e+=r,n+=o,e=Math.max(Math.min(this.height+r,e),Math.ceil(r)),n=Math.max(Math.min(this.height+o,n),Math.ceil(o))),t.element(this.marker).css({left:e+"px"}),t.element(this.marker).css({top:n+"px"})},r.prototype.getMarkerCenter=function(){var e={x:this.marker.offsetLeft+Math.floor(this.marker.offsetWidth/2),y:this.marker.offsetTop+Math.floor(this.marker.offsetHeight/2)};return e},r.prototype.getImageData=function(e,t){e=Math.max(0,Math.min(e,this.canvas.width-1)),t=Math.max(0,Math.min(t,this.canvas.height-1));var n=this.context.getImageData(e,t,1,1).data;return n},r.prototype.onMouseDown=function(e){e.preventDefault(),e.stopImmediatePropagation(),this.$scope.previewUnfocus(),this.$element.css({cursor:"none"}),this.offset.x=this.canvas.getBoundingClientRect().left+1,this.offset.y=this.canvas.getBoundingClientRect().top;var n=t.bind(this,function(e){switch(this.type){case"hue":var t=this.getColorByMouse(e);this.$scope.$broadcast("mdColorPicker:spectrumHueChange",{hue:t});break;case"alpha":var n=this.getColorByMouse(e);this.$scope.color.setAlpha(n),this.$scope.alpha=n,this.$scope.$apply();break;case"spectrum":var i=this.getColorByMouse(e);this.setColor(i)}});this.$window.on("mousemove",n),this.$window.one("mouseup",t.bind(this,function(e){this.$window.off("mousemove",n),this.$element.css({cursor:"crosshair"})})),n(e)},r.prototype.setColor=function(e){this.$scope.color._r=e.r,this.$scope.color._g=e.g,this.$scope.color._b=e.b,this.$scope.$apply(),this.$scope.$broadcast("mdColorPicker:spectrumColorChange",{color:e})},r.prototype.onColorSet=function(e,t){switch(this.type){case"hue":var n=this.$scope.color.toHsv();this.setMarkerCenter(this.canvas.height-this.canvas.height*(n.h/360));break;case"alpha":this.currentColor=t.color.toRgb(),this.draw();var i=t.color.getAlpha(),r=this.canvas.height-this.canvas.height*i;this.setMarkerCenter(r);break;case"spectrum":var n=t.color.toHsv();this.currentHue=n.h,this.draw();var o=this.canvas.width*n.s,a=this.canvas.height-this.canvas.height*n.v;this.setMarkerCenter(o,a)}};var o=new r("hue",!0);o.getColorByPoint=function(e,t){var i=this.getImageData(e,t);this.setMarkerCenter(t);var r=new n({r:i[0],g:i[1],b:i[2]});return r.toHsl().h},o.draw=function(){this.$element.css({height:this.height+"px"}),this.canvas.height=this.height,this.canvas.width=this.height;var e=this.context.createLinearGradient(90,0,90,this.height);e.addColorStop(.01,"rgba(255, 0, 0, 1.000)"),e.addColorStop(.167,"rgba(255, 0, 255, 1.000)"),e.addColorStop(.333,"rgba(0, 0, 255, 1.000)"),e.addColorStop(.5,"rgba(0, 255, 255, 1.000)"),e.addColorStop(.666,"rgba(0, 255, 0, 1.000)"),e.addColorStop(.828,"rgba(255, 255, 0, 1.000)"),e.addColorStop(.999,"rgba(255, 0, 0, 1.000)"),this.context.fillStyle=e,this.context.fillRect(0,0,this.canvas.width,this.height)};var a=new r("alpha",!0);a.getColorByPoint=function(e,t){var n=this.getImageData(e,t);return this.setMarkerCenter(t),n[3]/255},a.draw=function(){this.$element.css({height:this.height+"px"}),this.canvas.height=this.height,this.canvas.width=this.height;var e=this.context.createLinearGradient(90,0,90,this.height);e.addColorStop(.01,"rgba("+this.currentColor.r+","+this.currentColor.g+","+this.currentColor.b+", 1.000)"),e.addColorStop(.999,"rgba("+this.currentColor.r+","+this.currentColor.g+","+this.currentColor.b+", 0.000)"),this.context.fillStyle=e,this.context.fillRect(0,0,this.canvas.width,this.height)},a.extra=function(){this.$scope.$on("mdColorPicker:spectrumColorChange",t.bind(this,function(e,t){this.currentColor=t.color,this.draw()}))};var s=new r("spectrum",!1);s.getColorByPoint=function(e,t){var n=this.getImageData(e,t);return this.setMarkerCenter(e,t),{r:n[0],g:n[1],b:n[2]}},s.draw=function(){this.canvas.height=this.height,this.canvas.width=this.height,this.context.clearRect(0,0,this.canvas.width,this.canvas.height);var e=this.context.createLinearGradient(0,0,this.canvas.width,0);e.addColorStop(0,"rgba(255, 255, 255, 1.000)"),e.addColorStop(1,"rgba(255, 255, 255, 0.000)");var t=this.context.createLinearGradient(0,0,0,this.canvas.height);t.addColorStop(0,"rgba(0, 0, 0, 0.000)"),t.addColorStop(1,"rgba(0, 0, 0, 1.000)"),this.context.fillStyle="hsl( "+this.currentHue+", 100%, 50%)",this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.context.fillStyle=e,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.context.fillStyle=t,this.context.fillRect(0,0,this.canvas.width,this.canvas.height)},s.extra=function(){this.$scope.$on("mdColorPicker:spectrumHueChange",t.bind(this,function(e,t){this.currentHue=t.hue,this.draw();var n=this.getMarkerCenter(),i=this.getColorByPoint(n.x,n.y);this.setColor(i)}))},t.module("mdColorPicker",[]).run(["$templateCache",function(e){var t={clear:'<path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>',gradient:'<path d="M11 9h2v2h-2zm-2 2h2v2H9zm4 0h2v2h-2zm2-2h2v2h-2zM7 9h2v2H7zm12-6H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 18H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm2-7h-2v2h2v2h-2v-2h-2v2h-2v-2h-2v2H9v-2H7v2H5v-2h2v-2H5V5h14v6z"/>',tune:'<path d="M13 21v-2h8v-2h-8v-2h-2v6h2zM3 17v2h6v-2H3z"/><path d="M21 13v-2H11v2h10zM7 9v2H3v2h4v2h2V9H7z"/><path d="M15 9h2V7h4V5h-4V3h-2v6zM3 5v2h10V5H3z"/>',view_module:'<path d="M4 11h5V5H4v6z"/><path d="M4 18h5v-6H4v6z"/><path d="M10 18h5v-6h-5v6z"/><path d="M16 18h5v-6h-5v6z"/><path d="M10 11h5V5h-5v6z"/><path d="M16 5v6h5V5h-5z"/>',view_headline:'<path d="M4 15h17v-2H4v2z"/><path d="M4 19h17v-2H4v2z"/><path d="M4 11h17V9H4v2z"/><path d="M4 5v2h17V5H4z"/>',history:'<path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9z"/><path d="M12 8v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/>',clear_all:'<path d="M5 13h14v-2H5v2zm-2 4h14v-2H3v2zM7 7v2h14V7H7z"/>'};for(var n in t)t.hasOwnProperty(n)&&e.put([n,"svg"].join("."),['<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">',t[n],"</svg>"].join(""))}]).factory("mdColorPickerHistory",["$injector",function(e){var t=[],i=[],r=!1;try{r=e.get("$cookies")}catch(e){}if(r)for(var o=r.getObject("mdColorPickerHistory")||[],a=0;a<o.length;a++)t.push(n(o[a])),i.push(o[a]);var s=40;return{length:function(){return arguments[0]?void(s=arguments[0]):t.length},add:function(e){for(var n=0;n<t.length;n++)t[n].toRgbString()===e.toRgbString()&&(t.splice(n,1),i.splice(n,1));t.unshift(e),i.unshift(e.toRgbString()),t.length>s&&(t.pop(),i.pop()),r&&r.putObject("mdColorPickerHistory",i)},get:function(){return t},reset:function(){t=[],i=[],r&&r.putObject("mdColorPickerHistory",i)}}}]).directive("mdColorPicker",["$timeout","mdColorPickerHistory",function(e,t){return{templateUrl:"mdColorPicker.tpl.html",require:"^ngModel",scope:{options:"=mdColorPicker",type:"@",label:"@",icon:"@",random:"@",default:"@",openOnInput:"@",hasBackdrop:"@",clickOutsideToClose:"@",skipHide:"@",preserveScope:"@",mdColorClearButton:"=?",mdColorPreview:"=?",mdColorAlphaChannel:"=?",mdColorSpectrum:"=?",mdColorSliders:"=?",mdColorGenericPalette:"=?",mdColorMaterialPalette:"=?",mdColorHistory:"=?",mdColorDefaultTab:"=?"},controller:["$scope","$element","$attrs","$mdDialog","$mdColorPicker",function(e,t,n,r,o){var a=!1;if(e.options!==i)for(var s in e.options)if(e.options.hasOwnProperty(s)){var l=i;e.hasOwnProperty(s)?l=s:e.hasOwnProperty("mdColor"+s.slice(0,1).toUpperCase()+s.slice(1))&&(l="mdColor"+s.slice(0,1).toUpperCase()+s.slice(1)),l&&e[l]===i&&(e[l]=e.options[s])}var c=t.controller("ngModel"),u=function(t){e.value=t||c.$viewValue||""};e.mdColorClearButton=e.mdColorClearButton===i||e.mdColorClearButton,e.mdColorPreview=e.mdColorPreview===i||e.mdColorPreview,e.mdColorAlphaChannel=e.mdColorAlphaChannel===i||e.mdColorAlphaChannel,e.mdColorSpectrum=e.mdColorSpectrum===i||e.mdColorSpectrum,e.mdColorSliders=e.mdColorSliders===i||e.mdColorSliders,e.mdColorGenericPalette=e.mdColorGenericPalette===i||e.mdColorGenericPalette,e.mdColorMaterialPalette=e.mdColorMaterialPalette===i||e.mdColorMaterialPalette,e.mdColorHistory=e.mdColorHistory===i||e.mdColorHistory,u(),e.$watch(function(){return c.$modelValue},function(e){u(e)}),e.$watch("value",function(e,t){""!==e&&"undefined"!=typeof e&&e&&e!==t&&c.$setViewValue(e)}),e.clearValue=function(){e.value=""},e.showColorPicker=function(t){a||o.show({value:e.value,defaultValue:e.default,random:e.random,clickOutsideToClose:e.clickOutsideToClose,hasBackdrop:e.hasBackdrop,skipHide:e.skipHide,preserveScope:e.preserveScope,mdColorAlphaChannel:e.mdColorAlphaChannel,mdColorSpectrum:e.mdColorSpectrum,mdColorSliders:e.mdColorSliders,mdColorGenericPalette:e.mdColorGenericPalette,mdColorMaterialPalette:e.mdColorMaterialPalette,mdColorHistory:e.mdColorHistory,mdColorDefaultTab:e.mdColorDefaultTab,$event:t}).then(function(t){e.value=t})}}],compile:function(e,t){t.type=t.type!==i?t.type:0}}}]).directive("mdColorPickerContainer",["$compile","$timeout","$mdColorPalette","mdColorPickerHistory",function(e,i,r,o){return{templateUrl:"mdColorPickerContainer.tpl.html",scope:{value:"=?",default:"@",random:"@",ok:"=?",mdColorAlphaChannel:"=",mdColorSpectrum:"=",mdColorSliders:"=",mdColorGenericPalette:"=",mdColorMaterialPalette:"=",mdColorHistory:"=",mdColorDefaultTab:"="},controller:["$scope","$element","$attrs",function(e,a,s){function getTabIndex(t){var n=0;if(t&&"string"==typeof t){for(var i="mdColor"+t.slice(0,1).toUpperCase()+t.slice(1),r=["mdColorSpectrum","mdColorSliders","mdColorGenericPalette","mdColorMaterialPalette","mdColorHistory"],o=0;o<r.length;o++)if(r[o]==i&&e[i]){n=o;break}}else t&&"number"==typeof t&&(n=t);return n}var l=t.element(a[0].querySelector(".md-color-picker-container")),c=(t.element(l[0].querySelector(".md-color-picker-result")),t.element(a[0].querySelector(".md-color-picker-preview-input"))),u=["toHexString","toRgbString","toHslString"];e.default=e.default?e.default:e.random?n.random():"rgb(255,255,255)",e.value.search("#")>=0?e.type=0:e.value.search("rgb")>=0?e.type=1:e.value.search("hsl")>=0&&(e.type=2),e.color=new n(e.value||e.default),e.alpha=e.color.getAlpha(),e.history=o,e.materialFamily=[],e.whichPane=getTabIndex(e.mdColorDefaultTab),e.inputFocus=!1;var d=9;2*Math.PI/d;e.palette=[["rgb(255, 204, 204)","rgb(255, 230, 204)","rgb(255, 255, 204)","rgb(204, 255, 204)","rgb(204, 255, 230)","rgb(204, 255, 255)","rgb(204, 230, 255)","rgb(204, 204, 255)","rgb(230, 204, 255)","rgb(255, 204, 255)"],["rgb(255, 153, 153)","rgb(255, 204, 153)","rgb(255, 255, 153)","rgb(153, 255, 153)","rgb(153, 255, 204)","rgb(153, 255, 255)","rgb(153, 204, 255)","rgb(153, 153, 255)","rgb(204, 153, 255)","rgb(255, 153, 255)"],["rgb(255, 102, 102)","rgb(255, 179, 102)","rgb(255, 255, 102)","rgb(102, 255, 102)","rgb(102, 255, 179)","rgb(102, 255, 255)","rgb(102, 179, 255)","rgb(102, 102, 255)","rgb(179, 102, 255)","rgb(255, 102, 255)"],["rgb(255, 51, 51)","rgb(255, 153, 51)","rgb(255, 255, 51)","rgb(51, 255, 51)","rgb(51, 255, 153)","rgb(51, 255, 255)","rgb(51, 153, 255)","rgb(51, 51, 255)","rgb(153, 51, 255)","rgb(255, 51, 255)"],["rgb(255, 0, 0)","rgb(255, 128, 0)","rgb(255, 255, 0)","rgb(0, 255, 0)","rgb(0, 255, 128)","rgb(0, 255, 255)","rgb(0, 128, 255)","rgb(0, 0, 255)","rgb(128, 0, 255)","rgb(255, 0, 255)"],["rgb(245, 0, 0)","rgb(245, 123, 0)","rgb(245, 245, 0)","rgb(0, 245, 0)","rgb(0, 245, 123)","rgb(0, 245, 245)","rgb(0, 123, 245)","rgb(0, 0, 245)","rgb(123, 0, 245)","rgb(245, 0, 245)"],["rgb(214, 0, 0)","rgb(214, 108, 0)","rgb(214, 214, 0)","rgb(0, 214, 0)","rgb(0, 214, 108)","rgb(0, 214, 214)","rgb(0, 108, 214)","rgb(0, 0, 214)","rgb(108, 0, 214)","rgb(214, 0, 214)"],["rgb(163, 0, 0)","rgb(163, 82, 0)","rgb(163, 163, 0)","rgb(0, 163, 0)","rgb(0, 163, 82)","rgb(0, 163, 163)","rgb(0, 82, 163)","rgb(0, 0, 163)","rgb(82, 0, 163)","rgb(163, 0, 163)"],["rgb(92, 0, 0)","rgb(92, 46, 0)","rgb(92, 92, 0)","rgb(0, 92, 0)","rgb(0, 92, 46)","rgb(0, 92, 92)","rgb(0, 46, 92)","rgb(0, 0, 92)","rgb(46, 0, 92)","rgb(92, 0, 92)"],["rgb(255, 255, 255)","rgb(205, 205, 205)","rgb(178, 178, 178)","rgb(153, 153, 153)","rgb(127, 127, 127)","rgb(102, 102, 102)","rgb(76, 76, 76)","rgb(51, 51, 51)","rgb(25, 25, 25)","rgb(0, 0, 0)"]],e.materialPalette=r,e.isDark=function(e){return t.isArray(e)?n({r:e[0],g:e[1],b:e[2]}).isDark():n(e).isDark()},e.previewFocus=function(){e.inputFocus=!0,i(function(){c[0].setSelectionRange(0,c[0].value.length)})},e.previewUnfocus=function(){e.inputFocus=!1,c[0].blur()},e.previewBlur=function(){e.inputFocus=!1,e.setValue()},e.previewKeyDown=function(t){13==t.keyCode&&e.ok&&e.ok()},e.setPaletteColor=function(t){i(function(){e.color=n(t.target.style.backgroundColor)})},e.setValue=function(){e.color&&e.color&&u[e.type]&&"rgba(0, 0, 0, 0)"!==e.color.toRgbString()&&(e.value=e.color[u[e.type]]())},e.changeValue=function(){e.color=n(e.value),e.$broadcast("mdColorPicker:colorSet",{color:e.color})},e.$watch("color._a",function(t){e.color.setAlpha(t)},!0),e.$watch("whichPane",function(t){e.$broadcast("mdColorPicker:colorSet",{color:e.color})}),e.$watch("type",function(){c.removeClass("switch"),i(function(){c.addClass("switch")})}),e.$watchGroup(["color.toRgbString()","type"],function(t){e.inputFocus||e.setValue()}),i(function(){e.$broadcast("mdColorPicker:colorSet",{color:e.color}),c.focus(),e.previewFocus()})}],link:function(e,n,r){function createDOM(){var i=t.element(n[0].querySelector(".md-color-picker-palette")),r=t.element(n[0].querySelector(".md-color-picker-material-palette")),o=t.element('<div class="flex-15 layout-fill layout-row layout-align-space-between" layout-align="space-between" layout="row" layout-fill"></div>'),a=t.element('<div class="flex-10"></div>'),s=t.element('<div class="md-color-picker-material-title"></div>'),l=t.element('<div class="md-color-picker-with-label"></div>');t.forEach(e.palette,function(n,r){var s=o.clone();t.forEach(n,function(t){var n=a.clone();n.css({height:"25.5px",backgroundColor:t}),n.bind("click",e.setPaletteColor),s.append(n)}),i.append(s)}),t.forEach(e.materialPalette,function(n,i){var o=s.clone();o.html("<span>"+i.replace("-"," ")+"</span>"),o.css({height:"75px",backgroundColor:"rgb("+n[500].value[0]+","+n[500].value[1]+","+n[500].value[2]+")"}),e.isDark(n[500].value)&&o.addClass("dark"),r.append(o),t.forEach(n,function(t,n){var i=l.clone();i.css({height:"33px",backgroundColor:"rgb("+t.value[0]+","+t.value[1]+","+t.value[2]+")"}),e.isDark(t.value)&&i.addClass("dark"),i.html("<span>"+n+"</span>"),i.bind("click",e.setPaletteColor),r.append(i)})})}n[0].getElementsByTagName("md-tab");i(function(){createDOM()})}}}]).directive("mdColorPickerHue",[function(){return{template:'<canvas width="100%" height="100%"></canvas><div class="md-color-picker-marker"></div>',link:o.get,controller:function(){}}}]).directive("mdColorPickerAlpha",[function(){return{template:'<canvas width="100%" height="100%"></canvas><div class="md-color-picker-marker"></div>',link:a.get,controller:function(){}}}]).directive("mdColorPickerSpectrum",[function(){return{template:'<canvas width="100%" height="100%"></canvas><div class="md-color-picker-marker"></div>{{hue}}',link:s.get,controller:function(){}}}]).factory("$mdColorPicker",["$q","$mdDialog","mdColorPickerHistory",function(e,t,r){var o;return{show:function(e){return e===i&&(e={}),e.hasBackdrop=e.hasBackdrop===i||e.hasBackdrop,e.clickOutsideToClose=e.clickOutsideToClose===i||e.clickOutsideToClose,e.defaultValue=e.defaultValue===i?"#FFFFFF":e.defaultValue,e.focusOnOpen=e.focusOnOpen!==i&&e.focusOnOpen,e.preserveScope=e.preserveScope===i||e.preserveScope,e.skipHide=e.skipHide===i||e.skipHide,e.mdColorAlphaChannel=e.mdColorAlphaChannel!==i&&e.mdColorAlphaChannel,e.mdColorSpectrum=e.mdColorSpectrum===i||e.mdColorSpectrum,e.mdColorSliders=e.mdColorSliders===i||e.mdColorSliders,e.mdColorGenericPalette=e.mdColorGenericPalette===i||e.mdColorGenericPalette,e.mdColorMaterialPalette=e.mdColorMaterialPalette===i||e.mdColorMaterialPalette,e.mdColorHistory=e.mdColorHistory===i||e.mdColorHistory,o=t.show({templateUrl:"mdColorPickerDialog.tpl.html",hasBackdrop:e.hasBackdrop,clickOutsideToClose:e.clickOutsideToClose,controller:["$scope","options",function(e,n){e.close=function(){t.cancel()},e.ok=function(){t.hide(e.value)},e.hide=e.ok,e.value=n.value,e.default=n.defaultValue,e.random=n.random,e.mdColorAlphaChannel=n.mdColorAlphaChannel,e.mdColorSpectrum=n.mdColorSpectrum,e.mdColorSliders=n.mdColorSliders,e.mdColorGenericPalette=n.mdColorGenericPalette,e.mdColorMaterialPalette=n.mdColorMaterialPalette,e.mdColorHistory=n.mdColorHistory,e.mdColorDefaultTab=n.mdColorDefaultTab}],locals:{options:e},preserveScope:e.preserveScope,skipHide:e.skipHide,targetEvent:e.$event,focusOnOpen:e.focusOnOpen,autoWrap:!1,onShowing:function(){},onComplete:function(){}}),o.then(function(e){r.add(new n(e))},function(){}),o},hide:function(){return o.hide()},cancel:function(){return o.cancel()}}}])}(t,t.angular),e.module("mdColorPicker").run(["$templateCache",function(e){e.put("mdColorPicker.tpl.html",'<div class="md-color-picker-input-container" layout="row">\n\t<div class="md-color-picker-preview md-color-picker-checkered-bg" ng-click="showColorPicker($event)" ng-if="mdColorPreview">\n\t\t<div class="md-color-picker-result" ng-style="{background: value}"></div>\n\t</div>\n\t<md-input-container flex>\n\t\t<label><md-icon ng-if="icon">{{icon}}</md-icon>{{label}}</label>\n\t\t<input type="input" ng-model="value" class=\'md-color-picker-input\'  ng-mousedown="(openOnInput || !mdColorPreview) && showColorPicker($event)"/>\n\t</md-input-container>\n\t<md-button class="md-icon-button md-color-picker-clear" ng-if="mdColorClearButton && value" ng-click="clearValue();" aria-label="Clear Color">\n\t\t<md-icon md-svg-icon="clear.svg"></md-icon>\n\t</md-button>\n</div>\n'),e.put("mdColorPickerContainer.tpl.html",'<div class="md-color-picker-container in" layout="column">\n\t<div class="md-color-picker-arrow" ng-style="{\'border-bottom-color\': color.toRgbString() }"></div>\n\n\t<div class="md-color-picker-preview md-color-picker-checkered-bg" ng-class="{\'dark\': !color.isDark() || color.getAlpha() < .45}" flex="1" layout="column">\n\n\t\t<div class="md-color-picker-result" ng-style="{\'background\': color.toRgbString()}" flex="100" layout="column" layout-fill layout-align="center center" ng-click="focusPreviewInput( $event )">\n\t\t\t<!--<span flex  layout="column" layout-align="center center">{{value}}</span>-->\n\t\t\t<div flex  layout="row" layout-align="center center">\n\t\t\t\t<input class="md-color-picker-preview-input" type="text" ng-model="value" ng-focus="previewFocus($event);" ng-blur="previewBlur()" ng-change="changeValue()" ng-keypress="previewKeyDown($event)" layout-fill />\n\t\t\t</div>\n\t\t\t<div class="md-color-picker-tabs" style="width: 100%">\n\t\t\t\t<md-tabs md-selected="type" md-stretch-tabs="always" md-no-bar md-no-ink md-no-pagination="true" >\n\t\t\t\t\t<md-tab label="Hex" ng-disabled="color.getAlpha() !== 1" md-ink-ripple="#ffffff"></md-tab>\n\t\t\t\t\t<md-tab label="RGB"></md-tab>\n\t\t\t\t\t<md-tab label="HSL"></md-tab>\n\t\t\t\t\t<!--<md-tab label="HSV"></md-tab>\n\t\t\t\t\t<md-tab label="VEC"></md-tab>-->\n\t\t\t\t</md-tabs>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class="md-color-picker-tabs md-color-picker-colors">\n\t\t<md-tabs md-stretch-tabs="always" md-align-tabs="bottom"  md-selected="whichPane" md-no-pagination>\n\t\t\t<md-tab ng-if="mdColorSpectrum">\n\t\t\t\t<md-tab-label>\n\t\t\t\t\t<md-icon md-svg-icon="gradient.svg"></md-icon>\n\t\t\t\t</md-tab-label>\n\t\t\t\t<md-tab-body>\n\t\t\t\t\t<div layout="row" layout-align="space-between" style="height: 255px">\n\t\t\t\t\t\t<div md-color-picker-spectrum></div>\n\t\t\t\t\t\t<div md-color-picker-hue ng-class="{\'md-color-picker-wide\': !mdColorAlphaChannel}"></div>\n\t\t\t\t\t\t<div md-color-picker-alpha class="md-color-picker-checkered-bg" ng-if="mdColorAlphaChannel"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</md-tab-body>\n\t\t\t</md-tab>\n\t\t\t<md-tab ng-if="mdColorSliders">\n\t\t\t\t<md-tab-label>\n\t\t\t\t\t<md-icon md-svg-icon="tune.svg"></md-icon>\n\t\t\t\t</md-tab-label>\n\t\t\t\t<md-tab-body>\n\t\t\t\t\t<div layout="column" flex="100" layout-fill layout-align="space-between start center" class="md-color-picker-sliders">\n\t\t\t\t\t\t<div layout="row" layout-align="start center" layout-wrap flex layout-fill>\n\t\t\t\t\t\t\t<div flex="10" layout layout-align="center center">\n\t\t\t\t\t\t\t\t<span class="md-body-1">R</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<md-slider flex="65" min="0" max="255" ng-model="color._r" aria-label="red" class="red-slider"></md-slider>\n\t\t\t\t\t\t\t<span flex></span>\n\t\t\t\t\t\t\t<div flex="20" layout layout-align="center center">\n\t\t\t\t\t\t\t\t<input style="width: 100%;" min="0" max="255" type="number" ng-model="color._r" aria-label="red" aria-controls="red-slider">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div layout="row" layout-align="start center" layout-wrap flex layout-fill>\n\t\t\t\t\t\t\t<div flex="10" layout layout-align="center center">\n\t\t\t\t\t\t\t\t<span class="md-body-1">G</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<md-slider flex="65" min="0" max="255" ng-model="color._g" aria-label="green" class="green-slider"></md-slider>\n\t\t\t\t\t\t\t<span flex></span>\n\t\t\t\t\t\t\t<div flex="20" layout layout-align="center center">\n\t\t\t\t\t\t\t\t<input style="width: 100%;" min="0" max="255" type="number" ng-model="color._g" aria-label="green" aria-controls="green-slider">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div layout="row" layout-align="start center" layout-wrap flex layout-fill>\n\t\t\t\t\t\t\t<div flex="10" layout layout-align="center center">\n\t\t\t\t\t\t\t\t<span class="md-body-1">B</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<md-slider flex="65" min="0" max="255" ng-model="color._b" aria-label="blue" class="blue-slider"></md-slider>\n\t\t\t\t\t\t\t<span flex></span>\n\t\t\t\t\t\t\t<div flex="20" layout layout-align="center center" >\n\t\t\t\t\t\t\t\t<input style="width: 100%;" min="0" max="255" type="number" ng-model="color._b" aria-label="blue" aria-controls="blue-slider">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div layout="row" layout-align="start center" layout-wrap flex layout-fill ng-if="!mdColorAlphaChannel">\n\t\t\t\t\t\t\t<div flex="10" layout layout-align="center center">\n\t\t\t\t\t\t\t\t<span class="md-body-1">A</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<md-slider flex="65" min="0" max="1" step=".01" ng-model="color._a" aria-label="alpha" class="md-primary"></md-slider>\n\t\t\t\t\t\t\t<span flex></span>\n\t\t\t\t\t\t\t<div flex="20" layout layout-align="center center" >\n\t\t\t\t\t\t\t\t<input style="width: 100%;" min="0" max="1" step=".01" type="number" ng-model="color._a" aria-label="alpha" aria-controls="alpha-slider">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</md-tab-body>\n\t\t\t</md-tab>\n\t\t\t<md-tab ng-if="mdColorGenericPalette">\n\t\t\t\t<md-tab-label>\n\t\t\t\t\t<md-icon md-svg-icon="view_module.svg"></md-icon>\n\t\t\t\t</md-tab-label>\n\t\t\t\t<md-tab-body>\n\t\t\t\t\t<div layout="column" layout-align="space-between start center" flex class="md-color-picker-palette">\n\n\t\t\t\t\t</div>\n\t\t\t\t</md-tab-body>\n\t\t\t</md-tab>\n\t\t\t<md-tab  ng-if="mdColorMaterialPalette">\n\t\t\t\t<md-tab-label>\n\t\t\t\t\t<md-icon md-svg-icon="view_headline.svg"></md-icon>\n\t\t\t\t</md-tab-label>\n\t\t\t\t<md-tab-body>\n\t\t\t\t\t<div layout="column" layout-fill flex class="md-color-picker-material-palette">\n\n\t\t\t\t\t</div>\n\t\t\t\t</md-tab-body>\n\t\t\t</md-tab>\n\t\t\t<md-tab ng-if="mdColorHistory">\n\t\t\t\t<md-tab-label>\n\t\t\t\t\t<md-icon md-svg-icon="history.svg"></md-icon>\n\t\t\t\t</md-tab-label>\n\t\t\t\t<md-tab-body layout="row" layout-fill>\n\t\t\t\t\t<div layout="column" flex layout-align="space-between start" layout-wrap layout-fill class="md-color-picker-history">\n\t\t\t\t\t\t<div layout="row" flex="80" layout-align="space-between start start" layout-wrap  layout-fill>\n\t\t\t\t\t\t\t<div flex="10" ng-repeat="historyColor in history.get() track by $index">\n\t\t\t\t\t\t\t\t<div  ng-style="{\'background\': historyColor.toRgbString()}" ng-click="setPaletteColor($event)"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t<md-button flex-end ng-click="history.reset()" class="md-mini" aria-label="Clear History">\n\t\t\t\t\t\t\t<md-icon md-svg-icon="clear_all.svg"></md-icon>\n\t\t\t\t\t\t</md-button>\n\t\t\t\t\t</div>\n\t\t\t\t</md-tab-body>\n\t\t\t</md-tab>\n\t\t</md-tabs>\n\t</div>\n\n</div>\n'),e.put("mdColorPickerDialog.tpl.html",'<md-dialog class="md-color-picker-dialog">\n\t<div md-color-picker-container\n\t\tvalue="value"\n\t\tdefault="{{defaultValue}}"\n\t\trandom="{{random}}"\n\t\tok="ok"\n\t\tmd-color-alpha-channel="mdColorAlphaChannel"\n\t\tmd-color-spectrum="mdColorSpectrum"\n\t\tmd-color-sliders="mdColorSliders"\n\t\tmd-color-generic-palette="mdColorGenericPalette"\n\t\tmd-color-material-palette="mdColorMaterialPalette"\n\t\tmd-color-history="mdColorHistory"\n\t\tmd-color-default-tab="mdColorDefaultTab"\n\t></div>\n\t<md-actions layout="row">\n\t\t<md-button class="md-mini" ng-click="close()" style="width: 50%;">Cancel</md-button>\n\t\t<md-button class="md-mini" ng-click="ok()" style="width: 50%;">Select</md-button>\n\t</md-actions>\n</md-dialog>\n')}])}(angular,window,n)},function(e,t,n){"use strict";angular.module("iso-3166-country-codes",[]).factory("ISO3166",function(){var e={};e.codeToCountry={AF:"Afghanistan",AX:"land Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia, Plurinational State of",BQ:"Bonaire, Sint Eustatius and Saba",BA:"Bosnia and Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, The Democratic Republic of The",CK:"Cook Islands",CR:"Costa Rica",CI:"Cte D'Ivoire",HR:"Croatia",CU:"Cuba",CW:"Curaao",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and Mcdonald Islands",VA:"Holy See (vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic of",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KP:"Korea, Democratic People's Republic of",KR:"Korea, Republic of",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia, The Former Yugoslav Republic of",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States of",MD:"Moldova, Republic of",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestine, State of",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Runion",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",BL:"Saint Barthlemy",
SH:"Saint Helena, Ascension and Tristan Da Cunha",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",MF:"Saint Martin (French Part)",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and The Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SX:"Sint Maarten (Dutch Part)",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and The South Sandwich Islands",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard and Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan, Province of China",TJ:"Tajikistan",TZ:"Tanzania, United Republic of",TH:"Thailand",TL:"Timor-leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks and Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela, Bolivarian Republic of",VN:"Viet Nam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.s.",WF:"Wallis and Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},e.countryToCode={},e.countryCodes=[];for(var t in e.codeToCountry)e.countryToCode[e.codeToCountry[t]]=t,e.countryCodes.push(t);return e.isCountryCode=function(e){return angular.isString(e)&&(e=e.toUpperCase()),angular.isDefined(this.codeToCountry[e])},e.getCountryCode=function(e,t){var n=this.countryToCode[e.toUpperCase()];return t=t?t:"toUpperCase",n&&n[t]()},e.getCountryName=function(e,t){return t=t?t:"toString",this.codeToCountry[e]&&this.codeToCountry[e][t]()},e.getCountryNames=function(t,n){n=n?n:"toString";var i={};return angular.forEach(t,function(t){e.isCountryCode(t)&&(i[t]=e.getCountryName(t,n))}),i},e}).filter("isoCountry",["ISO3166",function(e){return function(t){var n=e.getCountryName(t);return angular.isUndefined(n)?t:n}}]).filter("isoCountryCode",["ISO3166",function(e){return function(t){var n=e.getCountryCode(t);return angular.isUndefined(n)?t:n}}]).directive("countryCode",["ISO3166",function(e){return{require:"ngModel",link:function(t,n,i,r){r.$parsers.unshift(function(t){return e.isCountryCode(t)?(r.$setValidity("countrycode",!0),t):void r.$setValidity("countrycode",!1)})}}}])},function(e,t){function apply(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=apply},function(e,t,n){function arrayLikeKeys(e,t){var n=o(e),c=!n&&r(e),d=!n&&!c&&a(e),h=!n&&!c&&!d&&l(e),m=n||c||d||h,p=m?i(e.length,String):[],f=p.length;for(var g in e)!t&&!u.call(e,g)||m&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,f))||p.push(g);return p}var i=n(428),r=n(449),o=n(450),a=n(451),s=n(47),l=n(452),c=Object.prototype,u=c.hasOwnProperty;e.exports=arrayLikeKeys},function(e,t,n){function assignValue(e,t,n){var o=e[t];a.call(e,t)&&r(o,n)&&(void 0!==n||t in e)||i(e,t,n)}var i=n(44),r=n(48),o=Object.prototype,a=o.hasOwnProperty;e.exports=assignValue},function(e,t,n){function baseIsArguments(e){return r(e)&&i(e)==o}var i=n(22),r=n(24),o="[object Arguments]";e.exports=baseIsArguments},function(e,t,n){function baseIsNative(e){if(!o(e)||r(e))return!1;var t=i(e)?m:l;return t.test(a(e))}var i=n(51),r=n(437),o=n(17),a=n(445),s=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,d=c.toString,h=u.hasOwnProperty,m=RegExp("^"+d.call(h).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=baseIsNative},function(e,t,n){function baseIsTypedArray(e){return o(e)&&r(e.length)&&!!$[i(e)]}var i=n(22),r=n(52),o=n(24),a="[object Arguments]",s="[object Array]",l="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Function]",h="[object Map]",m="[object Number]",p="[object Object]",f="[object RegExp]",g="[object Set]",v="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",w="[object Float32Array]",x="[object Float64Array]",C="[object Int8Array]",S="[object Int16Array]",E="[object Int32Array]",T="[object Uint8Array]",M="[object Uint8ClampedArray]",k="[object Uint16Array]",A="[object Uint32Array]",$={};$[w]=$[x]=$[C]=$[S]=$[E]=$[T]=$[M]=$[k]=$[A]=!0,$[a]=$[s]=$[b]=$[l]=$[_]=$[c]=$[u]=$[d]=$[h]=$[m]=$[p]=$[f]=$[g]=$[v]=$[y]=!1,e.exports=baseIsTypedArray},function(e,t,n){function baseKeysIn(e){if(!i(e))return o(e);var t=r(e),n=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&n.push(a);return n}var i=n(17),r=n(438),o=n(439),a=Object.prototype,s=a.hasOwnProperty;e.exports=baseKeysIn},function(e,t,n){function baseRest(e,t){return o(r(e,t,i),e+"")}var i=n(49),r=n(442),o=n(443);e.exports=baseRest},function(e,t,n){var i=n(447),r=n(45),o=n(49),a=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:o;e.exports=a},function(e,t){function baseTimes(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}e.exports=baseTimes},function(e,t){function baseUnary(e){return function(t){return e(t)}}e.exports=baseUnary},function(e,t,n){function copyObject(e,t,n,o){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=o?o(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),a?r(n,c,u):i(n,c,u)}return n}var i=n(421),r=n(44);e.exports=copyObject},function(e,t,n){var i=n(23),r=i["__core-js_shared__"];e.exports=r},function(e,t,n){function createAssigner(e){return i(function(t,n){var i=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&r(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++i<o;){var l=n[i];l&&e(t,l,i,a)}return t})}var i=n(426),r=n(436);e.exports=createAssigner},function(e,t,n){function getNative(e,t){var n=r(e,t);return i(n)?n:void 0}var i=n(423),r=n(435);e.exports=getNative},function(e,t,n){function getRawTag(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(e){}var r=a.call(e);return i&&(t?e[s]=n:delete e[s]),r}var i=n(43),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i?i.toStringTag:void 0;e.exports=getRawTag},function(e,t){function getValue(e,t){return null==e?void 0:e[t]}e.exports=getValue},function(e,t,n){function isIterateeCall(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?r(n)&&o(t,n.length):"string"==s&&t in n)&&i(n[t],e)}var i=n(48),r=n(50),o=n(47),a=n(17);e.exports=isIterateeCall},function(e,t,n){function isMasked(e){return!!r&&r in e}var i=n(431),r=function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=isMasked},function(e,t){function isPrototype(e){var t=e&&e.constructor,i="function"==typeof t&&t.prototype||n;return e===i}var n=Object.prototype;e.exports=isPrototype},function(e,t){function nativeKeysIn(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=nativeKeysIn},function(e,t,n){(function(e){var i=n(46),r="object"==typeof t&&t&&!t.nodeType&&t,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===r,s=a&&i.process,l=function(){try{return s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=l}).call(t,n(10)(e))},function(e,t){function objectToString(e){return i.call(e)}var n=Object.prototype,i=n.toString;e.exports=objectToString},function(e,t,n){function overRest(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=r(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(l),i(e,this,c)}}var i=n(419),r=Math.max;e.exports=overRest},function(e,t,n){var i=n(427),r=n(444),o=r(i);e.exports=o},function(e,t){function shortOut(e){var t=0,o=0;return function(){var a=r(),s=i-(a-o);if(o=a,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var n=800,i=16,r=Date.now;e.exports=shortOut},function(e,t){function toSource(e){if(null!=e){try{return i.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var n=Function.prototype,i=n.toString;e.exports=toSource},function(e,t,n){var i=n(430),r=n(432),o=n(453),a=r(function(e,t){i(t,o(t),e)});e.exports=a},function(e,t){function constant(e){return function(){return e}}e.exports=constant},function(e,t,n){e.exports=n(446)},function(e,t,n){var i=n(422),r=n(24),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(e){return r(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){(function(e){var i=n(23),r=n(454),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,l=s?i.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u}).call(t,n(10)(e))},function(e,t,n){var i=n(424),r=n(429),o=n(440),a=o&&o.isTypedArray,s=a?r(a):i;e.exports=s},function(e,t,n){function keysIn(e){return o(e)?i(e,!0):r(e)}var i=n(420),r=n(425),o=n(50);e.exports=keysIn},function(e,t){function stubFalse(){return!1}e.exports=stubFalse},function(e,t,n){function webpackContext(e){return n(webpackContextResolve(e))}function webpackContextResolve(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var i={"./af":53,"./af.js":53,"./ar":59,"./ar-dz":54,"./ar-dz.js":54,"./ar-ly":55,"./ar-ly.js":55,"./ar-ma":56,"./ar-ma.js":56,"./ar-sa":57,"./ar-sa.js":57,"./ar-tn":58,"./ar-tn.js":58,"./ar.js":59,"./az":60,"./az.js":60,"./be":61,"./be.js":61,"./bg":62,"./bg.js":62,"./bn":63,"./bn.js":63,"./bo":64,"./bo.js":64,"./br":65,"./br.js":65,"./bs":66,"./bs.js":66,"./ca":67,"./ca.js":67,"./cs":68,"./cs.js":68,"./cv":69,"./cv.js":69,"./cy":70,"./cy.js":70,"./da":71,"./da.js":71,"./de":73,"./de-at":72,"./de-at.js":72,"./de.js":73,"./dv":74,"./dv.js":74,"./el":75,"./el.js":75,"./en-au":76,"./en-au.js":76,"./en-ca":77,"./en-ca.js":77,"./en-gb":78,"./en-gb.js":78,"./en-ie":79,"./en-ie.js":79,"./en-nz":80,"./en-nz.js":80,"./eo":81,"./eo.js":81,"./es":83,"./es-do":82,"./es-do.js":82,"./es.js":83,"./et":84,"./et.js":84,"./eu":85,"./eu.js":85,"./fa":86,"./fa.js":86,"./fi":87,"./fi.js":87,"./fo":88,"./fo.js":88,"./fr":91,"./fr-ca":89,"./fr-ca.js":89,"./fr-ch":90,"./fr-ch.js":90,"./fr.js":91,"./fy":92,"./fy.js":92,"./gd":93,"./gd.js":93,"./gl":94,"./gl.js":94,"./he":95,"./he.js":95,"./hi":96,"./hi.js":96,"./hr":97,"./hr.js":97,"./hu":98,"./hu.js":98,"./hy-am":99,"./hy-am.js":99,"./id":100,"./id.js":100,"./is":101,"./is.js":101,"./it":102,"./it.js":102,"./ja":103,"./ja.js":103,"./jv":104,"./jv.js":104,"./ka":105,"./ka.js":105,"./kk":106,"./kk.js":106,"./km":107,"./km.js":107,"./ko":108,"./ko.js":108,"./ky":109,"./ky.js":109,"./lb":110,"./lb.js":110,"./lo":111,"./lo.js":111,"./lt":112,"./lt.js":112,"./lv":113,"./lv.js":113,"./me":114,"./me.js":114,"./mi":115,"./mi.js":115,"./mk":116,"./mk.js":116,"./ml":117,"./ml.js":117,"./mr":118,"./mr.js":118,"./ms":120,"./ms-my":119,"./ms-my.js":119,"./ms.js":120,"./my":121,"./my.js":121,"./nb":122,"./nb.js":122,"./ne":123,"./ne.js":123,"./nl":125,"./nl-be":124,"./nl-be.js":124,"./nl.js":125,"./nn":126,"./nn.js":126,"./pa-in":127,"./pa-in.js":127,"./pl":128,"./pl.js":128,"./pt":130,"./pt-br":129,"./pt-br.js":129,"./pt.js":130,"./ro":131,"./ro.js":131,"./ru":132,"./ru.js":132,"./se":133,"./se.js":133,"./si":134,"./si.js":134,"./sk":135,"./sk.js":135,"./sl":136,"./sl.js":136,"./sq":137,"./sq.js":137,"./sr":139,"./sr-cyrl":138,"./sr-cyrl.js":138,"./sr.js":139,"./ss":140,"./ss.js":140,"./sv":141,"./sv.js":141,"./sw":142,"./sw.js":142,"./ta":143,"./ta.js":143,"./te":144,"./te.js":144,"./tet":145,"./tet.js":145,"./th":146,"./th.js":146,"./tl-ph":147,"./tl-ph.js":147,"./tlh":148,"./tlh.js":148,"./tr":149,"./tr.js":149,"./tzl":150,"./tzl.js":150,"./tzm":152,"./tzm-latn":151,"./tzm-latn.js":151,"./tzm.js":152,"./uk":153,"./uk.js":153,"./uz":154,"./uz.js":154,"./vi":155,"./vi.js":155,"./x-pseudo":156,"./x-pseudo.js":156,"./yo":157,"./yo.js":157,"./zh-cn":158,"./zh-cn.js":158,"./zh-hk":159,"./zh-hk.js":159,"./zh-tw":160,"./zh-tw.js":160};webpackContext.keys=function(){return Object.keys(i)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=455},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;window.OpenSeadragon=window.OpenSeadragon||function(e){return new OpenSeadragon.Viewer(e)},__WEBPACK_AMD_DEFINE_RESULT__=function(){return window.OpenSeadragon}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),function(e){e.version={versionStr:"2.2.1",major:parseInt("2",10),minor:parseInt("2",10),revision:parseInt("1",10)};var t={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},n=Object.prototype.toString,i=Object.prototype.hasOwnProperty;e.isFunction=function(t){return"function"===e.type(t)},e.isArray=Array.isArray||function(t){return"array"===e.type(t)},e.isWindow=function(e){return e&&"object"==typeof e&&"setInterval"in e},e.type=function(e){return null===e||void 0===e?String(e):t[n.call(e)]||"object"},e.isPlainObject=function(t){if(!t||"object"!==OpenSeadragon.type(t)||t.nodeType||e.isWindow(t))return!1;if(t.constructor&&!i.call(t,"constructor")&&!i.call(t.constructor.prototype,"isPrototypeOf"))return!1;var n;for(var r in t)n=r;return void 0===n||i.call(t,n)},e.isEmptyObject=function(e){for(var t in e)return!1;return!0},e.freezeObject=function(t){return Object.freeze?e.freezeObject=Object.freeze:e.freezeObject=function(e){return e},e.freezeObject(t)},e.supportsCanvas=function(){var t=document.createElement("canvas");return!(!e.isFunction(t.getContext)||!t.getContext("2d"))}(),e.isCanvasTainted=function(e){var t=!1;try{e.getContext("2d").getImageData(0,0,1,1)}catch(e){t=!0}return t},e.pixelDensityRatio=function(){if(e.supportsCanvas){var t=document.createElement("canvas").getContext("2d"),n=window.devicePixelRatio||1,i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return n/i}return 1}()}(OpenSeadragon),function($){function getOffsetParent(e,t){return t&&e!=document.body?document.body:e.offsetParent}$.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=arguments.length,l=!1,c=1;for("boolean"==typeof a&&(l=a,a=arguments[1]||{},c=2),"object"==typeof a||OpenSeadragon.isFunction(a)||(a={}),s===c&&(a=this,--c);c<s;c++)if(e=arguments[c],null!==e||void 0!==e)for(t in e)n=a[t],i=e[t],a!==i&&(l&&i&&(OpenSeadragon.isPlainObject(i)||(r=OpenSeadragon.isArray(i)))?(r?(r=!1,o=n&&OpenSeadragon.isArray(n)?n:[]):o=n&&OpenSeadragon.isPlainObject(n)?n:{},a[t]=OpenSeadragon.extend(l,o,i)):void 0!==i&&(a[t]=i));return a};var isIOSDevice=function(){if("object"!=typeof navigator)return!1;var e=navigator.userAgent;return"string"==typeof e&&(e.indexOf("iPhone")!==-1||e.indexOf("iPad")!==-1||e.indexOf("iPod")!==-1)};$.extend($,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:isIOSDevice(),pixelsPerWheelLine:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,degrees:0,opacity:1,compositeOperation:null,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:"#437AB2"},SIGNAL:"----seadragon----",delegate:function(e,t){return function(){var n=arguments;return void 0===n&&(n=[]),t.apply(e,n)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5},getElement:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e},getElementPosition:function(e){var t,n,i=new $.Point;for(e=$.getElement(e),t="fixed"==$.getElementStyle(e).position,n=getOffsetParent(e,t);n;)i.x+=e.offsetLeft,i.y+=e.offsetTop,t&&(i=i.plus($.getPageScroll())),e=n,t="fixed"==$.getElementStyle(e).position,n=getOffsetParent(e,t);return i},getElementOffset:function(e){e=$.getElement(e);var t,n,i=e&&e.ownerDocument,r={top:0,left:0};return i?(t=i.documentElement,"undefined"!=typeof e.getBoundingClientRect&&(r=e.getBoundingClientRect()),n=i==i.window?i:9===i.nodeType&&(i.defaultView||i.parentWindow),new $.Point(r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0),r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0))):new $.Point},getElementSize:function(e){return e=$.getElement(e),new $.Point(e.clientWidth,e.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(e){return e=$.getElement(e),e.currentStyle}:function(e){return e=$.getElement(e),window.getComputedStyle(e,"")},getCssPropertyWithVendorPrefix:function(e){var t={};return $.getCssPropertyWithVendorPrefix=function(e){if(void 0!==t[e])return t[e];var n=document.createElement("div").style,i=null;if(void 0!==n[e])i=e;else for(var r=["Webkit","Moz","MS","O","webkit","moz","ms","o"],o=$.capitalizeFirstLetter(e),a=0;a<r.length;a++){var s=r[a]+o;if(void 0!==n[s]){i=s;break}}return t[e]=i,i},$.getCssPropertyWithVendorPrefix(e)},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},pointInElement:function(e,t){e=$.getElement(e);var n=$.getElementOffset(e),i=$.getElementSize(e);return t.x>=n.x&&t.x<n.x+i.x&&t.y<n.y+i.y&&t.y>=n.y},getEvent:function(e){return e?$.getEvent=function(e){return e}:$.getEvent=function(){return window.event},$.getEvent(e)},getMousePosition:function(e){if("number"==typeof e.pageX)$.getMousePosition=function(e){var t=new $.Point;return e=$.getEvent(e),t.x=e.pageX,t.y=e.pageY,t};else{if("number"!=typeof e.clientX)throw new Error("Unknown event mouse position, no known technique.");$.getMousePosition=function(e){var t=new $.Point;return e=$.getEvent(e),t.x=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,t.y=e.clientY+document.body.scrollTop+document.documentElement.scrollTop,t}}return $.getMousePosition(e)},getPageScroll:function(){var e=document.documentElement||{},t=document.body||{};if("number"==typeof window.pageXOffset)$.getPageScroll=function(){return new $.Point(window.pageXOffset,window.pageYOffset)};else if(t.scrollLeft||t.scrollTop)$.getPageScroll=function(){return new $.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!e.scrollLeft&&!e.scrollTop)return new $.Point(0,0);$.getPageScroll=function(){return new $.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return $.getPageScroll()},setPageScroll:function(e){if("undefined"!=typeof window.scrollTo)$.setPageScroll=function(e){window.scrollTo(e.x,e.y)};else{var t=$.getPageScroll();if(t.x===e.x&&t.y===e.y)return;document.body.scrollLeft=e.x,document.body.scrollTop=e.y;var n=$.getPageScroll();if(n.x!==t.x&&n.y!==t.y)return void($.setPageScroll=function(e){document.body.scrollLeft=e.x,document.body.scrollTop=e.y});if(document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y,n=$.getPageScroll(),n.x!==t.x&&n.y!==t.y)return void($.setPageScroll=function(e){document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y});$.setPageScroll=function(e){}}return $.setPageScroll(e)},getWindowSize:function(){var e=document.documentElement||{},t=document.body||{};if("number"==typeof window.innerWidth)$.getWindowSize=function(){return new $.Point(window.innerWidth,window.innerHeight)};else if(e.clientWidth||e.clientHeight)$.getWindowSize=function(){return new $.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!t.clientWidth&&!t.clientHeight)throw new Error("Unknown window size, no known technique.");$.getWindowSize=function(){return new $.Point(document.body.clientWidth,document.body.clientHeight)}}return $.getWindowSize()},makeCenteredNode:function(e){e=$.getElement(e);var t=[$.makeNeutralElement("div"),$.makeNeutralElement("div"),$.makeNeutralElement("div")];return $.extend(t[0].style,{display:"table",height:"100%",width:"100%"}),$.extend(t[1].style,{display:"table-row"}),$.extend(t[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),t[0].appendChild(t[1]),t[1].appendChild(t[2]),t[2].appendChild(e),t[0]},makeNeutralElement:function(e){var t=document.createElement(e),n=t.style;return n.background="transparent none",n.border="none",n.margin="0px",n.padding="0px",n.position="static",t},now:function(){return Date.now?$.now=Date.now:$.now=function(){return(new Date).getTime()},$.now()},makeTransparentImage:function(e){return $.makeTransparentImage=function(e){var t=$.makeNeutralElement("img");return t.src=e,t},$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<7&&($.makeTransparentImage=function(e){var t=$.makeNeutralElement("img"),n=null;return n=$.makeNeutralElement("span"),n.style.display="inline-block",t.onload=function(){n.style.width=n.style.width||t.width+"px",n.style.height=n.style.height||t.height+"px",t.onload=null,t=null},t.src=e,n.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+e+"', sizingMethod='scale')",n}),$.makeTransparentImage(e)},setElementOpacity:function(e,t,n){var i,r;e=$.getElement(e),n&&!$.Browser.alpha&&(t=Math.round(t)),$.Browser.opacity?e.style.opacity=t<1?t:"":t<1?(i=Math.round(100*t),r="alpha(opacity="+i+")",e.style.filter=r):e.style.filter=""},setElementTouchActionNone:function(e){e=$.getElement(e),"undefined"!=typeof e.style.touchAction?e.style.touchAction="none":"undefined"!=typeof e.style.msTouchAction&&(e.style.msTouchAction="none")},addClass:function(e,t){e=$.getElement(e),e.className?(" "+e.className+" ").indexOf(" "+t+" ")===-1&&(e.className+=" "+t):e.className=t},indexOf:function(e,t,n){return Array.prototype.indexOf?this.indexOf=function(e,t,n){return e.indexOf(t,n)}:this.indexOf=function(e,t,n){var i,r,o=n?n:0;if(!e)throw new TypeError;if(r=e.length,0===r||o>=r)return-1;for(o<0&&(o=r-Math.abs(o)),i=o;i<r;i++)if(e[i]===t)return i;return-1},this.indexOf(e,t,n)},removeClass:function(e,t){var n,i,r=[];for(e=$.getElement(e),n=e.className.split(/\s+/),i=0;i<n.length;i++)n[i]&&n[i]!==t&&r.push(n[i]);e.className=r.join(" ")},addEvent:function(){if(window.addEventListener)return function(e,t,n,i){e=$.getElement(e),e.addEventListener(t,n,i)};if(window.attachEvent)return function(e,t,n,i){e=$.getElement(e),e.attachEvent("on"+t,n)};throw new Error("No known event model.")}(),removeEvent:function(){if(window.removeEventListener)return function(e,t,n,i){e=$.getElement(e),e.removeEventListener(t,n,i)};if(window.detachEvent)return function(e,t,n,i){e=$.getElement(e),e.detachEvent("on"+t,n)};throw new Error("No known event model.")}(),cancelEvent:function(e){e=$.getEvent(e),e.preventDefault?$.cancelEvent=function(e){e.preventDefault()}:$.cancelEvent=function(e){e=$.getEvent(e),e.cancel=!0,e.returnValue=!1},$.cancelEvent(e)},stopEvent:function(e){e=$.getEvent(e),e.stopPropagation?$.stopEvent=function(e){e.stopPropagation()}:$.stopEvent=function(e){e=$.getEvent(e),e.cancelBubble=!0},$.stopEvent(e)},createCallback:function(e,t){var n,i=[];for(n=2;n<arguments.length;n++)i.push(arguments[n]);return function(){var n,r=i.concat([]);for(n=0;n<arguments.length;n++)r.push(arguments[n]);return t.apply(e,r)}},getUrlParameter:function(e){var t=URLPARAMS[e];return t?t:null},getUrlProtocol:function(e){var t=e.match(/^([a-z]+:)\/\//i);return null===t?window.location.protocol:t[1].toLowerCase()},createAjaxRequest:function(e){var t;try{t=!!new ActiveXObject("Microsoft.XMLHTTP")}catch(e){t=!1}if(t)window.XMLHttpRequest?$.createAjaxRequest=function(e){return e?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:$.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else{if(!window.XMLHttpRequest)throw new Error("Browser doesn't support XMLHttpRequest.");$.createAjaxRequest=function(){return new XMLHttpRequest}}return $.createAjaxRequest(e)},makeAjaxRequest:function(e,t,n){var i;$.isPlainObject(e)&&(t=e.success,n=e.error,i=e.withCredentials,e=e.url);var r=$.getUrlProtocol(e),o=$.createAjaxRequest("file:"===r);if(!$.isFunction(t))throw new Error("makeAjaxRequest requires a success callback");o.onreadystatechange=function(){4==o.readyState&&(o.onreadystatechange=function(){},200===o.status||0===o.status&&"http:"!==r&&"https:"!==r?t(o):($.console.log("AJAX request returned %d: %s",o.status,e),$.isFunction(n)&&n(o)))},i&&(o.withCredentials=!0);try{o.open("GET",e,!0),o.send(null)}catch(i){var a=i.message,s=$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<10;if(s&&"undefined"!=typeof i.number&&i.number==-2147024891&&(a+="\nSee http://msdn.microsoft.com/en-us/library/ms537505(v=vs.85).aspx#xdomain"),$.console.log("%s while making AJAX request: %s",i.name,a),o.onreadystatechange=function(){},window.XDomainRequest){var l=new XDomainRequest;if(l){l.onload=function(e){$.isFunction(t)&&t({responseText:l.responseText,status:200,statusText:"OK"})},l.onerror=function(e){$.isFunction(n)&&n({responseText:l.responseText,status:444,statusText:"An error happened. Due to an XDomainRequest deficiency we can not extract any information about this error. Upgrade your browser."})};try{l.open("GET",e),l.send()}catch(e){$.isFunction(n)&&n(o,i)}}}else $.isFunction(n)&&n(o,i)}},jsonp:function(e){var t,n=e.url,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement,r=e.callbackName||"openseadragon"+$.now(),o=window[r],a="$1"+r+"$2",s=e.param||"callback",l=e.callback;n=n.replace(/(\=)\?(&|$)|\?\?/i,a),n+=(/\?/.test(n)?"&":"?")+s+"="+r,window[r]=function(e){if(o)window[r]=o;else try{delete window[r]}catch(e){}l&&$.isFunction(l)&&l(e)},t=document.createElement("script"),void 0===e.async&&!1===e.async||(t.async="async"),e.scriptCharset&&(t.charset=e.scriptCharset),t.src=n,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,i&&t.parentNode&&i.removeChild(t),t=void 0)},i.insertBefore(t,i.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(e){if(window.DOMParser)$.parseXml=function(e){var t,n=null;return t=new DOMParser,n=t.parseFromString(e,"text/xml")};else{if(!window.ActiveXObject)throw new Error("Browser doesn't support XML DOM.");$.parseXml=function(e){var t=null;return t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e),t}}return $.parseXml(e)},parseJSON:function(string){return window.JSON&&window.JSON.parse?$.parseJSON=window.JSON.parse:$.parseJSON=function(string){return eval("("+string+")")},$.parseJSON(string)},imageFormatSupported:function(e){return e=e?e:"",!!FILEFORMATS[e.toLowerCase()]}}),$.Browser={vendor:$.BROWSERS.UNKNOWN,version:0,alpha:!0};var FILEFORMATS={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},URLPARAMS={};!function(){var e,t=(navigator.appName,navigator.appVersion),n=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(n.substring(n.indexOf("MSIE")+5,n.indexOf(";",n.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(n.indexOf("Firefox")>=0?($.Browser.vendor=$.BROWSERS.FIREFOX,$.Browser.version=parseFloat(n.substring(n.indexOf("Firefox")+8))):n.indexOf("Safari")>=0?($.Browser.vendor=n.indexOf("Chrome")>=0?$.BROWSERS.CHROME:$.BROWSERS.SAFARI,$.Browser.version=parseFloat(n.substring(n.substring(0,n.indexOf("Safari")).lastIndexOf("/")+1,n.indexOf("Safari")))):(e=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!==e.exec(n)&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":$.Browser.vendor=$.BROWSERS.OPERA,$.Browser.version=parseFloat(t)}var i,r,o,a=window.location.search.substring(1),s=a.split("&");for(o=0;o<s.length;o++)i=s[o],r=i.indexOf("="),r>0&&(URLPARAMS[i.substring(0,r)]=decodeURIComponent(i.substring(r+1)));$.Browser.alpha=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9||$.Browser.vendor==$.BROWSERS.CHROME&&$.Browser.version<2),$.Browser.opacity=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9)}();var nullfunction=function(e){};$.console=window.console||{log:nullfunction,debug:nullfunction,info:nullfunction,warn:nullfunction,error:nullfunction,assert:nullfunction},function(e){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame,n=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.msCancelAnimationFrame;if(t&&n)$.requestAnimationFrame=function(){return t.apply(e,arguments)},$.cancelAnimationFrame=function(){return n.apply(e,arguments)};else{var i,r=[],o=[],a=0;$.requestAnimationFrame=function(e){return r.push([++a,e]),i||(i=setInterval(function(){if(r.length){var e=$.now(),t=o;for(o=r,r=t;o.length;)o.shift()[1](e)}else clearInterval(i),i=void 0},20)),a},$.cancelAnimationFrame=function(e){var t,n;for(t=0,n=r.length;t<n;t+=1)if(r[t][0]===e)return void r.splice(t,1);
for(t=0,n=o.length;t<n;t+=1)if(o[t][0]===e)return void o.splice(t,1)}}}(window)}(OpenSeadragon),function(e){var t={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.fullscreenElement},t.requestFullScreen=function(e){return e.requestFullscreen()},t.exitFullScreen=function(){document.exitFullscreen()},t.fullScreenEventName="fullscreenchange",t.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.msFullscreenElement},t.requestFullScreen=function(e){return e.msRequestFullscreen()},t.exitFullScreen=function(){document.msExitFullscreen()},t.fullScreenEventName="MSFullscreenChange",t.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.webkitFullscreenElement},t.requestFullScreen=function(e){return e.webkitRequestFullscreen()},t.exitFullScreen=function(){document.webkitExitFullscreen()},t.fullScreenEventName="webkitfullscreenchange",t.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},t.requestFullScreen=function(e){return e.webkitRequestFullScreen()},t.exitFullScreen=function(){document.webkitCancelFullScreen()},t.fullScreenEventName="webkitfullscreenchange",t.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.mozFullScreenElement},t.requestFullScreen=function(e){return e.mozRequestFullScreen()},t.exitFullScreen=function(){document.mozCancelFullScreen()},t.fullScreenEventName="mozfullscreenchange",t.fullScreenErrorEventName="mozfullscreenerror"),t.isFullScreen=function(){return null!==t.getFullScreenElement()},t.cancelFullScreen=function(){e.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),t.exitFullScreen()},e.extend(e,t)}(OpenSeadragon),function(e){e.EventSource=function(){this.events={}},e.EventSource.prototype={addOnceHandler:function(e,t,n,i){var r=this;i=i||1;var o=0,a=function(n){o++,o===i&&r.removeHandler(e,a),t(n)};this.addHandler(e,a,n)},addHandler:function(t,n,i){var r=this.events[t];r||(this.events[t]=r=[]),n&&e.isFunction(n)&&(r[r.length]={handler:n,userData:i||null})},removeHandler:function(t,n){var i,r=this.events[t],o=[];if(r&&e.isArray(r)){for(i=0;i<r.length;i++)r[i].handler!==n&&o.push(r[i]);this.events[t]=o}},removeAllHandlers:function(e){if(e)this.events[e]=[];else for(var t in this.events)this.events[t]=[]},getHandler:function(e){var t=this.events[e];return t&&t.length?(t=1===t.length?[t[0]]:Array.apply(null,t),function(e,n){var i,r=t.length;for(i=0;i<r;i++)t[i]&&(n.eventSource=e,n.userData=t[i].userData,t[i].handler(n))}):null},raiseEvent:function(e,t){var n=this.getHandler(e);n&&(t||(t={}),n(this,t))}}}(OpenSeadragon),function(e){function clearTrackedPointers(t){var i,r=n[t.hash],o=r.activePointersLists.length;for(i=0;i<o;i++)r.activePointersLists[i].captureCount>0&&(e.removeEvent(e.MouseTracker.captureElement,"mousemove",r.mousemovecaptured,!0),e.removeEvent(e.MouseTracker.captureElement,"mouseup",r.mouseupcaptured,!0),e.removeEvent(e.MouseTracker.captureElement,e.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",r.pointermovecaptured,!0),e.removeEvent(e.MouseTracker.captureElement,e.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",r.pointerupcaptured,!0),e.removeEvent(e.MouseTracker.captureElement,"touchmove",r.touchmovecaptured,!0),e.removeEvent(e.MouseTracker.captureElement,"touchend",r.touchendcaptured,!0),r.activePointersLists[i].captureCount=0);for(i=0;i<o;i++)r.activePointersLists.pop()}function startTracking(t){var i,r,o=n[t.hash];if(!o.tracking){for(r=0;r<e.MouseTracker.subscribeEvents.length;r++)i=e.MouseTracker.subscribeEvents[r],e.addEvent(t.element,i,o[i],!1);clearTrackedPointers(t),o.tracking=!0}}function stopTracking(t){var i,r,o=n[t.hash];if(o.tracking){for(r=0;r<e.MouseTracker.subscribeEvents.length;r++)i=e.MouseTracker.subscribeEvents[r],e.removeEvent(t.element,i,o[i],!1);clearTrackedPointers(t),o.tracking=!1}}function getCaptureEventParams(t,i){var r=n[t.hash];if("pointerevent"===i)return{upName:e.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",upHandler:r.pointerupcaptured,moveName:e.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",moveHandler:r.pointermovecaptured};if("mouse"===i)return{upName:"mouseup",upHandler:r.mouseupcaptured,moveName:"mousemove",moveHandler:r.mousemovecaptured};if("touch"===i)return{upName:"touchend",upHandler:r.touchendcaptured,moveName:"touchmove",moveHandler:r.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function capturePointer(t,n,r){var o,a=t.getActivePointersListByType(n);a.captureCount+=r||1,1===a.captureCount&&(e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?t.element.setCapture(!0):(o=getCaptureEventParams(t,e.MouseTracker.havePointerEvents?"pointerevent":n),i&&canAccessEvents(window.top)&&e.addEvent(window.top,o.upName,o.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,o.upName,o.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,o.moveName,o.moveHandler,!0)))}function releasePointer(t,n,r){var o,a=t.getActivePointersListByType(n);a.captureCount-=r||1,0===a.captureCount&&(e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?t.element.releaseCapture():(o=getCaptureEventParams(t,e.MouseTracker.havePointerEvents?"pointerevent":n),i&&canAccessEvents(window.top)&&e.removeEvent(window.top,o.upName,o.upHandler,!0),e.removeEvent(e.MouseTracker.captureElement,o.moveName,o.moveHandler,!0),e.removeEvent(e.MouseTracker.captureElement,o.upName,o.upHandler,!0)))}function getPointerType(t){var n;if(e.MouseTracker.unprefixedPointerEvents)n=t.pointerType;else switch(t.pointerType){case 2:n="touch";break;case 3:n="pen";break;case 4:n="mouse";break;default:n=""}return n}function getMouseAbsolute(t){return e.getMousePosition(t)}function getMouseRelative(e,t){return getPointRelativeToAbsolute(getMouseAbsolute(e),t)}function getPointRelativeToAbsolute(t,n){var i=e.getElementOffset(n);return t.minus(i)}function getCenterPoint(t,n){return new e.Point((t.x+n.x)/2,(t.y+n.y)/2)}function onClick(t,n){t.clickHandler&&e.cancelEvent(n)}function onDblClick(t,n){t.dblClickHandler&&e.cancelEvent(n)}function onKeyDown(t,n){var i;t.keyDownHandler&&(n=e.getEvent(n),i=t.keyDownHandler({eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData}),i||e.cancelEvent(n))}function onKeyUp(t,n){var i;t.keyUpHandler&&(n=e.getEvent(n),i=t.keyUpHandler({eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData}),i||e.cancelEvent(n))}function onKeyPress(t,n){var i;t.keyHandler&&(n=e.getEvent(n),i=t.keyHandler({eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData}),i||e.cancelEvent(n))}function onFocus(t,n){var i;t.focusHandler&&(n=e.getEvent(n),i=t.focusHandler({eventSource:t,originalEvent:n,preventDefaultAction:!1,userData:t.userData}),i===!1&&e.cancelEvent(n))}function onBlur(t,n){var i;t.blurHandler&&(n=e.getEvent(n),i=t.blurHandler({eventSource:t,originalEvent:n,preventDefaultAction:!1,userData:t.userData}),i===!1&&e.cancelEvent(n))}function onWheel(e,t){handleWheelEvent(e,t,t)}function onMouseWheel(t,n){n=e.getEvent(n);var i={target:n.target||n.srcElement,type:"wheel",shiftKey:n.shiftKey||!1,clientX:n.clientX,clientY:n.clientY,pageX:n.pageX?n.pageX:n.clientX,pageY:n.pageY?n.pageY:n.clientY,deltaMode:"MozMousePixelScroll"==n.type?0:1,deltaX:0,deltaZ:0};"mousewheel"==e.MouseTracker.wheelEventName?i.deltaY=-1/e.DEFAULT_SETTINGS.pixelsPerWheelLine*n.wheelDelta:i.deltaY=n.detail,handleWheelEvent(t,i,n)}function handleWheelEvent(t,n,i){var r,o=0;o=n.deltaY<0?1:-1,t.scrollHandler&&(r=t.scrollHandler({eventSource:t,pointerType:"mouse",position:getMouseRelative(n,t.element),scroll:o,shift:n.shiftKey,isTouchEvent:!1,originalEvent:i,preventDefaultAction:!1,userData:t.userData}),r===!1&&e.cancelEvent(i))}function isParentChild(e,t){if(e===t)return!1;for(;t&&t!==e;)t=t.parentNode;return t===e}function onMouseEnter(t,n){n=e.getEvent(n),handleMouseEnter(t,n)}function onMouseOver(t,n){n=e.getEvent(n),n.currentTarget===n.relatedTarget||isParentChild(n.currentTarget,n.relatedTarget)||handleMouseEnter(t,n)}function handleMouseEnter(t,n){var i={id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:getMouseAbsolute(n),currentTime:e.now()};updatePointersEnter(t,n,[i])}function onMouseLeave(t,n){n=e.getEvent(n),handleMouseExit(t,n)}function onMouseOut(t,n){n=e.getEvent(n),n.currentTarget===n.relatedTarget||isParentChild(n.currentTarget,n.relatedTarget)||handleMouseExit(t,n)}function handleMouseExit(t,n){var i={id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:getMouseAbsolute(n),currentTime:e.now()};updatePointersExit(t,n,[i])}function getStandardizedButton(t){return e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?1===t?0:2===t?2:4===t?1:-1:t}function onMouseDown(t,n){var i;n=e.getEvent(n),i={id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:getMouseAbsolute(n),currentTime:e.now()},updatePointersDown(t,n,[i],getStandardizedButton(n.button))&&(e.stopEvent(n),capturePointer(t,"mouse")),(t.clickHandler||t.dblClickHandler||t.pressHandler||t.dragHandler||t.dragEndHandler)&&e.cancelEvent(n)}function onMouseUp(e,t){handleMouseUp(e,t)}function onMouseUpCaptured(t,n){handleMouseUp(t,n),e.stopEvent(n)}function handleMouseUp(t,n){var i;n=e.getEvent(n),i={id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:getMouseAbsolute(n),currentTime:e.now()},updatePointersUp(t,n,[i],getStandardizedButton(n.button))&&releasePointer(t,"mouse")}function onMouseMove(e,t){handleMouseMove(e,t)}function onMouseMoveCaptured(t,n){handleMouseMove(t,n),e.stopEvent(n)}function handleMouseMove(t,n){var i;n=e.getEvent(n),i={id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:getMouseAbsolute(n),currentTime:e.now()},updatePointersMove(t,n,[i])}function abortTouchContacts(e,t,n){var i,r=n.getLength(),o=[];for(i=0;i<r;i++)o.push(n.getByIndex(i));o.length>0&&(updatePointersUp(e,t,o,0),n.captureCount=1,releasePointer(e,"touch"),updatePointersExit(e,t,o))}function onTouchStart(n,i){var r,o,a,s,l=i.changedTouches.length,c=[],u=n.getActivePointersListByType("touch");for(r=e.now(),u.getLength()>i.touches.length-l&&(e.console.warn("Tracked touch contact count doesn't match event.touches.length. Removing all tracked touch pointers."),abortTouchContacts(n,i,u)),o=0;o<l;o++)c.push({id:i.changedTouches[o].identifier,type:"touch",currentPos:getMouseAbsolute(i.changedTouches[o]),currentTime:r});for(updatePointersEnter(n,i,c),o=0;o<t.length;o++)if(t[o]!==n&&t[o].isTracking()&&isParentChild(t[o].element,n.element)){for(s=[],a=0;a<l;a++)s.push({id:i.changedTouches[a].identifier,type:"touch",currentPos:getMouseAbsolute(i.changedTouches[a]),currentTime:r});updatePointersEnter(t[o],i,s)}updatePointersDown(n,i,c,0)&&(e.stopEvent(i),capturePointer(n,"touch",l)),e.cancelEvent(i)}function onTouchEnd(e,t){handleTouchEnd(e,t)}function onTouchEndCaptured(t,n){handleTouchEnd(t,n),e.stopEvent(n)}function handleTouchEnd(n,i){var r,o,a,s,l=i.changedTouches.length,c=[];for(r=e.now(),o=0;o<l;o++)c.push({id:i.changedTouches[o].identifier,type:"touch",currentPos:getMouseAbsolute(i.changedTouches[o]),currentTime:r});for(updatePointersUp(n,i,c,0)&&releasePointer(n,"touch",l),updatePointersExit(n,i,c),o=0;o<t.length;o++)if(t[o]!==n&&t[o].isTracking()&&isParentChild(t[o].element,n.element)){for(s=[],a=0;a<l;a++)s.push({id:i.changedTouches[a].identifier,type:"touch",currentPos:getMouseAbsolute(i.changedTouches[a]),currentTime:r});updatePointersExit(t[o],i,s)}e.cancelEvent(i)}function onTouchMove(e,t){handleTouchMove(e,t)}function onTouchMoveCaptured(t,n){handleTouchMove(t,n),e.stopEvent(n)}function handleTouchMove(t,n){var i,r=n.changedTouches.length,o=[];for(i=0;i<r;i++)o.push({id:n.changedTouches[i].identifier,type:"touch",currentPos:getMouseAbsolute(n.changedTouches[i]),currentTime:e.now()});updatePointersMove(t,n,o),e.cancelEvent(n)}function onTouchCancel(e,t){var n=(t.changedTouches.length,e.getActivePointersListByType("touch"));abortTouchContacts(e,t,n)}function onGestureStart(e,t){return t.stopPropagation(),t.preventDefault(),!1}function onGestureChange(e,t){return t.stopPropagation(),t.preventDefault(),!1}function onPointerOver(t,n){var i;n.currentTarget===n.relatedTarget||isParentChild(n.currentTarget,n.relatedTarget)||(i={id:n.pointerId,type:getPointerType(n),isPrimary:n.isPrimary,currentPos:getMouseAbsolute(n),currentTime:e.now()},updatePointersEnter(t,n,[i]))}function onPointerOut(t,n){var i;n.currentTarget===n.relatedTarget||isParentChild(n.currentTarget,n.relatedTarget)||(i={id:n.pointerId,type:getPointerType(n),isPrimary:n.isPrimary,currentPos:getMouseAbsolute(n),currentTime:e.now()},updatePointersExit(t,n,[i]))}function onPointerDown(t,n){var i;i={id:n.pointerId,type:getPointerType(n),isPrimary:n.isPrimary,currentPos:getMouseAbsolute(n),currentTime:e.now()},updatePointersDown(t,n,[i],n.button)&&(e.stopEvent(n),capturePointer(t,i.type)),(t.clickHandler||t.dblClickHandler||t.pressHandler||t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.cancelEvent(n)}function onPointerUp(e,t){handlePointerUp(e,t)}function onPointerUpCaptured(t,n){var i=t.getActivePointersListByType(getPointerType(n));i.getById(n.pointerId)&&handlePointerUp(t,n),e.stopEvent(n)}function handlePointerUp(t,n){var i;i={id:n.pointerId,type:getPointerType(n),isPrimary:n.isPrimary,currentPos:getMouseAbsolute(n),currentTime:e.now()},updatePointersUp(t,n,[i],n.button)&&releasePointer(t,i.type)}function onPointerMove(e,t){handlePointerMove(e,t)}function onPointerMoveCaptured(t,n){var i=t.getActivePointersListByType(getPointerType(n));i.getById(n.pointerId)&&handlePointerMove(t,n),e.stopEvent(n)}function handlePointerMove(t,n){var i;i={id:n.pointerId,type:getPointerType(n),isPrimary:n.isPrimary,currentPos:getMouseAbsolute(n),currentTime:e.now()},updatePointersMove(t,n,[i])}function onPointerCancel(e,t){var n;n={id:t.pointerId,type:getPointerType(t)},updatePointersCancel(e,t,[n])}function startTrackingPointer(e,t){return t.hasOwnProperty("isPrimary")||(0===e.getLength()?t.isPrimary=!0:t.isPrimary=!1),t.speed=0,t.direction=0,t.contactPos=t.currentPos,t.contactTime=t.currentTime,t.lastPos=t.currentPos,t.lastTime=t.currentTime,e.add(t)}function stopTrackingPointer(e,t){var n,i;return e.getById(t.id)?(n=e.removeById(t.id),t.hasOwnProperty("isPrimary")||(i=e.getPrimary(),i||(i=e.getByIndex(0),i&&(i.isPrimary=!0)))):n=e.getLength(),n}function updatePointersEnter(t,n,i){var r,o,a,s,l=t.getActivePointersListByType(i[0].type),c=i.length;for(r=0;r<c;r++)o=i[r],a=l.getById(o.id),a?(a.insideElement=!0,a.lastPos=a.currentPos,a.lastTime=a.currentTime,a.currentPos=o.currentPos,a.currentTime=o.currentTime,o=a):(o.captured=!1,o.insideElementPressed=!1,o.insideElement=!0,startTrackingPointer(l,o)),t.enterHandler&&(s=t.enterHandler({eventSource:t,pointerType:o.type,position:getPointRelativeToAbsolute(o.currentPos,t.element),buttons:l.buttons,pointers:t.getActivePointerCount(),insideElementPressed:o.insideElementPressed,buttonDownAny:0!==l.buttons,isTouchEvent:"touch"===o.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData}),s===!1&&e.cancelEvent(n))}function updatePointersExit(t,i,r){var o,a,s,l,c=(n[t.hash],t.getActivePointersListByType(r[0].type)),u=r.length;for(o=0;o<u;o++)a=r[o],s=c.getById(a.id),s&&(s.captured?(s.insideElement=!1,s.lastPos=s.currentPos,s.lastTime=s.currentTime,s.currentPos=a.currentPos,s.currentTime=a.currentTime):stopTrackingPointer(c,s),a=s),t.exitHandler&&(l=t.exitHandler({eventSource:t,pointerType:a.type,position:getPointRelativeToAbsolute(a.currentPos,t.element),buttons:c.buttons,pointers:t.getActivePointerCount(),insideElementPressed:!!s&&s.insideElementPressed,buttonDownAny:0!==c.buttons,isTouchEvent:"touch"===a.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData}),l===!1&&e.cancelEvent(i))}function updatePointersDown(t,i,r,o){var a,s,l,c,u=n[t.hash],d=t.getActivePointersListByType(r[0].type),h=r.length;if("undefined"!=typeof i.buttons?d.buttons=i.buttons:e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?0===o?d.buttons+=1:1===o?d.buttons+=4:2===o?d.buttons+=2:3===o?d.buttons+=8:4===o?d.buttons+=16:5===o&&(d.buttons+=32):0===o?d.buttons|=1:1===o?d.buttons|=4:2===o?d.buttons|=2:3===o?d.buttons|=8:4===o?d.buttons|=16:5===o&&(d.buttons|=32),0!==o)return t.nonPrimaryPressHandler&&(a=t.nonPrimaryPressHandler({eventSource:t,pointerType:r[0].type,position:getPointRelativeToAbsolute(r[0].currentPos,t.element),button:o,buttons:d.buttons,isTouchEvent:"touch"===r[0].type,originalEvent:i,preventDefaultAction:!1,userData:t.userData}),a===!1&&e.cancelEvent(i)),!1;for(s=0;s<h;s++)l=r[s],c=d.getById(l.id),c?(c.captured=!0,c.insideElementPressed=!0,c.insideElement=!0,c.contactPos=l.currentPos,c.contactTime=l.currentTime,c.lastPos=c.currentPos,c.lastTime=c.currentTime,c.currentPos=l.currentPos,c.currentTime=l.currentTime,l=c):(l.captured=!0,l.insideElementPressed=!0,l.insideElement=!0,startTrackingPointer(d,l)),d.contacts++,(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.addPoint(t,l),1===d.contacts?t.pressHandler&&(a=t.pressHandler({eventSource:t,pointerType:l.type,position:getPointRelativeToAbsolute(l.contactPos,t.element),buttons:d.buttons,isTouchEvent:"touch"===l.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData}),a===!1&&e.cancelEvent(i)):2===d.contacts&&t.pinchHandler&&"touch"===l.type&&(u.pinchGPoints=d.asArray(),u.lastPinchDist=u.currentPinchDist=u.pinchGPoints[0].currentPos.distanceTo(u.pinchGPoints[1].currentPos),u.lastPinchCenter=u.currentPinchCenter=getCenterPoint(u.pinchGPoints[0].currentPos,u.pinchGPoints[1].currentPos));return!0}function updatePointersUp(t,i,r,o){var a,s,l,c,u,d,h,m=n[t.hash],p=t.getActivePointersListByType(r[0].type),f=r.length,g=!1,v=!1;if("undefined"!=typeof i.buttons?p.buttons=i.buttons:e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?0===o?p.buttons-=1:1===o?p.buttons-=4:2===o?p.buttons-=2:3===o?p.buttons-=8:4===o?p.buttons-=16:5===o&&(p.buttons-=32):0===o?p.buttons^=-2:1===o?p.buttons^=-5:2===o?p.buttons^=-3:3===o?p.buttons^=-9:4===o?p.buttons^=-17:5===o&&(p.buttons^=-33),0!==o)return t.nonPrimaryReleaseHandler&&(a=t.nonPrimaryReleaseHandler({eventSource:t,pointerType:r[0].type,position:getPointRelativeToAbsolute(r[0].currentPos,t.element),button:o,buttons:p.buttons,isTouchEvent:"touch"===r[0].type,originalEvent:i,preventDefaultAction:!1,userData:t.userData}),a===!1&&e.cancelEvent(i)),!1;for(c=0;c<f;c++)u=r[c],d=p.getById(u.id),d&&(d.captured&&(d.captured=!1,g=!0,v=!0),d.lastPos=d.currentPos,d.lastTime=d.currentTime,d.currentPos=u.currentPos,d.currentTime=u.currentTime,d.insideElement||stopTrackingPointer(p,d),s=d.currentPos,l=d.currentTime,v?(p.contacts--,(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.removePoint(t,d),0===p.contacts?(t.releaseHandler&&(a=t.releaseHandler({eventSource:t,pointerType:d.type,position:getPointRelativeToAbsolute(s,t.element),buttons:p.buttons,insideElementPressed:d.insideElementPressed,insideElementReleased:d.insideElement,isTouchEvent:"touch"===d.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData}),a===!1&&e.cancelEvent(i)),t.dragEndHandler&&!d.currentPos.equals(d.contactPos)&&(a=t.dragEndHandler({eventSource:t,pointerType:d.type,position:getPointRelativeToAbsolute(d.currentPos,t.element),speed:d.speed,direction:d.direction,shift:i.shiftKey,isTouchEvent:"touch"===d.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData}),a===!1&&e.cancelEvent(i)),(t.clickHandler||t.dblClickHandler)&&d.insideElement&&(h=l-d.contactTime<=t.clickTimeThreshold&&d.contactPos.distanceTo(s)<=t.clickDistThreshold,t.clickHandler&&(a=t.clickHandler({eventSource:t,pointerType:d.type,position:getPointRelativeToAbsolute(d.currentPos,t.element),quick:h,shift:i.shiftKey,isTouchEvent:"touch"===d.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData}),a===!1&&e.cancelEvent(i)),t.dblClickHandler&&h&&(p.clicks++,1===p.clicks?(m.lastClickPos=s,m.dblClickTimeOut=setTimeout(function(){p.clicks=0},t.dblClickTimeThreshold)):2===p.clicks&&(clearTimeout(m.dblClickTimeOut),p.clicks=0,m.lastClickPos.distanceTo(s)<=t.dblClickDistThreshold&&(a=t.dblClickHandler({eventSource:t,pointerType:d.type,position:getPointRelativeToAbsolute(d.currentPos,t.element),shift:i.shiftKey,isTouchEvent:"touch"===d.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData}),a===!1&&e.cancelEvent(i)),m.lastClickPos=null)))):2===p.contacts&&t.pinchHandler&&"touch"===d.type&&(m.pinchGPoints=p.asArray(),m.lastPinchDist=m.currentPinchDist=m.pinchGPoints[0].currentPos.distanceTo(m.pinchGPoints[1].currentPos),m.lastPinchCenter=m.currentPinchCenter=getCenterPoint(m.pinchGPoints[0].currentPos,m.pinchGPoints[1].currentPos))):t.releaseHandler&&(a=t.releaseHandler({eventSource:t,pointerType:d.type,position:getPointRelativeToAbsolute(s,t.element),buttons:p.buttons,insideElementPressed:d.insideElementPressed,insideElementReleased:d.insideElement,isTouchEvent:"touch"===d.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData}),a===!1&&e.cancelEvent(i)));return g}function updatePointersMove(t,i,r){var o,a,s,l,c,u,d=n[t.hash],h=t.getActivePointersListByType(r[0].type),m=r.length;for("undefined"!=typeof i.buttons&&(h.buttons=i.buttons),o=0;o<m;o++)a=r[o],s=h.getById(a.id),s?(a.hasOwnProperty("isPrimary")&&(s.isPrimary=a.isPrimary),s.lastPos=s.currentPos,s.lastTime=s.currentTime,s.currentPos=a.currentPos,s.currentTime=a.currentTime):(a.captured=!1,a.insideElementPressed=!1,a.insideElement=!0,startTrackingPointer(h,a));t.stopHandler&&"mouse"===r[0].type&&(clearTimeout(t.stopTimeOut),t.stopTimeOut=setTimeout(function(){handlePointerStop(t,i,r[0].type)},t.stopDelay)),0===h.contacts?t.moveHandler&&(u=t.moveHandler({eventSource:t,pointerType:r[0].type,position:getPointRelativeToAbsolute(r[0].currentPos,t.element),buttons:h.buttons,isTouchEvent:"touch"===r[0].type,originalEvent:i,preventDefaultAction:!1,userData:t.userData}),u===!1&&e.cancelEvent(i)):1===h.contacts?(t.moveHandler&&(s=h.asArray()[0],u=t.moveHandler({eventSource:t,pointerType:s.type,position:getPointRelativeToAbsolute(s.currentPos,t.element),buttons:h.buttons,isTouchEvent:"touch"===s.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData}),u===!1&&e.cancelEvent(i)),t.dragHandler&&(s=h.asArray()[0],c=s.currentPos.minus(s.lastPos),u=t.dragHandler({eventSource:t,pointerType:s.type,position:getPointRelativeToAbsolute(s.currentPos,t.element),buttons:h.buttons,delta:c,speed:s.speed,direction:s.direction,shift:i.shiftKey,isTouchEvent:"touch"===s.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData}),u===!1&&e.cancelEvent(i))):2===h.contacts&&(t.moveHandler&&(l=h.asArray(),u=t.moveHandler({eventSource:t,pointerType:l[0].type,position:getPointRelativeToAbsolute(getCenterPoint(l[0].currentPos,l[1].currentPos),t.element),buttons:h.buttons,isTouchEvent:"touch"===l[0].type,originalEvent:i,preventDefaultAction:!1,userData:t.userData}),u===!1&&e.cancelEvent(i)),t.pinchHandler&&"touch"===r[0].type&&(c=d.pinchGPoints[0].currentPos.distanceTo(d.pinchGPoints[1].currentPos),c!=d.currentPinchDist&&(d.lastPinchDist=d.currentPinchDist,d.currentPinchDist=c,d.lastPinchCenter=d.currentPinchCenter,d.currentPinchCenter=getCenterPoint(d.pinchGPoints[0].currentPos,d.pinchGPoints[1].currentPos),u=t.pinchHandler({eventSource:t,pointerType:"touch",gesturePoints:d.pinchGPoints,lastCenter:getPointRelativeToAbsolute(d.lastPinchCenter,t.element),center:getPointRelativeToAbsolute(d.currentPinchCenter,t.element),lastDistance:d.lastPinchDist,distance:d.currentPinchDist,shift:i.shiftKey,originalEvent:i,preventDefaultAction:!1,userData:t.userData}),u===!1&&e.cancelEvent(i))))}function updatePointersCancel(e,t,n){updatePointersUp(e,t,n,0),updatePointersExit(e,t,n)}function handlePointerStop(e,t,n){e.stopHandler&&e.stopHandler({eventSource:e,pointerType:n,position:getMouseRelative(t,e.element),buttons:e.getActivePointersListByType(n).buttons,isTouchEvent:"touch"===n,originalEvent:t,preventDefaultAction:!1,userData:e.userData})}function canAccessEvents(e){try{return e.addEventListener&&e.removeEventListener}catch(e){return!1}}var t=[],n={};e.MouseTracker=function(i){t.push(this);var r=arguments;e.isPlainObject(i)||(i={element:r[0],clickTimeThreshold:r[1],clickDistThreshold:r[2]}),this.hash=Math.random(),this.element=e.getElement(i.element),this.clickTimeThreshold=i.clickTimeThreshold||e.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=i.clickDistThreshold||e.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=i.dblClickTimeThreshold||e.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=i.dblClickDistThreshold||e.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=i.userData||null,this.stopDelay=i.stopDelay||50,this.enterHandler=i.enterHandler||null,this.exitHandler=i.exitHandler||null,this.pressHandler=i.pressHandler||null,this.nonPrimaryPressHandler=i.nonPrimaryPressHandler||null,this.releaseHandler=i.releaseHandler||null,this.nonPrimaryReleaseHandler=i.nonPrimaryReleaseHandler||null,this.moveHandler=i.moveHandler||null,this.scrollHandler=i.scrollHandler||null,this.clickHandler=i.clickHandler||null,this.dblClickHandler=i.dblClickHandler||null,this.dragHandler=i.dragHandler||null,this.dragEndHandler=i.dragEndHandler||null,this.pinchHandler=i.pinchHandler||null,this.stopHandler=i.stopHandler||null,this.keyDownHandler=i.keyDownHandler||null,this.keyUpHandler=i.keyUpHandler||null,this.keyHandler=i.keyHandler||null,this.focusHandler=i.focusHandler||null,this.blurHandler=i.blurHandler||null;var o=this;n[this.hash]={click:function(e){onClick(o,e)},dblclick:function(e){onDblClick(o,e)},keydown:function(e){onKeyDown(o,e)},keyup:function(e){onKeyUp(o,e)},keypress:function(e){onKeyPress(o,e)},focus:function(e){onFocus(o,e)},blur:function(e){onBlur(o,e)},wheel:function(e){onWheel(o,e)},mousewheel:function(e){onMouseWheel(o,e)},DOMMouseScroll:function(e){onMouseWheel(o,e)},MozMousePixelScroll:function(e){onMouseWheel(o,e)},mouseenter:function(e){onMouseEnter(o,e)},mouseleave:function(e){onMouseLeave(o,e)},mouseover:function(e){onMouseOver(o,e)},mouseout:function(e){onMouseOut(o,e)},mousedown:function(e){onMouseDown(o,e)},mouseup:function(e){onMouseUp(o,e)},mouseupcaptured:function(e){onMouseUpCaptured(o,e)},mousemove:function(e){onMouseMove(o,e)},mousemovecaptured:function(e){onMouseMoveCaptured(o,e)},touchstart:function(e){onTouchStart(o,e)},touchend:function(e){onTouchEnd(o,e)},touchendcaptured:function(e){onTouchEndCaptured(o,e)},touchmove:function(e){onTouchMove(o,e)},touchmovecaptured:function(e){onTouchMoveCaptured(o,e)},touchcancel:function(e){onTouchCancel(o,e)},gesturestart:function(e){onGestureStart(o,e)},gesturechange:function(e){onGestureChange(o,e)},pointerover:function(e){onPointerOver(o,e)},MSPointerOver:function(e){onPointerOver(o,e)},pointerout:function(e){onPointerOut(o,e)},MSPointerOut:function(e){onPointerOut(o,e)},pointerdown:function(e){onPointerDown(o,e)},MSPointerDown:function(e){onPointerDown(o,e)},pointerup:function(e){onPointerUp(o,e)},MSPointerUp:function(e){onPointerUp(o,e)},pointermove:function(e){onPointerMove(o,e)},MSPointerMove:function(e){onPointerMove(o,e)},pointercancel:function(e){onPointerCancel(o,e)},MSPointerCancel:function(e){onPointerCancel(o,e)},pointerupcaptured:function(e){onPointerUpCaptured(o,e)},pointermovecaptured:function(e){onPointerMoveCaptured(o,e)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null},i.startDisabled||this.setTracking(!0)},e.MouseTracker.prototype={destroy:function(){var e;for(stopTracking(this),this.element=null,e=0;e<t.length;e++)if(t[e]===this){t.splice(e,1);break}n[this.hash]=null,delete n[this.hash]},isTracking:function(){return n[this.hash].tracking},setTracking:function(e){return e?startTracking(this):stopTracking(this),this},getActivePointersListByType:function(t){var i,r,o=n[this.hash],a=o.activePointersLists.length;for(i=0;i<a;i++)if(o.activePointersLists[i].type===t)return o.activePointersLists[i];return r=new e.MouseTracker.GesturePointList(t),o.activePointersLists.push(r),r},getActivePointerCount:function(){var e,t=n[this.hash],i=t.activePointersLists.length,r=0;for(e=0;e<i;e++)r+=t.activePointersLists[e].getLength();return r},enterHandler:function(){},exitHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}},e.MouseTracker.gesturePointVelocityTracker=function(){var t=[],n=0,i=0,r=function(e,t){return e.hash.toString()+t.type+t.id.toString()},o=function(){var n,r,o,a,s,l,c=t.length,u=e.now();for(a=u-i,i=u,n=0;n<c;n++)r=t[n],o=r.gPoint,o.direction=Math.atan2(o.currentPos.y-r.lastPos.y,o.currentPos.x-r.lastPos.x),s=r.lastPos.distanceTo(o.currentPos),r.lastPos=o.currentPos,l=1e3*s/(a+1),o.speed=.75*l+.25*o.speed},a=function(a,s){var l=r(a,s);t.push({guid:l,gPoint:s,lastPos:s.currentPos}),1===t.length&&(i=e.now(),n=window.setInterval(o,50))},s=function(e,i){var o,a=r(e,i),s=t.length;for(o=0;o<s;o++)if(t[o].guid===a){t.splice(o,1),s--,0===s&&window.clearInterval(n);break}};return{addPoint:a,removePoint:s}}(),e.MouseTracker.captureElement=document,e.MouseTracker.wheelEventName=e.Browser.vendor==e.BROWSERS.IE&&e.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",e.MouseTracker.supportsMouseCapture=function(){var t=document.createElement("div");return e.isFunction(t.setCapture)&&e.isFunction(t.releaseCapture)}(),e.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur",e.MouseTracker.wheelEventName],"DOMMouseScroll"==e.MouseTracker.wheelEventName&&e.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent&&(window.navigator.pointerEnabled||e.Browser.vendor!==e.BROWSERS.IE)?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),e.MouseTracker.unprefixedPointerEvents=!0,navigator.maxTouchPoints?e.MouseTracker.maxTouchPoints=navigator.maxTouchPoints:e.MouseTracker.maxTouchPoints=0,e.MouseTracker.haveMouseEnter=!1):window.MSPointerEvent&&window.navigator.msPointerEnabled?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("MSPointerOver","MSPointerOut","MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"),e.MouseTracker.unprefixedPointerEvents=!1,navigator.msMaxTouchPoints?e.MouseTracker.maxTouchPoints=navigator.msMaxTouchPoints:e.MouseTracker.maxTouchPoints=0,e.MouseTracker.haveMouseEnter=!1):(e.MouseTracker.havePointerEvents=!1,
e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?(e.MouseTracker.subscribeEvents.push("mouseenter","mouseleave"),e.MouseTracker.haveMouseEnter=!0):(e.MouseTracker.subscribeEvents.push("mouseover","mouseout"),e.MouseTracker.haveMouseEnter=!1),e.MouseTracker.subscribeEvents.push("mousedown","mouseup","mousemove"),"ontouchstart"in window&&e.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&e.MouseTracker.subscribeEvents.push("gesturestart","gesturechange"),e.MouseTracker.mousePointerId="legacy-mouse",e.MouseTracker.maxTouchPoints=10),e.MouseTracker.GesturePointList=function(e){this._gPoints=[],this.type=e,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},e.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(e){return this._gPoints.push(e)},removeById:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].id===e){this._gPoints.splice(t,1);break}return this._gPoints.length},getByIndex:function(e){return e<this._gPoints.length?this._gPoints[e]:null},getById:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].id===e)return this._gPoints[t];return null},getPrimary:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].isPrimary)return this._gPoints[t];return null}};var i=function(){try{return window.self!==window.top}catch(e){return!0}}()}(OpenSeadragon),function(e){e.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},e.Control=function(t,n,i){var r=t.parentNode;"number"==typeof n&&(e.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),n={anchor:n}),n.attachToViewer="undefined"==typeof n.attachToViewer||n.attachToViewer,this.autoFade="undefined"==typeof n.autoFade||n.autoFade,this.element=t,this.anchor=n.anchor,this.container=i,this.anchor==e.ControlAnchor.ABSOLUTE?(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"==typeof n.top?n.top+"px":n.top,this.wrapper.style.left="number"==typeof n.left?n.left+"px":n.left,this.wrapper.style.height="number"==typeof n.height?n.height+"px":n.height,this.wrapper.style.width="number"==typeof n.width?n.width+"px":n.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor==e.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),n.attachToViewer?this.anchor==e.ControlAnchor.TOP_RIGHT||this.anchor==e.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):r.appendChild(this.wrapper)},e.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!=this.wrapper.style.display},setVisible:function(t){this.wrapper.style.display=t?this.anchor==e.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(t){this.element[e.SIGNAL]&&e.Browser.vendor==e.BROWSERS.IE?e.setElementOpacity(this.element,t,!0):e.setElementOpacity(this.wrapper,t,!0)}}}(OpenSeadragon),function(e){function getControlIndex(e,t){var n,i=e.controls;for(n=i.length-1;n>=0;n--)if(i[n].element==t)return n;return-1}e.ControlDock=function(t){var n,i,r=["topleft","topright","bottomright","bottomleft"];for(e.extend(!0,this,{id:"controldock-"+e.now()+"-"+Math.floor(1e6*Math.random()),container:e.makeNeutralElement("div"),controls:[]},t),this.container.onsubmit=function(){return!1},this.element&&(this.element=e.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),i=0;i<r.length;i++)n=r[i],this.controls[n]=e.makeNeutralElement("div"),this.controls[n].style.position="absolute",n.match("left")&&(this.controls[n].style.left="0px"),n.match("right")&&(this.controls[n].style.right="0px"),n.match("top")&&(this.controls[n].style.top="0px"),n.match("bottom")&&(this.controls[n].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},e.ControlDock.prototype={addControl:function(t,n){t=e.getElement(t);var i=null;if(!(getControlIndex(this,t)>=0)){switch(n.anchor){case e.ControlAnchor.TOP_RIGHT:i=this.controls.topright,t.style.position="relative",t.style.paddingRight="0px",t.style.paddingTop="0px";break;case e.ControlAnchor.BOTTOM_RIGHT:i=this.controls.bottomright,t.style.position="relative",t.style.paddingRight="0px",t.style.paddingBottom="0px";break;case e.ControlAnchor.BOTTOM_LEFT:i=this.controls.bottomleft,t.style.position="relative",t.style.paddingLeft="0px",t.style.paddingBottom="0px";break;case e.ControlAnchor.TOP_LEFT:i=this.controls.topleft,t.style.position="relative",t.style.paddingLeft="0px",t.style.paddingTop="0px";break;case e.ControlAnchor.ABSOLUTE:i=this.container,t.style.margin="0px",t.style.padding="0px";break;default:case e.ControlAnchor.NONE:i=this.container,t.style.margin="0px",t.style.padding="0px"}this.controls.push(new e.Control(t,n,i)),t.style.display="inline-block"}},removeControl:function(t){t=e.getElement(t);var n=getControlIndex(this,t);return n>=0&&(this.controls[n].destroy(),this.controls.splice(n,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var e;for(e=this.controls.length-1;e>=0;e--)if(this.controls[e].isVisible())return!0;return!1},setControlsEnabled:function(e){var t;for(t=this.controls.length-1;t>=0;t--)this.controls[t].setVisible(e);return this}}}(OpenSeadragon),function(e){e.Placement=e.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(OpenSeadragon),function(e){function _getSafeElemSize(t){return t=e.getElement(t),new e.Point(0===t.clientWidth?1:t.clientWidth,0===t.clientHeight?1:t.clientHeight)}function getTileSourceImplementation(t,n,i,r){function waitUntilReady(e,t){e.ready?i(e):(e.addHandler("ready",function(){i(e)}),e.addHandler("open-failed",function(e){r({message:e.message,source:t})}))}var o=t;"string"==e.type(n)&&(n.match(/\s*<.*/)?n=e.parseXml(n):n.match(/\s*[\{\[].*/)&&(n=e.parseJSON(n))),setTimeout(function(){if("string"==e.type(n))n=new e.TileSource({url:n,crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,useCanvas:t.useCanvas,success:function(e){i(e.tileSource)}}),n.addHandler("open-failed",function(e){r(e)});else if(e.isPlainObject(n)||n.nodeType)if(!n.crossOriginPolicy&&t.crossOriginPolicy&&(n.crossOriginPolicy=t.crossOriginPolicy),void 0===n.ajaxWithCredentials&&(n.ajaxWithCredentials=t.ajaxWithCredentials),void 0===n.useCanvas&&(n.useCanvas=t.useCanvas),e.isFunction(n.getTileUrl)){var a=new e.TileSource(n);a.getTileUrl=n.getTileUrl,i(a)}else{var s=e.TileSource.determineType(o,n);if(!s)return void r({message:"Unable to load TileSource",source:n});var l=s.prototype.configure.apply(o,[n]);waitUntilReady(new s(l),n)}else waitUntilReady(n,n)})}function getOverlayObject(t,n){if(n instanceof e.Overlay)return n;var i=null;if(n.element)i=e.getElement(n.element);else{var r=n.id?n.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());i=e.getElement(n.id),i||(i=document.createElement("a"),i.href="#/overlay/"+r),i.id=r,e.addClass(i,n.className?n.className:"openseadragon-overlay")}var o=n.location,a=n.width,s=n.height;if(!o){var l=n.x,c=n.y;if(void 0!==n.px){var u=t.viewport.imageToViewportRectangle(new e.Rect(n.px,n.py,a||0,s||0));l=u.x,c=u.y,a=void 0!==a?u.width:void 0,s=void 0!==s?u.height:void 0}o=new e.Point(l,c)}var d=n.placement;return d&&"string"===e.type(d)&&(d=e.Placement[n.placement.toUpperCase()]),new e.Overlay({element:i,location:o,placement:d,onDraw:n.onDraw,checkResize:n.checkResize,width:a,height:s,rotationMode:n.rotationMode})}function getOverlayIndex(e,t){var n;for(n=e.length-1;n>=0;n--)if(e[n].element===t)return n;return-1}function scheduleUpdate(t,n){return e.requestAnimationFrame(function(){n(t)})}function scheduleControlsFade(t){e.requestAnimationFrame(function(){updateControlsFade(t)})}function beginControlsAutoHide(t){t.autoHideControls&&(t.controlsShouldFade=!0,t.controlsFadeBeginTime=e.now()+t.controlsFadeDelay,window.setTimeout(function(){scheduleControlsFade(t)},t.controlsFadeDelay))}function updateControlsFade(t){var n,i,r,o;if(t.controlsShouldFade){for(n=e.now(),i=n-t.controlsFadeBeginTime,r=1-i/t.controlsFadeLength,r=Math.min(1,r),r=Math.max(0,r),o=t.controls.length-1;o>=0;o--)t.controls[o].autoFade&&t.controls[o].setOpacity(r);r>0&&scheduleControlsFade(t)}}function abortControlsAutoHide(e){var t;for(e.controlsShouldFade=!1,t=e.controls.length-1;t>=0;t--)e.controls[t].setOpacity(1)}function onFocus(){abortControlsAutoHide(this)}function onBlur(){beginControlsAutoHide(this)}function onCanvasKeyDown(t){if(t.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 38:return t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40))),this.viewport.applyConstraints(),!1;case 40:return t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40))),this.viewport.applyConstraints(),!1;case 37:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0))),this.viewport.applyConstraints(),!1;case 39:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0))),this.viewport.applyConstraints(),!1;default:return!0}}function onCanvasKeyPress(t){if(t.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 43:case 61:return this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),!1;case 45:return this.viewport.zoomBy(.9),this.viewport.applyConstraints(),!1;case 48:return this.viewport.goHome(),this.viewport.applyConstraints(),!1;case 119:case 87:return t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40))),this.viewport.applyConstraints(),!1;case 115:case 83:return t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40))),this.viewport.applyConstraints(),!1;case 97:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0))),this.viewport.applyConstraints(),!1;case 100:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0))),this.viewport.applyConstraints(),!1;default:return!0}}function onCanvasClick(e){var t,n=document.activeElement==this.canvas;n||this.canvas.focus(),!e.preventDefaultAction&&this.viewport&&e.quick&&(t=this.gestureSettingsByDeviceType(e.pointerType),t.clickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,this.viewport.pointFromPixel(e.position,!0)),this.viewport.applyConstraints())),this.raiseEvent("canvas-click",{tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent})}function onCanvasDblClick(e){var t;!e.preventDefaultAction&&this.viewport&&(t=this.gestureSettingsByDeviceType(e.pointerType),t.dblClickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,this.viewport.pointFromPixel(e.position,!0)),this.viewport.applyConstraints())),this.raiseEvent("canvas-double-click",{tracker:e.eventSource,position:e.position,shift:e.shift,originalEvent:e.originalEvent})}function onCanvasDrag(e){var t;!e.preventDefaultAction&&this.viewport&&(t=this.gestureSettingsByDeviceType(e.pointerType),this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta.negate()),t.flickEnabled),this.constrainDuringPan&&this.viewport.applyConstraints()),this.raiseEvent("canvas-drag",{tracker:e.eventSource,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent})}function onCanvasDragEnd(t){if(!t.preventDefaultAction&&this.viewport){var n=this.gestureSettingsByDeviceType(t.pointerType);if(n.flickEnabled&&t.speed>=n.flickMinSpeed){var i=0;this.panHorizontal&&(i=n.flickMomentum*t.speed*Math.cos(t.direction));var r=0;this.panVertical&&(r=n.flickMomentum*t.speed*Math.sin(t.direction));var o=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),a=this.viewport.pointFromPixel(new e.Point(o.x-i,o.y-r));this.viewport.panTo(a,!1)}this.viewport.applyConstraints()}this.raiseEvent("canvas-drag-end",{tracker:t.eventSource,position:t.position,speed:t.speed,direction:t.direction,shift:t.shift,originalEvent:t.originalEvent})}function onCanvasEnter(e){this.raiseEvent("canvas-enter",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function onCanvasExit(e){this.raiseEvent("canvas-exit",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function onCanvasPress(e){this.raiseEvent("canvas-press",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function onCanvasRelease(e){this.raiseEvent("canvas-release",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function onCanvasNonPrimaryPress(e){this.raiseEvent("canvas-nonprimary-press",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function onCanvasNonPrimaryRelease(e){this.raiseEvent("canvas-nonprimary-release",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function onCanvasPinch(e){var t,n,i,r;if(!e.preventDefaultAction&&this.viewport&&(t=this.gestureSettingsByDeviceType(e.pointerType),t.pinchToZoom&&(n=this.viewport.pointFromPixel(e.center,!0),i=this.viewport.pointFromPixel(e.lastCenter,!0),r=i.minus(n),this.panHorizontal||(r.x=0),this.panVertical||(r.y=0),this.viewport.zoomBy(e.distance/e.lastDistance,n,!0),this.viewport.panBy(r,!0),this.viewport.applyConstraints()),t.pinchRotate)){var o=Math.atan2(e.gesturePoints[0].currentPos.y-e.gesturePoints[1].currentPos.y,e.gesturePoints[0].currentPos.x-e.gesturePoints[1].currentPos.x),a=Math.atan2(e.gesturePoints[0].lastPos.y-e.gesturePoints[1].lastPos.y,e.gesturePoints[0].lastPos.x-e.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(o-a)*(180/Math.PI))}return this.raiseEvent("canvas-pinch",{tracker:e.eventSource,gesturePoints:e.gesturePoints,lastCenter:e.lastCenter,center:e.center,lastDistance:e.lastDistance,distance:e.distance,shift:e.shift,originalEvent:e.originalEvent}),!1}function onCanvasScroll(t){var n,i,r,o;if(r=e.now(),o=r-this._lastScrollTime,o>this.minScrollDeltaTime){if(this._lastScrollTime=r,!t.preventDefaultAction&&this.viewport&&(n=this.gestureSettingsByDeviceType(t.pointerType),n.scrollToZoom&&(i=Math.pow(this.zoomPerScroll,t.scroll),this.viewport.zoomBy(i,this.viewport.pointFromPixel(t.position,!0)),this.viewport.applyConstraints())),this.raiseEvent("canvas-scroll",{tracker:t.eventSource,position:t.position,scroll:t.scroll,shift:t.shift,originalEvent:t.originalEvent}),n&&n.scrollToZoom)return!1}else if(n=this.gestureSettingsByDeviceType(t.pointerType),n&&n.scrollToZoom)return!1}function onContainerEnter(e){t[this.hash].mouseInside=!0,abortControlsAutoHide(this),this.raiseEvent("container-enter",{tracker:e.eventSource,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function onContainerExit(e){e.pointers<1&&(t[this.hash].mouseInside=!1,t[this.hash].animating||beginControlsAutoHide(this)),this.raiseEvent("container-exit",{tracker:e.eventSource,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function updateMulti(e){updateOnce(e),e.isOpen()?e._updateRequestId=scheduleUpdate(e,updateMulti):e._updateRequestId=!1}function updateOnce(e){if(!e._opening){if(e.autoResize){var n=_getSafeElemSize(e.container),i=t[e.hash].prevContainerSize;if(!n.equals(i)){var r=e.viewport;if(e.preserveImageSizeOnResize){var o=i.x/n.x,a=r.getZoom()*o,s=r.getCenter();r.resize(n,!1),r.zoomTo(a,null,!0),r.panTo(s,!0)}else{var l=r.getBounds();r.resize(n,!0),r.fitBoundsWithConstraints(l,!0)}t[e.hash].prevContainerSize=n,t[e.hash].forceRedraw=!0}}var c=e.viewport.update(),u=e.world.update()||c;c&&e.raiseEvent("viewport-change"),e.referenceStrip&&(u=e.referenceStrip.update(e.viewport)||u),!t[e.hash].animating&&u&&(e.raiseEvent("animation-start"),abortControlsAutoHide(e)),(u||t[e.hash].forceRedraw||e.world.needsDraw())&&(drawWorld(e),e._drawOverlays(),e.navigator&&e.navigator.update(e.viewport),t[e.hash].forceRedraw=!1,u&&e.raiseEvent("animation")),t[e.hash].animating&&!u&&(e.raiseEvent("animation-finish"),t[e.hash].mouseInside||beginControlsAutoHide(e)),t[e.hash].animating=u}}function drawWorld(e){e.imageLoader.clear(),e.drawer.clear(),e.world.draw(),e.raiseEvent("update-viewport",{})}function resolveUrl(e,t){return e?e+t:t}function beginZoomingIn(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=this.zoomPerSecond,t[this.hash].zooming=!0,scheduleZoom(this)}function beginZoomingOut(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=1/this.zoomPerSecond,t[this.hash].zooming=!0,scheduleZoom(this)}function endZooming(){t[this.hash].zooming=!1}function scheduleZoom(t){e.requestAnimationFrame(e.delegate(t,doZoom))}function doZoom(){var n,i,r;t[this.hash].zooming&&this.viewport&&(n=e.now(),i=n-t[this.hash].lastZoomTime,r=Math.pow(t[this.hash].zoomFactor,i/1e3),this.viewport.zoomBy(r),this.viewport.applyConstraints(),t[this.hash].lastZoomTime=n,scheduleZoom(this))}function doSingleZoomIn(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function doSingleZoomOut(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function lightUp(){this.buttons.emulateEnter(),this.buttons.emulateExit()}function onHome(){this.viewport&&this.viewport.goHome()}function onFullScreen(){this.isFullPage()&&!e.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttons&&this.buttons.emulateExit(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function onRotateLeft(){if(this.viewport){var e=this.viewport.getRotation();0===e?e=270:e-=90,this.viewport.setRotation(e)}}function onRotateRight(){if(this.viewport){var e=this.viewport.getRotation();270===e?e=0:e+=90,this.viewport.setRotation(e)}}function onPrevious(){var e=this._sequenceIndex-1;this.navPrevNextWrap&&e<0&&(e+=this.tileSources.length),this.goToPage(e)}function onNext(){var e=this._sequenceIndex+1;this.navPrevNextWrap&&e>=this.tileSources.length&&(e=0),this.goToPage(e)}var t={},n=1;e.Viewer=function(i){var r,o=arguments,a=this;if(e.isPlainObject(i)||(i={id:o[0],xmlPath:o.length>1?o[1]:void 0,prefixUrl:o.length>2?o[2]:void 0,controls:o.length>3?o[3]:void 0,overlays:o.length>4?o[4]:void 0}),i.config&&(e.extend(!0,i,i.config),delete i.config),e.extend(!0,this,{id:i.id,hash:i.hash||n++,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},e.DEFAULT_SETTINGS,i),"undefined"==typeof this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for("undefined"!=typeof t[this.hash]&&e.console.warn("Hash "+this.hash+" has already been used."),t[this.hash]={fsBoundsDelta:new e.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._lastScrollTime=e.now(),e.EventSource.call(this),this.addHandler("open-failed",function(t){var n=e.getString("Errors.OpenFailed",t.eventSource,t.message);a._showMessage(n)}),e.ControlDock.call(this,i),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=e.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(e){e.width="100%",e.height="100%",e.overflow="hidden",e.position="absolute",e.top="0px",e.left="0px"}(this.canvas.style),e.setElementTouchActionNone(this.canvas),""!==i.tabIndex&&(this.canvas.tabIndex=void 0===i.tabIndex?0:i.tabIndex),this.container.className="openseadragon-container",function(e){e.width="100%",e.height="100%",e.position="relative",e.overflow="hidden",e.left="0px",e.top="0px",e.textAlign="left"}(this.container.style),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new e.MouseTracker({element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,keyDownHandler:e.delegate(this,onCanvasKeyDown),keyHandler:e.delegate(this,onCanvasKeyPress),clickHandler:e.delegate(this,onCanvasClick),dblClickHandler:e.delegate(this,onCanvasDblClick),dragHandler:e.delegate(this,onCanvasDrag),dragEndHandler:e.delegate(this,onCanvasDragEnd),enterHandler:e.delegate(this,onCanvasEnter),exitHandler:e.delegate(this,onCanvasExit),pressHandler:e.delegate(this,onCanvasPress),releaseHandler:e.delegate(this,onCanvasRelease),nonPrimaryPressHandler:e.delegate(this,onCanvasNonPrimaryPress),nonPrimaryReleaseHandler:e.delegate(this,onCanvasNonPrimaryRelease),scrollHandler:e.delegate(this,onCanvasScroll),pinchHandler:e.delegate(this,onCanvasPinch)}),this.outerTracker=new e.MouseTracker({element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:e.delegate(this,onContainerEnter),exitHandler:e.delegate(this,onContainerExit)}),this.toolbar&&(this.toolbar=new e.ControlDock({element:this.toolbar})),this.bindStandardControls(),t[this.hash].prevContainerSize=_getSafeElemSize(this.container),this.world=new e.World({viewer:this}),this.world.addHandler("add-item",function(e){a.source=a.world.getItemAt(0).source,t[a.hash].forceRedraw=!0,a._updateRequestId||(a._updateRequestId=scheduleUpdate(a,updateMulti))}),this.world.addHandler("remove-item",function(e){a.world.getItemCount()?a.source=a.world.getItemAt(0).source:a.source=null,t[a.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(e){a.viewport&&a.viewport._setContentBounds(a.world.getHomeBounds(),a.world.getContentFactor())}),this.world.addHandler("item-index-change",function(e){a.source=a.world.getItemAt(0).source}),this.viewport=new e.Viewport({containerSize:t[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new e.ImageLoader({jobLimit:this.imageLoaderLimit}),this.tileCache=new e.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new e.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=e.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(r=this.buttons.buttons.indexOf(this.rotateLeft),this.buttons.buttons.splice(r,1),this.buttons.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(r=this.buttons.buttons.indexOf(this.rotateRight),this.buttons.buttons.splice(r,1),this.buttons.element.removeChild(this.rotateRight.element))),this.showNavigator&&(this.navigator=new e.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),r=0;r<this.customControls.length;r++)this.addControl(this.customControls[r].id,{anchor:this.customControls[r].anchor});e.requestAnimationFrame(function(){beginControlsAutoHide(a)})},e.extend(e.Viewer.prototype,e.EventSource.prototype,e.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(t){return e.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(t)},openTileSource:function(t){return e.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(t)},open:function(t){var n=this;if(this.close(),t){if(this.sequenceMode&&e.isArray(t))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this.tileSources=t,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&(this.referenceStrip=new e.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,viewer:this}))),void this._updateSequenceButtons(this._sequenceIndex);if(e.isArray(t)||(t=[t]),t.length){this._opening=!0;for(var i,r=t.length,o=0,a=0,s=function(){if(o+a===r)if(o){!n._firstOpen&&n.preserveViewport||(n.viewport.goHome(!0),n.viewport.update()),n._firstOpen=!1;var e=t[0];if(e.tileSource&&(e=e.tileSource),n.overlays&&!n.preserveOverlays)for(var s=0;s<n.overlays.length;s++)n.currentOverlays[s]=getOverlayObject(n,n.overlays[s]);n._drawOverlays(),n._opening=!1,n.raiseEvent("open",{source:e})}else n._opening=!1,n.raiseEvent("open-failed",i)},l=function(t){e.isPlainObject(t)&&t.tileSource||(t={tileSource:t}),void 0!==t.index&&(e.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete t.index),void 0===t.collectionImmediately&&(t.collectionImmediately=!0);var r=t.success;t.success=function(e){if(o++,t.tileSource.overlays)for(var i=0;i<t.tileSource.overlays.length;i++)n.addOverlay(t.tileSource.overlays[i]);r&&r(e),s()};var l=t.error;t.error=function(e){a++,i||(i=e),l&&l(e),s()},n.addTiledImage(t)},c=0;c<t.length;c++)l(t[c]);return this}}},close:function(){return t[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),t[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(t[this.hash]){if(this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(e.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.removeAllHandlers(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),t[this.hash]=null,delete t[this.hash],this.canvas=null,this.container=null,this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(e){return this.innerTracker.setTracking(e),this.outerTracker.setTracking(e),this.raiseEvent("mouse-enabled",{enabled:e}),this},areControlsEnabled:function(){var e,t=this.controls.length;for(e=0;e<this.controls.length;e++)t=t&&this.controls[e].isVisibile();return t},setControlsEnabled:function(e){return e?abortControlsAutoHide(this):beginControlsAutoHide(this),this.raiseEvent("controls-enabled",{enabled:e}),this},isFullPage:function(){return t[this.hash].fullPage},setFullPage:function(n){var i,r,o=document.body,a=o.style,s=document.documentElement.style,l=this;if(n==this.isFullPage())return this;var c={fullPage:n,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",c),c.preventDefaultAction)return this;if(n){for(this.elementSize=e.getElementSize(this.element),this.pageScroll=e.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=a.margin,this.docMargin=s.margin,a.margin="0",s.margin="0",this.bodyPadding=a.padding,this.docPadding=s.padding,a.padding="0",s.padding="0",this.bodyWidth=a.width,this.docWidth=s.width,a.width="100%",s.width="100%",this.bodyHeight=a.height,this.docHeight=s.height,a.height="100%",s.height="100%",this.previousBody=[],t[this.hash].prevElementParent=this.element.parentNode,t[this.hash].prevNextSibling=this.element.nextSibling,t[this.hash].prevElementWidth=this.element.style.width,
t[this.hash].prevElementHeight=this.element.style.height,i=o.childNodes.length,r=0;r<i;r++)this.previousBody.push(o.childNodes[0]),o.removeChild(o.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,o.appendChild(this.toolbar.element),e.addClass(this.toolbar.element,"fullpage")),e.addClass(this.element,"fullpage"),o.appendChild(this.element),this.element.style.height=e.getWindowSize().y+"px",this.element.style.width=e.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=e.getElementSize(this.element).y-e.getElementSize(this.toolbar.element).y+"px"),t[this.hash].fullPage=!0,e.delegate(this,onContainerEnter)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,a.margin=this.bodyMargin,s.margin=this.docMargin,a.padding=this.bodyPadding,s.padding=this.docPadding,a.width=this.bodyWidth,s.width=this.docWidth,a.height=this.bodyHeight,s.height=this.docHeight,o.removeChild(this.element),i=this.previousBody.length,r=0;r<i;r++)o.appendChild(this.previousBody.shift());e.removeClass(this.element,"fullpage"),t[this.hash].prevElementParent.insertBefore(this.element,t[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(o.removeChild(this.toolbar.element),e.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=t[this.hash].prevElementWidth,this.element.style.height=t[this.hash].prevElementHeight;var u=0,d=function(){e.setPageScroll(l.pageScroll);var t=e.getPageScroll();u++,(u<10&&t.x!==l.pageScroll.x||t.y!==l.pageScroll.y)&&e.requestAnimationFrame(d)};e.requestAnimationFrame(d),t[this.hash].fullPage=!1,e.delegate(this,onContainerExit)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:n}),this},setFullScreen:function(t){var n=this;if(!e.supportsFullScreen)return this.setFullPage(t);if(e.isFullScreen()===t)return this;var i={fullScreen:t,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",i),i.preventDefaultAction)return this;if(t){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var r=function(){var t=e.isFullScreen();t||(e.removeEvent(document,e.fullScreenEventName,r),e.removeEvent(document,e.fullScreenErrorEventName,r),n.setFullPage(!1),n.isFullPage()&&(n.element.style.width=n.fullPageStyleWidth,n.element.style.height=n.fullPageStyleHeight)),n.navigator&&n.viewport&&n.navigator.update(n.viewport),n.raiseEvent("full-screen",{fullScreen:t})};e.addEvent(document,e.fullScreenEventName,r),e.addEvent(document,e.fullScreenErrorEventName,r),e.requestFullScreen(document.body)}else e.exitFullScreen();return this},isVisible:function(){return"hidden"!=this.container.style.visibility},setVisible:function(e){return this.container.style.visibility=e?"":"hidden",this.raiseEvent("visible",{visible:e}),this},addTiledImage:function(t){function raiseAddItemFailed(e){for(var r=0;r<n._loadQueue.length;r++)if(n._loadQueue[r]===i){n._loadQueue.splice(r,1);break}0===n._loadQueue.length&&refreshWorld(i),n.raiseEvent("add-item-failed",e),t.error&&t.error(e)}function refreshWorld(e){n.collectionMode&&(n.world.arrange({immediately:e.options.collectionImmediately,rows:n.collectionRows,columns:n.collectionColumns,layout:n.collectionLayout,tileSize:n.collectionTileSize,tileMargin:n.collectionTileMargin}),n.world.setAutoRefigureSizes(!0))}e.console.assert(t,"[Viewer.addTiledImage] options is required"),e.console.assert(t.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),e.console.assert(!t.replace||t.index>-1&&t.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var n=this;t.replace&&(t.replaceItem=n.world.getItemAt(t.index)),this._hideMessage(),void 0===t.placeholderFillStyle&&(t.placeholderFillStyle=this.placeholderFillStyle),void 0===t.opacity&&(t.opacity=this.opacity),void 0===t.compositeOperation&&(t.compositeOperation=this.compositeOperation);var i={options:t};return e.isArray(t.tileSource)?void setTimeout(function(){raiseAddItemFailed({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:t.tileSource,options:t})}):(this._loadQueue.push(i),void getTileSourceImplementation(this,t.tileSource,function(t){i.tileSource=t;for(var r,o,a;n._loadQueue.length&&(r=n._loadQueue[0],r.tileSource);){if(n._loadQueue.splice(0,1),r.options.replace){var s=n.world.getIndexOfItem(r.options.replaceItem);s!=-1&&(r.options.index=s),n.world.removeItem(r.options.replaceItem)}o=new e.TiledImage({viewer:n,source:r.tileSource,viewport:n.viewport,drawer:n.drawer,tileCache:n.tileCache,imageLoader:n.imageLoader,x:r.options.x,y:r.options.y,width:r.options.width,height:r.options.height,fitBounds:r.options.fitBounds,fitBoundsPlacement:r.options.fitBoundsPlacement,clip:r.options.clip,placeholderFillStyle:r.options.placeholderFillStyle,opacity:r.options.opacity,compositeOperation:r.options.compositeOperation,springStiffness:n.springStiffness,animationTime:n.animationTime,minZoomImageRatio:n.minZoomImageRatio,wrapHorizontal:n.wrapHorizontal,wrapVertical:n.wrapVertical,immediateRender:n.immediateRender,blendTime:n.blendTime,alwaysBlend:n.alwaysBlend,minPixelRatio:n.minPixelRatio,smoothTileEdgesMinZoom:n.smoothTileEdgesMinZoom,iOSDevice:n.iOSDevice,crossOriginPolicy:n.crossOriginPolicy,debugMode:n.debugMode}),n.collectionMode&&n.world.setAutoRefigureSizes(!1),n.world.addItem(o,{index:r.options.index}),0===n._loadQueue.length&&refreshWorld(r),1!==n.world.getItemCount()||n.preserveViewport||n.viewport.goHome(!0),n.navigator&&(a=e.extend({},r.options,{replace:!1,originalTiledImage:o,tileSource:r.tileSource}),n.navigator.addTiledImage(a)),r.options.success&&r.options.success({item:o})}},function(e){e.options=t,raiseAddItemFailed(e)}))},addSimpleImage:function(t){e.console.assert(t,"[Viewer.addSimpleImage] options is required"),e.console.assert(t.url,"[Viewer.addSimpleImage] options.url is required");var n=e.extend({},t,{tileSource:{type:"image",url:t.url}});delete n.url,this.addTiledImage(n)},addLayer:function(t){var n=this;e.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var i=e.extend({},t,{success:function(e){n.raiseEvent("add-layer",{options:t,drawer:e.item})},error:function(e){n.raiseEvent("add-layer-failed",e)}});return this.addTiledImage(i),this},getLayerAtLevel:function(t){return e.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(t)},getLevelOfLayer:function(t){return e.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(t)},getLayersCount:function(){return e.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(t,n){return e.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(t,n)},removeLayer:function(t){return e.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(t)},forceRedraw:function(){return t[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var t=e.delegate(this,onFocus),n=e.delegate(this,onBlur),i=e.delegate(this,onNext),r=e.delegate(this,onPrevious),o=this.navImages,a=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(a=!1),this.previousButton=new e.Button({element:this.previousButton?e.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.PreviousPage"),srcRest:resolveUrl(this.prefixUrl,o.previous.REST),srcGroup:resolveUrl(this.prefixUrl,o.previous.GROUP),srcHover:resolveUrl(this.prefixUrl,o.previous.HOVER),srcDown:resolveUrl(this.prefixUrl,o.previous.DOWN),onRelease:r,onFocus:t,onBlur:n}),this.nextButton=new e.Button({element:this.nextButton?e.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.NextPage"),srcRest:resolveUrl(this.prefixUrl,o.next.REST),srcGroup:resolveUrl(this.prefixUrl,o.next.GROUP),srcHover:resolveUrl(this.prefixUrl,o.next.HOVER),srcDown:resolveUrl(this.prefixUrl,o.next.DOWN),onRelease:i,onFocus:t,onBlur:n}),this.navPrevNextWrap||this.previousButton.disable(),this.tileSources&&this.tileSources.length||this.nextButton.disable(),a&&(this.paging=new e.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:e.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var t=e.delegate(this,beginZoomingIn),n=e.delegate(this,endZooming),i=e.delegate(this,doSingleZoomIn),r=e.delegate(this,beginZoomingOut),o=e.delegate(this,doSingleZoomOut),a=e.delegate(this,onHome),s=e.delegate(this,onFullScreen),l=e.delegate(this,onRotateLeft),c=e.delegate(this,onRotateRight),u=e.delegate(this,onFocus),d=e.delegate(this,onBlur),h=this.navImages,m=[],p=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton)&&(p=!1),this.showZoomControl&&(m.push(this.zoomInButton=new e.Button({element:this.zoomInButton?e.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomIn"),srcRest:resolveUrl(this.prefixUrl,h.zoomIn.REST),srcGroup:resolveUrl(this.prefixUrl,h.zoomIn.GROUP),srcHover:resolveUrl(this.prefixUrl,h.zoomIn.HOVER),srcDown:resolveUrl(this.prefixUrl,h.zoomIn.DOWN),onPress:t,onRelease:n,onClick:i,onEnter:t,onExit:n,onFocus:u,onBlur:d})),m.push(this.zoomOutButton=new e.Button({element:this.zoomOutButton?e.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomOut"),srcRest:resolveUrl(this.prefixUrl,h.zoomOut.REST),srcGroup:resolveUrl(this.prefixUrl,h.zoomOut.GROUP),srcHover:resolveUrl(this.prefixUrl,h.zoomOut.HOVER),srcDown:resolveUrl(this.prefixUrl,h.zoomOut.DOWN),onPress:r,onRelease:n,onClick:o,onEnter:r,onExit:n,onFocus:u,onBlur:d}))),this.showHomeControl&&m.push(this.homeButton=new e.Button({element:this.homeButton?e.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Home"),srcRest:resolveUrl(this.prefixUrl,h.home.REST),srcGroup:resolveUrl(this.prefixUrl,h.home.GROUP),srcHover:resolveUrl(this.prefixUrl,h.home.HOVER),srcDown:resolveUrl(this.prefixUrl,h.home.DOWN),onRelease:a,onFocus:u,onBlur:d})),this.showFullPageControl&&m.push(this.fullPageButton=new e.Button({element:this.fullPageButton?e.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.FullPage"),srcRest:resolveUrl(this.prefixUrl,h.fullpage.REST),srcGroup:resolveUrl(this.prefixUrl,h.fullpage.GROUP),srcHover:resolveUrl(this.prefixUrl,h.fullpage.HOVER),srcDown:resolveUrl(this.prefixUrl,h.fullpage.DOWN),onRelease:s,onFocus:u,onBlur:d})),this.showRotationControl&&(m.push(this.rotateLeftButton=new e.Button({element:this.rotateLeftButton?e.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateLeft"),srcRest:resolveUrl(this.prefixUrl,h.rotateleft.REST),srcGroup:resolveUrl(this.prefixUrl,h.rotateleft.GROUP),srcHover:resolveUrl(this.prefixUrl,h.rotateleft.HOVER),srcDown:resolveUrl(this.prefixUrl,h.rotateleft.DOWN),onRelease:l,onFocus:u,onBlur:d})),m.push(this.rotateRightButton=new e.Button({element:this.rotateRightButton?e.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateRight"),srcRest:resolveUrl(this.prefixUrl,h.rotateright.REST),srcGroup:resolveUrl(this.prefixUrl,h.rotateright.GROUP),srcHover:resolveUrl(this.prefixUrl,h.rotateright.HOVER),srcDown:resolveUrl(this.prefixUrl,h.rotateright.DOWN),onRelease:c,onFocus:u,onBlur:d}))),p&&(this.buttons=new e.ButtonGroup({buttons:m,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttons.element,this.addHandler("open",e.delegate(this,lightUp)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:e.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},currentPage:function(){return this._sequenceIndex},goToPage:function(e){return this.tileSources&&e>=0&&e<this.tileSources.length&&(this.raiseEvent("page",{page:e}),this._sequenceIndex=e,this._updateSequenceButtons(e),this.open(this.tileSources[e]),this.referenceStrip&&this.referenceStrip.setFocus(e)),this},addOverlay:function(t,n,i,r){var o;if(o=e.isPlainObject(t)?t:{element:t,location:n,placement:i,onDraw:r},t=e.getElement(o.element),getOverlayIndex(this.currentOverlays,t)>=0)return this;var a=getOverlayObject(this,o);return this.currentOverlays.push(a),a.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:t,location:o.location,placement:o.placement}),this},updateOverlay:function(n,i,r){var o;return n=e.getElement(n),o=getOverlayIndex(this.currentOverlays,n),o>=0&&(this.currentOverlays[o].update(i,r),t[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:n,location:i,placement:r})),this},removeOverlay:function(n){var i;return n=e.getElement(n),i=getOverlayIndex(this.currentOverlays,n),i>=0&&(this.currentOverlays[i].destroy(),this.currentOverlays.splice(i,1),t[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:n})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return t[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(t){var n;return t=e.getElement(t),n=getOverlayIndex(this.currentOverlays,t),n>=0?this.currentOverlays[n]:null},_updateSequenceButtons:function(e){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==e?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(e>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(t){this._hideMessage();var n=e.makeNeutralElement("div");n.appendChild(document.createTextNode(t)),this.messageDiv=e.makeCenteredNode(n),e.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var e=this.messageDiv;e&&(e.parentNode.removeChild(e),delete this.messageDiv)},gestureSettingsByDeviceType:function(e){switch(e){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var e,t=this.currentOverlays.length;for(e=0;e<t;e++)this.currentOverlays[e].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]}})}(OpenSeadragon),function(e){function onCanvasClick(e){e.quick&&this.viewer.viewport&&(this.viewer.viewport.panTo(this.viewport.pointFromPixel(e.position)),this.viewer.viewport.applyConstraints())}function onCanvasDrag(e){this.viewer.viewport&&(this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta)))}function onCanvasRelease(e){e.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function onCanvasScroll(e){return this.viewer.raiseEvent("navigator-scroll",{tracker:e.eventSource,position:e.position,scroll:e.scroll,shift:e.shift,originalEvent:e.originalEvent}),!1}function _setTransformRotate(e,t){e.style.webkitTransform="rotate("+t+"deg)",e.style.mozTransform="rotate("+t+"deg)",e.style.msTransform="rotate("+t+"deg)",e.style.oTransform="rotate("+t+"deg)",e.style.transform="rotate("+t+"deg)"}e.Navigator=function(t){function rotate(e){_setTransformRotate(o.displayRegionContainer,e),_setTransformRotate(o.displayRegion,-e),o.viewport.setRotation(e)}var n,i,r=t.viewer,o=this;if(t.id?(this.element=document.getElementById(t.id),t.controlOptions={anchor:e.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(t.id="navigator-"+e.now(),this.element=e.makeNeutralElement("div"),t.controlOptions={anchor:e.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:t.autoFade},t.position&&("BOTTOM_RIGHT"==t.position?t.controlOptions.anchor=e.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"==t.position?t.controlOptions.anchor=e.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"==t.position?t.controlOptions.anchor=e.ControlAnchor.TOP_RIGHT:"TOP_LEFT"==t.position?t.controlOptions.anchor=e.ControlAnchor.TOP_LEFT:"ABSOLUTE"==t.position&&(t.controlOptions.anchor=e.ControlAnchor.ABSOLUTE,t.controlOptions.top=t.top,t.controlOptions.left=t.left,t.controlOptions.height=t.height,t.controlOptions.width=t.width))),this.element.id=t.id,this.element.className+=" navigator",t=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.navigatorSizeRatio},t,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:t.autoResize,minZoomImageRatio:1}),t.minPixelRatio=this.minPixelRatio=r.minPixelRatio,e.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new e.Point(1,1),this.totalBorderWidths=new e.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),t.controlOptions.anchor!=e.ControlAnchor.NONE&&!function(e,t){e.margin="0px",e.border=t+"px solid #555",e.padding="0px",e.background="#000",e.opacity=.8,e.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=e.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(e,t){e.position="relative",e.top="0px",e.left="0px",e.fontSize="0px",e.overflow="hidden",e.border=t+"px solid #900",e.margin="0px",e.padding="0px",e.background="transparent",e.float="left",e.cssFloat="left",e.styleFloat="left",e.zIndex=999999999,e.cursor="default"}(this.displayRegion.style,this.borderWidth),this.displayRegionContainer=e.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",r.addControl(this.element,t.controlOptions),this._resizeWithViewer=t.controlOptions.anchor!=e.ControlAnchor.ABSOLUTE&&t.controlOptions.anchor!=e.ControlAnchor.NONE,this._resizeWithViewer&&(t.width&&t.height?(this.element.style.height="number"==typeof t.height?t.height+"px":t.height,this.element.style.width="number"==typeof t.width?t.width+"px":t.width):(n=e.getElementSize(r.element),this.element.style.height=Math.round(n.y*t.sizeRatio)+"px",this.element.style.width=Math.round(n.x*t.sizeRatio)+"px",this.oldViewerSize=n),i=e.getElementSize(this.element),this.elementArea=i.x*i.y),this.oldContainerSize=new e.Point(0,0),e.Viewer.apply(this,[t]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),t.navigatorRotate){var a=t.viewer.viewport?t.viewer.viewport.getRotation():t.viewer.degrees||0;rotate(a),t.viewer.addHandler("rotate",function(e){rotate(e.degrees)})}this.innerTracker.destroy(),this.innerTracker=new e.MouseTracker({element:this.element,dragHandler:e.delegate(this,onCanvasDrag),clickHandler:e.delegate(this,onCanvasClick),releaseHandler:e.delegate(this,onCanvasRelease),scrollHandler:e.delegate(this,onCanvasScroll)}),this.addHandler("reset-size",function(){o.viewport&&o.viewport.goHome(!0)}),r.world.addHandler("item-index-change",function(e){var t=o.world.getItemAt(e.previousIndex);o.world.setItemIndex(t,e.newIndex)}),r.world.addHandler("remove-item",function(e){var t=e.item,n=o._getMatchingItem(t);n&&o.world.removeItem(n)}),this.update(r.viewport)},e.extend(e.Navigator.prototype,e.EventSource.prototype,e.Viewer.prototype,{updateSize:function(){if(this.viewport){var t=new e.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);t.equals(this.oldContainerSize)||(this.viewport.resize(t,!0),this.viewport.goHome(!0),this.oldContainerSize=t,this.drawer.clear(),this.world.draw())}},update:function(t){var n,i,r,o,a,s;if(n=e.getElementSize(this.viewer.element),this._resizeWithViewer&&n.x&&n.y&&!n.equals(this.oldViewerSize)&&(this.oldViewerSize=n,this.maintainSizeRatio||!this.elementArea?(i=n.x*this.sizeRatio,r=n.y*this.sizeRatio):(i=Math.sqrt(this.elementArea*(n.x/n.y)),r=this.elementArea/i),this.element.style.width=Math.round(i)+"px",this.element.style.height=Math.round(r)+"px",this.elementArea||(this.elementArea=i*r),this.updateSize()),t&&this.viewport){o=t.getBoundsNoRotate(!0),a=this.viewport.pixelFromPointNoRotate(o.getTopLeft(),!1),s=this.viewport.pixelFromPointNoRotate(o.getBottomRight(),!1).minus(this.totalBorderWidths);var l=this.displayRegion.style;l.display=this.world.getItemCount()?"block":"none",l.top=Math.round(a.y)+"px",l.left=Math.round(a.x)+"px";var c=Math.abs(a.x-s.x),u=Math.abs(a.y-s.y);l.width=Math.round(Math.max(c,0))+"px",l.height=Math.round(Math.max(u,0))+"px"}},addTiledImage:function(t){var n=this,i=t.originalTiledImage;delete t.original;var r=e.extend({},t,{success:function(e){var t=e.item;t._originalForNavigator=i,n._matchBounds(t,i,!0),i.addHandler("bounds-change",function(){n._matchBounds(t,i)})}});return e.Viewer.prototype.addTiledImage.apply(this,[r])},_getMatchingItem:function(e){for(var t,n=this.world.getItemCount(),i=0;i<n;i++)if(t=this.world.getItemAt(i),t._originalForNavigator===e)return t;return null},_matchBounds:function(e,t,n){var i=t.getBounds();e.setPosition(i.getTopLeft(),n),e.setWidth(i.width,n)}})}(OpenSeadragon),function(e){var t={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right"}};e.extend(e,{getString:function(n){var i,r=n.split("."),o=null,a=arguments,s=t;for(i=0;i<r.length-1;i++)s=s[r[i]]||{};return o=s[r[i]],"string"!=typeof o&&(e.console.debug("Untranslated source string:",n),o=""),o.replace(/\{\d+\}/g,function(e){var t=parseInt(e.match(/\d+/),10)+1;return t<a.length?a[t]:""})},setString:function(e,n){var i,r=e.split("."),o=t;for(i=0;i<r.length-1;i++)o[r[i]]||(o[r[i]]={}),o=o[r[i]];o[r[i]]=n}})}(OpenSeadragon),function(e){e.Point=function(e,t){this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0},e.Point.prototype={clone:function(){return new e.Point(this.x,this.y)},plus:function(t){return new e.Point(this.x+t.x,this.y+t.y)},minus:function(t){return new e.Point(this.x-t.x,this.y-t.y)},times:function(t){return new e.Point(this.x*t,this.y*t)},divide:function(t){return new e.Point(this.x/t,this.y/t)},negate:function(){return new e.Point(-this.x,-this.y)},distanceTo:function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},apply:function(t){return new e.Point(t(this.x),t(this.y))},equals:function(t){return t instanceof e.Point&&this.x===t.x&&this.y===t.y},rotate:function(t,n){n=n||new e.Point(0,0);var i,r;if(t%90===0){var o=t%360;switch(o<0&&(o+=360),o){case 0:i=1,r=0;break;case 90:i=0,r=1;break;case 180:i=-1,r=0;break;case 270:i=0,r=-1}}else{var a=t*Math.PI/180;i=Math.cos(a),r=Math.sin(a)}var s=i*(this.x-n.x)-r*(this.y-n.y)+n.x,l=r*(this.x-n.x)+i*(this.y-n.y)+n.y;return new e.Point(s,l)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(OpenSeadragon),function(e){function processResponse(t){var n,i,r=t.responseText,o=t.status;if(!t)throw new Error(e.getString("Errors.Security"));if(200!==t.status&&0!==t.status)throw o=t.status,n=404==o?"Not Found":t.statusText,new Error(e.getString("Errors.Status",o,n));if(r.match(/\s*<.*/))try{i=t.responseXML&&t.responseXML.documentElement?t.responseXML:e.parseXml(r)}catch(e){i=t.responseText}else i=r.match(/\s*[\{\[].*/)?e.parseJSON(r):r;return i}e.TileSource=function(t,n,i,r,o,a){var s,l,c=this,u=arguments;if(s=e.isPlainObject(t)?t:{width:u[0],height:u[1],tileSize:u[2],tileOverlap:u[3],minLevel:u[4],maxLevel:u[5]},e.EventSource.call(this),e.extend(!0,this,s),!this.success)for(l=0;l<arguments.length;l++)if(e.isFunction(arguments[l])){this.success=arguments[l];break}this.success&&this.addHandler("ready",function(e){c.success(e)}),"string"==e.type(arguments[0])&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new e.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=s.width&&s.height?s.width/s.height:1,this.dimensions=new e.Point(s.width,s.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=s.tileOverlap?s.tileOverlap:0,this.minLevel=s.minLevel?s.minLevel:0,this.maxLevel=void 0!==s.maxLevel&&null!==s.maxLevel?s.maxLevel:s.width&&s.height?Math.ceil(Math.log(Math.max(s.width,s.height))/Math.log(2)):0,this.success&&e.isFunction(this.success)&&this.success(this))},e.TileSource.prototype={getTileSize:function(t){return e.console.error("[TileSource.getTileSize] is deprecated.Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(e){return this._tileWidth?this._tileWidth:this.getTileSize(e)},getTileHeight:function(e){return this._tileHeight?this._tileHeight:this.getTileSize(e)},getLevelScale:function(e){var t,n={};for(t=0;t<=this.maxLevel;t++)n[t]=1/Math.pow(2,this.maxLevel-t);return this.getLevelScale=function(e){return n[e]},this.getLevelScale(e)},getNumTiles:function(t){var n=this.getLevelScale(t),i=Math.ceil(n*this.dimensions.x/this.getTileWidth(t)),r=Math.ceil(n*this.dimensions.y/this.getTileHeight(t));return new e.Point(i,r)},getPixelRatio:function(t){var n=this.dimensions.times(this.getLevelScale(t)),i=1/n.x,r=1/n.y;return new e.Point(i,r)},getClosestLevel:function(t){var n,i,r;for(n=this.minLevel;n<this.maxLevel&&(r=this.getNumTiles(n),i=new e.Point(Math.floor(t.x/this.getTileWidth(n)),Math.floor(t.y/this.getTileHeight(n))),!(r.x+1>=i.x&&r.y+1>=i.y));n++);return Math.max(0,n-1)},getTileAtPoint:function(t,n){var i=n.times(this.dimensions.x).times(this.getLevelScale(t)),r=Math.floor(i.x/this.getTileWidth(t)),o=Math.floor(i.y/this.getTileHeight(t));return new e.Point(r,o)},getTileBounds:function(t,n,i){var r=this.dimensions.times(this.getLevelScale(t)),o=this.getTileWidth(t),a=this.getTileHeight(t),s=0===n?0:o*n-this.tileOverlap,l=0===i?0:a*i-this.tileOverlap,c=o+(0===n?1:2)*this.tileOverlap,u=a+(0===i?1:2)*this.tileOverlap,d=1/r.x;return c=Math.min(c,r.x-s),u=Math.min(u,r.y-l),new e.Rect(s*d,l*d,c*d,u*d)},getImageInfo:function(t){var n,i,r,o,a,s,l,c=this;t&&(a=t.split("/"),s=a[a.length-1],l=s.lastIndexOf("."),l>-1&&(a[a.length-1]=s.slice(0,l))),i=function(n){"string"==typeof n&&(n=e.parseXml(n));var i=e.TileSource.determineType(c,n,t);return i?(o=i.prototype.configure.apply(c,[n,t]),void 0===o.ajaxWithCredentials&&(o.ajaxWithCredentials=c.ajaxWithCredentials),r=new i(o),c.ready=!0,void c.raiseEvent("ready",{tileSource:r})):void c.raiseEvent("open-failed",{message:"Unable to load TileSource",source:t})},t.match(/\.js$/)?(n=t.split("/").pop().replace(".js",""),e.jsonp({url:t,async:!1,callbackName:n,callback:i})):e.makeAjaxRequest({url:t,withCredentials:this.ajaxWithCredentials,success:function(e){var t=processResponse(e);i(t)},error:function(e,n){var i;try{i="HTTP "+e.status+" attempting to load TileSource"}catch(e){var r;r="undefined"!=typeof n&&n.toString?n.toString():"Unknown error",i=r+" attempting to load TileSource"}c.raiseEvent("open-failed",{message:i,source:t})}})},supports:function(e,t){return!1},configure:function(e,t){throw new Error("Method not implemented.")},getTileUrl:function(e,t,n){throw new Error("Method not implemented.")},tileExists:function(e,t,n){var i=this.getNumTiles(e);return e>=this.minLevel&&e<=this.maxLevel&&t>=0&&n>=0&&t<i.x&&n<i.y}},e.extend(!0,e.TileSource.prototype,e.EventSource.prototype),e.TileSource.determineType=function(t,n,i){var r;for(r in OpenSeadragon)if(r.match(/.+TileSource$/)&&e.isFunction(OpenSeadragon[r])&&e.isFunction(OpenSeadragon[r].prototype.supports)&&OpenSeadragon[r].prototype.supports.call(t,n,i))return OpenSeadragon[r];e.console.error("No TileSource was able to open %s %s",i,n)}}(OpenSeadragon),function(e){function configureFromXML(t,n){if(!n||!n.documentElement)throw new Error(e.getString("Errors.Xml"));var i,r,o,a,s,l=n.documentElement,c=l.localName||l.tagName,u=n.documentElement.namespaceURI,d=null,h=[];if("Image"==c)try{if(a=l.getElementsByTagName("Size")[0],void 0===a&&(a=l.getElementsByTagNameNS(u,"Size")[0]),d={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:l.getAttribute("Url"),Format:l.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(l.getAttribute("Overlap"),10),TileSize:parseInt(l.getAttribute("TileSize"),10),Size:{Height:parseInt(a.getAttribute("Height"),10),Width:parseInt(a.getAttribute("Width"),10)}}},!e.imageFormatSupported(d.Image.Format))throw new Error(e.getString("Errors.ImageFormat",d.Image.Format.toUpperCase()));for(i=l.getElementsByTagName("DisplayRect"),void 0===i&&(i=l.getElementsByTagNameNS(u,"DisplayRect")[0]),s=0;s<i.length;s++)r=i[s],o=r.getElementsByTagName("Rect")[0],void 0===o&&(o=r.getElementsByTagNameNS(u,"Rect")[0]),h.push({Rect:{X:parseInt(o.getAttribute("X"),10),Y:parseInt(o.getAttribute("Y"),10),Width:parseInt(o.getAttribute("Width"),10),Height:parseInt(o.getAttribute("Height"),10),MinLevel:parseInt(r.getAttribute("MinLevel"),10),MaxLevel:parseInt(r.getAttribute("MaxLevel"),10)}});return h.length&&(d.Image.DisplayRect=h),configureFromObject(t,d)}catch(t){throw t instanceof Error?t:new Error(e.getString("Errors.Dzi"))}else{if("Collection"==c)throw new Error(e.getString("Errors.Dzc"));if("Error"==c){var m=l.getElementsByTagName("Message")[0],p=m.firstChild.nodeValue;throw new Error(p)}}throw new Error(e.getString("Errors.Dzi"))}function configureFromObject(t,n){var i,r,o=n.Image,a=o.Url,s=o.Format,l=o.Size,c=o.DisplayRect||[],u=parseInt(l.Width,10),d=parseInt(l.Height,10),h=parseInt(o.TileSize,10),m=parseInt(o.Overlap,10),p=[];
for(r=0;r<c.length;r++)i=c[r].Rect,p.push(new e.DisplayRect(parseInt(i.X,10),parseInt(i.Y,10),parseInt(i.Width,10),parseInt(i.Height,10),parseInt(i.MinLevel,10),parseInt(i.MaxLevel,10)));return e.extend(!0,{width:u,height:d,tileSize:h,tileOverlap:m,minLevel:null,maxLevel:null,tilesUrl:a,fileFormat:s,displayRects:p},n)}e.DziTileSource=function(t,n,i,r,o,a,s,l,c){var u,d,h,m;if(m=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=m.tilesUrl,this.fileFormat=m.fileFormat,this.displayRects=m.displayRects,this.displayRects)for(u=this.displayRects.length-1;u>=0;u--)for(d=this.displayRects[u],h=d.minLevel;h<=d.maxLevel;h++)this._levelRects[h]||(this._levelRects[h]=[]),this._levelRects[h].push(d);e.TileSource.apply(this,[m])},e.extend(e.DziTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){var n;return e.Image?n=e.Image.xmlns:e.documentElement&&("Image"!=e.documentElement.localName&&"Image"!=e.documentElement.tagName||(n=e.documentElement.namespaceURI)),"http://schemas.microsoft.com/deepzoom/2008"==n||"http://schemas.microsoft.com/deepzoom/2009"==n},configure:function(t,n){var i;return i=e.isPlainObject(t)?configureFromObject(this,t):configureFromXML(this,t),n&&!i.tilesUrl&&(i.tilesUrl=n.replace(/([^\/]+?)(\.(dzi|xml|js))?\/?(\?.*)?$/,"$1_files/"),n.search(/\.(dzi|xml|js)\?/)!=-1?i.queryParams=n.match(/\?.*/):i.queryParams=""),i},getTileUrl:function(e,t,n){return[this.tilesUrl,e,"/",t,"_",n,".",this.fileFormat,this.queryParams].join("")},tileExists:function(e,t,n){var i,r,o,a,s,l,c,u=this._levelRects[e];if(!u||!u.length)return!0;for(c=u.length-1;c>=0;c--)if(i=u[c],!(e<i.minLevel||e>i.maxLevel)&&(r=this.getLevelScale(e),o=i.x*r,a=i.y*r,s=o+i.width*r,l=a+i.height*r,o=Math.floor(o/this.tileSize),a=Math.floor(a/this.tileSize),s=Math.ceil(s/this.tileSize),l=Math.ceil(l/this.tileSize),o<=t&&t<s&&a<=n&&n<l))return!0;return!1}})}(OpenSeadragon),function(e){function canBeTiled(e){var t=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json"],n=t.indexOf(e[0])!=-1;return!n||e.indexOf("sizeByW")!=-1}function constructLevels(e){for(var t=[],n=0;n<e.sizes.length;n++)t.push({url:e["@id"]+"/full/"+e.sizes[n].width+",/0/default.jpg",width:e.sizes[n].width,height:e.sizes[n].height});return t.sort(function(e,t){return e.width-t.width})}function configureFromXml10(t){if(!t||!t.documentElement)throw new Error(e.getString("Errors.Xml"));var n=t.documentElement,i=n.tagName,r=null;if("info"==i)try{return r={},parseXML10(n,r),r}catch(t){throw t instanceof Error?t:new Error(e.getString("Errors.IIIF"))}throw new Error(e.getString("Errors.IIIF"))}function parseXML10(t,n,i){var r,o;if(3==t.nodeType&&i)o=t.nodeValue.trim(),o.match(/^\d*$/)&&(o=Number(o)),n[i]?(e.isArray(n[i])||(n[i]=[n[i]]),n[i].push(o)):n[i]=o;else if(1==t.nodeType)for(r=0;r<t.childNodes.length;r++)parseXML10(t.childNodes[r],n,t.nodeName)}e.IIIFTileSource=function(t){if(e.extend(!0,this,t),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(t.tileSizePerScaleFactor={},this.tile_width&&this.tile_height)t.tileWidth=this.tile_width,t.tileHeight=this.tile_height;else if(this.tile_width)t.tileSize=this.tile_width;else if(this.tile_height)t.tileSize=this.tile_height;else if(this.tiles)if(1==this.tiles.length)t.tileWidth=this.tiles[0].width,t.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var n=0;n<this.tiles.length;n++)for(var i=0;i<this.tiles[n].scaleFactors.length;i++){var r=this.tiles[n].scaleFactors[i];this.scale_factors.push(r),t.tileSizePerScaleFactor[r]={width:this.tiles[n].width,height:this.tiles[n].height||this.tiles[n].width}}}else if(canBeTiled(t.profile)){for(var o=Math.min(this.height,this.width),a=[256,512,1024],s=[],l=0;l<a.length;l++)a[l]<=o&&s.push(a[l]);s.length>0?t.tileSize=Math.max.apply(null,s):t.tileSize=o}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,t.levels=constructLevels(this),e.extend(!0,t,{width:t.levels[t.levels.length-1].width,height:t.levels[t.levels.length-1].height,tileSize:Math.max(t.height,t.width),tileOverlap:0,minLevel:0,maxLevel:t.levels.length-1}),this.levels=t.levels):e.console.error("Nothing in the info.json to construct image pyramids from");t.maxLevel||this.emulateLegacyImagePyramid||(this.scale_factors?t.maxLevel=Math.floor(Math.pow(Math.max.apply(null,this.scale_factors),.5)):t.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)))),e.TileSource.apply(this,[t])},e.extend(e.IIIFTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return!(!e.protocol||"http://iiif.io/api/image"!=e.protocol)||(!(!e["@context"]||"http://library.stanford.edu/iiif/image-api/1.1/context.json"!=e["@context"]&&"http://iiif.io/api/image/1/context.json"!=e["@context"])||(!(!e.profile||0!==e.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html"))||(!!(e.identifier&&e.width&&e.height)||!(!e.documentElement||"info"!=e.documentElement.tagName||"http://library.stanford.edu/iiif/image-api/ns/"!=e.documentElement.namespaceURI))))},configure:function(t,n){if(e.isPlainObject(t))return t["@context"]?t:(t["@context"]="http://iiif.io/api/image/1.0/context.json",t["@id"]=n.replace("/info.json",""),t);var i=configureFromXml10(t);return i["@context"]="http://iiif.io/api/image/1.0/context.json",i["@id"]=n.replace("/info.xml",""),i},getTileWidth:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileWidth.call(this,t);var n=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].width:this._tileWidth},getTileHeight:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileHeight.call(this,t);var n=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].height:this._tileHeight},getLevelScale:function(t){if(this.emulateLegacyImagePyramid){var n=NaN;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(n=this.levels[t].width/this.levels[this.maxLevel].width),n}return e.TileSource.prototype.getLevelScale.call(this,t)},getNumTiles:function(t){if(this.emulateLegacyImagePyramid){var n=this.getLevelScale(t);return n?new e.Point(1,1):new e.Point(0,0)}return e.TileSource.prototype.getNumTiles.call(this,t)},getTileAtPoint:function(t,n){return this.emulateLegacyImagePyramid?new e.Point(0,0):e.TileSource.prototype.getTileAtPoint.call(this,t,n)},getTileUrl:function(e,t,n){if(this.emulateLegacyImagePyramid){var i=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(i=this.levels[e].url),i}var r,o,a,s,l,c,u,d,h,m,p,f,g="0",v=Math.pow(.5,this.maxLevel-e),y=Math.ceil(this.width*v),b=Math.ceil(this.height*v);return r=this.getTileWidth(e),o=this.getTileHeight(e),a=Math.ceil(r/v),s=Math.ceil(o/v),p=this["@context"].indexOf("/1.0/context.json")>-1||this["@context"].indexOf("/1.1/context.json")>-1||this["@context"].indexOf("/1/context.json")>-1?"native.jpg":"default.jpg",y<r&&b<o?(m=y+",",l="full"):(c=t*a,u=n*s,d=Math.min(a,this.width-c),h=Math.min(s,this.height-u),m=Math.ceil(d*v)+",",l=[c,u,d,h].join(",")),f=[this["@id"],l,m,g,p].join("/")}})}(OpenSeadragon),function(e){e.OsmTileSource=function(t,n,i,r,o){var a;a=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},a.width&&a.height||(a.width=65572864,a.height=65572864),a.tileSize||(a.tileSize=256,a.tileOverlap=0),a.tilesUrl||(a.tilesUrl="http://tile.openstreetmap.org/"),a.minLevel=8,e.TileSource.apply(this,[a])},e.extend(e.OsmTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"openstreetmaps"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,n){return this.tilesUrl+(e-8)+"/"+t+"/"+n+".png"}})}(OpenSeadragon),function(e){e.TmsTileSource=function(t,n,i,r,o){var a;a=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var s,l=256*Math.ceil(a.width/256),c=256*Math.ceil(a.height/256);s=l>c?l/256:c/256,a.maxLevel=Math.ceil(Math.log(s)/Math.log(2))-1,a.tileSize=256,a.width=l,a.height=c,e.TileSource.apply(this,[a])},e.extend(e.TmsTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"tiledmapservice"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,n){var i=this.getNumTiles(e).y-1;return this.tilesUrl+e+"/"+t+"/"+(i-n)+".png"}})}(OpenSeadragon),function(e){function filterFiles(t){var n,i,r=[];for(i=0;i<t.length;i++)n=t[i],n.height&&n.width&&n.url&&(n.url.toLowerCase().match(/^.*\.(png|jpg|jpeg|gif)(?:\?.*)?$/)||n.mimetype&&n.mimetype.toLowerCase().match(/^.*\/(png|jpg|jpeg|gif)$/))?r.push({url:n.url,width:Number(n.width),height:Number(n.height)}):e.console.error("Unsupported image format: %s",n.url?n.url:"<no URL>");return r.sort(function(e,t){return e.height-t.height})}function configureFromXML(t,n){if(!n||!n.documentElement)throw new Error(e.getString("Errors.Xml"));var i,r,o=n.documentElement,a=o.tagName,s=null,l=[];if("image"==a)try{for(s={type:o.getAttribute("type"),levels:[]},l=o.getElementsByTagName("level"),r=0;r<l.length;r++)i=l[r],s.levels.push({url:i.getAttribute("url"),width:parseInt(i.getAttribute("width"),10),height:parseInt(i.getAttribute("height"),10)});return configureFromObject(t,s)}catch(e){throw e instanceof Error?e:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if("collection"==a)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"==a)throw new Error("Error: "+n)}throw new Error("Unknown element "+a)}function configureFromObject(e,t){return t.levels}e.LegacyTileSource=function(t){var n,i,r;e.isArray(t)&&(n={type:"legacy-image-pyramid",levels:t}),n.levels=filterFiles(n.levels),n.levels.length>0?(i=n.levels[n.levels.length-1].width,r=n.levels[n.levels.length-1].height):(i=0,r=0,e.console.error("No supported image formats found")),e.extend(!0,n,{width:i,height:r,tileSize:Math.max(r,i),tileOverlap:0,minLevel:0,maxLevel:n.levels.length>0?n.levels.length-1:0}),e.TileSource.apply(this,[n]),this.levels=n.levels},e.extend(e.LegacyTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"legacy-image-pyramid"==e.type||e.documentElement&&"legacy-image-pyramid"==e.documentElement.getAttribute("type")},configure:function(t,n){var i;return i=e.isPlainObject(t)?configureFromObject(this,t):configureFromXML(this,t)},getLevelScale:function(e){var t=NaN;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){var n=this.getLevelScale(t);return n?new e.Point(1,1):new e.Point(0,0)},getTileAtPoint:function(t,n){return new e.Point(0,0)},getTileUrl:function(e,t,n){var i=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(i=this.levels[e].url),i}})}(OpenSeadragon),function(e){e.ImageTileSource=function(t){t=e.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},t),e.TileSource.apply(this,[t])},e.extend(e.ImageTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"image"===e.type},configure:function(e,t){return e},getImageInfo:function(t){var n=this._image=new Image,i=this;this.crossOriginPolicy&&(n.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(n.useCredentials=this.ajaxWithCredentials),e.addEvent(n,"load",function(){i.width=n.naturalWidth,i.height=n.naturalHeight,i.aspectRatio=i.width/i.height,i.dimensions=new e.Point(i.width,i.height),i._tileWidth=i.width,i._tileHeight=i.height,i.tileOverlap=0,i.minLevel=0,i.levels=i._buildLevels(),i.maxLevel=i.levels.length-1,i.ready=!0,i.raiseEvent("ready",{tileSource:i})}),e.addEvent(n,"error",function(){i.raiseEvent("open-failed",{message:"Error loading image at "+t,source:t})}),n.src=t},getLevelScale:function(e){var t=NaN;return e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){var n=this.getLevelScale(t);return n?new e.Point(1,1):new e.Point(0,0)},getTileAtPoint:function(t,n){return new e.Point(0,0)},getTileUrl:function(e,t,n){var i=null;return e>=this.minLevel&&e<=this.maxLevel&&(i=this.levels[e].url),i},getContext2D:function(e,t,n){var i=null;return e>=this.minLevel&&e<=this.maxLevel&&(i=this.levels[e].context2D),i},_buildLevels:function(){var t=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!e.supportsCanvas||!this.useCanvas)return delete this._image,t;var n=this._image.naturalWidth,i=this._image.naturalHeight,r=document.createElement("canvas"),o=r.getContext("2d");if(r.width=n,r.height=i,o.drawImage(this._image,0,0,n,i),t[0].context2D=o,delete this._image,e.isCanvasTainted(r))return t;for(;n>=2&&i>=2;){n=Math.floor(n/2),i=Math.floor(i/2);var a=document.createElement("canvas"),s=a.getContext("2d");a.width=n,a.height=i,s.drawImage(r,0,0,n,i),t.splice(0,0,{context2D:s,width:n,height:i}),r=a,o=s}return t}})}(OpenSeadragon),function(e){e.TileSourceCollection=function(t,n,i,r){e.console.error("TileSourceCollection is deprecated; use World instead")}}(OpenSeadragon),function(e){function scheduleFade(t){e.requestAnimationFrame(function(){updateFade(t)})}function updateFade(t){var n,i,r;t.shouldFade&&(n=e.now(),i=n-t.fadeBeginTime,r=1-i/t.fadeLength,r=Math.min(1,r),r=Math.max(0,r),t.imgGroup&&e.setElementOpacity(t.imgGroup,r,!0),r>0&&scheduleFade(t))}function beginFading(t){t.shouldFade=!0,t.fadeBeginTime=e.now()+t.fadeDelay,window.setTimeout(function(){scheduleFade(t)},t.fadeDelay)}function stopFading(t){t.shouldFade=!1,t.imgGroup&&e.setElementOpacity(t.imgGroup,1,!0)}function inTo(t,n){t.element.disabled||(n>=e.ButtonState.GROUP&&t.currentState==e.ButtonState.REST&&(stopFading(t),t.currentState=e.ButtonState.GROUP),n>=e.ButtonState.HOVER&&t.currentState==e.ButtonState.GROUP&&(t.imgHover&&(t.imgHover.style.visibility=""),t.currentState=e.ButtonState.HOVER),n>=e.ButtonState.DOWN&&t.currentState==e.ButtonState.HOVER&&(t.imgDown&&(t.imgDown.style.visibility=""),t.currentState=e.ButtonState.DOWN))}function outTo(t,n){t.element.disabled||(n<=e.ButtonState.HOVER&&t.currentState==e.ButtonState.DOWN&&(t.imgDown&&(t.imgDown.style.visibility="hidden"),t.currentState=e.ButtonState.HOVER),n<=e.ButtonState.GROUP&&t.currentState==e.ButtonState.HOVER&&(t.imgHover&&(t.imgHover.style.visibility="hidden"),t.currentState=e.ButtonState.GROUP),n<=e.ButtonState.REST&&t.currentState==e.ButtonState.GROUP&&(beginFading(t),t.currentState=e.ButtonState.REST))}e.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},e.Button=function(t){var n=this;e.EventSource.call(this),e.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null},t),this.element=t.element||e.makeNeutralElement("div"),t.element||(this.imgRest=e.makeTransparentImage(this.srcRest),this.imgGroup=e.makeTransparentImage(this.srcGroup),this.imgHover=e.makeTransparentImage(this.srcHover),this.imgDown=e.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,this.element.style.position="relative",e.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",e.Browser.vendor==e.BROWSERS.FIREFOX&&e.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=e.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new e.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(t){t.insideElementPressed?(inTo(n,e.ButtonState.DOWN),n.raiseEvent("enter",{originalEvent:t.originalEvent})):t.buttonDownAny||inTo(n,e.ButtonState.HOVER)},focusHandler:function(e){this.enterHandler(e),n.raiseEvent("focus",{originalEvent:e.originalEvent})},exitHandler:function(t){outTo(n,e.ButtonState.GROUP),t.insideElementPressed&&n.raiseEvent("exit",{originalEvent:t.originalEvent})},blurHandler:function(e){this.exitHandler(e),n.raiseEvent("blur",{originalEvent:e.originalEvent})},pressHandler:function(t){inTo(n,e.ButtonState.DOWN),n.raiseEvent("press",{originalEvent:t.originalEvent})},releaseHandler:function(t){t.insideElementPressed&&t.insideElementReleased?(outTo(n,e.ButtonState.HOVER),n.raiseEvent("release",{originalEvent:t.originalEvent})):t.insideElementPressed?outTo(n,e.ButtonState.GROUP):inTo(n,e.ButtonState.HOVER)},clickHandler:function(e){e.quick&&n.raiseEvent("click",{originalEvent:e.originalEvent})},keyHandler:function(e){return 13!==e.keyCode||(n.raiseEvent("click",{originalEvent:e.originalEvent}),n.raiseEvent("release",{originalEvent:e.originalEvent}),!1)}}),outTo(this,e.ButtonState.REST)},e.extend(e.Button.prototype,e.EventSource.prototype,{notifyGroupEnter:function(){inTo(this,e.ButtonState.GROUP)},notifyGroupExit:function(){outTo(this,e.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,e.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,e.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()}})}(OpenSeadragon),function(e){e.ButtonGroup=function(t){e.extend(!0,this,{buttons:[],clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},t);var n,i=this.buttons.concat([]),r=this;if(this.element=t.element||e.makeNeutralElement("div"),!t.group)for(this.label=e.makeNeutralElement("label"),this.element.style.display="inline-block",this.element.appendChild(this.label),n=0;n<i.length;n++)this.element.appendChild(i[n].element);e.setElementTouchActionNone(this.element),this.tracker=new e.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(e){var t;for(t=0;t<r.buttons.length;t++)r.buttons[t].notifyGroupEnter()},exitHandler:function(e){var t;if(!e.insideElementPressed)for(t=0;t<r.buttons.length;t++)r.buttons[t].notifyGroupExit()}})},e.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateExit:function(){this.tracker.exitHandler({eventSource:this.tracker})}}}(OpenSeadragon),function(e){e.Rect=function(e,t,n,i,r){this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0,this.width="number"==typeof n?n:0,this.height="number"==typeof i?i:0,this.degrees="number"==typeof r?r:0,this.degrees=this.degrees%360,this.degrees<0&&(this.degrees+=360);var o,a;this.degrees>=270?(o=this.getTopRight(),this.x=o.x,this.y=o.y,a=this.height,this.height=this.width,this.width=a,this.degrees-=270):this.degrees>=180?(o=this.getBottomRight(),this.x=o.x,this.y=o.y,this.degrees-=180):this.degrees>=90&&(o=this.getBottomLeft(),this.x=o.x,this.y=o.y,a=this.height,this.height=this.width,this.width=a,this.degrees-=90)},e.Rect.fromSummits=function(t,n,i){var r=t.distanceTo(n),o=t.distanceTo(i),a=n.minus(t),s=Math.atan(a.y/a.x);return a.x<0?s+=Math.PI:a.y<0&&(s+=2*Math.PI),new e.Rect(t.x,t.y,r,o,s/Math.PI*180)},e.Rect.prototype={clone:function(){return new e.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new e.Point(this.x,this.y)},getBottomRight:function(){return new e.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new e.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new e.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new e.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new e.Point(this.width,this.height)},equals:function(t){return t instanceof e.Rect&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height&&this.degrees===t.degrees},times:function(t){return new e.Rect(this.x*t,this.y*t,this.width*t,this.height*t,this.degrees)},translate:function(t){return new e.Rect(this.x+t.x,this.y+t.y,this.width,this.height,this.degrees)},union:function(t){var n=this.getBoundingBox(),i=t.getBoundingBox(),r=Math.min(n.x,i.x),o=Math.min(n.y,i.y),a=Math.max(n.x+n.width,i.x+i.width),s=Math.max(n.y+n.height,i.y+i.height);return new e.Rect(r,o,a-r,s-o)},intersection:function(t){function getIntersection(t,i,r,o){var a=i.minus(t),s=o.minus(r),l=-s.x*a.y+a.x*s.y;if(0===l)return null;var c=(a.x*(t.y-r.y)-a.y*(t.x-r.x))/l,u=(s.x*(t.y-r.y)-s.y*(t.x-r.x))/l;return-n<=c&&c<=1-n&&-n<=u&&u<=1-n?new e.Point(t.x+u*a.x,t.y+u*a.y):null}var n=1e-10,i=[],r=this.getTopLeft();t.containsPoint(r,n)&&i.push(r);var o=this.getTopRight();t.containsPoint(o,n)&&i.push(o);var a=this.getBottomLeft();t.containsPoint(a,n)&&i.push(a);var s=this.getBottomRight();t.containsPoint(s,n)&&i.push(s);var l=t.getTopLeft();this.containsPoint(l,n)&&i.push(l);var c=t.getTopRight();this.containsPoint(c,n)&&i.push(c);var u=t.getBottomLeft();this.containsPoint(u,n)&&i.push(u);var d=t.getBottomRight();this.containsPoint(d,n)&&i.push(d);for(var h=this._getSegments(),m=t._getSegments(),p=0;p<h.length;p++)for(var f=h[p],g=0;g<m.length;g++){var v=m[g],y=getIntersection(f[0],f[1],v[0],v[1]);y&&i.push(y)}if(0===i.length)return null;for(var b=i[0].x,_=i[0].x,w=i[0].y,x=i[0].y,C=1;C<i.length;C++){var S=i[C];S.x<b&&(b=S.x),S.x>_&&(_=S.x),S.y<w&&(w=S.y),S.y>x&&(x=S.y)}return new e.Rect(b,w,_-b,x-w)},_getSegments:function(){var e=this.getTopLeft(),t=this.getTopRight(),n=this.getBottomLeft(),i=this.getBottomRight();return[[e,t],[t,i],[i,n],[n,e]]},rotate:function(t,n){if(t%=360,0===t)return this.clone();t<0&&(t+=360),n=n||this.getCenter();var i=this.getTopLeft().rotate(t,n),r=this.getTopRight().rotate(t,n),o=r.minus(i),a=Math.atan(o.y/o.x);return o.x<0?a+=Math.PI:o.y<0&&(a+=2*Math.PI),new e.Rect(i.x,i.y,this.width,this.height,a/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var t=this.getTopLeft(),n=this.getTopRight(),i=this.getBottomLeft(),r=this.getBottomRight(),o=Math.min(t.x,n.x,i.x,r.x),a=Math.max(t.x,n.x,i.x,r.x),s=Math.min(t.y,n.y,i.y,r.y),l=Math.max(t.y,n.y,i.y,r.y);return new e.Rect(o,s,a-o,l-s)},getIntegerBoundingBox:function(){var t=this.getBoundingBox(),n=Math.floor(t.x),i=Math.floor(t.y),r=Math.ceil(t.width+t.x-n),o=Math.ceil(t.height+t.y-i);return new e.Rect(n,i,r,o)},containsPoint:function(e,t){t=t||0;var n=this.getTopLeft(),i=this.getTopRight(),r=this.getBottomLeft(),o=i.minus(n),a=r.minus(n);return(e.x-n.x)*o.x+(e.y-n.y)*o.y>=-t&&(e.x-i.x)*o.x+(e.y-i.y)*o.y<=t&&(e.x-n.x)*a.x+(e.y-n.y)*a.y>=-t&&(e.x-r.x)*a.x+(e.y-r.y)*a.y<=t},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(OpenSeadragon),function(e){function onStripDrag(t){var n=Number(this.element.style.marginLeft.replace("px","")),i=Number(this.element.style.marginTop.replace("px","")),r=Number(this.element.style.width.replace("px","")),o=Number(this.element.style.height.replace("px","")),a=e.getElementSize(this.viewer.canvas);return this.dragging=!0,this.element&&("horizontal"==this.scroll?-t.delta.x>0?n>-(r-a.x)&&(this.element.style.marginLeft=n+2*t.delta.x+"px",loadPanels(this,a.x,n+2*t.delta.x)):-t.delta.x<0&&n<0&&(this.element.style.marginLeft=n+2*t.delta.x+"px",loadPanels(this,a.x,n+2*t.delta.x)):-t.delta.y>0?i>-(o-a.y)&&(this.element.style.marginTop=i+2*t.delta.y+"px",loadPanels(this,a.y,i+2*t.delta.y)):-t.delta.y<0&&i<0&&(this.element.style.marginTop=i+2*t.delta.y+"px",loadPanels(this,a.y,i+2*t.delta.y))),!1}function onStripScroll(t){var n=Number(this.element.style.marginLeft.replace("px","")),i=Number(this.element.style.marginTop.replace("px","")),r=Number(this.element.style.width.replace("px","")),o=Number(this.element.style.height.replace("px","")),a=e.getElementSize(this.viewer.canvas);return this.element&&("horizontal"==this.scroll?t.scroll>0?n>-(r-a.x)&&(this.element.style.marginLeft=n-60*t.scroll+"px",loadPanels(this,a.x,n-60*t.scroll)):t.scroll<0&&n<0&&(this.element.style.marginLeft=n-60*t.scroll+"px",loadPanels(this,a.x,n-60*t.scroll)):t.scroll<0?i>a.y-o&&(this.element.style.marginTop=i+60*t.scroll+"px",loadPanels(this,a.y,i+60*t.scroll)):t.scroll>0&&i<0&&(this.element.style.marginTop=i+60*t.scroll+"px",loadPanels(this,a.y,i+60*t.scroll))),!1}function loadPanels(t,n,i){var r,o,a,s,l,c,u;for(r="horizontal"==t.scroll?t.panelWidth:t.panelHeight,o=Math.ceil(n/r)+5,a=Math.ceil((Math.abs(i)+n)/r)+1,o=a-o,o=o<0?0:o,c=o;c<a&&c<t.panels.length;c++)u=t.panels[c],u.activePanel||(s=new e.Viewer({id:u.id,tileSources:[t.viewer.tileSources[c]],element:u,navigatorSizeRatio:t.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0}),s.displayRegion=e.makeNeutralElement("div"),s.displayRegion.id=u.id+"-displayregion",s.displayRegion.className="displayregion",l=s.displayRegion.style,l.position="relative",l.top="0px",l.left="0px",l.fontSize="0px",l.overflow="hidden",l.float="left",l.cssFloat="left",l.styleFloat="left",l.zIndex=999999999,l.cursor="default",l.width=t.panelWidth-4+"px",l.height=t.panelHeight-4+"px",s.displayRegion.innerTracker=new e.MouseTracker({element:s.displayRegion,startDisabled:!0}),u.getElementsByTagName("div")[0].appendChild(s.displayRegion),u.activePanel=!0)}function onStripEnter(e){var t=e.eventSource.element;return"horizontal"==this.scroll?t.style.marginBottom="0px":t.style.marginLeft="0px",!1}function onStripExit(t){var n=t.eventSource.element;return"horizontal"==this.scroll?n.style.marginBottom="-"+e.getElementSize(n).y/2+"px":n.style.marginLeft="-"+e.getElementSize(n).x/2+"px",!1}function onKeyDown(e){if(e.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 38:return onStripScroll.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 40:return onStripScroll.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 37:return onStripScroll.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 39:return onStripScroll.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}function onKeyPress(e){if(e.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 61:return onStripScroll.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 45:return onStripScroll.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 48:case 119:case 87:return onStripScroll.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 115:case 83:return onStripScroll.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 97:return onStripScroll.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 100:return onStripScroll.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}var t={};e.ReferenceStrip=function(n){var i,r,o,a=this,s=n.viewer,l=e.getElementSize(s.element);for(n.id||(n.id="referencestrip-"+e.now(),this.element=e.makeNeutralElement("div"),this.element.id=n.id,this.element.className="referencestrip"),n=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.referenceStripSizeRatio,position:e.DEFAULT_SETTINGS.referenceStripPosition,scroll:e.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold},n,{element:this.element,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1}),e.extend(this,n),t[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,r=this.element.style,r.marginTop="0px",r.marginRight="0px",r.marginBottom="0px",r.marginLeft="0px",r.left="0px",r.bottom="0px",r.border="0px",r.background="#000",r.position="relative",e.setElementTouchActionNone(this.element),e.setElementOpacity(this.element,.8),this.viewer=s,this.innerTracker=new e.MouseTracker({element:this.element,dragHandler:e.delegate(this,onStripDrag),scrollHandler:e.delegate(this,onStripScroll),enterHandler:e.delegate(this,onStripEnter),exitHandler:e.delegate(this,onStripExit),keyDownHandler:e.delegate(this,onKeyDown),keyHandler:e.delegate(this,onKeyPress)}),n.width&&n.height?(this.element.style.width=n.width+"px",this.element.style.height=n.height+"px",s.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):"horizontal"==n.scroll?(this.element.style.width=l.x*n.sizeRatio*s.tileSources.length+12*s.tileSources.length+"px",this.element.style.height=l.y*n.sizeRatio+"px",s.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=l.y*n.sizeRatio*s.tileSources.length+12*s.tileSources.length+"px",this.element.style.width=l.x*n.sizeRatio+"px",s.addControl(this.element,{anchor:e.ControlAnchor.TOP_LEFT})),this.panelWidth=l.x*this.sizeRatio+8,this.panelHeight=l.y*this.sizeRatio+8,this.panels=[],o=0;o<s.tileSources.length;o++)i=e.makeNeutralElement("div"),i.id=this.element.id+"-"+o,i.style.width=a.panelWidth+"px",i.style.height=a.panelHeight+"px",i.style.display="inline",i.style.float="left",i.style.cssFloat="left",i.style.styleFloat="left",i.style.padding="2px",e.setElementTouchActionNone(i),i.innerTracker=new e.MouseTracker({element:i,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,pressHandler:function(t){t.eventSource.dragging=e.now()},releaseHandler:function(t){var n=t.eventSource,i=n.element.id,r=Number(i.split("-")[2]),o=e.now();t.insideElementPressed&&t.insideElementReleased&&n.dragging&&o-n.dragging<n.clickTimeThreshold&&(n.dragging=null,s.goToPage(r))}}),this.element.appendChild(i),i.activePanel=!1,this.panels.push(i);loadPanels(this,"vertical"==this.scroll?l.y:l.x,0),this.setFocus(0)},e.extend(e.ReferenceStrip.prototype,e.EventSource.prototype,e.Viewer.prototype,{setFocus:function(t){var n,i=e.getElement(this.element.id+"-"+t),r=e.getElementSize(this.viewer.canvas),o=Number(this.element.style.width.replace("px","")),a=Number(this.element.style.height.replace("px","")),s=-Number(this.element.style.marginLeft.replace("px","")),l=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==i&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=i,this.currentSelected.style.background="#999","horizontal"==this.scroll?(n=Number(t)*(this.panelWidth+3),n>s+r.x-this.panelWidth?(n=Math.min(n,o-r.x),
this.element.style.marginLeft=-n+"px",loadPanels(this,r.x,-n)):n<s&&(n=Math.max(0,n-r.x/2),this.element.style.marginLeft=-n+"px",loadPanels(this,r.x,-n))):(n=Number(t)*(this.panelHeight+3),n>l+r.y-this.panelHeight?(n=Math.min(n,a-r.y),this.element.style.marginTop=-n+"px",loadPanels(this,r.y,-n)):n<l&&(n=Math.max(0,n-r.y/2),this.element.style.marginTop=-n+"px",loadPanels(this,r.y,-n))),this.currentPage=t,onStripEnter.call(this,{eventSource:this.innerTracker}))},update:function(){return!!t[this.id].animating&&(e.console.log("image reference strip update"),!0)},destroy:function(){this.element&&this.element.parentNode.removeChild(this.element)}})}(OpenSeadragon),function(e){e.DisplayRect=function(t,n,i,r,o,a){e.Rect.apply(this,[t,n,i,r]),this.minLevel=o,this.maxLevel=a},e.extend(e.DisplayRect.prototype,e.Rect.prototype)}(OpenSeadragon),function(e){function transform(e,t){return(1-Math.exp(e*-t))/(1-Math.exp(-e))}e.Spring=function(t){var n=arguments;"object"!=typeof t&&(t={initial:n.length&&"number"==typeof n[0]?n[0]:void 0,springStiffness:n.length>1?n[1].springStiffness:5,animationTime:n.length>1?n[1].animationTime:1.5}),e.console.assert("number"==typeof t.springStiffness&&0!==t.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),e.console.assert("number"==typeof t.animationTime&&t.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),t.exponential&&(this._exponential=!0,delete t.exponential),e.extend(!0,this,t),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:e.now()},e.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},e.Spring.prototype={resetTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=t,this.start.time=this.target.time=this.current.time=e.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=t,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(t){this.start.value+=t,this.target.value+=t,this._exponential&&(e.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(t){this._exponential=t,this._exponential&&(e.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=e.now();var t,n;this._exponential?(t=this.start._logValue,n=this.target._logValue):(t=this.start.value,n=this.target.value);var i=this.current.time>=this.target.time?n:t+(n-t)*transform(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time));this._exponential?this.current.value=Math.exp(i):this.current.value=i},isAtTargetValue:function(){return this.current.value===this.target.value}}}(OpenSeadragon),function(e){function ImageJob(t){e.extend(!0,this,{timeout:e.DEFAULT_SETTINGS.timeout,jobId:null},t),this.image=null}function completeJob(e,t,n){var i;e.jobsInProgress--,(!e.jobLimit||e.jobsInProgress<e.jobLimit)&&e.jobQueue.length>0&&(i=e.jobQueue.shift(),i.start(),e.jobsInProgress++),n(t.image,t.errorMsg)}ImageJob.prototype={errorMsg:null,start:function(){var e=this;this.image=new Image,this.crossOriginPolicy!==!1&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.onload=function(){e.finish(!0)},this.image.onabort=this.image.onerror=function(){e.errorMsg="Image load aborted",e.finish(!1)},this.jobId=window.setTimeout(function(){e.errorMsg="Image load exceeded timeout",e.finish(!1)},this.timeout),this.image.src=this.src},finish:function(e){this.image.onload=this.image.onerror=this.image.onabort=null,e||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},e.ImageLoader=function(t){e.extend(!0,this,{jobLimit:e.DEFAULT_SETTINGS.imageLoaderLimit,jobQueue:[],jobsInProgress:0},t)},e.ImageLoader.prototype={addJob:function(e){var t=this,n=function(n){completeJob(t,n,e.callback)},i={src:e.src,crossOriginPolicy:e.crossOriginPolicy,callback:n,abort:e.abort},r=new ImageJob(i);!this.jobLimit||this.jobsInProgress<this.jobLimit?(r.start(),this.jobsInProgress++):this.jobQueue.push(r)},clear:function(){for(var e=0;e<this.jobQueue.length;e++){var t=this.jobQueue[e];"function"==typeof t.abort&&t.abort()}this.jobQueue=[]}}}(OpenSeadragon),function(e){e.Tile=function(e,t,n,i,r,o,a){this.level=e,this.x=t,this.y=n,this.bounds=i,this.exists=r,this.url=o,this.context2D=a,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.blendStart=null,this.opacity=null,this.distance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0},e.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(t){return this.cacheImageRecord?this.loaded?(this.element||(this.element=e.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!=t&&t.appendChild(this.element),this.imgElement.parentNode!=this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",void e.setElementOpacity(this.element,this.opacity)):void e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString()):void e.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString())},drawCanvas:function(t,n,i,r){var o,a=this.position.times(e.pixelDensityRatio),s=this.size.times(e.pixelDensityRatio);return this.context2D||this.cacheImageRecord?(o=this.context2D||this.cacheImageRecord.getRenderedContext(),this.loaded&&o?(t.save(),t.globalAlpha=this.opacity,"number"==typeof i&&1!==i&&(a=a.times(i),s=s.times(i)),r instanceof e.Point&&(a=a.plus(r)),1===t.globalAlpha&&this._hasTransparencyChannel()&&t.clearRect(a.x+1,a.y+1,s.x-2,s.y-2),n({context:t,tile:this,rendered:o}),t.drawImage(o.canvas,0,0,o.canvas.width,o.canvas.height,a.x,a.y,s.x,s.y),void t.restore()):void e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString())):void e.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString())},getScaleForEdgeSmoothing:function(){var t;if(this.cacheImageRecord)t=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return e.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;t=this.context2D}return t.canvas.width/(this.size.x*e.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(t,n,i){var r=Math.max(1,Math.ceil((i.x-n.x)/2)),o=Math.max(1,Math.ceil((i.y-n.y)/2));return new e.Point(r,o).minus(this.position.times(e.pixelDensityRatio).times(t||1).apply(function(e){return e%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(OpenSeadragon),function(e){e.OverlayPlacement=e.Placement,e.OverlayRotationMode=e.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),e.Overlay=function(t,n,i){var r;r=e.isPlainObject(t)?t:{element:t,location:n,placement:i},this.element=r.element,this.style=r.element.style,this._init(r)},e.Overlay.prototype={_init:function(t){this.location=t.location,this.placement=void 0===t.placement?e.Placement.TOP_LEFT:t.placement,this.onDraw=t.onDraw,this.checkResize=void 0===t.checkResize||t.checkResize,this.width=void 0===t.width?null:t.width,this.height=void 0===t.height?null:t.height,this.rotationMode=t.rotationMode||e.OverlayRotationMode.EXACT,this.location instanceof e.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=e.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new e.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(t,n){var i=e.Placement.properties[this.placement];i&&(i.isHorizontallyCentered?t.x-=n.x/2:i.isRight&&(t.x-=n.x),i.isVerticallyCentered?t.y-=n.y/2:i.isBottom&&(t.y-=n.y))},destroy:function(){var t=this.element,n=this.style;t.parentNode&&(t.parentNode.removeChild(t),t.prevElementParent&&(n.display="none",document.body.appendChild(t))),this.onDraw=null,n.top="",n.left="",n.position="",null!==this.width&&(n.width=""),null!==this.height&&(n.height="");var i=e.getCssPropertyWithVendorPrefix("transformOrigin"),r=e.getCssPropertyWithVendorPrefix("transform");i&&r&&(n[i]="",n[r]="")},drawHTML:function(t,n){var i=this.element;i.parentNode!==t&&(i.prevElementParent=i.parentNode,i.prevNextSibling=i.nextSibling,t.appendChild(i),this.size=e.getElementSize(i));var r=this._getOverlayPositionAndSize(n),o=r.position,a=this.size=r.size,s=r.rotate;if(this.onDraw)this.onDraw(o,a,this.element);else{var l=this.style;l.left=o.x+"px",l.top=o.y+"px",null!==this.width&&(l.width=a.x+"px"),null!==this.height&&(l.height=a.y+"px");var c=e.getCssPropertyWithVendorPrefix("transformOrigin"),u=e.getCssPropertyWithVendorPrefix("transform");c&&u&&(s?(l[c]=this._getTransformOrigin(),l[u]="rotate("+s+"deg)"):(l[c]="",l[u]="")),l.position="absolute","none"!==l.display&&(l.display="block")}},_getOverlayPositionAndSize:function(t){var n=t.pixelFromPoint(this.location,!0),i=this._getSizeInPixels(t);this.adjust(n,i);var r=0;if(t.degrees&&this.rotationMode!==e.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var o=new e.Rect(n.x,n.y,i.x,i.y),a=this._getBoundingBox(o,t.degrees);n=a.getTopLeft(),i=a.getSize()}else r=t.degrees;return{position:n,size:i,rotate:r}},_getSizeInPixels:function(t){var n=this.size.x,i=this.size.y;if(null!==this.width||null!==this.height){var r=t.deltaPixelsFromPointsNoRotate(new e.Point(this.width||0,this.height||0),!0);null!==this.width&&(n=r.x),null!==this.height&&(i=r.y)}if(this.checkResize&&(null===this.width||null===this.height)){var o=this.size=e.getElementSize(this.element);null===this.width&&(n=o.x),null===this.height&&(i=o.y)}return new e.Point(n,i)},_getBoundingBox:function(e,t){var n=this._getPlacementPoint(e);return e.rotate(t,n).getBoundingBox()},_getPlacementPoint:function(t){var n=new e.Point(t.x,t.y),i=e.Placement.properties[this.placement];return i&&(i.isHorizontallyCentered?n.x+=t.width/2:i.isRight&&(n.x+=t.width),i.isVerticallyCentered?n.y+=t.height/2:i.isBottom&&(n.y+=t.height)),n},_getTransformOrigin:function(){var t="",n=e.Placement.properties[this.placement];return n?(n.isLeft?t="left":n.isRight&&(t="right"),n.isTop?t+=" top":n.isBottom&&(t+=" bottom"),t):t},update:function(t,n){var i=e.isPlainObject(t)?t:{location:t,placement:n};this._init({location:i.location||this.location,placement:void 0!==i.placement?i.placement:this.placement,onDraw:i.onDraw||this.onDraw,checkResize:i.checkResize||this.checkResize,width:void 0!==i.width?i.width:this.width,height:void 0!==i.height?i.height:this.height,rotationMode:i.rotationMode||this.rotationMode})},getBounds:function(t){e.console.assert(t,"A viewport must now be passed to Overlay.getBounds.");var n=this.width,i=this.height;if(null===n||null===i){var r=t.deltaPointsFromPixelsNoRotate(this.size,!0);null===n&&(n=r.x),null===i&&(i=r.y)}var o=this.location.clone();return this.adjust(o,new e.Point(n,i)),this._adjustBoundsForRotation(t,new e.Rect(o.x,o.y,n,i))},_adjustBoundsForRotation:function(t,n){if(!t||0===t.degrees||this.rotationMode===e.OverlayRotationMode.EXACT)return n;if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return n;var i=this._getOverlayPositionAndSize(t);return t.viewerElementToViewportRectangle(new e.Rect(i.position.x,i.position.y,i.size.x,i.size.y))}return n.rotate(-t.degrees,this._getPlacementPoint(n))}}}(OpenSeadragon),function(e){e.Drawer=function(t){e.console.assert(t.viewer,"[Drawer] options.viewer is required");var n=arguments;if(e.isPlainObject(t)||(t={source:n[0],viewport:n[1],element:n[2]}),e.console.assert(t.viewport,"[Drawer] options.viewport is required"),e.console.assert(t.element,"[Drawer] options.element is required"),t.source&&e.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=t.viewer,this.viewport=t.viewport,this.debugGridColor=t.debugGridColor||e.DEFAULT_SETTINGS.debugGridColor,t.opacity&&e.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=e.supportsCanvas&&(!this.viewer||this.viewer.useCanvas),this.container=e.getElement(t.element),this.canvas=e.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var i=this._calculateCanvasSize();this.canvas.width=i.x,this.canvas.height=i.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",e.setElementOpacity(this.canvas,this.opacity,!0),this.container.style.textAlign="left",this.container.appendChild(this.canvas)},e.Drawer.prototype={addOverlay:function(t,n,i,r){return e.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(t,n,i,r),this},updateOverlay:function(t,n,i){return e.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(t,n,i),this},removeOverlay:function(t){return e.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(t),this},clearOverlays:function(){return e.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},setOpacity:function(t){e.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var n=this.viewer.world,i=0;i<n.getItemCount();i++)n.getItemAt(i).setOpacity(t);return this},getOpacity:function(){e.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var t=this.viewer.world,n=0,i=0;i<t.getItemCount();i++){var r=t.getItemAt(i).getOpacity();r>n&&(n=r)}return n},needsUpdate:function(){return e.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return e.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return e.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return e.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var e=this._calculateCanvasSize();if((this.canvas.width!=e.x||this.canvas.height!=e.y)&&(this.canvas.width=e.x,this.canvas.height=e.y,null!==this.sketchCanvas)){var t=this._calculateSketchCanvasSize();this.sketchCanvas.width=t.x,this.sketchCanvas.height=t.y}this._clear()}},_clear:function(e,t){if(this.useCanvas){var n=this._getContext(e);if(t)n.clearRect(t.x,t.y,t.width,t.height);else{var i=n.canvas;n.clearRect(0,0,i.width,i.height)}}},viewportToDrawerRectangle:function(t){var n=this.viewport.pixelFromPointNoRotate(t.getTopLeft(),!0),i=this.viewport.deltaPixelsFromPointsNoRotate(t.getSize(),!0);return new e.Rect(n.x*e.pixelDensityRatio,n.y*e.pixelDensityRatio,i.x*e.pixelDensityRatio,i.y*e.pixelDensityRatio)},drawTile:function(t,n,i,r,o){if(e.console.assert(t,"[Drawer.drawTile] tile is required"),e.console.assert(n,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var a=this._getContext(i);r=r||1,t.drawCanvas(a,n,r,o)}else t.drawHTML(this.canvas)},_getContext:function(e){var t=this.context;if(e){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var n=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=n.x,this.sketchCanvas.height=n.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var i=this;this.viewer.addHandler("rotate",function resizeSketchCanvas(){i.viewer.removeHandler("rotate",resizeSketchCanvas);var e=i._calculateSketchCanvasSize();i.sketchCanvas.width=e.x,i.sketchCanvas.height=e.y})}}t=this.sketchContext}return t},saveContext:function(e){this.useCanvas&&this._getContext(e).save()},restoreContext:function(e){this.useCanvas&&this._getContext(e).restore()},setClip:function(e,t){if(this.useCanvas){var n=this._getContext(t);n.beginPath(),n.rect(e.x,e.y,e.width,e.height),n.clip()}},drawRectangle:function(e,t,n){if(this.useCanvas){var i=this._getContext(n);i.save(),i.fillStyle=t,i.fillRect(e.x,e.y,e.width,e.height),i.restore()}},blendSketch:function(t,n,i,r){var o=t;if(e.isPlainObject(o)||(o={opacity:t,scale:n,translate:i,compositeOperation:r}),this.useCanvas&&this.sketchCanvas){t=o.opacity,r=o.compositeOperation;var a=o.bounds;if(this.context.save(),this.context.globalAlpha=t,r&&(this.context.globalCompositeOperation=r),a)this.context.drawImage(this.sketchCanvas,a.x,a.y,a.width,a.height,a.x,a.y,a.width,a.height);else{n=o.scale||1,i=o.translate;var s=i instanceof e.Point?i:new e.Point(0,0),l=0,c=0;if(i){var u=this.sketchCanvas.width-this.canvas.width,d=this.sketchCanvas.height-this.canvas.height;l=Math.round(u/2),c=Math.round(d/2)}this.context.drawImage(this.sketchCanvas,s.x-l*n,s.y-c*n,(this.canvas.width+2*l)*n,(this.canvas.height+2*c)*n,-l,-c,this.canvas.width+2*l,this.canvas.height+2*c)}this.context.restore()}},drawDebugInfo:function(t,n,i){if(this.useCanvas){var r=this.context;r.save(),r.lineWidth=2*e.pixelDensityRatio,r.font="small-caps bold "+13*e.pixelDensityRatio+"px arial",r.strokeStyle=this.debugGridColor,r.fillStyle=this.debugGridColor,0!==this.viewport.degrees&&this._offsetForRotation(this.viewport.degrees),r.strokeRect(t.position.x*e.pixelDensityRatio,t.position.y*e.pixelDensityRatio,t.size.x*e.pixelDensityRatio,t.size.y*e.pixelDensityRatio);var o=(t.position.x+t.size.x/2)*e.pixelDensityRatio,a=(t.position.y+t.size.y/2)*e.pixelDensityRatio;r.translate(o,a),r.rotate(Math.PI/180*-this.viewport.degrees),r.translate(-o,-a),0===t.x&&0===t.y&&(r.fillText("Zoom: "+this.viewport.getZoom(),t.position.x*e.pixelDensityRatio,(t.position.y-30)*e.pixelDensityRatio),r.fillText("Pan: "+this.viewport.getBounds().toString(),t.position.x*e.pixelDensityRatio,(t.position.y-20)*e.pixelDensityRatio)),r.fillText("Level: "+t.level,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+20)*e.pixelDensityRatio),r.fillText("Column: "+t.x,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+30)*e.pixelDensityRatio),r.fillText("Row: "+t.y,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+40)*e.pixelDensityRatio),r.fillText("Order: "+i+" of "+n,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+50)*e.pixelDensityRatio),r.fillText("Size: "+t.size.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+60)*e.pixelDensityRatio),r.fillText("Position: "+t.position.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+70)*e.pixelDensityRatio),0!==this.viewport.degrees&&this._restoreRotationChanges(),r.restore()}},debugRect:function(t){if(this.useCanvas){var n=this.context;n.save(),n.lineWidth=2*e.pixelDensityRatio,n.strokeStyle=this.debugGridColor,n.fillStyle=this.debugGridColor,n.strokeRect(t.x*e.pixelDensityRatio,t.y*e.pixelDensityRatio,t.width*e.pixelDensityRatio,t.height*e.pixelDensityRatio),n.restore()}},getCanvasSize:function(t){var n=this._getContext(t).canvas;return new e.Point(n.width,n.height)},_offsetForRotation:function(e,t){var n=this.canvas.width/2,i=this.canvas.height/2,r=this._getContext(t);r.save(),r.translate(n,i),r.rotate(Math.PI/180*e),r.translate(-n,-i)},_restoreRotationChanges:function(e){var t=this._getContext(e);t.restore()},_calculateCanvasSize:function(){var t=e.pixelDensityRatio,n=this.viewport.getContainerSize();return{x:n.x*t,y:n.y*t}},_calculateSketchCanvasSize:function(){var e=this._calculateCanvasSize();if(0===this.viewport.getRotation())return e;var t=Math.ceil(Math.sqrt(e.x*e.x+e.y*e.y));return{x:t,y:t}}}}(OpenSeadragon),function(e){e.Viewport=function(t){var n=arguments;n.length&&n[0]instanceof e.Point&&(t={containerSize:n[0],contentSize:n[1],config:n[2]}),t.config&&(e.extend(!0,t,t.config),delete t.config),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t.margins||{}),delete t.margins,e.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:e.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:e.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:e.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:e.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:e.DEFAULT_SETTINGS.maxZoomLevel,degrees:e.DEFAULT_SETTINGS.degrees,homeFillsViewer:e.DEFAULT_SETTINGS.homeFillsViewer},t),this._updateContainerInnerSize(),this.centerSpringX=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new e.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new e.Rect(0,0,1,1),1),this.goHome(!0),this.update()},e.Viewport.prototype={resetContentSize:function(t){return e.console.assert(t,"[Viewport.resetContentSize] contentSize is required"),e.console.assert(t instanceof e.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),e.console.assert(t.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),e.console.assert(t.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new e.Rect(0,0,1,t.y/t.x),t.x),this},setHomeBounds:function(t,n){e.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(t,n)},_setContentBounds:function(t,n){e.console.assert(t,"[Viewport._setContentBounds] bounds is required"),e.console.assert(t instanceof e.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),e.console.assert(t.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),e.console.assert(t.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=t.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(n),this._contentBounds=t.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(n),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:n,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var e,t=this._contentAspectRatio/this.getAspectRatio();return e=this.homeFillsViewer?t>=1?t:1:t>=1?1:t,e/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var t=this._contentBounds.getCenter(),n=1/this.getHomeZoom(),i=n/this.getAspectRatio();return new e.Rect(t.x-n/2,t.y-i/2,n,i)},goHome:function(e){return this.viewer&&this.viewer.raiseEvent("home",{immediately:e}),this.fitBounds(this.getHomeBounds(),e)},getMinZoom:function(){var e=this.getHomeZoom(),t=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*e;return t},getMaxZoom:function(){var e=this.maxZoomLevel;return e||(e=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,e/=this._contentBounds.width),Math.max(e,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new e.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return e.extend({},this._margins)},setMargins:function(t){e.console.assert("object"===e.type(t),"[Viewport.setMargins] margins must be an object"),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(-this.getRotation())},getBoundsNoRotate:function(t){var n=this.getCenter(t),i=1/this.getZoom(t),r=i/this.getAspectRatio();return new e.Rect(n.x-i/2,n.y-r/2,i,r)},getBoundsWithMargins:function(e){return this.getBoundsNoRotateWithMargins(e).rotate(-this.getRotation(),this.getCenter(e))},getBoundsNoRotateWithMargins:function(e){var t=this.getBoundsNoRotate(e),n=this._containerInnerSize.x*this.getZoom(e);return t.x-=this._margins.left/n,t.y-=this._margins.top/n,t.width+=(this._margins.left+this._margins.right)/n,t.height+=(this._margins.top+this._margins.bottom)/n,t},getCenter:function(t){var n,i,r,o,a,s,l,c,u=new e.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),d=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return t?u:this.zoomPoint?(n=this.pixelFromPoint(this.zoomPoint,!0),i=this.getZoom(),r=1/i,o=r/this.getAspectRatio(),a=new e.Rect(u.x-r/2,u.y-o/2,r,o),s=this._pixelFromPoint(this.zoomPoint,a),l=s.minus(n),c=l.divide(this._containerInnerSize.x*i),d.plus(c)):d},getZoom:function(e){return e?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(e){return Math.max(Math.min(e,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(t,n){var i=new e.Rect(t.x,t.y,t.width,t.height);if(this.wrapHorizontal);else{var r=this.visibilityRatio*i.width,o=i.x+i.width,a=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,s=this._contentBoundsNoRotate.x-o+r,l=a-i.x-r;r>this._contentBoundsNoRotate.width?i.x+=(s+l)/2:l<0?i.x+=l:s>0&&(i.x+=s)}if(this.wrapVertical);else{var c=this.visibilityRatio*i.height,u=i.y+i.height,d=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,h=this._contentBoundsNoRotate.y-u+c,m=d-i.y-c;c>this._contentBoundsNoRotate.height?i.y+=(h+m)/2:m<0?i.y+=m:h>0&&(i.y+=h)}return this.viewer&&this.viewer.raiseEvent("constrain",{immediately:n}),i},applyConstraints:function(e){var t=this.getZoom(),n=this._applyZoomConstraints(t);t!==n&&this.zoomTo(n,this.zoomPoint,e);var i=this.getBoundsNoRotate(),r=this._applyBoundaryConstraints(i,e);return(i.x!==r.x||i.y!==r.y||e)&&this.fitBounds(r.rotate(-this.getRotation()),e),this},ensureVisible:function(e){return this.applyConstraints(e)},_fitBounds:function(t,n){n=n||{};var i=n.immediately||!1,r=n.constraints||!1,o=this.getAspectRatio(),a=t.getCenter(),s=new e.Rect(t.x,t.y,t.width,t.height,t.degrees+this.getRotation()).getBoundingBox();s.getAspectRatio()>=o?s.height=s.width/o:s.width=s.height*o,s.x=a.x-s.width/2,s.y=a.y-s.height/2;var l=1/s.width;if(r){var c=s.getAspectRatio(),u=this._applyZoomConstraints(l);l!==u&&(l=u,s.width=1/l,s.x=a.x-s.width/2,s.height=s.width/c,s.y=a.y-s.height/2),s=this._applyBoundaryConstraints(s,i),a=s.getCenter()}if(i)return this.panTo(a,!0),this.zoomTo(l,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var d=this.getBounds(),h=this.getZoom();if(0===h||Math.abs(l/h-1)<1e-8)return this.zoomTo(l,!0),this.panTo(a,i);s=s.rotate(-this.getRotation());var m=s.getTopLeft().times(l).minus(d.getTopLeft().times(h)).divide(l-h);return this.zoomTo(l,m,i)},fitBounds:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!1})},fitBoundsWithConstraints:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!0})},fitVertically:function(t){var n=new e.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(n,t)},fitHorizontally:function(t){var n=new e.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(n,t)},panBy:function(t,n){var i=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(i.plus(t),n)},panTo:function(e,t){return t?(this.centerSpringX.resetTo(e.x),this.centerSpringY.resetTo(e.y)):(this.centerSpringX.springTo(e.x),this.centerSpringY.springTo(e.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:e,immediately:t}),this},zoomBy:function(e,t,n){return this.zoomTo(this.zoomSpring.target.value*e,t,n)},zoomTo:function(t,n,i){return this.zoomPoint=n instanceof e.Point&&!isNaN(n.x)&&!isNaN(n.y)?n:null,i?this.zoomSpring.resetTo(t):this.zoomSpring.springTo(t),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:t,refPoint:n,immediately:i}),this},setRotation:function(e){return this.viewer&&this.viewer.drawer.canRotate()?(e%=360,e<0&&(e+=360),this.degrees=e,this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:e}),this):this},getRotation:function(){return this.degrees},resize:function(e,t){var n,i=this.getBoundsNoRotate(),r=i;return this.containerSize.x=e.x,this.containerSize.y=e.y,this._updateContainerInnerSize(),t&&(n=e.x/this.containerSize.x,r.width=i.width*n,r.height=r.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:e,maintain:t}),this.fitBounds(r,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new e.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){if(this.zoomPoint){
var e=this.pixelFromPoint(this.zoomPoint,!0);this.zoomSpring.update();var t=this.pixelFromPoint(this.zoomPoint,!0),n=t.minus(e),i=this.deltaPointsFromPixels(n,!0);this.centerSpringX.shiftBy(i.x),this.centerSpringY.shiftBy(i.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else this.zoomSpring.update();this.centerSpringX.update(),this.centerSpringY.update();var r=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,r},deltaPixelsFromPointsNoRotate:function(e,t){return e.times(this._containerInnerSize.x*this.getZoom(t))},deltaPixelsFromPoints:function(e,t){return this.deltaPixelsFromPointsNoRotate(e.rotate(this.getRotation()),t)},deltaPointsFromPixelsNoRotate:function(e,t){return e.divide(this._containerInnerSize.x*this.getZoom(t))},deltaPointsFromPixels:function(e,t){return this.deltaPointsFromPixelsNoRotate(e,t).rotate(-this.getRotation())},pixelFromPointNoRotate:function(e,t){return this._pixelFromPointNoRotate(e,this.getBoundsNoRotate(t))},pixelFromPoint:function(e,t){return this._pixelFromPoint(e,this.getBoundsNoRotate(t))},_pixelFromPointNoRotate:function(t,n){return t.minus(n.getTopLeft()).times(this._containerInnerSize.x/n.width).plus(new e.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(e,t){return this._pixelFromPointNoRotate(e.rotate(this.getRotation(),this.getCenter(!0)),t)},pointFromPixelNoRotate:function(t,n){var i=this.getBoundsNoRotate(n);return t.minus(new e.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/i.width).plus(i.getTopLeft())},pointFromPixel:function(e,t){return this.pointFromPixelNoRotate(e,t).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(t,n){var i=this._contentBoundsNoRotate.width;return new e.Point(t*this._contentSizeNoRotate.x/i,n*this._contentSizeNoRotate.x/i)},viewportToImageCoordinates:function(t,n){if(t instanceof e.Point)return this.viewportToImageCoordinates(t.x,t.y);if(this.viewer){var i=this.viewer.world.getItemCount();if(i>1)e.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===i){var r=this.viewer.world.getItemAt(0);return r.viewportToImageCoordinates(t,n,!0)}}return this._viewportToImageDelta(t-this._contentBoundsNoRotate.x,n-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(t,n){var i=this._contentBoundsNoRotate.width;return new e.Point(t/this._contentSizeNoRotate.x*i,n/this._contentSizeNoRotate.x*i)},imageToViewportCoordinates:function(t,n){if(t instanceof e.Point)return this.imageToViewportCoordinates(t.x,t.y);if(this.viewer){var i=this.viewer.world.getItemCount();if(i>1)e.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===i){var r=this.viewer.world.getItemAt(0);return r.imageToViewportCoordinates(t,n,!0)}}var o=this._imageToViewportDelta(t,n);return o.x+=this._contentBoundsNoRotate.x,o.y+=this._contentBoundsNoRotate.y,o},imageToViewportRectangle:function(t,n,i,r){var o=t;if(o instanceof e.Rect||(o=new e.Rect(t,n,i,r)),this.viewer){var a=this.viewer.world.getItemCount();if(a>1)e.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===a){var s=this.viewer.world.getItemAt(0);return s.imageToViewportRectangle(t,n,i,r,!0)}}var l=this.imageToViewportCoordinates(o.x,o.y),c=this._imageToViewportDelta(o.width,o.height);return new e.Rect(l.x,l.y,c.x,c.y,o.degrees)},viewportToImageRectangle:function(t,n,i,r){var o=t;if(o instanceof e.Rect||(o=new e.Rect(t,n,i,r)),this.viewer){var a=this.viewer.world.getItemCount();if(a>1)e.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===a){var s=this.viewer.world.getItemAt(0);return s.viewportToImageRectangle(t,n,i,r,!0)}}var l=this.viewportToImageCoordinates(o.x,o.y),c=this._viewportToImageDelta(o.width,o.height);return new e.Rect(l.x,l.y,c.x,c.y,o.degrees)},viewerElementToImageCoordinates:function(e){var t=this.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.pixelFromPoint(t,!0)},windowToImageCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var n=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(n)},imageToWindowCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var n=this.imageToViewerElementCoordinates(t);return n.plus(e.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(e){return this.pointFromPixel(e,!0)},viewportToViewerElementCoordinates:function(e){return this.pixelFromPoint(e,!0)},viewerElementToViewportRectangle:function(t){return e.Rect.fromSummits(this.pointFromPixel(t.getTopLeft(),!0),this.pointFromPixel(t.getTopRight(),!0),this.pointFromPixel(t.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(t){return e.Rect.fromSummits(this.pixelFromPoint(t.getTopLeft(),!0),this.pixelFromPoint(t.getTopRight(),!0),this.pixelFromPoint(t.getBottomLeft(),!0))},windowToViewportCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var n=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(n)},viewportToWindowCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var n=this.viewportToViewerElementCoordinates(t);return n.plus(e.getElementPosition(this.viewer.element))},viewportToImageZoom:function(t){if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)e.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===n){var i=this.viewer.world.getItemAt(0);return i.viewportToImageZoom(t)}}var r=this._contentSizeNoRotate.x,o=this._containerInnerSize.x,a=this._contentBoundsNoRotate.width,s=o/r*a;return t*s},imageToViewportZoom:function(t){if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)e.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(1===n){var i=this.viewer.world.getItemAt(0);return i.imageToViewportZoom(t)}}var r=this._contentSizeNoRotate.x,o=this._containerInnerSize.x,a=this._contentBoundsNoRotate.width,s=r/o/a;return t*s}}}(OpenSeadragon),function(e){function updateViewport(t){t._needsDraw=!1;for(var n,i,r,o,a,s,l,c,u=null,d=!1,h=e.now(),m=t.viewport.getBoundsWithMargins(!0),p=t.viewport.deltaPixelsFromPointsNoRotate(t.source.getPixelRatio(0),!0).x*t._scaleSpring.current.value,f=Math.max(t.source.minLevel,Math.floor(Math.log(t.minZoomImageRatio)/Math.log(2))),g=Math.min(Math.abs(t.source.maxLevel),Math.abs(Math.floor(Math.log(p/t.minPixelRatio)/Math.log(2))));t.lastDrawn.length>0;)n=t.lastDrawn.pop(),n.beingDrawn=!1;if(!t.wrapHorizontal&&!t.wrapVertical){var v=t.getClippedBounds(!0),y=m.intersection(v);if(null===y)return;m=y}m=m.getBoundingBox(),m.x-=t._xSpring.current.value,m.y-=t._ySpring.current.value;var b=m.getTopLeft(),_=m.getBottomRight();if((t.wrapHorizontal||!(_.x<0||b.x>t._worldWidthCurrent))&&(t.wrapVertical||!(_.y<0||b.y>t._worldHeightCurrent))){t.wrapHorizontal||(b.x=Math.max(b.x,0),_.x=Math.min(_.x,t._worldWidthCurrent)),t.wrapVertical||(b.y=Math.max(b.y,0),_.y=Math.min(_.y,t._worldHeightCurrent)),f=Math.min(f,g);var w;for(i=g;i>=f;i--){if(w=!1,r=t.viewport.deltaPixelsFromPointsNoRotate(t.source.getPixelRatio(i),!0).x*t._scaleSpring.current.value,!d&&r>=t.minPixelRatio||i==f)w=!0,d=!0;else if(!d)continue;if(o=t.viewport.deltaPixelsFromPointsNoRotate(t.source.getPixelRatio(i),!1).x*t._scaleSpring.current.value,a=t.viewport.deltaPixelsFromPointsNoRotate(t.source.getPixelRatio(Math.max(t.source.getClosestLevel(t.viewport.containerSize)-1,0)),!1).x*t._scaleSpring.current.value,s=t.immediateRender?1:a,l=Math.min(1,(r-.5)/.5),c=s/Math.abs(s-o),u=updateLevel(t,d,w,i,l,c,b,_,h,u),providesCoverage(t.coverage,i))break}drawTiles(t,t.lastDrawn),u&&!u.context2D&&loadTile(t,u,h)}}function updateLevel(e,t,n,i,r,o,a,s,l,c){var u,d,h,m,p,f=e.viewport.pixelFromPoint(e.viewport.getCenter());for(e.viewer&&e.viewer.raiseEvent("update-level",{tiledImage:e,havedrawn:t,level:i,opacity:r,visibility:o,topleft:a,bottomright:s,currenttime:l,best:c}),h=e.source.getTileAtPoint(i,a.divide(e._scaleSpring.current.value)),m=e.source.getTileAtPoint(i,s.divide(e._scaleSpring.current.value)),p=e.source.getNumTiles(i),resetCoverage(e.coverage,i),e.wrapHorizontal||(m.x=Math.min(m.x,p.x-1)),e.wrapVertical||(m.y=Math.min(m.y,p.y-1)),u=h.x;u<=m.x;u++)for(d=h.y;d<=m.y;d++)c=updateTile(e,n,t,u,d,i,r,o,f,p,l,c);return c}function updateTile(e,t,n,i,r,o,a,s,l,c,u,d){var h=getTile(i,r,o,e.source,e.tilesMatrix,u,c,e._worldWidthCurrent,e._worldHeightCurrent),m=t;if(e.viewer&&e.viewer.raiseEvent("update-tile",{tiledImage:e,tile:h}),setCoverage(e.coverage,o,i,r,!1),!h.exists)return d;if(n&&!m&&(isCovered(e.coverage,o,i,r)?setCoverage(e.coverage,o,i,r,!0):m=!0),!m)return d;if(positionTile(h,e.source.tileOverlap,e.viewport,l,s,e),!h.loaded)if(h.context2D)setTileLoaded(e,h);else{var p=e._tileCache.getImageRecord(h.url);if(p){var f=p.getImage();setTileLoaded(e,h,f)}}if(h.loaded){var g=blendTile(e,h,i,r,o,a,u);g&&(e._needsDraw=!0)}else h.loading||(d=compareTiles(d,h));return d}function getTile(t,n,i,r,o,a,s,l,c){var u,d,h,m,p,f,g;return o[i]||(o[i]={}),o[i][t]||(o[i][t]={}),o[i][t][n]||(u=(s.x+t%s.x)%s.x,d=(s.y+n%s.y)%s.y,h=r.getTileBounds(i,u,d),m=r.tileExists(i,u,d),p=r.getTileUrl(i,u,d),f=r.getContext2D?r.getContext2D(i,u,d):void 0,h.x+=(t-u)/s.x,h.y+=c/l*((n-d)/s.y),o[i][t][n]=new e.Tile(i,t,n,h,m,p,f)),g=o[i][t][n],g.lastTouchTime=a,g}function loadTile(e,t,n){t.loading=!0,e._imageLoader.addJob({src:t.url,crossOriginPolicy:e.crossOriginPolicy,callback:function(i,r){onTileLoad(e,t,n,i,r)},abort:function(){t.loading=!1}})}function onTileLoad(t,n,i,r,o){if(!r)return e.console.log("Tile %s failed to load: %s - error: %s",n,n.url,o),t.viewer.raiseEvent("tile-load-failed",{tile:n,tiledImage:t,time:i,message:o}),n.loading=!1,void(n.exists=!1);if(i<t.lastResetTime)return e.console.log("Ignoring tile %s loaded before reset: %s",n,n.url),void(n.loading=!1);var a=function(){var e=Math.ceil(Math.log(t.source.getTileWidth(n.level))/Math.log(2));setTileLoaded(t,n,r,e)};t._midDraw?window.setTimeout(a,1):a()}function setTileLoaded(e,t,n,i){function getCompletionCallback(){return r++,completionCallback}function completionCallback(){r--,0===r&&(t.loading=!1,t.loaded=!0,t.context2D||e._tileCache.cacheTile({image:n,tile:t,cutoff:i,tiledImage:e}),e._needsDraw=!0)}var r=0;e.viewer.raiseEvent("tile-loaded",{tile:t,tiledImage:e,image:n,getCompletionCallback:getCompletionCallback}),getCompletionCallback()()}function positionTile(t,n,i,r,o,a){var s=t.bounds.getTopLeft();s.x*=a._scaleSpring.current.value,s.y*=a._scaleSpring.current.value,s.x+=a._xSpring.current.value,s.y+=a._ySpring.current.value;var l=t.bounds.getSize();l.x*=a._scaleSpring.current.value,l.y*=a._scaleSpring.current.value;var c=i.pixelFromPointNoRotate(s,!0),u=i.pixelFromPointNoRotate(s,!1),d=i.deltaPixelsFromPointsNoRotate(l,!0),h=i.deltaPixelsFromPointsNoRotate(l,!1),m=u.plus(h.divide(2)),p=r.distanceTo(m);n||(d=d.plus(new e.Point(1,1))),t.position=c,t.size=d,t.distance=p,t.visibility=o}function blendTile(e,t,n,i,r,o,a){var s,l,c=1e3*e.blendTime;if(t.blendStart||(t.blendStart=a),s=a-t.blendStart,l=c?Math.min(1,s/c):1,e.alwaysBlend&&(l*=o),t.opacity=l,e.lastDrawn.push(t),1==l)setCoverage(e.coverage,r,n,i,!0),e._hasOpaqueTile=!0;else if(s<c)return!0;return!1}function providesCoverage(e,t,n,i){var r,o,a,s;if(!e[t])return!1;if(void 0===n||void 0===i){r=e[t];for(a in r)if(r.hasOwnProperty(a)){o=r[a];for(s in o)if(o.hasOwnProperty(s)&&!o[s])return!1}return!0}return void 0===e[t][n]||void 0===e[t][n][i]||e[t][n][i]===!0}function isCovered(e,t,n,i){return void 0===n||void 0===i?providesCoverage(e,t+1):providesCoverage(e,t+1,2*n,2*i)&&providesCoverage(e,t+1,2*n,2*i+1)&&providesCoverage(e,t+1,2*n+1,2*i)&&providesCoverage(e,t+1,2*n+1,2*i+1)}function setCoverage(t,n,i,r,o){return t[n]?(t[n][i]||(t[n][i]={}),void(t[n][i][r]=o)):void e.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",n)}function resetCoverage(e,t){e[t]={}}function compareTiles(e,t){return e?t.visibility>e.visibility?t:t.visibility==e.visibility&&t.distance<e.distance?t:e:t}function drawTiles(t,n){if(0!==n.length){var i,r,o=n[0],a=t.opacity<1||t.compositeOperation&&"source-over"!==t.compositeOperation||!t._isBottomItem()&&o._hasTransparencyChannel(),s=t.viewport.getZoom(!0),l=t.viewportToImageZoom(s);l>t.smoothTileEdgesMinZoom&&!t.iOSDevice&&(a=!0,i=o.getScaleForEdgeSmoothing(),r=o.getTranslationForEdgeSmoothing(i,t._drawer.getCanvasSize(!1),t._drawer.getCanvasSize(!0)));var c;a&&(i||(c=t.viewport.viewportToViewerElementRectangle(t.getClippedBounds(!0)).getIntegerBoundingBox().times(e.pixelDensityRatio)),t._drawer._clear(!0,c)),0===t.viewport.degrees||i||t._drawer._offsetForRotation(t.viewport.degrees,a);var u=!1;if(t._clip){t._drawer.saveContext(a);var d=t.imageToViewportRectangle(t._clip,!0),h=t._drawer.viewportToDrawerRectangle(d);i&&(h=h.times(i)),r&&(h=h.translate(r)),t._drawer.setClip(h,a),u=!0}if(t.placeholderFillStyle&&t._hasOpaqueTile===!1){var m=t._drawer.viewportToDrawerRectangle(t.getBounds(!0));i&&(m=m.times(i)),r&&(m=m.translate(r));var p=null;p="function"==typeof t.placeholderFillStyle?t.placeholderFillStyle(t,t._drawer.context):t.placeholderFillStyle,t._drawer.drawRectangle(m,p,a)}for(var f=n.length-1;f>=0;f--)o=n[f],t._drawer.drawTile(o,t._drawingHandler,a,i,r),o.beingDrawn=!0,t.viewer&&t.viewer.raiseEvent("tile-drawn",{tiledImage:t,tile:o});if(u&&t._drawer.restoreContext(a),0===t.viewport.degrees||i||t._drawer._restoreRotationChanges(a),a){var g=0!==t.viewport.degrees&&i;g&&t._drawer._offsetForRotation(t.viewport.degrees,!1),t._drawer.blendSketch({opacity:t.opacity,scale:i,translate:r,compositeOperation:t.compositeOperation,bounds:c}),g&&t._drawer._restoreRotationChanges(!1)}drawDebugInfo(t,n)}}function drawDebugInfo(t,n){if(t.debugMode)for(var i=n.length-1;i>=0;i--){var r=n[i];try{t._drawer.drawDebugInfo(r,n.length,i)}catch(t){e.console.error(t)}}}e.TiledImage=function(t){var n=this;e.console.assert(t.tileCache,"[TiledImage] options.tileCache is required"),e.console.assert(t.drawer,"[TiledImage] options.drawer is required"),e.console.assert(t.viewer,"[TiledImage] options.viewer is required"),e.console.assert(t.imageLoader,"[TiledImage] options.imageLoader is required"),e.console.assert(t.source,"[TiledImage] options.source is required"),e.console.assert(!t.clip||t.clip instanceof e.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),e.EventSource.call(this),this._tileCache=t.tileCache,delete t.tileCache,this._drawer=t.drawer,delete t.drawer,this._imageLoader=t.imageLoader,delete t.imageLoader,t.clip instanceof e.Rect&&(this._clip=t.clip.clone()),delete t.clip;var i=t.x||0;delete t.x;var r=t.y||0;delete t.y,this.normHeight=t.source.dimensions.y/t.source.dimensions.x,this.contentAspectX=t.source.dimensions.x/t.source.dimensions.y;var o=1;t.width?(o=t.width,delete t.width,t.height&&(e.console.error("specifying both width and height to a tiledImage is not supported"),delete t.height)):t.height&&(o=t.height/this.normHeight,delete t.height);var a=t.fitBounds;delete t.fitBounds;var s=t.fitBoundsPlacement||OpenSeadragon.Placement.CENTER;delete t.fitBoundsPlacement,e.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,immediateRender:e.DEFAULT_SETTINGS.immediateRender,blendTime:e.DEFAULT_SETTINGS.blendTime,alwaysBlend:e.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:e.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:e.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:e.DEFAULT_SETTINGS.iOSDevice,debugMode:e.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:e.DEFAULT_SETTINGS.crossOriginPolicy,placeholderFillStyle:e.DEFAULT_SETTINGS.placeholderFillStyle,opacity:e.DEFAULT_SETTINGS.opacity,compositeOperation:e.DEFAULT_SETTINGS.compositeOperation},t),this._xSpring=new e.Spring({initial:i,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new e.Spring({initial:r,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new e.Spring({initial:o,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),a&&this.fitBounds(a,s,!0),this._drawingHandler=function(t){n.viewer.raiseEvent("tile-drawing",e.extend({tiledImage:n},t))}},e.extend(e.TiledImage.prototype,e.EventSource.prototype,{needsDraw:function(){return this._needsDraw},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=e.now(),this._needsDraw=!0},update:function(){var e=this._xSpring.current.value,t=this._ySpring.current.value,n=this._scaleSpring.current.value;return this._xSpring.update(),this._ySpring.update(),this._scaleSpring.update(),(this._xSpring.current.value!==e||this._ySpring.current.value!==t||this._scaleSpring.current.value!==n)&&(this._updateForScale(),this._needsDraw=!0,!0)},draw:function(){0!==this.opacity&&(this._midDraw=!0,updateViewport(this),this._midDraw=!1)},destroy:function(){this.reset()},getBounds:function(t){return t?new e.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new e.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return e.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(t){var n=this.getBounds(t);if(this._clip){var i=this._worldWidthCurrent/this.source.dimensions.x,r=this._clip.times(i);n=new e.Rect(n.x+r.x,n.y+r.y,r.width,r.height)}return n},getContentSize:function(){return new e.Point(this.source.dimensions.x,this.source.dimensions.y)},_viewportToImageDelta:function(t,n,i){var r=i?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t*(this.source.dimensions.x/r),n*(this.source.dimensions.y*this.contentAspectX/r))},viewportToImageCoordinates:function(t,n,i){return t instanceof e.Point&&(i=n,n=t.y,t=t.x),i?this._viewportToImageDelta(t-this._xSpring.current.value,n-this._ySpring.current.value):this._viewportToImageDelta(t-this._xSpring.target.value,n-this._ySpring.target.value)},_imageToViewportDelta:function(t,n,i){var r=i?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t/this.source.dimensions.x*r,n/this.source.dimensions.y/this.contentAspectX*r)},imageToViewportCoordinates:function(t,n,i){t instanceof e.Point&&(i=n,n=t.y,t=t.x);var r=this._imageToViewportDelta(t,n);return i?(r.x+=this._xSpring.current.value,r.y+=this._ySpring.current.value):(r.x+=this._xSpring.target.value,r.y+=this._ySpring.target.value),r},imageToViewportRectangle:function(t,n,i,r,o){var a=t;a instanceof e.Rect?o=n:a=new e.Rect(t,n,i,r);var s=this.imageToViewportCoordinates(a.getTopLeft(),o),l=this._imageToViewportDelta(a.width,a.height,o);return new e.Rect(s.x,s.y,l.x,l.y,a.degrees)},viewportToImageRectangle:function(t,n,i,r,o){var a=t;t instanceof e.Rect?o=n:a=new e.Rect(t,n,i,r);var s=this.viewportToImageCoordinates(a.getTopLeft(),o),l=this._viewportToImageDelta(a.width,a.height,o);return new e.Rect(s.x,s.y,l.x,l.y,a.degrees)},viewerElementToImageCoordinates:function(e){var t=this.viewport.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.viewport.pixelFromPoint(t,!0)},windowToImageCoordinates:function(e){var t=e.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(t)},imageToWindowCoordinates:function(e){var t=this.imageToViewerElementCoordinates(e);return t.plus(OpenSeadragon.getElementPosition(this.viewer.element))},viewportToImageZoom:function(e){var t=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return t*e},imageToViewportZoom:function(e){var t=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return e/t},setPosition:function(e,t){var n=this._xSpring.target.value===e.x&&this._ySpring.target.value===e.y;if(t){if(n&&this._xSpring.current.value===e.x&&this._ySpring.current.value===e.y)return;this._xSpring.resetTo(e.x),this._ySpring.resetTo(e.y),this._needsDraw=!0}else{if(n)return;this._xSpring.springTo(e.x),this._ySpring.springTo(e.y),this._needsDraw=!0}n||this._raiseBoundsChange()},setWidth:function(e,t){this._setScale(e,t)},setHeight:function(e,t){this._setScale(e/this.normHeight,t)},fitBounds:function(t,n,i){n=n||e.Placement.CENTER;var r=e.Placement.properties[n],o=this.contentAspectX,a=0,s=0,l=1,c=1;if(this._clip&&(o=this._clip.getAspectRatio(),l=this._clip.width/this.source.dimensions.x,c=this._clip.height/this.source.dimensions.y,t.getAspectRatio()>o?(a=this._clip.x/this._clip.height*t.height,s=this._clip.y/this._clip.height*t.height):(a=this._clip.x/this._clip.width*t.width,s=this._clip.y/this._clip.width*t.width)),t.getAspectRatio()>o){var u=t.height/c,d=0;r.isHorizontallyCentered?d=(t.width-t.height*o)/2:r.isRight&&(d=t.width-t.height*o),this.setPosition(new e.Point(t.x-a+d,t.y-s),i),this.setHeight(u,i)}else{var h=t.width/l,m=0;r.isVerticallyCentered?m=(t.height-t.width/o)/2:r.isBottom&&(m=t.height-t.width/o),this.setPosition(new e.Point(t.x-a,t.y-s+m),i),this.setWidth(h,i)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(t){e.console.assert(!t||t instanceof e.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),t instanceof e.Rect?this._clip=t.clone():this._clip=null,this._needsDraw=!0},getOpacity:function(){return this.opacity},setOpacity:function(e){this.opacity=e,this._needsDraw=!0},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(e){this.compositeOperation=e,this._needsDraw=!0},_setScale:function(e,t){var n=this._scaleSpring.target.value===e;if(t){if(n&&this._scaleSpring.current.value===e)return;this._scaleSpring.resetTo(e),this._updateForScale(),this._needsDraw=!0}else{if(n)return;this._scaleSpring.springTo(e),this._updateForScale(),this._needsDraw=!0}n||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this}})}(OpenSeadragon),function(e){var t=function(t){e.console.assert(t,"[TileCache.cacheTile] options is required"),e.console.assert(t.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(t.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=t.tile,this.tiledImage=t.tiledImage},n=function(t){e.console.assert(t,"[ImageRecord] options is required"),e.console.assert(t.image,"[ImageRecord] options.image is required"),this._image=t.image,this._tiles=[]};n.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var e=document.createElement("canvas");e.width=this._image.width,e.height=this._image.height,this._renderedContext=e.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(t){e.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=t},addTile:function(t){e.console.assert(t,"[ImageRecord.addTile] tile is required"),this._tiles.push(t)},removeTile:function(t){for(var n=0;n<this._tiles.length;n++)if(this._tiles[n]===t)return void this._tiles.splice(n,1);e.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",t)},getTileCount:function(){return this._tiles.length}},e.TileCache=function(t){t=t||{},this._maxImageCacheCount=t.maxImageCacheCount||e.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},e.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(i){e.console.assert(i,"[TileCache.cacheTile] options is required"),e.console.assert(i.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(i.tile.url,"[TileCache.cacheTile] options.tile.url is required"),e.console.assert(i.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var r=i.cutoff||0,o=this._tilesLoaded.length,a=this._imagesLoaded[i.tile.url];if(a||(e.console.assert(i.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),a=this._imagesLoaded[i.tile.url]=new n({image:i.image}),this._imagesLoadedCount++),a.addTile(i.tile),i.tile.cacheImageRecord=a,this._imagesLoadedCount>this._maxImageCacheCount){for(var s,l,c,u,d,h,m=null,p=-1,f=null,g=this._tilesLoaded.length-1;g>=0;g--)h=this._tilesLoaded[g],s=h.tile,s.level<=r||s.beingDrawn||(m?(u=s.lastTouchTime,l=m.lastTouchTime,d=s.level,c=m.level,(u<l||u==l&&d>c)&&(m=s,p=g,f=h)):(m=s,p=g,f=h));m&&p>=0&&(this._unloadTile(f),o=p)}this._tilesLoaded[o]=new t({tile:i.tile,tiledImage:i.tiledImage})},clearTilesFor:function(t){e.console.assert(t,"[TileCache.clearTilesFor] tiledImage is required");for(var n,i=0;i<this._tilesLoaded.length;++i)n=this._tilesLoaded[i],n.tiledImage===t&&(this._unloadTile(n),this._tilesLoaded.splice(i,1),i--)},getImageRecord:function(t){return e.console.assert(t,"[TileCache.getImageRecord] url is required"),this._imagesLoaded[t]},_unloadTile:function(t){e.console.assert(t,"[TileCache._unloadTile] tileRecord is required");var n=t.tile,i=t.tiledImage;n.unload(),n.cacheImageRecord=null;var r=this._imagesLoaded[n.url];r.removeTile(n),r.getTileCount()||(r.destroy(),delete this._imagesLoaded[n.url],this._imagesLoadedCount--),i.viewer.raiseEvent("tile-unloaded",{tile:n,tiledImage:i})}}}(OpenSeadragon),function(e){e.World=function(t){var n=this;e.console.assert(t.viewer,"[World] options.viewer is required"),e.EventSource.call(this),this.viewer=t.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(e){n._autoRefigureSizes?n._figureSizes():n._needsSizesFigured=!0},this._figureSizes()},e.extend(e.World.prototype,e.EventSource.prototype,{addItem:function(t,n){if(e.console.assert(t,"[World.addItem] item is required"),e.console.assert(t instanceof e.TiledImage,"[World.addItem] only TiledImages supported at this time"),n=n||{},void 0!==n.index){var i=Math.max(0,Math.min(this._items.length,n.index));this._items.splice(i,0,t)}else this._items.push(t);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,t.addHandler("bounds-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:t})},getItemAt:function(t){return e.console.assert(void 0!==t,"[World.getItemAt] index is required"),this._items[t]},getIndexOfItem:function(t){return e.console.assert(t,"[World.getIndexOfItem] item is required"),e.indexOf(this._items,t)},getItemCount:function(){return this._items.length},setItemIndex:function(t,n){e.console.assert(t,"[World.setItemIndex] item is required"),e.console.assert(void 0!==n,"[World.setItemIndex] index is required");var i=this.getIndexOfItem(t);if(n>=this._items.length)throw new Error("Index bigger than number of layers.");n!==i&&i!==-1&&(this._items.splice(i,1),this._items.splice(n,0,t),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:t,previousIndex:i,newIndex:n}))},removeItem:function(t){e.console.assert(t,"[World.removeItem] item is required");var n=e.indexOf(this._items,t);n!==-1&&(t.removeHandler("bounds-change",this._delegatedFigureSizes),t.destroy(),this._items.splice(n,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(t))},removeAll:function(){this.viewer._cancelPendingImages();for(var e,t=0;t<this._items.length;t++)e=this._items[t],e.removeHandler("bounds-change",this._delegatedFigureSizes),e.destroy();var n=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,t=0;t<n.length;t++)e=n[t],this._raiseRemoveItem(e)},resetItems:function(){for(var e=0;e<this._items.length;e++)this._items[e].reset()},update:function(){for(var e=!1,t=0;t<this._items.length;t++)e=this._items[t].update()||e;return e},draw:function(){for(var e=0;e<this._items.length;e++)this._items[e].draw();this._needsDraw=!1},needsDraw:function(){for(var e=0;e<this._items.length;e++)if(this._items[e].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(e){this._autoRefigureSizes=e,e&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(t){t=t||{};var n,i=t.immediately||!1,r=t.layout||e.DEFAULT_SETTINGS.collectionLayout,o=t.rows||e.DEFAULT_SETTINGS.collectionRows,a=t.columns||e.DEFAULT_SETTINGS.collectionColumns,s=t.tileSize||e.DEFAULT_SETTINGS.collectionTileSize,l=t.tileMargin||e.DEFAULT_SETTINGS.collectionTileMargin,c=s+l;n=!t.rows&&a?a:Math.ceil(this._items.length/o);var u,d,h,m,p,f=0,g=0;this.setAutoRefigureSizes(!1);for(var v=0;v<this._items.length;v++)v&&v%n===0&&("horizontal"===r?(g+=c,f=0):(f+=c,g=0)),u=this._items[v],d=u.getBounds(),h=d.width>d.height?s:s*(d.width/d.height),m=h*(d.height/d.width),p=new e.Point(f+(s-h)/2,g+(s-m)/2),u.setPosition(p,i),u.setWidth(h,i),"horizontal"===r?f+=c:g+=c;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var t=this._homeBounds?this._homeBounds.clone():null,n=this._contentSize?this._contentSize.clone():null,i=this._contentFactor||0;if(this._items.length){var r=this._items[0],o=r.getBounds();this._contentFactor=r.getContentSize().x/o.width;for(var a=r.getClippedBounds(),s=a.x,l=a.y,c=a.x+a.width,u=a.y+a.height,d=1;d<this._items.length;d++)r=this._items[d],o=r.getBounds(),this._contentFactor=Math.max(this._contentFactor,r.getContentSize().x/o.width),a=r.getClippedBounds(),s=Math.min(s,a.x),l=Math.min(l,a.y),c=Math.max(c,a.x+a.width),u=Math.max(u,a.y+a.height);this._homeBounds=new e.Rect(s,l,c-s,u-l),this._contentSize=new e.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new e.Rect(0,0,1,1),this._contentSize=new e.Point(1,1),this._contentFactor=1;this._contentFactor===i&&this._homeBounds.equals(t)&&this._contentSize.equals(n)||this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(e){this.raiseEvent("remove-item",{item:e})}})}(OpenSeadragon)},function(e,t){e.exports='<md-sidenav md-component-id="mainMenu" md-is-locked-open="$mdMedia(\'gt-md\')" md-whiteframe="4" class="md-sidenav-left"><menu></menu></md-sidenav><section flex ui-view="content"></section>';
},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><md-toolbar><div class="md-toolbar-tools"><h2>Media Preview</h2><span flex></span><md-button ng-click="$modal.dismiss()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar></div><div class="modal-body"><div layout="column" layout-margin><div class="media-wrapper"><span ng-show="vm.media[vm.index].type === \'none\'">No preview available</span><span ng-show="vm.media[vm.index].type === \'image\'"><img style="max-width: 100%; vertical-align: bottom;" ng-src="{{vm.media[vm.index].src}}" ng-click="vm.index = vm.index &lt; vm.media.length - 1 ? vm.index + 1 : 0"></span><span ng-show="vm.media[vm.index].type === \'video\'"><video style="max-width: 100%;" controls><source ng-repeat="variant in vm.media[vm.index].variants" ng-src="{{variant.src}}" type="{{variant.mimeType}}"></video></span></div></div></div><div layout="row" class="modal-footer"><span flex></span><md-button ng-show="vm.media.length &gt; 1" ng-click="vm.index = vm.index &gt; 0 ? vm.index - 1 : vm.media.length - 1" class="md-icon-button"><md-icon md-font-set="material-icons">keyboard_arrow_left</md-icon></md-button><md-button ng-show="vm.media.length &gt; 1" ng-click="vm.index = vm.index &lt; vm.media.length - 1 ? vm.index + 1 : 0" class="md-icon-button"><md-icon md-font-set="material-icons">keyboard_arrow_right</md-icon></md-button></div></div></div></div>'},function(e,t){e.exports=""},function(e,t){e.exports='<div layout="column" layout-margin><md-input-container><label>URL</label><input placeholder="URL (handlebars)" ng-model="vm.item.url"></md-input-container></div>'},function(e,t){e.exports='<div layout="column" style="position: absolute; width: 100%; height: 100%"><md-toolbar><div class="md-toolbar-tools"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h3>{{::vm.info.heading}}</h3><span flex></span><md-button ng-click="vm.editItems(vm.selected)" ng-disabled="vm.selected.length !== 1" aria-label="Edit" class="md-icon-button"><md-icon md-font-set="material-icons">create</md-icon></md-button><span ng-show="vm.adminType !== \'user\'"><md-button ng-click="vm.cloneItem(vm.selected)" ng-disabled="vm.selected.length !== 1" aria-label="Clone" class="md-icon-button"><md-icon md-font-set="material-icons">content_copy</md-icon></md-button></span><md-button ng-click="vm.deleteItems(vm.selected)" ng-disabled="vm.selected.length &lt; 1" aria-label="Delete" class="md-icon-button"><md-icon md-font-set="material-icons">delete</md-icon></md-button><md-button ng-click="vm.selectAll()" aria-label="Select all" class="md-icon-button"><md-icon md-font-set="mdi" md-font-icon="mdi-select"></md-icon></md-button><md-button ng-click="vm.selectNone()" aria-label="Select none" class="md-icon-button"><md-icon md-font-set="mdi" md-font-icon="mdi-select-off"></md-icon></md-button><md-button ng-click="vm.newItem()" class="md-fab md-mini"><md-icon md-font-set="material-icons">add</md-icon></md-button></div></md-toolbar><div flex><div class="ui-grid-wrapper"><div ui-grid="vm.grid" ui-grid-selection ui-grid-infinite-scroll ng-class="{disabled: vm.searching}"></div></div></div></div>'},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><md-toolbar><div class="md-toolbar-tools"><h2>Output</h2><span flex></span><md-button ng-click="$modal.dismiss()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar></div><div style="padding: 16px 0" class="modal-body"><form name="vm.itemForm" role="form" novalidate><div layout="column" layout-margin><md-input-container><label>Name</label><input ng-model="vm.output.name" required ng-minlength="2" ng-maxlength="50" ng-pattern="/^(?!.*?(_src|&quot;)).*$/i"></md-input-container><md-input-container><label>Slug</label><input ng-model="vm.output.slug" required disabled ng-pattern="/^(?!.*?(_src|&quot;)).*$/i"></md-input-container><md-input-container><label>Format</label><md-select ng-model="vm.output.format"><md-option ng-repeat="option in vm.formatOptions" value="{{option.value}}">{{option.name}}</md-option></md-select></md-input-container><md-input-container><label>Quality</label><md-select ng-model="vm.output.audioQuality"><md-option ng-repeat="option in vm.qualityOptions" value="{{option.value}}">{{option.value}}: {{option.name}}</md-option></md-select></md-input-container><md-input-container><md-checkbox ng-model="vm.output.audioPreNormalize">Pre-normalize</md-checkbox></md-input-container><md-input-container><label>Compression Ratio</label><input type="number" ng-model="vm.output.audioCompressionRatio" min="0" max="30"></md-input-container></div></form></div><div layout="row" class="modal-footer"><span flex></span><md-button ng-click="$modal.close(vm.output)" ng-disabled="vm.itemForm.$invalid" class="md-accent">Save</md-button><md-button ng-click="$modal.dismiss()" class="md-warn">Cancel</md-button></div></div></div></div>'},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><md-toolbar><div class="md-toolbar-tools"><h2>Crop</h2><span flex></span><md-button ng-click="$modal.dismiss()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar></div><div style="padding: 16px 0" class="modal-body"><form name="vm.itemForm" role="form" novalidate><div layout="column" layout-margin><md-input-container><label>Name</label><input ng-model="vm.crop.name" required ng-minlength="2" ng-maxlength="50" ng-pattern="/^[^&quot;]*$/"></md-input-container><md-input-container><label>Slug</label><input ng-model="vm.crop.slug" required disabled></md-input-container><md-input-container><label>Ratio</label><input type="number" ng-model="vm.crop.ratio" min="0" max="99"></md-input-container><md-input-container><label>Minimum Width</label><input type="number" ng-model="vm.crop.minWidth" min="0"></md-input-container><md-input-container><label>Minimum Height</label><input type="number" ng-model="vm.crop.minHeight" min="0"></md-input-container><md-input-container><label>Gravity</label><md-select ng-model="vm.crop.gravity"><md-option ng-repeat="option in vm.gravityOptions" value="{{option.value}}">{{option.name}}</md-option></md-select></md-input-container></div></form></div><div layout="row" class="modal-footer"><span flex></span><md-button ng-click="$modal.close(vm.crop)" ng-disabled="vm.itemForm.$invalid" class="md-accent">Save</md-button><md-button ng-click="$modal.dismiss()" class="md-warn">Cancel</md-button></div></div></div></div>'},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><md-toolbar><div class="md-toolbar-tools"><h2>Thumbnail</h2><span flex></span><md-button ng-click="$modal.dismiss()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar></div><div style="padding: 16px 0" class="modal-body"><form name="vm.itemForm" role="form" novalidate><div layout="column" layout-margin><md-input-container><label>Name</label><input ng-model="vm.thumbnail.name" required ng-minlength="2" ng-maxlength="50" ng-pattern="/^(?!.*?(_thumb|&quot;)).*$/i"></md-input-container><md-input-container><label>Slug</label><input ng-model="vm.thumbnail.slug" required disabled ng-pattern="/^(?!.*?(_thumb|&quot;)).*$/i"></md-input-container><md-input-container><label>Format</label><md-select ng-model="vm.thumbnail.format"><md-option ng-repeat="option in vm.thumbnailFormatOptions" value="{{option.value}}">{{option.name}}</md-option></md-select></md-input-container><md-input-container><label>Number</label><input type="number" ng-model="vm.thumbnail.number" min="1"></md-input-container></div></form></div><div layout="row" class="modal-footer"><span flex></span><md-button ng-click="$modal.close(vm.thumbnail)" ng-disabled="vm.itemForm.$invalid" class="md-accent">Save</md-button><md-button ng-click="$modal.dismiss()" class="md-warn">Cancel</md-button></div></div></div></div>'},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><md-toolbar><div class="md-toolbar-tools"><h2>Output</h2><span flex></span><md-button ng-click="$modal.dismiss()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar></div><div style="padding: 16px 0" class="modal-body"><form name="vm.itemForm" role="form" novalidate><div layout="column" layout-margin><md-input-container><label>Name</label><input ng-model="vm.output.name" required ng-minlength="2" ng-maxlength="50" ng-pattern="/^(?!.*?(_src|&quot;)).*$/i"></md-input-container><md-input-container><label>Slug</label><input ng-model="vm.output.slug" required disabled ng-pattern="/^(?!.*?(_src|&quot;)).*$/i"></md-input-container><md-input-container><label>Format</label><md-select ng-model="vm.output.format"><md-option ng-repeat="option in vm.formatOptions" value="{{option.value}}">{{option.name}}</md-option></md-select></md-input-container><md-input-container><label>Maximum Width</label><input type="number" ng-model="vm.output.maxWidth" min="0"></md-input-container><md-input-container><label>Maximum Height</label><input type="number" ng-model="vm.output.maxHeight" min="0"></md-input-container><md-input-container><label>Quality</label><md-select ng-model="vm.output.quality"><md-option ng-repeat="option in vm.qualityOptions" value="{{option.value}}">{{option.value}}: {{option.name}}</md-option></md-select></md-input-container></div><md-toolbar class="md-table-toolbar md-primary"><div class="md-toolbar-tools">Thumbnails<span flex></span><md-button ng-click="vm.thumbnailAdd()">Add Thumbnail</md-button></div></md-toolbar><md-table-container ng-show="vm.output.thumbnails.length"><table md-table><thead md-head><tr md-row><th md-column>Name</th><th md-column>Slug</th><th md-column>Format</th><th md-column>Number</th></tr></thead><tbody md-body><tr md-row ng-repeat="thumbnail in vm.output.thumbnails"><td md-cell>{{thumbnail.name}}</td><td md-cell>{{thumbnail.slug}}</td><td md-cell>{{thumbnail.format}}</td><td md-cell>{{thumbnail.number}}</td><td md-cell><md-button ng-click="vm.thumbnailEdit(thumbnail)" class="md-icon-button"><md-icon md-font-set="material-icons">edit</md-icon></md-button><md-button ng-click="vm.thumbnailDelete(thumbnail)" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></td></tr></tbody></table></md-table-container></form></div><div layout="row" class="modal-footer"><span flex></span><md-button ng-click="$modal.close(vm.output)" ng-disabled="vm.itemForm.$invalid" class="md-accent">Save</md-button><md-button ng-click="$modal.dismiss()" class="md-warn">Cancel</md-button></div></div></div></div>'},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><md-toolbar><div class="md-toolbar-tools"><h2>Action</h2><span flex></span><md-button ng-click="$modal.dismiss()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar></div><div style="padding: 16px 0" class="modal-body"><form name="vm.itemForm" role="form" novalidate><div layout="column" layout-margin><md-input-container><label>Name</label><input ng-model="vm.item.name" required ng-minlength="2" ng-maxlength="50" ng-pattern="/^[^&quot;]*$/"></md-input-container><md-input-container><label>Slug</label><input ng-model="vm.item.slug" required ng-disabled="vm.mode === \'edit\'" ng-minlength="2" ng-maxlength="50" ng-pattern="vm.keyPattern"></md-input-container><md-input-container><label>Type</label><md-select ng-model="vm.item.actionType"><md-option ng-repeat="(actionType, actionOpts) in $action.actions()" value="{{actionType}}">{{actionOpts.name}}</md-option></md-select></md-input-container></div><div layout="column" ace-bind-html="vm.actionSettingsTemplate"></div></form></div><div layout="row" class="modal-footer"><span flex></span><md-button ng-click="vm.save()" ng-disabled="vm.itemForm.$invalid" class="md-accent">Save</md-button><md-button ng-click="$modal.dismiss()" class="md-warn">Cancel</md-button></div></div></div></div>'},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><md-toolbar><div class="md-toolbar-tools"><h2>Field</h2><span flex></span><md-button ng-click="$modal.dismiss()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar></div><div style="padding: 16px 0" class="modal-body"><form name="vm.itemForm" role="form" novalidate><div layout="column" layout-margin><md-input-container><label>Name</label><input ng-model="vm.item.name" required ng-minlength="2" ng-maxlength="50" ng-pattern="/^[^&quot;]*$/"></md-input-container><md-input-container><label>Slug</label><input ng-model="vm.item.slug" required ng-disabled="vm.mode === \'edit\'" ng-minlength="2" ng-maxlength="50" ng-pattern="vm.keyPattern"></md-input-container><md-input-container><label>Type</label><md-select ng-model="vm.item.fieldType"><md-option ng-repeat="(fieldType, fieldOpts) in $field.fields()" value="{{fieldType}}">{{fieldOpts.name}}</md-option></md-select></md-input-container></div><div ace-bind-html="vm.fieldSettingsTemplate"></div></form></div><div layout="row" class="modal-footer"><span flex></span><md-button ng-click="vm.save()" ng-disabled="vm.itemForm.$invalid" class="md-accent">Save</md-button><md-button ng-click="$modal.dismiss()" class="md-warn">Cancel</md-button></div></div></div></div>'},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><md-toolbar><div class="md-toolbar-tools"><h2>Schema</h2><span flex></span><md-button ng-click="$modal.dismiss()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar></div><div style="padding: 16px 0" class="modal-body"><form name="vm.itemForm" role="form" novalidate><div layout="column" layout-margin><md-input-container><label>Name</label><input ng-model="vm.item.name" required ng-minlength="2" ng-maxlength="50" ng-pattern="/^[^&quot;]*$/"></md-input-container><md-input-container><label>Slug</label><input ng-model="vm.item.slug" required ng-disabled="vm.mode === \'edit\'" ng-minlength="2" ng-maxlength="50" ng-pattern="vm.keyPattern"></md-input-container><div layout="row"><md-chips flex ng-model="vm.item.fields" ng-init="vm.item.fields = vm.item.fields || []" md-autocomplete-snap md-require-match="true"><md-autocomplete md-selected-item="vm.selectedField" md-search-text="vm.searchField" md-items="item in $admin.get(\'field\', true)" md-item-text="item.name" placeholder="Fields(s)" md-min-length="0"><span md-highlight-text="vm.searchField">{{item.name}}</span></md-autocomplete><md-chip-template><span ace-sortable index-fn="$root.$helper.getMdChipIndex" collection-fn="$root.$helper.getMdChipCollection" draggable-selector="\'md-chip\'">{{$chip.name}}&nbsp;<code>{{$chip.slug}}</code></span></md-chip-template></md-chips><md-button aria-label="New field" ng-click="vm.newItem(\'field\', vm.item.fields)" class="md-icon-button"><md-icon md-font-set="material-icons">add</md-icon></md-button></div><br><div layout="row"><md-chips flex ng-model="vm.item.actions" ng-init="vm.item.actions = vm.item.actions || []" md-autocomplete-snap md-require-match="true"><md-autocomplete md-selected-item="vm.selectedAction" md-search-text="vm.searchAction" md-items="item in $admin.get(\'action\', true)" md-item-text="item.name" placeholder="Actions(s)" md-min-length="0"><span md-highlight-text="vm.searchAction">{{item.name}}</span></md-autocomplete><md-chip-template><span ace-sortable index-fn="$root.$helper.getMdChipIndex" collection-fn="$root.$helper.getMdChipCollection" draggable-selector="\'md-chip\'">{{$chip.name}}</span></md-chip-template></md-chips><md-button aria-label="New action" ng-click="vm.newItem(\'action\', vm.item.actions)" class="md-icon-button"><md-icon md-font-set="material-icons">add</md-icon></md-button></div><br><md-input-container><label>Notes</label><textarea ng-model="vm.item.notes"></textarea></md-input-container><md-input-container><md-checkbox ng-model="vm.item.singular" aria-label="Singular?">Singular</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="vm.item.hidden" aria-label="Hidden?">Hidden</md-checkbox></md-input-container><br><md-input-container><label ng-non-bindable>Title Template {{handlebars}}</label><input ng-model="vm.item.titleTemplate" aria-label="Title template"></md-input-container><md-input-container><label ng-non-bindable>Slug Template {{handlebars}}</label><input ng-model="vm.item.slugTemplate" aria-label="Slug template"></md-input-container><md-input-container><label>Thumbnail Field</label><md-select ng-model="vm.item.thumbnailField"><md-option ng-repeat="field in vm.item.fields | thumbnailFields" ng-value="field.slug">{{field.name}}</md-option></md-select></md-input-container><div layout="row"><md-chips flex ng-model="vm.item.sortFields" ng-init="vm.item.sortFields = vm.item.sortFields || []" md-autocomplete-snap md-require-match="true"><md-autocomplete md-selected-item="vm.selectedSortField" md-search-text="vm.searchSortField" md-items="item in vm.item.fields" md-item-text="item.name" placeholder="Sort Fields(s)" md-min-length="0"><span md-highlight-text="vm.searchSortField">{{item.name}}</span></md-autocomplete><md-chip-template><span ace-sortable index-fn="$root.$helper.getMdChipIndex" collection-fn="$root.$helper.getMdChipCollection" draggable-selector="\'md-chip\'">{{$chip.name}}</span></md-chip-template></md-chips></div><br></div></form></div><div layout="row" class="modal-footer"><span flex></span><md-button ng-click="vm.save()" ng-disabled="vm.itemForm.$invalid" class="md-accent">Save</md-button><md-button ng-click="$modal.dismiss()" class="md-warn">Cancel</md-button></div></div></div></div>'},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><md-toolbar><div class="md-toolbar-tools"><h2>Taxonomy</h2><span flex></span><md-button ng-click="$modal.dismiss()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar></div><div style="padding: 16px 0" class="modal-body"><form name="vm.itemForm" role="form" novalidate><div layout="column" layout-margin><md-input-container><label>Name</label><input ng-model="vm.item.name" required ng-minlength="2" ng-maxlength="50" ng-pattern="/^[^&quot;]*$/"></md-input-container><md-input-container><label>Slug</label><input ng-model="vm.item.slug" required ng-disabled="vm.mode === \'edit\'" ng-minlength="2" ng-maxlength="50" ng-pattern="vm.keyPattern"></md-input-container></div></form></div><div layout="row" class="modal-footer"><span flex></span><md-button ng-click="vm.save()" ng-disabled="vm.itemForm.$invalid" class="md-accent">Save</md-button><md-button ng-click="$modal.dismiss()" class="md-warn">Cancel</md-button></div></div></div></div>'},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><md-toolbar><div class="md-toolbar-tools"><h2>User</h2><span flex></span><md-button ng-click="$modal.dismiss()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar></div><div style="padding: 16px 0" class="modal-body"><form name="vm.itemForm" role="form" novalidate><div layout="column" layout-margin><md-input-container><label>Email</label><input type="email" ng-model="vm.item.email" required ng-disabled="vm.items.length &gt; 0" ng-pattern="vm.keyPattern"></md-input-container><md-input-container><label>First Name</label><input ng-model="vm.item.firstName" required ng-minlength="2" ng-maxlength="20" ng-pattern="/^[a-zA-Z-s-]*$/"></md-input-container><md-input-container><label>Last Name</label><input ng-model="vm.item.lastName" required ng-minlength="2" ng-maxlength="20" ng-pattern="/^[a-zA-Z-s-]*$/"></md-input-container><md-input-container><md-checkbox ng-model="vm.item.active" aria-label="Active?">Active</md-checkbox></md-input-container><br><md-input-container><label>Role</label><md-select ng-model="vm.item.role"><md-option ng-repeat="role in $admin.getRoles()" value="{{role.slug}}">{{role.name}}</md-option></md-select></md-input-container></div><md-toolbar class="md-table-toolbar md-primary"><div class="md-toolbar-tools">Roles</div></md-toolbar><md-table-container><table md-table><thead md-head><tr md-row><th md-column></th><th md-column>Users</th><th md-column>Files</th><th md-column>Taxonomy</th><th md-column>Delete</th></tr></thead><tbody md-body><tr md-row ng-repeat="role in $admin.getRoles()"><td md-cell>{{role.name}}</td><td md-cell>{{role.permissions.user ? \'&check;\' : \'&times;\'}}</td><td md-cell>{{role.permissions.fileCreate ? \'&check;\' : \'&times;\'}}</td><td md-cell>{{role.permissions.taxonomyCreate ? \'&check;\' : \'&times;\'}}</td><td md-cell>{{role.permissions.entityDelete ? \'&check;\' : \'&times;\'}}</td></tr></tbody></table></md-table-container></form></div><div layout="row" class="modal-footer"><span flex></span><md-button ng-click="vm.save()" ng-disabled="vm.itemForm.$invalid" class="md-accent">Save</md-button><md-button ng-click="$modal.dismiss()" class="md-warn">Cancel</md-button></div></div></div></div>'},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h2>Batch Upload</h2><span flex></span><md-button ng-click="vm.cancel()" ng-disabled="vm.uploadComplete || !vm.isUploading">Cancel</md-button></div></md-toolbar><md-content><md-table-container><table md-table><thead md-head><tr md-row><th md-column>Name</th><th md-column>Size</th><th md-column>Type</th><th md-column>Progress</th><th md-column>Status</th></tr></thead><tbody md-body><tr md-row ng-repeat="file in vm.files"><td md-cell>{{file.name}}</td><td md-cell>{{file.size | fileSize}}</td><td md-cell>{{file.file.type}}</td><td md-cell>{{file.progress() * 100 | toFixed: 0}}%</td><td md-cell>{{file._status}}</td></tr></tbody></table></md-table-container></md-content>'},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h3>Dashboard</h3></div></md-toolbar><md-content><div layout="row" layout-padding layout-wrap><div flex="100"><md-card><md-card-title><md-card-title-text><h4 class="md-headline">Hi {{vm.user.firstName}}, welcome back.</h4></md-card-title-text></md-card-title></md-card></div><div flex="60"><md-card><md-card-title><md-card-title-text><h4 class="md-headline">Sessions</h4></md-card-title-text></md-card-title><md-card-content><div class="chart chart--sessions"><div class="chart__wrapper"><ace-c3 options="vm.sessionsChart"></ace-c3></div></div></md-card-content></md-card></div><div flex="40"><md-card><md-card-title><md-card-title-text><h4 class="md-headline">Top Referrals</h4></md-card-title-text></md-card-title><md-card-content><md-table-container><table md-table><thead md-head><tr md-row><th md-column>Source</th><th md-column>Sessions</th></tr></thead><tbody md-body><tr md-row ng-repeat="referral in vm.referrals"><td md-cell><a href="http://{{referral.fullReferrer}}" target="_blank">{{referral.source}}</a></td><td md-cell>{{referral.sessions}}</td></tr></tbody></table></md-table-container></md-card-content></md-card></div></div></md-content>'},function(e,t){e.exports='<div layout="column" style="position: absolute; width: 100%; height: 100%"><md-toolbar><div class="md-toolbar-tools"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h3>Discounts</h3><span flex></span><md-button ng-click="vm.editDiscount()">New</md-button><md-button ng-click="vm.editDiscount(vm.selected[0])" ng-disabled="vm.selected.length !== 1" aria-label="Edit" class="md-icon-button"><md-icon md-font-set="material-icons">create</md-icon></md-button><md-button ng-click="vm.deleteDiscounts(vm.selected)" ng-disabled="vm.selected.length &lt; 1" aria-label="Delete" class="md-icon-button"><md-icon md-font-set="material-icons">delete</md-icon></md-button><md-button aria-label="Search" ng-click="vm.showSearch = !vm.showSearch" class="md-fab md-mini"><md-icon md-font-set="material-icons">search</md-icon></md-button></div></md-toolbar><md-list flex="nogrow" ng-show="vm.showSearch"><md-list-item layout="row" layout-padding style="align-items: flex-start;" class="search"><md-input-container flex md-no-float><input type="text" placeholder="Search" ng-model="vm.searchTerm" ng-keypress="vm.search($event, vm.searchTerm)"></md-input-container><md-button aria-label="Search" ng-click="vm.search($event, vm.searchTerm)" class="md-icon-button"><md-icon style="display: inline-block" md-font-set="material-icons">search</md-icon></md-button></md-list-item></md-list><div flex><div class="ui-grid-wrapper"><div ui-grid="vm.grid" ui-grid-selection ui-grid-infinite-scroll ng-class="{disabled: vm.searching}"></div></div></div></div><!-- TODO: show selected count in a toast (vm.selected.length)-->'},function(e,t){e.exports='<div layout="column" style="position: absolute; width: 100%; height: 100%"><md-toolbar><div class="md-toolbar-tools"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h3>Orders {{vm.ecommerceSettings.testMode ? \'(Test mode)\' : \'\'}}</h3><span flex></span><md-button ng-click="vm.editOrder(vm.selected[0])" ng-disabled="vm.selected.length !== 1" aria-label="Edit" class="md-icon-button"><md-icon md-font-set="material-icons">create</md-icon></md-button><md-button aria-label="Search" ng-click="vm.showSearch = !vm.showSearch" class="md-fab md-mini"><md-icon md-font-set="material-icons">search</md-icon></md-button></div></md-toolbar><md-list flex="nogrow" ng-show="vm.showSearch"><md-list-item layout="row" layout-padding style="align-items: flex-start;" class="search"><md-input-container flex md-no-float><input type="text" placeholder="Search" ng-model="vm.searchTerm" ng-keypress="vm.search($event, vm.searchTerm)"></md-input-container><md-button aria-label="Search" ng-click="vm.search($event, vm.searchTerm)" class="md-icon-button"><md-icon style="display: inline-block" md-font-set="material-icons">search</md-icon></md-button></md-list-item></md-list><div flex><div class="ui-grid-wrapper"><div ui-grid="vm.grid" ui-grid-selection ui-grid-infinite-scroll ng-class="{disabled: vm.searching}"></div></div></div></div><!-- TODO: show selected count in a toast (vm.selected.length)-->'},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h2>E-commerce Settings</h2><span flex></span><md-button ng-click="vm.saveSettings()" ng-disabled="vm.settingsForm.$invalid">Save</md-button></div></md-toolbar><md-content><form name="vm.settingsForm" role="form" novalidate><span ng-if="::$root.user.superUser"><md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><h3>Super User</h3></div></md-toolbar></md-subheader><div flex layout="column" layout-margin><md-input-container><md-checkbox ng-model="vm.ecommerceSettings.testMode" aria-label="Test mode?">Test Mode</md-checkbox></md-input-container></div></span><md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><h3>General</h3></div></md-toolbar></md-subheader><div flex layout="column" layout-margin><br><md-input-container><label>Store Name</label><input ng-model="vm.ecommerceSettings.storeName" aria-label="Store Name"></md-input-container><md-input-container><label>Email Sender Name</label><input ng-model="vm.ecommerceSettings.emailSenderName" aria-label="Email Sender Name"></md-input-container><md-input-container><label>Email Sender Address</label><input ng-model="vm.ecommerceSettings.emailSenderAddress" aria-label="Email Sender Address"></md-input-container><md-input-container><label>Currency</label><md-select ng-model="vm.ecommerceSettings.currencySymbol"><md-option ng-repeat="option in [\'\']" value="{{option}}">{{option}}</md-option></md-select></md-input-container></div><md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><h3>Stripe</h3><span flex></span><md-button ng-click="vm.authenticateWithProvider(\'stripe\')">{{ vm.ecommerceSettings.stripe.access_token ? \'Reconnect\' : \'Connect\' }}</md-button><span ng-show="vm.ecommerceSettings.stripe.access_token"><md-button ng-click="vm.ecommerceSettings.stripe.access_token = null">Disconnect</md-button></span></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><div ng-show="!vm.ecommerceSettings.stripe.access_token" class="md-subhead">Connect your Stripe account</div><md-list-item ng-show="vm.ecommerceSettings.stripe.account"><img gravatar-src="vm.ecommerceSettings.stripe.account.email" gravatar-size="100" class="md-avatar"><div class="md-list-item-text"><a href="https://dashboard.stripe.com" target="_blank">{{vm.ecommerceSettings.stripe.account.display_name}}</a></div></md-list-item></div></form></md-content>'},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><md-toolbar><div class="md-toolbar-tools"><h2>Discount</h2><span flex></span><md-button ng-click="$modal.dismiss()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar></div><div style="padding: 16px 0" class="modal-body"><form name="vm.discountForm" novalidate><div flex layout="row" layout-margin><md-input-container flex><label>Name</label><input aria-label="Name" ng-model="vm.discount.name" required ng-minlength="2" ng-maxlength="50" ng-pattern="/^[^&quot;]*$/"></md-input-container><md-input-container flex><label>Code</label><input aria-label="Code" ng-model="vm.discount.code" required ng-minlength="2" ng-maxlength="50" ng-pattern="/^[^&quot;]*$/"></md-input-container></div><div flex layout="row" layout-margin><div flex><div class="md-caption">Start Date</div><md-datepicker ng-model="vm.discount.dateStart" md-placeholder="Start Date"></md-datepicker></div><div flex><div class="md-caption">End Date</div><md-datepicker ng-model="vm.discount.dateEnd" md-placeholder="End Date"></md-datepicker></div></div><br><div flex layout="row" layout-margin><md-input-container flex="50"><label>Type</label><md-select ng-model="vm.discount.discountType"><md-option value="percentage">Percentage</md-option><md-option value="fixed">Fixed Amount</md-option><md-option value="shipping">Free Shipping</md-option></md-select></md-input-container><md-input-container flex ng-show="vm.discount.discountType !== \'shipping\'"><label>Amount</label><input type="number" aria-label="Amount" ng-model="vm.discount.amount" ng-required="vm.discount.discountType !== \'shipping\'" min="0" max="{{vm.discount.discountType === \'percentage\' ? 100 : 99999}}"></md-input-container></div><!-- div(flex, layout="row", layout-margin)--><!--   md-input-container(flex)--><!--     label Usage Limit--><!--     input(type=\'number\', aria-label=\'Usage Limit\', ng-model=\'vm.discount.usageLimit\', required, min=\'0\')--></form></div><div layout="row" class="modal-footer"><span flex></span><md-button ng-click="$modal.close(vm.discount)" ng-disabled="vm.discountForm.$invalid" class="md-accent">Save</md-button><md-button ng-click="$modal.dismiss()" class="md-warn">Cancel</md-button></div></div></div></div>';
},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><md-toolbar><div class="md-toolbar-tools"><h2>Order</h2><span flex></span><md-button ng-click="$modal.dismiss()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar></div><div style="padding: 16px 0" class="modal-body"><div flex layout="column" layout-margin><md-input-container flex><label>Status</label><md-select ng-model="vm.order.status"><md-option ng-value="\'pending\'">Pending</md-option><md-option ng-value="\'fulfilled\'">Fulfilled</md-option><md-option ng-value="\'refunded\'">Refunded</md-option></md-select></md-input-container></div><div flex layout="row" layout-margin><md-button ng-click="vm.refund()" ng-disabled="vm.order.charge.amountRefunded === vm.order.charge.amount" class="md-raised md-primary">Refund</md-button><md-button ng-if="::$root.user.superUser" ng-click="vm.previewEmailTemplate(\'orderReceipt\')">Receipt</md-button><md-button ng-if="::$root.user.superUser" ng-click="vm.previewEmailTemplate(\'orderNotification\')">Notification</md-button></div><hr><div flex layout="row" layout-margin><div flex><div class="md-caption">Order ID</div><div class="md-subhead">{{vm.order.orderId}}</div></div><div flex><div class="md-caption">Created</div><div class="md-subhead">{{vm.order.created | date: \'short\'}}</div></div></div><div flex layout="row" layout-margin><div flex><div class="md-caption">Charge Status</div><div class="md-subhead">{{vm.order.charge | chargeStatus}}</div></div><div flex><div class="md-caption">Shipping Method</div><div class="md-subhead">{{vm.order.shippingMethod.name}}</div></div></div><hr><div flex layout="row" layout-margin><div flex><div class="md-caption">Customer Name</div><div class="md-subhead">{{vm.order.customer.name}}</div></div><div flex><div class="md-caption">Customer Email</div><div class="md-subhead"><a ng-href="mailto:{{vm.order.customer.email}}">{{vm.order.customer.email}}</a></div><span ng-show="::vm.order.customer.phone"><div class="md-caption">Customer Phone Number</div><div class="md-subhead">{{vm.order.customer.phone}}</div><br></span></div></div><div flex layout="row" layout-margin><div flex><div class="md-caption">Shipping Address</div><div class="md-subhead">{{vm.order.shippingAddress.street1}}<br ng-show="::vm.order.shippingAddress.street2">{{vm.order.shippingAddress.street2}}<br>{{vm.order.shippingAddress.city}}<br>{{vm.order.shippingAddress.zip}}<br>{{vm.order.shippingAddress.country | isoCountry}}</div></div><div flex><div class="md-caption">Billing Address</div><div class="md-subhead">{{vm.order.billingAddress.street1}}<br ng-show="::vm.order.billingAddress.street2">{{vm.order.billingAddress.street2}}<br>{{vm.order.billingAddress.city}}<br>{{vm.order.billingAddress.zip}}<br>{{vm.order.billingAddress.country | isoCountry}}</div></div></div><br><hr><div flex layout="row" layout-margin><div flex><div class="md-caption">Shipping Amount</div><div class="md-subhead">{{vm.order.shippingMethod.amount | toFixed | currency}}</div><br><span ng-show="::vm.order.tax.total"><div class="md-caption">Tax</div><div class="md-subhead">{{vm.order.tax.total | toFixed | currency}}</div></span></div><div flex><div class="md-caption">Subtotal</div><div class="md-subhead">{{vm.order.subtotal | toFixed | currency}}</div><br><span ng-show="::vm.order.discount.total"><div class="md-caption">Discount</div><div class="md-subhead">-{{vm.order.discount.total | toFixed | currency}} ({{vm.order.discount.name}})</div></span></div></div><br><hr><div flex layout="row" layout-margin><div flex><div class="md-caption">Total</div><div class="md-headline">{{vm.order.total | toFixed | currency}}</div></div></div><br><md-toolbar class="md-table-toolbar md-primary"><div class="md-toolbar-tools">Items</div></md-toolbar><md-table-container><table md-table><thead md-head><tr md-row><th md-column>Product</th><th md-column>Variant</th><th md-column>Quantity</th><th md-column>Price</th></tr></thead><tbody md-body><tr md-row ng-repeat="item in vm.order.items"><td md-cell><a ui-sref="entity({id: item.metadata.product.id})">{{item.metadata.product.title || item.title}}</a></td><td md-cell><a ui-sref="entity({id: item.metadata.variant.id})">{{item.metadata.variant.title || \'-\'}}</a></td><td md-cell>{{item.quantity}}</td><td md-cell>{{item.price | toFixed | currency}}</td></tr></tbody></table></md-table-container></div><!-- .modal-footer(layout="row")--><!--   span(flex)--><!--   md-button(ng-click="$modal.dismiss()") Close--></div></div></div>'},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><md-toolbar><div class="md-toolbar-tools"><h2>Refund</h2><span flex></span><md-button ng-click="$modal.dismiss()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar></div><div style="padding: 16px 0" class="modal-body"><form name="vm.refundForm" novalidate><div flex layout="row" layout-margin><md-input-container flex><label>Amount ({{$ecom.currencySymbol}})</label><input type="number" aria-label="Amount" ng-model="vm.amount" ng-pattern="/^[0-9]+(.[0-9]{1,2})?$/" required min="0" max="{{vm.maxAmount}}" step="0.01" ace-smart-float></md-input-container></div></form></div><div layout="row" class="modal-footer"><span flex></span><md-button ng-click="$modal.close(vm.amount)" ng-disabled="vm.refundForm.$invalid" class="md-accent">Refund</md-button><md-button ng-click="$modal.dismiss()" class="md-warn">Cancel</md-button></div></div></div></div>'},function(e,t){e.exports='<md-toolbar ng-if="::!vm.entity.trashed"><div class="md-toolbar-tools"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h2><span ng-show="::vm.modeBreadcrumb" hide-xs hide-sm>{{::vm.modeBreadcrumb}}</span><a ng-if=":: !vm.schema.singular &amp;&amp; vm.mode !== \'new\'" ui-sref="entityGrid({schemaSlug: vm.schema.slug})" hide-xs hide-sm>{{::vm.schema.name | pluralize}}</a><span ng-if=":: vm.schema.singular || vm.mode === \'new\'">{{::vm.schema.name}}</span><span ng-if="vm.title" ng-bind-html="vm.title"></span></h2><span flex></span><md-button ng-show="::vm.mode !== \'batchUpload\' &amp;&amp; !vm.isModal" ng-click="vm.saveEntity()" ng-disabled="vm.entityForm.$invalid">Save</md-button><md-button ng-show="::vm.mode === \'normal\' &amp;&amp; !vm.isModal" ng-click="vm.deleteEntity()" aria-label="Delete" class="md-icon-button"><md-icon md-font-set="material-icons">delete</md-icon></md-button><md-button ng-show="::vm.mode === \'normal\' &amp;&amp; vm.prevEntityId" ng-click="vm.prevEntity()" aria-label="Previous Entity" class="md-icon-button"><md-icon md-font-set="material-icons">navigate_before</md-icon></md-button><md-button ng-show="::vm.mode === \'normal\' &amp;&amp; vm.nextEntityId" ng-click="vm.nextEntity()" aria-label="Next Entity" class="md-icon-button"><md-icon md-font-set="material-icons">navigate_next</md-icon></md-button><md-menu ng-show="::(vm.mode === \'normal\' || vm.mode === \'singular\') &amp;&amp; !vm.isModal"><md-button ng-click="$mdOpenMenu()" aria-label="More" class="md-icon-button"><md-icon md-font-set="material-icons">more_vert</md-icon></md-button><md-menu-content width="4"><md-menu-item ng-repeat="item in vm.dropdownMore"><md-button ng-click="item.click()"><span>{{ item.text }}</span></md-button></md-menu-item></md-menu-content></md-menu></div></md-toolbar><md-toolbar ng-if="::vm.entity.trashed"><div class="md-toolbar-tools"><h2><a ui-sref="trash">Trash</a><span ng-bind-html="vm.title"></span></h2><span flex></span><md-button ng-click="vm.restoreEntity()">Restore</md-button><md-button ng-click="vm.deleteEntity(true)">Delete Forever</md-button></div></md-toolbar><md-content mode="{{vm.mode}}"><section ng-show="vm.revisions.length"><md-content style="max-height: 20rem"><md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><h3>Revisions</h3></div></md-toolbar></md-subheader><md-list><md-list-item ng-repeat="revision in vm.revisions" md-colors="{background: \'{{revision._rev === vm.currentRevId ? \'default-primary\' : \'default-background-50\'}}\'}" class="secondary-button-padding"><div class="md-body-1">{{revision.modified | date: \'short\'}} by {{revision.modifiedBy}}</div><md-button ng-click="vm.restoreRevision(revision)" ng-disabled="revision._rev === vm.currentRevId" class="md-secondary">{{revision._rev === vm.currentRevId ? \'Current\' : \'Restore\'}}</md-button></md-list-item></md-list></md-content></section><section ng-class="::{disabled: vm.entity.trashed}"><md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><md-checkbox ng-if="::vm.mode === \'batchEdit\'" ng-model="vm.batchPublish" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3>Published</h3></div></md-toolbar></md-subheader><div flex layout="row" layout-margin style="height: 112px"><div flex><md-checkbox ng-model="vm.entity.published" ng-change="vm.batchPublish = true" aria-label="Published?">Published on ...</md-checkbox><md-datepicker ng-model="vm.entity.publishedAt" md-placeholder="Choose date" ng-disabled="!vm.entity.published" ng-change="vm.batchPublish = true"></md-datepicker></div></div></section><form name="vm.entityForm" novalidate role="form"><section ng-repeat="field in vm.schema.fields" ng-class="{disabled: field.disabled || vm.fieldDisabled(field)}"><field field-type="field.fieldType" field-options="vm.fieldOptions(field.slug)" field-model="vm.entity.fields[field.slug].value" field-apply="field.apply" field-disabled="field.disabled"></field></section></form></md-content>'},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><!-- .modal-header--><!--   md-toolbar--><!--     .md-toolbar-tools--><!--       h2 Entity--><!--       span(flex)--><!--       md-button.md-icon-button(ng-click="$modal.dismiss()")--><!--         md-icon(md-font-set="material-icons") close--><div class="modal-body"><entity mode="{{vm.mode}}" entity="vm.entity" entities="vm.entities" entity-form="vm.entityForm" is-modal="true"></entity></div><div layout="row" class="modal-footer"><span flex></span><md-button ng-disabled="vm.entityForm.$invalid || vm.entity.trashed" ng-click="$modal.close(vm.entity)" class="md-accent">Save</md-button><md-button ng-click="$modal.dismiss()" class="md-warn">Cancel</md-button></div></div></div></div>'},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><!-- .modal-header--><!--   md-toolbar--><!--     .md-toolbar-tools--><!--       h2 Entity--><!--       span(flex)--><!--       md-button.md-icon-button(ng-click="$modal.dismiss()")--><!--         md-icon(md-font-set="material-icons") close--><div class="modal-body"><entity-grid mode="modal" schema="vm.schemaSlug" selected="vm.selected"></entity-grid></div><div layout="row" class="modal-footer"><span flex></span><md-button ng-click="$modal.close(vm.selected)" class="md-accent">Select</md-button><md-button ng-click="$modal.dismiss()" class="md-warn">Cancel</md-button></div></div></div></div>'},function(e,t){e.exports='<div layout="column" style="position: absolute; width: 100%; height: 100%"><md-toolbar><div class="md-toolbar-tools"><span ng-show="::vm.mode !== \'modal\'"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button></span><h3>{{vm.heading}}&nbsp;<span ng-show="vm.selected.length === 0">({{vm.totalItems}})</span><span ng-show="vm.selected.length &gt; 0">({{vm.selected.length}}/{{vm.totalItems}})</span></h3><span flex></span><span ng-show="::vm.mode !== \'trash\' &amp;&amp; vm.mode !== \'modal\'"><md-button ng-click="vm.editSelected(vm.selected)" ng-disabled="vm.selected.length &lt; 1" aria-label="Edit" class="md-icon-button"><md-icon md-font-set="material-icons">create</md-icon></md-button><md-button ng-click="vm.deleteSelected(vm.selected)" ng-disabled="vm.selected.length &lt; 1" aria-label="Delete" class="md-icon-button"><md-icon md-font-set="material-icons">delete</md-icon></md-button></span><span ng-show="::vm.mode === \'trash\'"><md-button ng-click="vm.restoreSelected(vm.selected)" ng-disabled="vm.selected.length &lt; 1" aria-label="Restore" class="md-icon-button"><md-icon md-font-set="material-icons">settings_backup_restore</md-icon></md-button><md-button ng-click="vm.deleteSelected(vm.selected, true)" ng-disabled="vm.selected.length &lt; 1" aria-label="Delete Forever" class="md-icon-button"><md-icon md-font-set="material-icons">delete_forever</md-icon></md-button><md-button ng-click="vm.emptyTrash()" aria-label="Empty Trash" class="md-icon-button"><md-icon md-font-set="material-icons">delete_sweep</md-icon></md-button></span><md-button ng-click="vm.selectAll()" aria-label="Select all" class="md-icon-button"><md-icon md-font-set="mdi" md-font-icon="mdi-select"></md-icon></md-button><md-button ng-click="vm.selectNone()" aria-label="Select none" class="md-icon-button"><md-icon md-font-set="mdi" md-font-icon="mdi-select-off"></md-icon></md-button><md-menu ng-show="::vm.filterFields.length"><md-button ng-click="$mdOpenMenu()" aria-label="Filter" class="md-icon-button"><md-icon md-font-set="material-icons">filter_list</md-icon></md-button><md-menu-content width="4"><md-menu-item ng-repeat="field in vm.filterFields"><md-button ng-click="vm.addFilter(field)"><span>{{ field.name }}</span></md-button></md-menu-item></md-menu-content></md-menu><span ng-show="::vm.mode !== \'trash\' &amp;&amp; vm.mode !== \'modal\'"><md-button aria-label="Search" ng-click="vm.showSearch = !vm.showSearch; vm.searchTerm = \'\'; vm.search()" class="md-icon-button"><md-icon md-font-set="material-icons">search</md-icon></md-button></span><span ng-show="::vm.mode !== \'trash\' &amp;&amp; vm.mode !== \'modal\'"><md-button ng-click="vm.newEntity()" aria-label="New entity" class="md-fab md-mini"><md-icon md-font-set="material-icons">add</md-icon></md-button></span><span ng-show="::vm.mode === \'trash\' || vm.mode === \'modal\'"><md-button ng-click="vm.showSearch = !vm.showSearch; vm.searchTerm = \'\'; vm.search()" aria-label="Search" class="md-fab md-mini"><md-icon md-font-set="material-icons">search</md-icon></md-button></span></div></md-toolbar><div flex="nogrow" ng-show="vm.showSearch"><div layout="row" layout-padding class="search"><md-input-container flex md-no-float><input type="text" placeholder="Search" ng-model="vm.searchTerm" ng-keypress="vm.search($event, vm.searchTerm)"></md-input-container><md-button aria-label="Search" ng-click="vm.search($event, vm.searchTerm)" class="md-icon-button"><md-icon md-font-set="material-icons">search</md-icon></md-button></div></div><div flex="nogrow" ng-show="vm.filters.length &gt; 0"><div layout="row" layout-padding ng-repeat="filter in vm.filters track by $index" class="filter"><md-autocomplete flex md-selected-item-change="vm.selectFilter()" md-selected-item="filter.value" md-search-text="searchText" md-items="item in vm.filterOptions(filter, searchText)" md-item-text="item.title" md-floating-label="{{filter.name}}" md-input-name="{{filter.fieldSlug}}"><md-item-template><span md-highlight-text="searchText" md-highlight-flags="^i">{{item.title}}</span></md-item-template><md-not-found>No matches found.</md-not-found></md-autocomplete><md-button aria-label="Remove filter" ng-click="vm.removeFilter($index)" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></div><div flex><div class="ui-grid-wrapper"><div ui-grid="vm.grid" ui-grid-selection ui-grid-infinite-scroll ui-grid-cellNav ui-grid-save-state ng-class="{disabled: vm.searching}"></div></div></div></div>'},function(e,t){e.exports='<span ace-flow options="vm.flowOptions"><md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button aria-label="Upload" ace-flow-browse class="md-icon-button"><md-icon md-font-set="material-icons">file_upload</md-icon></md-button><md-button aria-label="Download" ng-click="vm.download($event)" ng-disabled="!vm.fieldModel" class="md-icon-button"><md-icon md-font-set="material-icons">file_download</md-icon></md-button><md-button aria-label="Download URL" ng-click="vm.downloadUrl($event)" ng-disabled="!vm.fieldModel" class="md-icon-button"><md-icon md-font-set="mdi" md-font-icon="mdi-link-variant"></md-icon></md-button></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><div flex ng-show="vm.uploading"><div ng-show="vm.uploading">Uploading {{ vm.progress || 0 }}%</div></div><div flex ng-show="!vm.uploading &amp;&amp; vm.fieldModel"><table><tr><td>Type</td><td>{{vm.fieldModel.original.mimeType}}</td></tr><tr><td>Filename</td><td title="{{vm.fieldModel.original.fileName}}">{{vm.fieldModel.original.fileName}}</td></tr><tr><td>Filesize</td><td>{{vm.fieldModel.original.fileSize | fileSize}}</td></tr></table></div></div></span>'},function(e,t){e.exports='<div layout="column" layout-margin><md-input-container><md-checkbox ng-model="vm.item.settings.required" aria-label="Required?">Required</md-checkbox></md-input-container></div>'},function(e,t){e.exports='<span ace-flow options="vm.flowOptions"><md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button aria-label="Upload" ace-flow-browse class="md-icon-button"><md-icon md-font-set="material-icons">file_upload</md-icon></md-button><md-button aria-label="Download" ng-click="vm.download($event)" ng-disabled="!vm.fieldModel" class="md-icon-button"><md-icon md-font-set="material-icons">file_download</md-icon></md-button></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><div flex ng-show="vm.uploading"><div ng-show="vm.uploading">Uploading {{ vm.progress || 0 }}%</div></div><div flex ng-show="!vm.uploading &amp;&amp; vm.fieldModel"><table><tr><td>Type</td><td>{{vm.fieldModel.original.mimeType}}</td></tr><tr><td>Filename</td><td title="{{vm.fieldModel.original.fileName}}">{{vm.fieldModel.original.fileName}}</td></tr><tr><td>Filesize</td><td>{{vm.fieldModel.original.fileSize | fileSize}}</td></tr></table></div></div></span>'},function(e,t){e.exports='<div layout="column" layout-margin><md-input-container><md-checkbox ng-model="vm.item.settings.required" aria-label="Required?">Required</md-checkbox></md-input-container><br></div><md-toolbar class="md-table-toolbar md-primary"><div class="md-toolbar-tools">Audio Outputs<span flex></span><md-button ng-click="vm.fieldSettingsAdd(\'audioOutputs\')">Add Output</md-button></div></md-toolbar><md-table-container ng-show="vm.item.settings.audioOutputs.length"><table md-table><thead md-head><tr md-row><th md-column>Name</th><th md-column>Slug</th><th md-column>Format</th><th md-column>Quality</th></tr></thead><tbody md-body><tr md-row ng-repeat="output in vm.item.settings.audioOutputs"><td md-cell>{{output.name}}</td><td md-cell>{{output.slug}}</td><td md-cell>{{output.format}}</td><td md-cell>{{output.audioQuality}}</td><td md-cell><md-button ng-click="vm.fieldSettingsEdit(\'audioOutputs\', output)" class="md-icon-button"><md-icon md-font-set="material-icons">edit</md-icon></md-button><md-button ng-click="vm.fieldSettingsDelete(\'audioOutputs\', output)" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></td></tr></tbody></table></md-table-container>'},function(e,t){e.exports='<md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><md-input-container><md-checkbox ng-model="vm.fieldModel" aria-label="{{vm.fieldOptions.name}}?" ng-required="vm.fieldOptions.settings.required"></md-checkbox></md-input-container></div>'},function(e,t){e.exports='<md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><md-input-container flex><!-- div(md-color-picker, ng-model="vm.fieldModel", ng-required="vm.fieldOptions.settings.required && vm.fieldApply === undefined", aria-label="{{vm.fieldOptions.name}}")--><input ng-model="vm.fieldModel" ng-required="vm.fieldOptions.settings.required &amp;&amp; vm.fieldApply === undefined" aria-label="{{vm.fieldOptions.name}}"></md-input-container></div>'},function(e,t){e.exports='<div layout="column" layout-margin><md-input-container><label>Format</label><md-select ng-model="vm.item.settings.format" placeholder="Format"><md-option ng-repeat="format in $field.field(vm.item.fieldType).formats" ng-value="format.value">{{format.name}}</md-option></md-select></md-input-container><md-input-container><md-checkbox ng-model="vm.item.settings.required" aria-label="Required?">Required</md-checkbox></md-input-container></div>'},function(e,t){e.exports='<md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><md-datepicker ng-model="vm.fieldModel" ng-required="vm.fieldOptions.settings.required &amp;&amp; vm.fieldApply === undefined" md-placeholder="{{vm.fieldOptions.name}}"></md-datepicker></div>'},function(e,t){e.exports='<div layout="column" layout-margin><md-input-container><label>Format</label><md-select ng-model="vm.item.settings.format" placeholder="Format"><md-option ng-repeat="format in $field.field(vm.item.fieldType).formats" ng-value="format.value">{{format.name}}</md-option></md-select></md-input-container><md-input-container><md-checkbox ng-model="vm.item.settings.required" aria-label="Required?">Required</md-checkbox></md-input-container></div>'},function(e,t){e.exports='<md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button aria-label="Delete" ng-show="vm.fieldModel.oembed" ng-click="vm.fieldModel = null" class="md-icon-button"><md-icon md-font-set="material-icons">delete</md-icon></md-button></div></md-toolbar></md-subheader><div ng-show="!vm.fieldModel.oembed" flex layout="row" layout-margin><md-input-container flex md-no-float><input ng-model="vm.fieldModel.url" ng-paste="vm.submitUrl()" ng-keypress="($event.charCode === 13) ? vm.submitUrl() : return" placeholder="Source URL" ng-pattern="vm.embedlyRegex" ng-required="vm.fieldOptions.settings.required &amp;&amp; vm.fieldApply === undefined"></md-input-container><md-button aria-label="Submit" ng-click="vm.submitUrl()" class="md-icon-button"><md-icon md-font-set="material-icons">get_app</md-icon></md-button></div><div ng-show="vm.fieldModel.oembed" flex layout="row" layout-margin><div flex><img ng-src="{{ vm.fieldModel.oembed.thumbnail_url }}"></div><div flex><table><tr><td>Provider</td><td>{{vm.fieldModel.oembed.provider_name}}</td></tr><tr><td>URL</td><td><span>{{vm.fieldModel.oembed.url}}</span></td></tr><tr><td>Title</td><td>{{vm.fieldModel.oembed.title}}</td></tr><tr><td>Author</td><td>{{vm.fieldModel.oembed.author_name}}</td></tr><tr><td>Dimensions</td><td>{{vm.fieldModel.oembed.width}}&times;{{vm.fieldModel.oembed.height}}</td></tr></table></div></div>'},function(e,t){e.exports='<div layout="column" layout-margin><md-input-container><md-checkbox ng-model="vm.item.settings.required" aria-label="Required?">Required</md-checkbox></md-input-container></div>'},function(e,t){e.exports='<md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button ng-show="::vm.schemas.length === 1" ng-click="vm.newEntity(vm.schemas[0].slug)" aria-label="New entity">New</md-button><md-menu ng-if="::vm.schemas.length &gt; 1"><md-button aria-label="New entity" ng-click="$mdOpenMenu()">New</md-button><md-menu-content width="4"><md-menu-item ng-repeat="schema in vm.schemas"><md-button ng-click="vm.newEntity(schema.slug)"><!-- md-icon(md-font-set="material-icons") dashboard--><span>{{ schema.name }}</span></md-button></md-menu-item></md-menu-content></md-menu><md-button ng-if="!vm.fieldOptions.settings.multiple &amp;&amp; vm.searchText" ng-click="vm.searchText = vm.fieldModel = null" aria-label="Clear">Clear</md-button></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><div flex layout="row"><div flex ng-if="::!vm.fieldOptions.settings.multiple"><md-autocomplete flex md-no-cache="true" md-selected-item="vm.fieldModel" md-search-text="vm.searchText" md-items="item in vm.search(vm.searchText)" md-item-text="item.title" md-floating-label="{{vm.fieldOptions.name}}" md-min-length="0"><md-item-template><span md-highlight-text="vm.searchText" md-highlight-flags="^i">{{item.title}}</span></md-item-template><md-not-found>No matches found.</md-not-found></md-autocomplete></div><div flex ng-if="::vm.fieldOptions.settings.multiple"><md-chips ng-model="vm.fieldModel" md-autocomplete-snap md-require-match="true"><md-autocomplete md-no-cache="true" md-selected-item="vm.selectedItem" md-search-text="vm.searchText" md-items="item in vm.search(vm.searchText)" md-item-text="item.title" placeholder="{{vm.fieldOptions.name}}" md-min-length="0"><span md-highlight-text="vm.searchText">{{item.title}}</span></md-autocomplete><md-chip-template><span ace-sortable index-fn="$root.$helper.getMdChipIndex" collection-fn="$root.$helper.getMdChipCollection" draggable-selector="\'md-chip\'">{{$chip.title}}</span></md-chip-template></md-chips></div></div></div>'},function(e,t){e.exports='<div layout="column" layout-margin><div layout="row"><md-chips flex ng-model="vm.item.settings.schemas" ng-init="vm.item.settings.schemas = vm.item.settings.schemas || []" md-autocomplete-snap md-require-match="true"><md-autocomplete md-selected-item="vm.selectedItem" md-search-text="vm.searchText" md-items="item in $admin.get(\'schema\', true)" md-item-text="item.name" placeholder="Schema(s)" md-min-length="0"><span md-highlight-text="vm.searchText">{{item.name}}</span></md-autocomplete><md-chip-template><span ace-sortable index-fn="$root.$helper.getMdChipIndex" collection-fn="$root.$helper.getMdChipCollection" draggable-selector="\'md-chip\'">{{$chip.name}}</span></md-chip-template></md-chips><md-button aria-label="New schema" ng-click="vm.newItem(\'schema\', vm.item.settings.schemas)" class="md-icon-button"><md-icon md-font-set="material-icons">add</md-icon></md-button></div><br><md-input-container><md-checkbox ng-model="vm.item.settings.multiple" aria-label="Multiple?">Multiple</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="vm.item.settings.required" aria-label="Required?">Required</md-checkbox></md-input-container></div>'},function(e,t){e.exports='<md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button ng-show="::vm.schemas.length === 1" ng-click="vm.newEntity(vm.schemas[0].slug)" aria-label="New entity">New</md-button><md-menu ng-show="::vm.schemas.length &gt; 1"><md-button aria-label="New entity" ng-click="$mdOpenMenu()">New</md-button><md-menu-content width="4"><md-menu-item ng-repeat="schema in vm.schemas"><md-button ng-click="vm.newEntity(schema.slug)"><!-- md-icon(md-font-set="material-icons") dashboard--><span>{{ schema.name }}</span></md-button></md-menu-item></md-menu-content></md-menu><md-button ng-show="::vm.schemas.length === 1" ng-click="vm.insertEntity(vm.schemas[0].slug)" aria-label="Insert entity" class="md-icon-button"><md-icon md-font-set="material-icons">add</md-icon></md-button><md-menu ng-show="::vm.schemas.length &gt; 1"><md-button aria-label="Insert entity" ng-click="$mdOpenMenu()" class="md-icon-button"><md-icon md-font-set="material-icons">add</md-icon></md-button><md-menu-content width="4"><md-menu-item ng-repeat="schema in vm.schemas"><md-button ng-click="vm.insertEntity(schema.slug)"><!-- md-icon(md-font-set="material-icons") dashboard--><span>{{ schema.name }}</span></md-button></md-menu-item></md-menu-content></md-menu></div></md-toolbar></md-subheader><div ui-grid="vm.getGrid()" ui-grid-draggable-rows></div>'},function(e,t){e.exports='<div layout="column" layout-margin><div layout="row"><md-chips flex ng-model="vm.item.settings.schemas" ng-init="vm.item.settings.schemas = vm.item.settings.schemas || []" md-autocomplete-snap md-require-match="true"><md-autocomplete md-selected-item="vm.selectedItem" md-search-text="vm.searchText" md-items="item in $admin.get(\'schema\', true)" md-item-text="item.name" placeholder="Schema(s)" md-min-length="0"><span md-highlight-text="vm.searchText">{{item.name}}</span></md-autocomplete><md-chip-template><span ace-sortable index-fn="$root.$helper.getMdChipIndex" collection-fn="$root.$helper.getMdChipCollection" draggable-selector="\'md-chip\'">{{$chip.name}}</span></md-chip-template></md-chips><md-button aria-label="New schema" ng-click="vm.newItem(\'schema\', vm.item.settings.schemas)" class="md-icon-button"><md-icon md-font-set="material-icons">add</md-icon></md-button></div><br><md-input-container><md-checkbox ng-model="vm.item.settings.insertDisabled" aria-label="Insert disabled?">Insert Disabled</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="vm.item.settings.required" aria-label="Required?">Required</md-checkbox></md-input-container></div>'},function(e,t){e.exports='<md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button ng-show="::vm.schemas.length === 1" ng-click="vm.newEntity(vm.schemas[0].slug)" aria-label="New entity">New</md-button><md-menu ng-show="::vm.schemas.length &gt; 1"><md-button aria-label="New entity" ng-click="$mdOpenMenu()">New</md-button><md-menu-content width="4"><md-menu-item ng-repeat="schema in vm.schemas"><md-button ng-click="vm.newEntity(schema.slug)"><!-- md-icon(md-font-set="material-icons") dashboard--><span>{{ schema.name }}</span></md-button></md-menu-item></md-menu-content></md-menu><md-button ng-show="::vm.schemas.length === 1" ng-click="vm.insertEntity(vm.schemas[0].slug)" aria-label="Insert entity" class="md-icon-button"><md-icon md-font-set="material-icons">add</md-icon></md-button><md-menu ng-show="::vm.schemas.length &gt; 1"><md-button aria-label="Insert entity" ng-click="$mdOpenMenu()" class="md-icon-button"><md-icon md-font-set="material-icons">add</md-icon></md-button><md-menu-content width="4"><md-menu-item ng-repeat="schema in vm.schemas"><md-button ng-click="vm.insertEntity(schema.slug)"><!-- md-icon(md-font-set="material-icons") dashboard--><span>{{ schema.name }}</span></md-button></md-menu-item></md-menu-content></md-menu></div></md-toolbar></md-subheader><div flex layout="row" layout-padding layout-wrap><div flex layout="column" ng-repeat="item in vm.fieldModel" ace-sortable index-fn="vm.getIndex" collection-fn="vm.getCollection" handle-selector="\'[ace-sortable-handle]\'" class="tile"><md-card flex ng-click="vm.clickItem($event, item)" md-theme="{{item.$selected ? \'selected\' : \'default\'}}" md-theme-watch><div ng-show="$root.$entity.getEntityThumbnailUrl(item, \'w:500;q:60\')" ng-style="{backgroundImage: \'url(\' + $root.$entity.getEntityThumbnailUrl(item, \'w:500;q:60\') + \')\'}" class="md-card-image"></div><md-card-content flex><div ng-repeat="sortField in vm.getSortFields(item.schema)" ng-bind-html="item.fields[sortField] | field2String : 20" class="md-caption"></div></md-card-content><md-card-actions layout="row"><md-card-icon-actions><div ace-sortable-handle><md-button md-no-ink aria-label="Move" class="md-icon-button"><md-icon md-font-set="mdi" md-font-icon="mdi-cursor-move" md-theme="{{item.$selected ? \'selected\' : \'default\'}}" md-theme-watch></md-icon></md-button></div><md-button ng-click="vm.entityEdit($event, item)" aria-label="Edit" class="md-icon-button"><md-icon md-font-set="material-icons" md-theme="{{item.$selected ? \'selected\' : \'default\'}}" md-theme-watch>create</md-icon></md-button><md-button ng-click="vm.preview($event, item)" aria-label="Preview" class="md-icon-button"><md-icon md-font-set="material-icons" md-theme="{{item.$selected ? \'selected\' : \'default\'}}" md-theme-watch>zoom_in</md-icon></md-button><md-button ng-click="vm.entityRemove($event, item)" aria-label="Remove" class="md-icon-button"><md-icon md-font-set="material-icons" md-theme="{{item.$selected ? \'selected\' : \'default\'}}" md-theme-watch>close</md-icon></md-button></md-card-icon-actions></md-card-actions><div ng-show="vm.fieldOptions.settings.groupEnabled &amp;&amp; !$first" ng-class="{active: item.groupBefore}" class="group group--left"><md-button ng-click="vm.toggleGroupBefore($event, item)" aria-label="Group" md-theme="{{item.groupBefore ? \'grouped\' : \'ungrouped\'}}" md-theme-watch ng-disabled="item.$groupBeforeDisabled" class="md-fab md-mini md-primary"><md-icon md-font-set="mdi" md-font-icon="mdi-arrow-left-drop-circle-outline"></md-icon></md-button></div><div ng-show="vm.fieldOptions.settings.groupEnabled &amp;&amp; !$last" ng-class="{active: item.groupAfter}" class="group group--right"><md-button ng-click="vm.toggleGroupAfter($event, item)" aria-label="Group" md-theme="{{item.groupAfter ? \'grouped\' : \'ungrouped\'}}" md-theme-watch ng-disabled="item.$groupAfterDisabled" class="md-fab md-mini md-primary"><md-icon md-font-set="mdi" md-font-icon="mdi-arrow-right-drop-circle-outline"></md-icon></md-button></div></md-card></div></div>';
},function(e,t){e.exports='<div layout="column" layout-margin><div layout="row"><md-chips flex ng-model="vm.item.settings.schemas" ng-init="vm.item.settings.schemas = vm.item.settings.schemas || []" md-autocomplete-snap md-require-match="true"><md-autocomplete md-selected-item="vm.selectedItem" md-search-text="vm.searchText" md-items="item in $admin.get(\'schema\', true)" md-item-text="item.name" placeholder="Schema(s)" md-min-length="0"><span md-highlight-text="vm.searchText">{{item.name}}</span></md-autocomplete><md-chip-template><span ace-sortable index-fn="$root.$helper.getMdChipIndex" collection-fn="$root.$helper.getMdChipCollection" draggable-selector="\'md-chip\'">{{$chip.name}}</span></md-chip-template></md-chips><md-button aria-label="New schema" ng-click="vm.newItem(\'schema\', vm.item.settings.schemas)" class="md-icon-button"><md-icon md-font-set="material-icons">add</md-icon></md-button></div><br><md-input-container><md-checkbox ng-model="vm.item.settings.groupEnabled" aria-label="Grouping enabled?">Grouping Enabled</md-checkbox></md-input-container><br><md-input-container ng-show="vm.item.settings.groupEnabled"><label>Group Size Limit</label><input type="number" ng-model="vm.item.settings.groupSizeLimit" ng-required="vm.item.settings.groupEnabled" min="2"></md-input-container><md-input-container><md-checkbox ng-model="vm.item.settings.required" aria-label="Required?">Required</md-checkbox></md-input-container></div>'},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><md-toolbar><div class="md-toolbar-tools"><h2>Crop</h2><span flex></span><md-button ng-click="$modal.dismiss()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar></div><div class="modal-body"><div layout="row" layout-margin><md-input-container flex><label>Crop</label><md-select ng-model="vm.activeCrop"><md-option ng-repeat="crop in vm.availableCrops" ng-value="$index">{{crop.name}}</md-option></md-select></md-input-container><md-button ng-click="vm.coords = {}" aria-label="Clear">Clear</md-button></div><div layout="row" layout-margin><hj-cropify coords="vm.coords" aspect-ratio="vm.cropSettings.ratio"><img ng-style="vm.cropSize()" ng-src="{{vm.getThumbnail()}}"></hj-cropify></div></div><div layout="row" class="modal-footer"><span flex></span><md-button ng-click="$modal.dismiss()">Cancel</md-button><md-button ng-click="$modal.close(vm.crops)" class="md-primary md-raised">Done</md-button></div></div></div></div>'},function(e,t){e.exports='<div ng-click="$modal.dismiss()" class="modal-backdrop"></div><div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><md-toolbar><div class="md-toolbar-tools"><h2>Deep Zoom</h2><span flex></span><md-button ng-click="$modal.dismiss()" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></div></md-toolbar></div><div class="modal-body"><div layout="row" layout-margin><ace-open-seadragon src="{{vm.image}}" prefix-url="/img/openseadragon/images/"></ace-open-seadragon></div></div><div layout="row" class="modal-footer"><span flex></span><md-button ng-click="$modal.dismiss()">Close</md-button></div></div></div></div>'},function(e,t){e.exports='<ace-flow options="vm.flowOptions"><md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button aria-label="Upload" ace-flow-browse class="md-icon-button"><md-icon md-font-set="material-icons">file_upload</md-icon></md-button><md-button aria-label="Preview" ng-click="vm.preview($event)" ng-disabled="!vm.fieldModel.fileName" class="md-icon-button"><md-icon md-font-set="material-icons">zoom_in</md-icon></md-button><md-button aria-label="Download" ng-click="vm.download($event)" ng-disabled="!vm.fieldModel.fileName" class="md-icon-button"><md-icon md-font-set="material-icons">file_download</md-icon></md-button><md-button ng-show="vm.fieldOptions.settings.crops" aria-label="Crop" ng-click="vm.crop($event)" ng-disabled="!vm.fieldModel.fileName" class="md-icon-button"><md-icon md-font-set="material-icons">crop</md-icon></md-button><md-button ng-show="vm.fieldModel.dzi" aria-label="Deep Zoom" ng-click="vm.dzi($event)" ng-disabled="!vm.fieldModel.fileName" class="md-icon-button"><md-icon md-font-set="material-icons">zoom_out_map</md-icon></md-button></div></md-toolbar></md-subheader></ace-flow><div flex layout="row" layout-margin><div flex ng-show="vm.uploading"><div ng-show="vm.uploading">Uploading {{ vm.progress || 0 }}%</div></div><div flex ng-show="!vm.uploading &amp;&amp; vm.fieldModel"><img ng-src="{{vm.getThumbnail(\'h:500;q:60\')}}"></div><div flex ng-show="!vm.uploading &amp;&amp; vm.fieldModel"><table><tr><td>Type</td><td>{{vm.fieldModel.mimeType}}</td></tr><tr><td>Dimensions</td><td>{{vm.fieldModel.metadata ? vm.fieldModel.metadata.width + \'&times;\' + vm.fieldModel.metadata.height : \'\'}}</td></tr><tr><td>Filename</td><td title="{{vm.fieldModel.original.fileName}}">{{vm.fieldModel.original.fileName}}</td></tr><tr><td>Filesize</td><td>{{vm.fieldModel.fileSize | fileSize}}</td></tr><tr><td>DZI</td><td>{{vm.fieldModel.dzi.fileSize | fileSize}}</td></tr></table></div></div>'},function(e,t){e.exports='<div layout="column" layout-margin><md-input-container><md-checkbox ng-model="vm.item.settings.required" aria-label="Required?">Required</md-checkbox></md-input-container><br><md-input-container><label>Min. Width</label><input type="number" ng-model="vm.item.settings.minWidth" ng-init="vm.item.settings.minWidth = vm.item.settings.minWidth || 0"></md-input-container><md-input-container><label>Min. Height</label><input type="number" ng-model="vm.item.settings.minHeight" ng-init="vm.item.settings.minHeight = vm.item.settings.minHeight || 0"></md-input-container><md-input-container><label>Max. Width</label><input type="number" required ng-model="vm.item.settings.maxWidth" ng-init="vm.item.settings.maxWidth = vm.item.settings.maxWidth || 3000"></md-input-container><md-input-container><label>Max. Height</label><input type="number" required ng-model="vm.item.settings.maxHeight" ng-init="vm.item.settings.maxHeight = vm.item.settings.maxHeight || 2000"></md-input-container><md-input-container><md-checkbox ng-model="vm.item.settings.dzi" aria-label="Deep Zoom Image?">Deep Zoom Image</md-checkbox></md-input-container><br></div><md-toolbar class="md-table-toolbar md-primary"><div class="md-toolbar-tools">Crops<span flex></span><md-button ng-click="vm.fieldSettingsAdd(\'crops\')">Add Crop</md-button></div></md-toolbar><md-table-container ng-show="vm.item.settings.crops.length"><table md-table><thead md-head><tr md-row><th md-column>Name</th><th md-column>Slug</th><th md-column>Min. Size</th><th md-column>Ratio</th><th md-column>Gravity</th></tr></thead><tbody md-body><tr md-row ng-repeat="crop in vm.item.settings.crops"><td md-cell>{{crop.name}}</td><td md-cell>{{crop.slug}}</td><td md-cell>{{crop.minWidth}}{{crop.minHeight}}</td><td md-cell>{{crop.ratio}}</td><td md-cell>{{crop.gravity}}</td><td md-cell><md-button ng-click="vm.fieldSettingsEdit(\'crops\', crop)" class="md-icon-button"><md-icon md-font-set="material-icons">edit</md-icon></md-button><md-button ng-click="vm.fieldSettingsDelete(\'crops\', crop)" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></td></tr></tbody></table></md-table-container>'},function(e,t){e.exports='<md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button aria-label="Add key/value" ng-click="vm.fieldModel.push({key: \'\', value: \'\'})" class="md-icon-button"><md-icon md-font-set="material-icons">add</md-icon></md-button></div></md-toolbar></md-subheader><div flex layout="column" layout-margin><table style="width: 100%"><tbody><tr ng-repeat="keyValue in vm.fieldModel" ace-sortable axis="\'y\'" index-fn="vm.getIndex" collection-fn="vm.getCollection" handle-selector="\'[ace-sortable-handle]\'"><td><md-icon md-font-set="material-icons" ace-sortable-handle>more_horiz</md-icon></td><td><md-input-container style="width: 100%"><label>Key</label><input ng-model="keyValue.key"></md-input-container></td><td><md-input-container style="width: 100%"><label>Value</label><input ng-model="keyValue.value"></md-input-container></td><td><md-button aria-label="Remove key/value" ng-click="vm.fieldModel.splice($index, 1)" class="md-icon-button"><md-icon style="display: inline-block" md-font-set="material-icons">close</md-icon></md-button></td></tr></tbody></table></div>'},function(e,t){e.exports='<div layout="column" layout-margin><md-input-container><label>Source</label><md-select ng-model="vm.item.settings.source" required placeholder="Source"><md-option ng-repeat="item in $field.field(vm.item.fieldType).sources" ng-value="item.value">{{item.name}}</md-option></md-select></md-input-container><div ng-if="vm.item.settings.source === \'default\'"><md-chips ng-model="vm.item.settings.options" ng-init="vm.item.settings.options = vm.item.settings.options || []" placeholder="Options" secondary-placeholder="+Option"><md-chip-template><span ace-sortable index-fn="$root.$helper.getMdChipIndex" collection-fn="$root.$helper.getMdChipCollection" draggable-selector="\'md-chip\'">{{$chip}}</span></md-chip-template></md-chips><br></div><md-input-container ng-if="vm.item.settings.source === \'taxonomy\'"><label>Taxonomy</label><md-select ng-model="vm.item.settings.taxonomy" required placeholder="Taxonomy"><md-option ng-repeat="item in $admin.get(\'taxonomy\', true)" ng-value="item">{{item.name}}</md-option></md-select></md-input-container></div>'},function(e,t){e.exports='<md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><md-input-container flex><input type="number" ng-model="vm.fieldModel" ng-required="vm.fieldOptions.settings.required &amp;&amp; vm.fieldApply === undefined" aria-label="{{vm.fieldOptions.name}}"></md-input-container></div>'},function(e,t){e.exports='<div layout="column" layout-margin><md-input-container><label>Format</label><md-select ng-model="vm.item.settings.format" placeholder="Format"><md-option ng-repeat="format in $field.field(vm.item.fieldType).formats" ng-value="format.value">{{format.name}}</md-option></md-select></md-input-container><md-input-container><md-checkbox ng-model="vm.item.settings.required" aria-label="Required?">Required</md-checkbox></md-input-container></div>'},function(e,t){e.exports='<md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><md-checkbox ng-if="vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button aria-label="Toggle HTML" ng-click="vm.showHtml = !vm.showHtml" class="md-icon-button"><md-icon md-font-set="material-icons">code</md-icon></md-button></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><md-input-container flex><textarea ace-rich-text options="vm.options" show-html="vm.showHtml" ng-model="vm.fieldModel.html" ng-required="vm.fieldOptions.settings.required &amp;&amp; vm.fieldApply === undefined" aria-label="{{vm.fieldOptions.name}}" class="md-input"></textarea></md-input-container></div>'},function(e,t){e.exports='<div layout="column" layout-margin><div layout="row"><md-chips flex ng-model="vm.item.settings.schemas" ng-init="vm.item.settings.schemas = vm.item.settings.schemas || []" md-autocomplete-snap md-require-match="true"><md-autocomplete md-selected-item="vm.selectedItem" md-search-text="vm.searchText" md-items="item in $admin.get(\'schema\', true)" md-item-text="item.name" placeholder="Schema(s)" md-min-length="0"><span md-highlight-text="vm.searchText">{{item.name}}</span></md-autocomplete><md-chip-template><span ace-sortable index-fn="$root.$helper.getMdChipIndex" collection-fn="$root.$helper.getMdChipCollection" draggable-selector="\'md-chip\'">{{$chip.name}}</span></md-chip-template></md-chips><md-button aria-label="New schema" ng-click="vm.newItem(\'schema\', vm.item.settings.schemas)" class="md-icon-button"><md-icon md-font-set="material-icons">add</md-icon></md-button></div><br></div>'},function(e,t){e.exports='<md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button ng-if="::!vm.fieldOptions.settings.multiple" ng-show="vm.searchText" ng-click="vm.searchText = vm.fieldModel = null" aria-label="Clear">Clear</md-button></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><div flex layout="row"><div flex ng-if="::!vm.fieldOptions.settings.multiple"><md-autocomplete flex md-no-cache="true" md-selected-item="vm.fieldModel" md-search-text="vm.searchText" md-items="item in vm.search(vm.searchText)" md-item-text="item.title" md-floating-label="{{vm.fieldOptions.name}}" md-min-length="0"><md-item-template><span md-highlight-text="vm.searchText" md-highlight-flags="^i">{{item.title}}</span></md-item-template><md-not-found>No matches found.</md-not-found></md-autocomplete></div><div flex ng-if="::vm.fieldOptions.settings.multiple"><md-chips ng-model="vm.fieldModel" md-autocomplete-snap md-require-match="true"><md-autocomplete md-no-cache="true" md-selected-item="vm.selectedItem" md-search-text="vm.searchText" md-items="item in vm.search(vm.searchText)" md-item-text="item.title" placeholder="{{vm.fieldOptions.name}}" md-min-length="0"><span md-highlight-text="vm.searchText">{{item.title}}</span></md-autocomplete><md-chip-template><span ace-sortable index-fn="$root.$helper.getMdChipIndex" collection-fn="$root.$helper.getMdChipCollection" draggable-selector="\'md-chip\'">{{$chip.title}}</span></md-chip-template></md-chips></div></div></div>'},function(e,t){e.exports='<div layout="column" layout-margin><md-chips ng-model="vm.item.settings.options" ng-init="vm.item.settings.options = vm.item.settings.options || []" placeholder="Options" secondary-placeholder="+Option"><md-chip-template><span ace-sortable index-fn="$root.$helper.getMdChipIndex" collection-fn="$root.$helper.getMdChipCollection" draggable-selector="\'md-chip\'">{{$chip}}</span></md-chip-template></md-chips><br><md-input-container><md-checkbox ng-model="vm.item.settings.multiple" aria-label="Multiple?">Multiple</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="vm.item.settings.required" aria-label="Required?">Required</md-checkbox></md-input-container></div>'},function(e,t){e.exports='<md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button ng-if="::!vm.fieldOptions.settings.multiple" ng-show="vm.searchText" ng-click="vm.clear()" aria-label="Clear">Clear</md-button></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><div flex layout="row"><div flex ng-if="::!vm.fieldOptions.settings.multiple"><md-autocomplete flex md-no-cache="true" md-selected-item="vm.fieldModel.terms" md-search-text="vm.searchText" md-items="item in vm.search(vm.searchText)" md-item-text="item.title" md-floating-label="{{vm.fieldOptions.name}}" md-min-length="0"><md-item-template><span md-highlight-text="vm.searchText" md-highlight-flags="^i">{{item.title}}</span></md-item-template><md-not-found>No matches found.</md-not-found></md-autocomplete></div><div flex ng-if="::vm.fieldOptions.settings.multiple"><md-chips ng-model="vm.fieldModel.terms" md-autocomplete-snap md-transform-chip="vm.transformChip($chip)" md-require-match="vm.fieldOptions.settings.existingOnly"><md-autocomplete md-no-cache="true" md-selected-item="vm.selectedItem" md-search-text="vm.searchText" md-items="item in vm.search(vm.searchText)" md-item-text="item.title" placeholder="{{vm.fieldOptions.name}}" md-min-length="0"><div md-highlight-text="vm.searchText" class="md-caption">{{vm.getParents(item)}}</div><div md-highlight-text="vm.searchText" class="md-body-1">{{item.title}}</div></md-autocomplete><md-chip-template><div ace-sortable index-fn="$root.$helper.getMdChipIndex" collection-fn="$root.$helper.getMdChipCollection" draggable-selector="\'md-chip\'"><div class="md-caption">{{vm.getParents($chip)}}</div><div class="md-body-1">{{$chip.title}}</div></div></md-chip-template></md-chips></div></div></div>'},function(e,t){e.exports='<div layout="column" layout-margin><md-input-container><label>Taxonomy</label><md-select ng-model="vm.item.settings.taxonomy" placeholder="Taxonomy"><md-option ng-repeat="item in $admin.get(\'taxonomy\', true)" ng-value="item">{{item.name}}</md-option></md-select></md-input-container><md-input-container><md-checkbox ng-model="vm.item.settings.multiple" aria-label="Multiple?">Multiple</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="vm.item.settings.existingOnly" aria-label="Existing terms only?">Existing terms only</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="vm.item.settings.required" aria-label="Required?">Required</md-checkbox></md-input-container></div>'},function(e,t){e.exports='<md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><md-input-container flex><input ng-model="vm.fieldModel" ng-required="vm.fieldOptions.settings.required &amp;&amp; vm.fieldApply === undefined" aria-label="{{vm.fieldOptions.name}}"></md-input-container></div>'},function(e,t){e.exports='<div layout="column" layout-margin><md-input-container><label>Format</label><md-select ng-model="vm.item.settings.format" placeholder="Format"><md-option ng-repeat="format in $field.field(vm.item.fieldType).formats" ng-value="format.value">{{format.name}}</md-option></md-select></md-input-container><md-input-container><md-checkbox ng-model="vm.item.settings.required" aria-label="Required?">Required</md-checkbox></md-input-container></div>'},function(e,t){e.exports='<span ace-flow options="vm.flowOptions"><md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button aria-label="Upload" ace-flow-browse class="md-icon-button"><md-icon md-font-set="material-icons">file_upload</md-icon></md-button><md-button aria-label="Download" ng-click="vm.download($event)" ng-disabled="!vm.fieldModel" class="md-icon-button"><md-icon md-font-set="material-icons">file_download</md-icon></md-button></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><div flex ng-show="vm.uploading"><div ng-show="vm.uploading">Uploading {{ vm.progress || 0 }}%</div></div><div flex ng-show="!vm.uploading &amp;&amp; vm.fieldModel"><div ng-hide="vm.fieldModel.metadata.zencoder.thumbnail.url">Encoding. Please wait or save and come back later.</div><img ng-if="vm.fieldModel.metadata.zencoder.thumbnail.url" ng-src="{{vm.fieldModel.metadata.zencoder.thumbnail.url}}"></div><div flex ng-show="!vm.uploading &amp;&amp; vm.fieldModel"><table><tr><td>Type</td><td>{{vm.fieldModel.original.mimeType}}</td></tr><tr><td>Filename</td><td title="{{vm.fieldModel.original.fileName}}">{{vm.fieldModel.original.fileName}}</td></tr><tr><td>Filesize</td><td>{{vm.fieldModel.original.fileSize | fileSize}}</td></tr></table></div></div></span>'},function(e,t){e.exports='<div layout="column" layout-margin><md-input-container><md-checkbox ng-model="vm.item.settings.required" aria-label="Required?">Required</md-checkbox></md-input-container><br></div><md-toolbar class="md-table-toolbar md-primary"><div class="md-toolbar-tools">Video Outputs<span flex></span><md-button ng-click="vm.fieldSettingsAdd(\'videoOutputs\')">Add Output</md-button></div></md-toolbar><md-table-container ng-show="vm.item.settings.videoOutputs.length"><table md-table><thead md-head><tr md-row><th md-column>Name</th><th md-column>Slug</th><th md-column>Format</th><th md-column>Resolution</th><th md-column>Quality</th></tr></thead><tbody md-body><tr md-row ng-repeat="output in vm.item.settings.videoOutputs"><td md-cell>{{output.name}}</td><td md-cell>{{output.slug}}</td><td md-cell>{{output.format}}</td><td md-cell>{{output.maxWidth}}{{output.maxHeight}}</td><td md-cell>{{output.quality}}</td><td md-cell><md-button ng-click="vm.fieldSettingsEdit(\'videoOutputs\', output)" class="md-icon-button"><md-icon md-font-set="material-icons">edit</md-icon></md-button><md-button ng-click="vm.fieldSettingsDelete(\'videoOutputs\', output)" class="md-icon-button"><md-icon md-font-set="material-icons">close</md-icon></md-button></td></tr></tbody></table></md-table-container>'},function(e,t){e.exports='<md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><md-checkbox ng-show="::vm.fieldApply !== undefined" ng-model="vm.fieldApply" aria-label="Apply to all?" class="md-primary field-apply"></md-checkbox><h3 ng-class="{required: vm.fieldOptions.settings.required}">{{vm.fieldOptions.name}}</h3><span flex></span><md-button aria-label="Delete" ng-show="vm.fieldModel.video" ng-click="vm.fieldModel = null" class="md-icon-button"><md-icon md-font-set="material-icons">delete</md-icon></md-button></div></md-toolbar></md-subheader><div ng-show="!vm.fieldModel.video" flex layout="row" layout-margin><md-input-container flex md-no-float><input ng-model="vm.fieldModel.url" ng-paste="vm.submitUrl()" ng-keypress="($event.charCode === 13) ? vm.submitUrl() : return" placeholder="Source URL" ng-pattern="vm.embedlyRegex" ng-required="vm.fieldOptions.settings.required &amp;&amp; vm.fieldApply === undefined"></md-input-container><md-button aria-label="Submit" ng-click="vm.submitUrl()" class="md-icon-button"><md-icon md-font-set="material-icons">get_app</md-icon></md-button></div><div ng-show="vm.fieldModel.video" flex layout="row" layout-margin><div flex><img ng-src="{{ vm.fieldModel.video.thumbnail.url }}"></div><div flex><table><tr><td>Provider</td><td>{{vm.fieldModel.video.provider}}</td></tr><tr><td>URL</td><td><span>{{vm.fieldModel.url}}</span></td></tr><tr><td>Title</td><td>{{vm.fieldModel.video.title}}</td></tr><tr><td>Author</td><td>{{vm.fieldModel.video.user.name}}</td></tr><tr><td>Dimensions</td><td>{{vm.fieldModel.video.width}}&times;{{vm.fieldModel.video.height}}</td></tr></table></div></div>'},function(e,t){e.exports='<div layout="column" layout-margin><md-input-container><md-checkbox ng-model="vm.item.settings.required" aria-label="Required?">Required</md-checkbox></md-input-container></div>'},function(e,t){e.exports='<div layout="column" style="position: absolute; width: 100%; height: 100%"><md-toolbar><div class="md-toolbar-tools"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h3>Files&nbsp;<span ng-show="vm.selected.length === 0">({{vm.totalItems}})</span><span ng-show="vm.selected.length &gt; 0">({{vm.selected.length}}/{{vm.totalItems}})</span></h3><span flex></span><md-radio-group ng-show="$root.user.superUser" ng-model="vm.status" ng-change="vm.changeStatus()"><md-radio-button value="active" aria-label="Active" class="md-hue-1"><div class="md-subhead">Active</div></md-radio-button><md-radio-button value="trashed" aria-label="Trashed" class="md-hue-1 md-warn"><div class="md-subhead">Trashed</div></md-radio-button></md-radio-group><span flex="5"></span><md-button ng-show="$root.user.superUser" ng-disabled="vm.status !== \'trashed\'" ng-click="vm.emptyTrash()" class="md-icon-button"><md-icon md-font-set="material-icons">delete_sweep</md-icon></md-button><md-button ng-click="vm.selectAll()" aria-label="Select all" class="md-icon-button"><md-icon md-font-set="mdi" md-font-icon="mdi-select"></md-icon></md-button><md-button ng-click="vm.selectNone()" aria-label="Select none" class="md-icon-button"><md-icon md-font-set="mdi" md-font-icon="mdi-select-off"></md-icon></md-button><span ng-show="vm.status === \'active\'"><md-button ng-click="vm.viewSelected(vm.selected[0])" ng-disabled="vm.selected.length !== 1 || vm.selected[0].trashed === \'true\'" class="md-icon-button"><md-icon md-font-set="material-icons">launch</md-icon></md-button></span><span ng-show="vm.status === \'trashed\'"><md-button ng-click="vm.deleteSelected(vm.selected)" ng-disabled="vm.selected.length &lt; 1 || !vm.isTrashed(vm.selected)" class="md-icon-button"><md-icon md-font-set="material-icons">delete_forever</md-icon></md-button></span><md-button ng-click="vm.downloadSelected(vm.selected[0])" ng-disabled="vm.selected.length !== 1" class="md-fab md-mini"><md-icon md-font-set="material-icons">file_download</md-icon></md-button></div></md-toolbar><div flex><div class="ui-grid-wrapper"><div ui-grid="vm.grid" ui-grid-selection ui-grid-infinite-scroll ng-class="{disabled: vm.searching}"></div></div></div></div><!-- TODO: show selected count in a toast (vm.selected.length)-->'},function(e,t){e.exports='<md-toolbar title="{{$root.slug}}"><div class="md-toolbar-tools"><h3 title="{{$root.slug}}">{{$root.$settings.settings().client.name || \'Fokus\'}}</h3></div></md-toolbar><md-content><md-list><md-list-item ui-sref="dashboard" ui-sref-active="active"><md-icon md-font-set="material-icons">dashboard</md-icon><p>Dashboard</p></md-list-item><md-menu md-offset="220 0" ng-show="vm.schemas.length"><md-list-item ng-click="$mdOpenMenu()" ng-class="{active: $root.$helper.testExp(\'new|entity|view\', $root.$state.current.name)}"><md-icon md-font-set="material-icons">create</md-icon><p>Content</p></md-list-item><md-menu-content width="4"><md-menu-item ng-repeat="item in vm.dropdownContent"><md-button ng-if="item.schema.singular" ui-sref="singularEntity({id: item.schema.slug})"><!-- md-icon(md-font-set="material-icons") dashboard--><span>{{ item.text }}</span></md-button><md-button ng-if="!item.schema.singular" ui-sref="entityGrid({schemaSlug: item.schema.slug})"><!-- md-icon(md-font-set="material-icons") dashboard--><span>{{ item.text }}</span></md-button></md-menu-item></md-menu-content></md-menu><md-menu md-offset="220 0" ng-show="vm.taxonomies.length"><md-list-item ng-click="$mdOpenMenu()" ng-class="{active: $root.$helper.testExp(\'taxonomy\', $root.$state.current.name)}"><md-icon md-font-set="material-icons">format_list_bulleted</md-icon><p>Taxonomy</p></md-list-item><md-menu-content width="4"><md-menu-item ng-repeat="item in vm.dropdownTaxonomy"><md-button ui-sref="taxonomy({taxonomySlug: item.taxonomy.slug})"><!-- md-icon(md-font-set="material-icons") dashboard--><span>{{ item.text }}</span></md-button></md-menu-item></md-menu-content></md-menu><md-menu md-offset="220 0" ng-show="($root.user.permissions.ecommerce || $root.user.superUser) &amp;&amp; $root.$settings.settings().ecommerce.enabled"><md-list-item ng-click="$mdOpenMenu()" ng-class="{active: $root.$helper.testExp(\'ecommerce\', $root.$state.current.name)}"><md-icon md-font-set="material-icons">shopping_cart</md-icon><p>E-commerce</p></md-list-item><md-menu-content width="4"><md-menu-item><md-button ui-sref="ecommerce.orders"><!-- md-icon(md-font-set="material-icons") dashboard--><span>Orders</span></md-button></md-menu-item><md-menu-item><md-button ui-sref="ecommerce.discounts"><!-- md-icon(md-font-set="material-icons") dashboard--><span>Discounts</span></md-button></md-menu-item><md-menu-item><md-button ui-sref="ecommerce.settings"><!-- md-icon(md-font-set="material-icons") dashboard--><span>Settings</span></md-button></md-menu-item></md-menu-content></md-menu><md-menu md-offset="220 0" ng-show="vm.batchUploadSchemas.length &gt; 1"><md-list-item ng-click="$mdOpenMenu()" ng-class="{active: $root.$helper.testExp(\'batchUpload\', $root.$state.current.name)}"><md-icon md-font-set="material-icons">file_upload</md-icon><p>Upload</p></md-list-item><md-menu-content width="4"><md-menu-item ng-repeat="item in vm.batchUploadSchemas"><md-button ui-sref="batchUploadEntity({schemaSlug: item.slug})"><!-- md-icon(md-font-set="material-icons") dashboard--><span>{{ item.name }}</span></md-button></md-menu-item></md-menu-content></md-menu><md-list-item ng-show="vm.batchUploadSchemas.length === 1" ui-sref="batchUploadEntity({schemaSlug: vm.batchUploadSchemas[0].slug})" ui-sref-active="active"><md-icon md-font-set="material-icons">file_upload</md-icon><p>Upload</p></md-list-item><hr><md-list-item ui-sref="trash" ui-sref-active="active"><md-icon md-font-set="material-icons">delete</md-icon><p>Trash</p></md-list-item><md-list-item ui-sref="file" ui-sref-active="active"><md-icon md-font-set="material-icons">folder</md-icon><p>Files</p></md-list-item><md-list-item ui-sref="admin({adminType: \'user\'})" ui-sref-active="active" ng-show="$root.user.permissions.user || $root.user.superUser"><md-icon md-font-set="material-icons">people</md-icon><p>Users</p></md-list-item><md-list-item ui-sref="settings" ui-sref-active="active" ng-show="$root.user.permissions.settings || $root.user.superUser"><md-icon md-font-set="material-icons">settings</md-icon><p>Settings</p></md-list-item><hr><md-list-item ng-show="$root.$settings.settings().url" ng-click="vm.preview()"><md-icon md-font-set="material-icons">desktop_mac</md-icon><p>Preview</p></md-list-item><md-list-item ui-sref="logout"><md-icon md-font-set="material-icons">exit_to_app</md-icon><p>Logout</p></md-list-item><hr><md-menu md-offset="220 0" ng-if="::$root.user.superUser"><md-list-item ng-click="$mdOpenMenu()" ng-class="{active: $root.$helper.testExp(\'admin\', $root.$state.current.name) &amp;&amp; $root.$state.params.adminType !== \'user\'}"><md-icon md-font-set="material-icons">settings_applications</md-icon><p>Admin</p></md-list-item><md-menu-content width="4"><md-menu-item><md-button ui-sref="admin({adminType: \'field\'})"><!-- md-icon(md-font-set="material-icons") dashboard--><span>Fields</span></md-button></md-menu-item><md-menu-item><md-button ui-sref="admin({adminType: \'schema\'})"><!-- md-icon(md-font-set="material-icons") dashboard--><span>Schemas</span></md-button></md-menu-item><md-menu-item><md-button ui-sref="admin({adminType: \'taxonomy\'})"><!-- md-icon(md-font-set="material-icons") dashboard--><span>Taxonomy</span></md-button></md-menu-item><md-menu-item><md-button ui-sref="admin({adminType: \'action\'})"><!-- md-icon(md-font-set="material-icons") dashboard--><span>Actions</span></md-button></md-menu-item><md-menu-item><md-button ui-sref="tools"><!-- md-icon(md-font-set="material-icons") dashboard--><span>Tools</span></md-button></md-menu-item></md-menu-content></md-menu><md-list-item ui-sref="switch" ng-if="::$root.user.superUser"><md-icon md-font-set="material-icons">swap_horiz</md-icon><p>Switch</p></md-list-item></md-list></md-content>';
},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h2>Settings</h2><span flex></span><md-button ng-click="vm.saveSettings()" ng-disabled="vm.settingsForm.$invalid">Save</md-button></div></md-toolbar><md-content><form name="vm.settingsForm" role="form" novalidate><span ng-if="::$root.user.superUser"><md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><h3>Super User</h3></div></md-toolbar></md-subheader><div flex layout="column" layout-margin><br><md-input-container><label>Client Name</label><input ng-model="vm.settings.client.name" aria-label="Client Name"></md-input-container><md-input-container><label>Website URL</label><input ng-model="vm.settings.url" aria-label="Website URL"></md-input-container><md-input-container><label>Google Analytics View ID</label><input ng-model="vm.settings.ga.view" aria-label="Google Analytics View ID"></md-input-container><md-input-container><md-checkbox ng-model="vm.settings.ecommerce.enabled" aria-label="E-commerce enabled?">E-commerce module enabled?</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="vm.settings.providers.instagram" aria-label="Instagram enabled?">Connect Instagram enabled?</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="vm.settings.providers.vimeo" aria-label="Vimeo enabled?">Connect Vimeo enabled?</md-checkbox></md-input-container></div></span><md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><h3>General</h3></div></md-toolbar></md-subheader><div flex layout="column" layout-margin><br><md-input-container><label>Metadata Description</label><textarea ng-model="vm.settings.metadata.description"></textarea></md-input-container></div><span ng-show="vm.settings.providers.instagram"><md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><h3>Instagram</h3><span flex></span><md-button ng-click="vm.authenticateWithProvider(\'instagram\')">{{ vm.settings.instagram.access_token ? \'Reconnect\' : \'Connect\' }}</md-button><span ng-show="vm.settings.instagram.access_token"><md-button ng-click="vm.settings.instagram.access_token = null; vm.settings.instagram.user = null;">Disconnect</md-button></span></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><div ng-show="!vm.settings.instagram.access_token" class="md-subhead">Connect your Instagram account</div><md-list-item ng-show="vm.settings.instagram.user"><img ng-src="{{vm.settings.instagram.user.profile_picture}}" class="md-avatar"><div class="md-list-item-text"><a href="https://instagram.com/{{vm.settings.instagram.user.username}}" target="_blank">@{{vm.settings.instagram.user.username}}</a></div></md-list-item></div></span><span ng-show="vm.settings.providers.vimeo"><md-subheader class="md-no-sticky field-toolbar"><md-toolbar class="md-menu-toolbar"><div class="md-toolbar-tools"><h3>Vimeo</h3><span flex></span><md-button ng-click="vm.authenticateWithProvider(\'vimeo\')">{{ vm.settings.vimeo.access_token ? \'Reconnect\' : \'Connect\' }}</md-button><span ng-show="vm.settings.vimeo.access_token"><md-button ng-click="vm.settings.vimeo.access_token = null">Disconnect</md-button></span></div></md-toolbar></md-subheader><div flex layout="row" layout-margin><div ng-show="!vm.settings.vimeo.access_token" class="md-subhead">Connect your Vimeo account</div><md-list-item ng-show="vm.settings.vimeo.user"><img ng-src="{{vm.settings.vimeo.user.pictures[3].link}}" class="md-avatar"><div class="md-list-item-text"><a href="{{vm.settings.vimeo.user.link}}" target="_blank">{{vm.settings.vimeo.user.name}}</a></div></md-list-item></div></span></form></md-content>'},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h2>{{vm.taxonomy.name || "Taxonomy"}}</h2><span flex></span><md-button ng-click="vm.newTerm()" aria-label="New Term" class="md-fab md-mini"><md-icon md-font-set="material-icons">add</md-icon></md-button></div></md-toolbar><md-content><div flex layout="column" layout-margin><div ui-tree="vm.treeOptions"><ol ui-tree-nodes ng-model="vm.taxonomy.terms"><li ng-repeat="node in vm.taxonomy.terms" ui-tree-node data-expand-on-hover="500" ace-bind-html="vm.termTemplate"></li></ol></div></div></md-content>'},function(e,t){e.exports='<div ng-class="{leaf: !node.terms || node.terms.length === 0, active: $handleScope.$active}" class="tree-node"><div class="tree-node-contents"><md-button ng-show="node.terms.length &gt; 0" aria-label="Toggle collapse" ng-click="vm.toggleNode($event, this)" class="md-icon-button tree-node-toggle"><md-icon ng-show="collapsed" md-font-set="material-icons">keyboard_arrow_right</md-icon><md-icon ng-show="!collapsed" md-font-set="material-icons">keyboard_arrow_down</md-icon></md-button><md-input-container flex md-no-float><input ng-class="{edit: $handleScope.$editTitle}" ng-model="node.title" ace-sync-focus="$handleScope.$editTitle" placeholder="Type here, press enter to save" ng-blur="vm.revertNode($event, this)" ng-focus="vm.editNode($event, this)" ng-keypress="vm.saveNode($event, this)" class="tree-node-title"></md-input-container><div class="tree-node-controls"><div ui-tree-handle class="tree-node-handle"><md-button class="md-icon-button"><md-icon md-font-set="material-icons">drag_handle</md-icon></md-button></div><md-button ng-click="vm.saveNode($event, this)" ng-blur="$handleScope.$active = false" ng-focus="$handleScope.$active = true" class="md-icon-button save-node"><md-icon md-font-set="material-icons">save</md-icon></md-button><md-button ng-click="vm.removeNode($event, this)" ng-blur="$handleScope.$active = false" ng-focus="$handleScope.$active = true" class="md-icon-button remove-node"><md-icon md-font-set="material-icons">delete</md-icon></md-button><md-button ng-click="vm.editNode($event, this)" ng-blur="$handleScope.$active = false" ng-focus="$handleScope.$active = true" class="md-icon-button edit-node"><md-icon md-font-set="material-icons">edit</md-icon></md-button><md-button ng-click="vm.newNode($event, this)" ng-blur="$handleScope.$active = false" ng-focus="$handleScope.$active = true" class="md-icon-button new-node"><md-icon md-font-set="material-icons">add</md-icon></md-button></div></div></div><ol ui-tree-nodes ng-if="!collapsed" ng-model="node.terms"><li ng-repeat="node in node.terms" ui-tree-node data-expand-on-hover="500" ace-bind-html="vm.termTemplate"></li></ol>'},function(e,t){e.exports='<md-toolbar><div class="md-toolbar-tools"><md-button hide-gt-md ng-click="$root.toggleMainMenu()" aria-label="Toggle menu" class="md-icon-button menu-toggle"><md-icon md-icon-set="material-icons">menu</md-icon></md-button><h2>Tools</h2></div></md-toolbar><md-content><div flex layout="row" layout-margin><md-button href="{{:: $root.apiPrefix + \'/tools/export-db\' }}" target="_blank" class="md-raised md-primary">Export Database</md-button></div><div flex layout="row" layout-margin><form action="{{:: $root.apiPrefix + \'/tools/import-db\' }}" method="post" enctype="multipart/form-data"><label for="import-db"><md-button class="md-raised md-primary">Import Database</md-button></label><input id="import-db" name="payload" type="file" ace-file-change="vm.importDbSelected($event, files)"></form></div></md-content>'},function(e,t){e.exports=function(e){return e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")}},function(e,t,n){function each(e,t){e&&Object.keys(e).forEach(function(n){t(e[n],n)})}function has(e,t){return{}.hasOwnProperty.call(e,t)}function sanitizeHtml(e,t,n){function Frame(e,t){var n=this;this.tag=e,this.attribs=t||{},this.tagPosition=s.length,this.text="",this.updateParentNodeText=function(){if(f.length){var e=f[f.length-1];e.text+=n.text}}}function escapeHtml(e){return"string"!=typeof e&&(e+=""),e.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;")}function naughtyHref(e,n){n=n.replace(/[\x00-\x20]+/g,""),n=n.replace(/<\!\-\-.*?\-\-\>/g,"");var i=n.match(/^([a-zA-Z]+)\:/);if(!i)return!!n.match(/^\/\//)&&!t.allowProtocolRelative;var r=i[1].toLowerCase();return has(t.allowedSchemesByTag,e)?t.allowedSchemesByTag[e].indexOf(r)===-1:!t.allowedSchemes||t.allowedSchemes.indexOf(r)===-1}function filterClasses(e,t){return t?(e=e.split(/\s+/),e.filter(function(e){return t.indexOf(e)!==-1}).join(" ")):e}var s="";t?(t=r(sanitizeHtml.defaults,t),t.parser?t.parser=r(a,t.parser):t.parser=a):(t=sanitizeHtml.defaults,t.parser=a);var l,c,u=t.nonTextTags||["script","style","textarea"];t.allowedAttributes&&(l={},c={},each(t.allowedAttributes,function(e,t){l[t]=[];var n=[];e.forEach(function(e){e.indexOf("*")>=0?n.push(o(e).replace(/\\\*/g,".*")):l[t].push(e)}),c[t]=new RegExp("^("+n.join("|")+")$")}));var d={};each(t.allowedClasses,function(e,t){l&&(has(l,t)||(l[t]=[]),l[t].push("class")),d[t]=e});var h,m={};each(t.transformTags,function(e,t){var n;"function"==typeof e?n=e:"string"==typeof e&&(n=sanitizeHtml.simpleTransform(e)),"*"===t?h=n:m[t]=n});var p=0,f=[],g={},v={},y=!1,b=0,_=new i.Parser({onopentag:function(e,n){if(y)return void b++;var i=new Frame(e,n);f.push(i);var r,o=!1,a=!!i.text;has(m,e)&&(r=m[e](e,n),i.attribs=n=r.attribs,void 0!==r.text&&(i.innerText=r.text),e!==r.tagName&&(i.name=e=r.tagName,v[p]=r.tagName)),h&&(r=h(e,n),i.attribs=n=r.attribs,e!==r.tagName&&(i.name=e=r.tagName,v[p]=r.tagName)),t.allowedTags&&t.allowedTags.indexOf(e)===-1&&(o=!0,u.indexOf(e)!==-1&&(y=!0,b=1),g[p]=!0),p++,o||(s+="<"+e,(!l||has(l,e)||l["*"])&&each(n,function(t,n){if(!l||has(l,e)&&l[e].indexOf(n)!==-1||l["*"]&&l["*"].indexOf(n)!==-1||has(c,e)&&c[e].test(n)||c["*"]&&c["*"].test(n)){if(("href"===n||"src"===n)&&naughtyHref(e,t))return void delete i.attribs[n];if("class"===n&&(t=filterClasses(t,d[e]),!t.length))return void delete i.attribs[n];s+=" "+n,t.length&&(s+='="'+escapeHtml(t)+'"')}else delete i.attribs[n]}),t.selfClosing.indexOf(e)!==-1?s+=" />":(s+=">",!i.innerText||a||t.textFilter||(s+=i.innerText)))},ontext:function(e){if(!y){var n,i=f[f.length-1];if(i&&(n=i.tag,e=void 0!==i.innerText?i.innerText:e),"script"===n||"style"===n)s+=e;else{var r=escapeHtml(e);s+=t.textFilter?t.textFilter(r):r}if(f.length){var o=f[f.length-1];o.text+=e}}},onclosetag:function(e){if(y){if(b--,b)return;y=!1}var n=f.pop();if(n){if(y=!1,p--,g[p])return delete g[p],void n.updateParentNodeText();if(v[p]&&(e=v[p],delete v[p]),t.exclusiveFilter&&t.exclusiveFilter(n))return void(s=s.substr(0,n.tagPosition));n.updateParentNodeText(),t.selfClosing.indexOf(e)===-1&&(s+="</"+e+">")}}},t.parser);return _.write(e),_.end(),s}var i=n(15),r=n(544),o=n(526);e.exports=sanitizeHtml;var a={decodeEntities:!0};sanitizeHtml.defaults={allowedTags:["h3","h4","h5","h6","blockquote","p","a","ul","ol","nl","li","b","i","strong","em","strike","code","hr","br","div","table","thead","caption","tbody","tr","th","td","pre"],allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto"],allowedSchemesByTag:{},allowProtocolRelative:!0},sanitizeHtml.simpleTransform=function(e,t,n){return n=void 0===n||n,t=t||{},function(i,r){var o;if(n)for(o in t)r[o]=t[o];else r=t;return{tagName:e,attribs:r}}}},function(e,t,n){function CollectingHandler(e){this._cbs=e||{},this.events=[]}e.exports=CollectingHandler;var i=n(15).EVENTS;Object.keys(i).forEach(function(e){if(0===i[e])e="on"+e,CollectingHandler.prototype[e]=function(){this.events.push([e]),this._cbs[e]&&this._cbs[e]()};else if(1===i[e])e="on"+e,CollectingHandler.prototype[e]=function(t){this.events.push([e,t]),this._cbs[e]&&this._cbs[e](t)};else{if(2!==i[e])throw Error("wrong number of arguments");e="on"+e,CollectingHandler.prototype[e]=function(t,n){this.events.push([e,t,n]),this._cbs[e]&&this._cbs[e](t,n)}}}),CollectingHandler.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},CollectingHandler.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var e=0,t=this.events.length;e<t;e++)if(this._cbs[this.events[e][0]]){var n=this.events[e].length;1===n?this._cbs[this.events[e][0]]():2===n?this._cbs[this.events[e][0]](this.events[e][1]):this._cbs[this.events[e][0]](this.events[e][1],this.events[e][2])}}},function(e,t,n){function FeedHandler(e,t){this.init(e,t)}function getElements(e,t){return o.getElementsByTagName(e,t,!0)}function getOneElement(e,t){return o.getElementsByTagName(e,t,!0,1)[0]}function fetch(e,t,n){return o.getText(o.getElementsByTagName(e,t,n,1)).trim()}function addConditionally(e,t,n,i,r){var o=fetch(n,i,r);o&&(e[t]=o)}var i=n(15),r=i.DomHandler,o=i.DomUtils;n(4)(FeedHandler,r),FeedHandler.prototype.init=r;var a=function(e){return"rss"===e||"feed"===e||"rdf:RDF"===e};FeedHandler.prototype.onend=function(){var e,t,n={},i=getOneElement(a,this.dom);i&&("feed"===i.name?(t=i.children,n.type="atom",addConditionally(n,"id","id",t),addConditionally(n,"title","title",t),(e=getOneElement("link",t))&&(e=e.attribs)&&(e=e.href)&&(n.link=e),addConditionally(n,"description","subtitle",t),(e=fetch("updated",t))&&(n.updated=new Date(e)),addConditionally(n,"author","email",t,!0),n.items=getElements("entry",t).map(function(e){var t,n={};return e=e.children,addConditionally(n,"id","id",e),addConditionally(n,"title","title",e),(t=getOneElement("link",e))&&(t=t.attribs)&&(t=t.href)&&(n.link=t),(t=fetch("summary",e)||fetch("content",e))&&(n.description=t),(t=fetch("updated",e))&&(n.pubDate=new Date(t)),n})):(t=getOneElement("channel",i.children).children,n.type=i.name.substr(0,3),n.id="",addConditionally(n,"title","title",t),addConditionally(n,"link","link",t),addConditionally(n,"description","description",t),(e=fetch("lastBuildDate",t))&&(n.updated=new Date(e)),addConditionally(n,"author","managingEditor",t,!0),n.items=getElements("item",i.children).map(function(e){var t,n={};return e=e.children,addConditionally(n,"id","guid",e),addConditionally(n,"title","title",e),addConditionally(n,"link","link",e),addConditionally(n,"description","description",e),(t=fetch("pubDate",e))&&(n.pubDate=new Date(t)),n}))),this.dom=n,r.prototype._handleCallback.call(this,i?null:Error("couldn't find root of feed"))},e.exports=FeedHandler},function(e,t,n){function ProxyHandler(e){this._cbs=e||{}}e.exports=ProxyHandler;var i=n(15).EVENTS;Object.keys(i).forEach(function(e){if(0===i[e])e="on"+e,ProxyHandler.prototype[e]=function(){this._cbs[e]&&this._cbs[e]()};else if(1===i[e])e="on"+e,ProxyHandler.prototype[e]=function(t){this._cbs[e]&&this._cbs[e](t)};else{if(2!==i[e])throw Error("wrong number of arguments");e="on"+e,ProxyHandler.prototype[e]=function(t,n){this._cbs[e]&&this._cbs[e](t,n)}}})},function(e,t,n){function Stream(e){i.call(this,new Cbs(this),e)}function Cbs(e){this.scope=e}e.exports=Stream;var i=n(163);n(4)(Stream,i),Stream.prototype.readable=!0;var r=n(15).EVENTS;Object.keys(r).forEach(function(e){if(0===r[e])Cbs.prototype["on"+e]=function(){this.scope.emit(e)};else if(1===r[e])Cbs.prototype["on"+e]=function(t){this.scope.emit(e,t)};else{if(2!==r[e])throw Error("wrong number of arguments!");Cbs.prototype["on"+e]=function(t,n){this.scope.emit(e,t,n)}}})},function(e,t,n){(function(e,t){!function(e,n){"use strict";function setImmediate(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[r]=a,i(r),r++}function clearImmediate(e){delete o[e]}function run(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}function runIfPresent(e){if(a)setTimeout(runIfPresent,0,e);else{var t=o[e];if(t){a=!0;try{run(t)}finally{clearImmediate(e),a=!1}}}}function installNextTickImplementation(){i=function(e){t.nextTick(function(){runIfPresent(e)})}}function canUsePostMessage(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function installPostMessageImplementation(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&runIfPresent(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),i=function(n){e.postMessage(t+n,"*")}}function installMessageChannelImplementation(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;runIfPresent(t)},i=function(t){e.port2.postMessage(t)}}function installReadyStateChangeImplementation(){var e=s.documentElement;i=function(t){var n=s.createElement("script");n.onreadystatechange=function(){runIfPresent(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function installSetTimeoutImplementation(){i=function(e){setTimeout(runIfPresent,0,e)}}if(!e.setImmediate){var i,r=1,o={},a=!1,s=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?installNextTickImplementation():canUsePostMessage()?installPostMessageImplementation():e.MessageChannel?installMessageChannelImplementation():s&&"onreadystatechange"in s.createElement("script")?installReadyStateChangeImplementation():installSetTimeoutImplementation(),l.setImmediate=setImmediate,l.clearImmediate=clearImmediate}}("undefined"==typeof self?"undefined"==typeof e?this:e:self)}).call(t,n(5),n(8))},function(e,t,n){e.exports=n(9)},function(e,t,n){"use strict";function BufferList(){this.head=null,this.tail=null,this.length=0}var i=(n(6).Buffer,n(19));e.exports=BufferList,BufferList.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},BufferList.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},BufferList.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},BufferList.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t=i.allocUnsafe(e>>>0),n=this.head,r=0;n;)n.data.copy(t,r),r+=n.data.length,n=n.next;return t}},function(e,t,n){e.exports=n(164)},function(e,t,n){(function(i){var r=function(){try{return n(18)}catch(e){}}();t=e.exports=n(165),t.Stream=r||t,t.Readable=t,t.Writable=n(28),t.Duplex=n(9),t.Transform=n(27),t.PassThrough=n(164),!i.browser&&"disable"===i.env.READABLE_STREAM&&r&&(e.exports=r)}).call(t,n(8))},function(e,t,n){e.exports=n(27)},function(e,t,n){e.exports=n(28)},function(e,t,n){var i;!function(r){function tinycolor(e,t){if(e=e?e:"",t=t||{},e instanceof tinycolor)return e;if(!(this instanceof tinycolor))return new tinycolor(e,t);var n=inputToRGB(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=l(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=n.ok,this._tc_id=s++}function inputToRGB(e){var t={r:0,g:0,b:0},n=1,i=null,r=null,o=null,a=!1,s=!1;return"string"==typeof e&&(e=stringInputToObject(e)),"object"==typeof e&&(isValidCSSUnit(e.r)&&isValidCSSUnit(e.g)&&isValidCSSUnit(e.b)?(t=rgbToRgb(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):isValidCSSUnit(e.h)&&isValidCSSUnit(e.s)&&isValidCSSUnit(e.v)?(i=convertToPercentage(e.s),r=convertToPercentage(e.v),t=hsvToRgb(e.h,i,r),a=!0,s="hsv"):isValidCSSUnit(e.h)&&isValidCSSUnit(e.s)&&isValidCSSUnit(e.l)&&(i=convertToPercentage(e.s),o=convertToPercentage(e.l),t=hslToRgb(e.h,i,o),a=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=boundAlpha(n),{ok:a,format:e.format||s,r:c(255,u(t.r,0)),g:c(255,u(t.g,0)),b:c(255,u(t.b,0)),a:n}}function rgbToRgb(e,t,n){return{r:255*bound01(e,255),g:255*bound01(t,255),b:255*bound01(n,255)}}function rgbToHsl(e,t,n){e=bound01(e,255),t=bound01(t,255),n=bound01(n,255);var i,r,o=u(e,t,n),a=c(e,t,n),s=(o+a)/2;if(o==a)i=r=0;else{var l=o-a;switch(r=s>.5?l/(2-o-a):l/(o+a),o){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return{h:i,s:r,l:s}}function hslToRgb(e,t,n){function hue2rgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var i,r,o;if(e=bound01(e,360),t=bound01(t,100),n=bound01(n,100),0===t)i=r=o=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;i=hue2rgb(s,a,e+1/3),r=hue2rgb(s,a,e),o=hue2rgb(s,a,e-1/3)}return{r:255*i,g:255*r,b:255*o}}function rgbToHsv(e,t,n){e=bound01(e,255),t=bound01(t,255),n=bound01(n,255);var i,r,o=u(e,t,n),a=c(e,t,n),s=o,l=o-a;if(r=0===o?0:l/o,o==a)i=0;else{switch(o){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return{h:i,s:r,v:s}}function hsvToRgb(e,t,n){e=6*bound01(e,360),t=bound01(t,100),n=bound01(n,100);var i=r.floor(e),o=e-i,a=n*(1-t),s=n*(1-o*t),l=n*(1-(1-o)*t),c=i%6,u=[n,s,a,a,l,n][c],d=[l,n,n,s,a,a][c],h=[a,a,l,n,n,s][c];return{r:255*u,g:255*d,b:255*h}}function rgbToHex(e,t,n,i){var r=[pad2(l(e).toString(16)),pad2(l(t).toString(16)),pad2(l(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function rgbaToHex(e,t,n,i,r){var o=[pad2(l(e).toString(16)),pad2(l(t).toString(16)),pad2(l(n).toString(16)),pad2(convertDecimalToHex(i))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function rgbaToArgbHex(e,t,n,i){var r=[pad2(convertDecimalToHex(i)),pad2(l(e).toString(16)),pad2(l(t).toString(16)),pad2(l(n).toString(16))];return r.join("")}function desaturate(e,t){t=0===t?0:t||10;var n=tinycolor(e).toHsl();return n.s-=t/100,n.s=clamp01(n.s),tinycolor(n)}function saturate(e,t){t=0===t?0:t||10;var n=tinycolor(e).toHsl();return n.s+=t/100,n.s=clamp01(n.s),tinycolor(n)}function greyscale(e){return tinycolor(e).desaturate(100)}function lighten(e,t){t=0===t?0:t||10;var n=tinycolor(e).toHsl();return n.l+=t/100,n.l=clamp01(n.l),tinycolor(n)}function brighten(e,t){t=0===t?0:t||10;var n=tinycolor(e).toRgb();return n.r=u(0,c(255,n.r-l(255*-(t/100)))),n.g=u(0,c(255,n.g-l(255*-(t/100)))),n.b=u(0,c(255,n.b-l(255*-(t/100)))),tinycolor(n)}function darken(e,t){t=0===t?0:t||10;var n=tinycolor(e).toHsl();return n.l-=t/100,n.l=clamp01(n.l),tinycolor(n)}function spin(e,t){var n=tinycolor(e).toHsl(),i=(n.h+t)%360;return n.h=i<0?360+i:i,tinycolor(n)}function complement(e){var t=tinycolor(e).toHsl();return t.h=(t.h+180)%360,tinycolor(t)}function triad(e){var t=tinycolor(e).toHsl(),n=t.h;return[tinycolor(e),tinycolor({h:(n+120)%360,s:t.s,l:t.l}),tinycolor({h:(n+240)%360,s:t.s,l:t.l})]}function tetrad(e){var t=tinycolor(e).toHsl(),n=t.h;return[tinycolor(e),tinycolor({h:(n+90)%360,s:t.s,l:t.l}),tinycolor({h:(n+180)%360,s:t.s,l:t.l}),tinycolor({h:(n+270)%360,s:t.s,l:t.l})]}function splitcomplement(e){var t=tinycolor(e).toHsl(),n=t.h;return[tinycolor(e),tinycolor({h:(n+72)%360,s:t.s,l:t.l}),tinycolor({h:(n+216)%360,s:t.s,l:t.l})]}function analogous(e,t,n){t=t||6,n=n||30;var i=tinycolor(e).toHsl(),r=360/n,o=[tinycolor(e)];for(i.h=(i.h-(r*t>>1)+720)%360;--t;)i.h=(i.h+r)%360,o.push(tinycolor(i));return o}function monochromatic(e,t){t=t||6;for(var n=tinycolor(e).toHsv(),i=n.h,r=n.s,o=n.v,a=[],s=1/t;t--;)a.push(tinycolor({h:i,s:r,v:o})),o=(o+s)%1;return a}function flip(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function boundAlpha(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function bound01(e,t){isOnePointZero(e)&&(e="100%");var n=isPercentage(e);return e=c(t,u(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),r.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function clamp01(e){return c(1,u(0,e))}function parseIntFromHex(e){return parseInt(e,16)}function isOnePointZero(e){return"string"==typeof e&&e.indexOf(".")!=-1&&1===parseFloat(e)}function isPercentage(e){return"string"==typeof e&&e.indexOf("%")!=-1}function pad2(e){return 1==e.length?"0"+e:""+e}function convertToPercentage(e){return e<=1&&(e=100*e+"%"),e}function convertDecimalToHex(e){return r.round(255*parseFloat(e)).toString(16)}function convertHexToDecimal(e){return parseIntFromHex(e)/255}function isValidCSSUnit(e){return!!p.CSS_UNIT.exec(e)}function stringInputToObject(e){e=e.replace(o,"").replace(a,"").toLowerCase();var t=!1;if(h[e])e=h[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=p.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=p.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=p.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=p.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=p.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=p.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=p.hex8.exec(e))?{r:parseIntFromHex(n[1]),g:parseIntFromHex(n[2]),b:parseIntFromHex(n[3]),a:convertHexToDecimal(n[4]),format:t?"name":"hex8"}:(n=p.hex6.exec(e))?{r:parseIntFromHex(n[1]),g:parseIntFromHex(n[2]),b:parseIntFromHex(n[3]),format:t?"name":"hex"}:(n=p.hex4.exec(e))?{r:parseIntFromHex(n[1]+""+n[1]),g:parseIntFromHex(n[2]+""+n[2]),b:parseIntFromHex(n[3]+""+n[3]),a:convertHexToDecimal(n[4]+""+n[4]),format:t?"name":"hex8"}:!!(n=p.hex3.exec(e))&&{r:parseIntFromHex(n[1]+""+n[1]),g:parseIntFromHex(n[2]+""+n[2]),b:parseIntFromHex(n[3]+""+n[3]),format:t?"name":"hex"}}function validateWCAG2Parms(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}var o=/^\s+/,a=/\s+$/,s=0,l=r.round,c=r.min,u=r.max,d=r.random;tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,i,o,a,s=this.toRgb();return e=s.r/255,t=s.g/255,n=s.b/255,i=e<=.03928?e/12.92:r.pow((e+.055)/1.055,2.4),o=t<=.03928?t/12.92:r.pow((t+.055)/1.055,2.4),a=n<=.03928?n/12.92:r.pow((n+.055)/1.055,2.4),.2126*i+.7152*o+.0722*a},setAlpha:function(e){return this._a=boundAlpha(e),this._roundA=l(100*this._a)/100,this},toHsv:function(){var e=rgbToHsv(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=rgbToHsv(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),i=l(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+i+"%)":"hsva("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=rgbToHsl(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=rgbToHsl(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),i=l(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+i+"%)":"hsla("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return rgbToHex(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return rgbaToHex(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*bound01(this._r,255))+"%",g:l(100*bound01(this._g,255))+"%",b:l(100*bound01(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*bound01(this._r,255))+"%, "+l(100*bound01(this._g,255))+"%, "+l(100*bound01(this._b,255))+"%)":"rgba("+l(100*bound01(this._r,255))+"%, "+l(100*bound01(this._g,255))+"%, "+l(100*bound01(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(m[rgbToHex(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+rgbaToArgbHex(this._r,this._g,this._b,this._a),n=t,i=this._gradientType?"GradientType = 1, ":"";if(e){var r=tinycolor(e);n="#"+rgbaToArgbHex(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0,r=!t&&i&&("hex"===e||"hex6"===e||"hex3"===e||"hex4"===e||"hex8"===e||"name"===e);return r?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return tinycolor(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(lighten,arguments)},brighten:function(){return this._applyModification(brighten,arguments)},darken:function(){return this._applyModification(darken,arguments)},desaturate:function(){return this._applyModification(desaturate,arguments)},saturate:function(){return this._applyModification(saturate,arguments)},greyscale:function(){return this._applyModification(greyscale,arguments)},spin:function(){return this._applyModification(spin,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(analogous,arguments)},complement:function(){return this._applyCombination(complement,arguments)},monochromatic:function(){return this._applyCombination(monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(splitcomplement,arguments)},triad:function(){return this._applyCombination(triad,arguments)},tetrad:function(){return this._applyCombination(tetrad,arguments)}},tinycolor.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var i in e)e.hasOwnProperty(i)&&("a"===i?n[i]=e[i]:n[i]=convertToPercentage(e[i]));e=n}return tinycolor(e,t)},tinycolor.equals=function(e,t){return!(!e||!t)&&tinycolor(e).toRgbString()==tinycolor(t).toRgbString()},tinycolor.random=function(){return tinycolor.fromRatio({r:d(),g:d(),b:d()})},tinycolor.mix=function(e,t,n){n=0===n?0:n||50;var i=tinycolor(e).toRgb(),r=tinycolor(t).toRgb(),o=n/100,a={r:(r.r-i.r)*o+i.r,g:(r.g-i.g)*o+i.g,b:(r.b-i.b)*o+i.b,a:(r.a-i.a)*o+i.a};return tinycolor(a)},tinycolor.readability=function(e,t){var n=tinycolor(e),i=tinycolor(t);return(r.max(n.getLuminance(),i.getLuminance())+.05)/(r.min(n.getLuminance(),i.getLuminance())+.05)},tinycolor.isReadable=function(e,t,n){var i,r,o=tinycolor.readability(e,t);switch(r=!1,i=validateWCAG2Parms(n),i.level+i.size){case"AAsmall":case"AAAlarge":r=o>=4.5;break;case"AAlarge":r=o>=3;break;case"AAAsmall":r=o>=7}return r},tinycolor.mostReadable=function(e,t,n){var i,r,o,a,s=null,l=0;n=n||{},r=n.includeFallbackColors,o=n.level,a=n.size;for(var c=0;c<t.length;c++)i=tinycolor.readability(e,t[c]),i>l&&(l=i,s=tinycolor(t[c]));return tinycolor.isReadable(e,s,{level:o,size:a})||!r?s:(n.includeFallbackColors=!1,
tinycolor.mostReadable(e,["#fff","#000"],n))};var h=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},m=tinycolor.hexNames=flip(h),p=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof e&&e.exports?e.exports=tinycolor:(i=function(){return tinycolor}.call(t,n,t,e),!(void 0!==i&&(e.exports=i)))}(Math)},function(e,t,n){(function(t){function deprecate(e,t){function deprecated(){if(!n){if(config("throwDeprecation"))throw new Error(t);config("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}if(config("noDeprecation"))return e;var n=!1;return deprecated}function config(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=deprecate}).call(t,n(5))},function(e,t,n){var i=n(542),r=n(543),o=r;o.v1=i,o.v4=r,e.exports=o},function(e,t,n){function v1(e,t,n){var i=t&&n||0,o=t||[];e=e||{};var u=void 0!==e.clockseq?e.clockseq:s,d=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:c+1,m=d-l+(h-c)/1e4;if(m<0&&void 0===e.clockseq&&(u=u+1&16383),(m<0||d>l)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=d,c=h,s=u,d+=122192928e5;var p=(1e4*(268435455&d)+h)%4294967296;o[i++]=p>>>24&255,o[i++]=p>>>16&255,o[i++]=p>>>8&255,o[i++]=255&p;var f=d/4294967296*1e4&268435455;o[i++]=f>>>8&255,o[i++]=255&f,o[i++]=f>>>24&15|16,o[i++]=f>>>16&255,o[i++]=u>>>8|128,o[i++]=255&u;for(var g=e.node||a,v=0;v<6;++v)o[i+v]=g[v];return t?t:r(o)}var i=n(168),r=n(167),o=i(),a=[1|o[0],o[1],o[2],o[3],o[4],o[5]],s=16383&(o[6]<<8|o[7]),l=0,c=0;e.exports=v1},function(e,t,n){function v4(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||r(a)}var i=n(168),r=n(167);e.exports=v4},function(e,t){function extend(){for(var e={},t=0;t<arguments.length;t++){var i=arguments[t];for(var r in i)n.call(i,r)&&(e[r]=i[r])}return e}e.exports=extend;var n=Object.prototype.hasOwnProperty},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n.n(i),o=n(3),a=n.n(o),s=n(176),l=n.n(s),c=n(30),u=(n.n(c),n(178)),d=(n.n(u),n(31)),h=n.n(d),m=n(173),p=n.n(m),f=n(0),g=n.n(f),v=n(175),y=n.n(v),b=n(184),_=(n.n(b),n(172)),w=n.n(_),x=n(190),C=(n.n(x),n(185)),S=(n.n(C),n(189)),E=(n.n(S),n(32)),T=n.n(E),M=n(187),k=(n.n(M),n(179)),A=n.n(k),$=n(171),P=n.n($),L=n(188),D=(n.n(L),n(180)),R=n.n(D),I=n(193),O=(n.n(I),n(186)),F=(n.n(O),n(174)),N=n.n(F),H=n(169),j=n.n(H),B=n(191),V=n.n(B),z=n(192),Y=n.n(z),U=n(177),G=n.n(U),q=n(170),W=(n.n(q),n(182)),K=n(183),X=n(181),J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.a.module("app",[a.a,l.a,h.a,p.a,T.a,w.a,y.a,P.a,R.a,j.a,N.a,V.a,G.a.name,Y.a,A.a,"ui.grid.selection","ui.grid.infiniteScroll","ui.grid.cellNav","ui.grid.saveState","ui.grid.draggable-rows","ui.gravatar",W.a.name,K.a.name]).constant("appConfig",window.appConfig).constant("apiPrefix",window.appConfig.basePath+window.appConfig.apiPrefix).directive("app",X.a).config(["$compileProvider","$stateProvider","$locationProvider","$urlRouterProvider","$urlMatcherFactoryProvider","$httpProvider","$provide","$sceDelegateProvider","$sceProvider","$qProvider","$localeProvider","cfpLoadingBarProvider","tmhDynamicLocaleProvider","$mdDateLocaleProvider","$mdThemingProvider","$mdIconProvider","appConfig","apiPrefix",function(e,t,n,i,r,o,a,s,l,c,u,d,h,m,p,f,v,y){"ngInject";e.preAssignBindingsEnabled(!0),e.debugInfoEnabled(!1),c.errorOnUnhandledRejections(!1),n.html5Mode(!0),i.otherwise("/404"),r.strictMode(!1),s.resourceUrlWhitelist(["self","http://localhost:*/**","https://*.s3.amazonaws.com/**",v.assistUrl+"/**"]),o.defaults.headers.delete={"Content-Type":"application/json;charset=utf-8"};var b=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|(\+|-)([\d|:]*))?$/,_=function convertDates(e){Object.keys(e).forEach(function(t){if(e[t]){var n=e[t],i="undefined"==typeof n?"undefined":J(n);"object"===i?convertDates(n):"string"===i&&b.test(n)&&(e[t]=new Date(n))}})};o.defaults.transformResponse.push(function(e){return"object"===("undefined"==typeof e?"undefined":J(e))&&_(e),e}),m.formatDate=function(e){return g()(e).locale("en-gb").format("L LT")},m.parseDate=function(e){return new Date(e)};var w=p.extendPalette("grey",{50:"#ffffff"});p.definePalette("greyWithWhite",w),p.theme("default").primaryPalette("blue-grey").accentPalette("teal",{default:"500"}).warnPalette("red").backgroundPalette("greyWithWhite",{"hue-1":"50"}),f.fontSet("mdi","mdi"),d.includeSpinner=!1,h.localeLocationPattern(v.basePath+"angular-i18n/angular-locale_{{locale}}.js"),h.defaultLocale("en-gb"),o.interceptors.push(["$q","$window","$injector",function(e,t,n){return{responseError:function(t){if([401,403].indexOf(t.status)===-1)return e.reject(t);var i=n.get("$mdDialog");return i.show(i.alert().title("Not Authorised").textContent(t.data.message||t.data.error).ok("Close")),e.reject(t)}}}]),t.state("switch",{url:"/switch",onEnter:["$window",function(e){e.location.href=v.basePath+"switch",e.location.reload()}]}),t.state("logout",{url:"/logout",onEnter:["$http","$window",function(e,t){e.post("/logout").then(function(){t.location.href=v.basePath+"?success=logout",t.location.reload()})}]})}]).run(["$rootScope","$state","$location","$window","$log","$injector","$q","$timeout","tmhDynamicLocale","appConfig","apiPrefix","AdminFactory","SettingsFactory","EcommerceFactory","HelperFactory","$mdSidenav",function(e,t,n,i,o,a,s,l,c,u,d,h,m,p,f,g){"ngInject";e.slug=u.slug,e.basePath=u.basePath,e.assistUrl=u.assistUrl,e.assistCredentials=u.assistCredentials,e.apiPrefix=d,c.set("en-gb"),e.$state=t,e.$location=n,e.$on("$stateChangeError",function(e,n,i,r,a,s){o.error(s),"dashboard"!==n.name&&t.go("dashboard")});var v=function(){return s(function(t,n){h.loadCurrentUser().then(function(i){h.loadRoles().then(function(n){i.permissions=n[i.role].permissions,e.user=i,t(i)},n)},n)})},y=function(t,n){if(e.user.superUser)return!0;var i=!0,o=void 0;return t.data&&t.data.permissions&&(o=r.a.isString(t.data.permissions)?t.data.permissions.split(","):t.data.permissions(n),o.forEach(function(t){e.user.permissions[t]||(i=!1)})),i},b=!1,_=[v(),h.load("schema"),h.load("field"),h.load("action"),h.load("taxonomy"),m.loadSettings(),p.loadSettings(),f.token()];e.$on("$stateChangeStart",function(e,n,i){return b?void(y(n,i)||(e.preventDefault(),t.go("dashboard"))):(e.preventDefault(),void s.all(_).then(function(){b=!0,t.go(n,i)}))}),e.$on("$stateChangeSuccess",function(e,n,i,r,o){t.previous=""!==r.name&&r,t.previousParams=o,g("mainMenu").close()}),e.prevState=function(){t.go(t.previous,t.previousParams)},e.toggleMainMenu=function(){g("mainMenu").toggle()}}])}]);
//# sourceMappingURL=bundle.js.map